{"categories":[{"title":"balabala","uri":"https://rx-78-kum0.github.io/categories/balabala/"},{"title":"code","uri":"https://rx-78-kum0.github.io/categories/code/"},{"title":"configuration","uri":"https://rx-78-kum0.github.io/categories/configuration/"}],"posts":[{"content":" è¿™æ˜¯ä¸€ç¯‡è¿Ÿåˆ°çš„åšå®¢ã€‚åœ¨ä¸Šå‘¨äº”å°±æ”¶åˆ°äº†è€å©†çš„ç¤¼ç‰©ï¼Œå¥ˆä½•æ²¡å¸¦ç”µè„‘å›å»æ²¡æ³•ç¼–å†™ã€‚\n æ¥è‡ªè€å©†çš„ç¤¼ç‰©   è€å©†: 256 é»‘è‰² æˆ‘ : 64å¤Ÿäº†å•Šã€‚256ç”¨ä¸ä¸Šã€‚ è€å©†: ä¸å¤Ÿã€‚åæ­£ä»¥åæ¢ä¸‹æ¥æ˜¯æˆ‘ç”¨ï¼Œä¹°ä¸ªå¥½ç‚¹çš„ã€‚ æˆ‘ : å‘œå‘œğŸ˜­..(æ„ŸåŠ¨~ è€å©†å·²ç»é»˜è®¤ç›®å‰è¿™ä¸ªæ‰‹æœºçš„ç”Ÿå‘½å‘¨æœŸ..)   è‡³è€å©†  éå¸¸æ„Ÿè°¢è€å©†ï¼Œèƒ½æ”¶åˆ°è¿™æ ·ä¸­æ„çš„ç¤¼ç‰©æˆ‘å¾ˆé«˜å…´ã€‚ç°åœ¨è°èƒ½ç¦»å¼€æ‰‹æœºå‘¢ï¼Œä½•å†µè¿˜æ˜¯æ›´å¤§æ›´å¿«æ›´æ–°çš„æ‰‹æœºã€‚ æˆ‘çš„è€å©†çœŸçš„æ˜¯ä¸€ä¸ªå¾ˆå®¹æ˜“æ»¡è¶³çš„äººï¼Œå¯¹å¤§éƒ¨åˆ†äººå’Œäº‹éƒ½ä¸è®²ç©¶(åŒ–å¦†å“é™¤å¤–ï¼Œçˆ±ç¾~ğŸ˜‹)ï¼Œå¾ˆåŒ…å®¹ã€‚ å¯¹è€å…¬è´¤æƒ (âŒ¨ï¸,ğŸ’»,ğŸ§,ğŸš²è¿™äº›å°çˆ±å¥½å•¦ï¼Œéƒ½ä¸åå¯¹~ğŸ˜™)ï¼Œå¯¹å­©å­è€å¿ƒçš„è´¤å¦»è‰¯æ¯(å¤§ç¾å¥³)ã€‚\n æˆ‘çš„åæ€  å’Œè€å©†ç›¸åã€‚æˆ‘æ˜¯ä¸€ä¸ªé‡åº¦å¼ºè¿«ç—‡æ‚£è€…ï¼Œå¯¹åœ¨ä¹çš„äººæˆ–äº‹è¦æ±‚ä¸¥æ ¼ç”šè‡³è‹›åˆ»ã€‚ è¿™ä¸ä»…åœ¨æ—¥å¸¸ç”Ÿæ´»å·¥ä½œä¸­ç»™æˆ‘å¸¦æ¥äº†ä¸å¿…è¦çš„å›°æ‰°å’Œç„¦è™‘ï¼Œä¹Ÿç»™èº«è¾¹äººé€ æˆäº†ä¼¤å®³ã€‚\nåŒ…æ‹¬ä½†ä¸é™äº:\n æ¯æ¬¡å‡ºé—¨éƒ½ä»¥ä¸ºæ²¡é”é—¨ï¼Œå¸¸å¸¸èµ°å‡ºå»å¾ˆè¿œä»æ—§ä¸æ”¾å¿ƒè·‘å›å»çœ‹ç»“æœé”å¾—å¥½å¥½çš„ã€‚ æ€»æ˜¯æ‹…å¿ƒå¯èƒ½å‘ç”Ÿä¸å¥½çš„äº‹è€Œç„¦è™‘ã€‚(è½¦ç¥¸ï¼Œç–¾ç—…ï¼Œç‰¹åˆ«æ˜¯å°æœ‹å‹è¿™å„¿å—ä¼¤é‚£å„¿å—ä¼¤ç­‰ğŸ˜“) ä»£ç ä¸­ä¸èƒ½æ¥å—ç”¨ä¸æ­£ç»Ÿçš„æ–¹å¼è§£å†³é—®é¢˜ï¼Œä¸€å®šè¦ç”¨æœ€æ­£ç¡®æœ€ç¬¦åˆå¸¸ç†çš„æ–¹å¼ã€‚ å¯¹åœ¨æ„çš„ç‰©å“ä¸èƒ½æ¥å—ç‘•ç–µã€‚ å¸Œæœ›åœ¨ä¹çš„äººèƒ½å®Œå…¨éµä»è‡ªå·±çš„æƒ³æ³•ã€‚(æ¯”å¦‚ä¸æƒ³è®©è€å©†åƒå¾—å¤ªè¾£ï¼Œå¯¹è‚ èƒƒä¸å¥½ï¼›ä¸è®©å°æœ‹å‹å¹²æŸäº‹) è¿‡äºåœ¨ä¹å¯¹é”™ã€‚   æ”¹å˜  æ‰¿è®¤ç°å®ï¼Œä¸å¿…å¼ºæ±‚æ”¹å˜ï¼Œè¦é¡ºå…¶è‡ªç„¶ï¼Œè®¤è¯†æƒ…æ„Ÿæ´»åŠ¨çš„è§„å¾‹ï¼Œæ¥å—æƒ…æ„Ÿï¼Œä¸å»å‹æŠ‘å’Œæ’æ–¥å®ƒï¼Œè®©å…¶è‡ªç”Ÿè‡ªç­ã€‚\n æœ€å è°¢è°¢è€å©†ã€‚\n","id":0,"section":"posts","summary":"è¿™æ˜¯ä¸€ç¯‡è¿Ÿåˆ°çš„åšå®¢ã€‚åœ¨ä¸Šå‘¨äº”å°±æ”¶åˆ°äº†è€å©†çš„ç¤¼ç‰©ï¼Œå¥ˆä½•æ²¡å¸¦ç”µè„‘å›å»æ²¡æ³•ç¼–å†™ã€‚ æ¥è‡ªè€å©†çš„ç¤¼ç‰© è€å©†: 256 é»‘è‰² æˆ‘ : 64å¤Ÿäº†å•Šã€‚256ç”¨ä¸ä¸Šã€‚ è€å©†: ä¸å¤Ÿ","tags":["ç”Ÿæ´»"],"title":"æ¥è‡ªè€å©†çš„ç¤¼ç‰©","uri":"https://rx-78-kum0.github.io/2020/07/%E6%9D%A5%E8%87%AA%E8%80%81%E5%A9%86%E7%9A%84%E7%A4%BC%E7%89%A9/","year":"2020"},{"content":"ä½¿ç”¨emacsä½œä¸ºhugoåšå®¢çš„å®¢æˆ·ç«¯  Hugo ç”Ÿæˆåšå®¢çš„é™æ€é¡µé¢è™½ç„¶å·²ç»å¾ˆæ–¹ä¾¿äº†ï¼Œox-hugo è‡ªåŠ¨md -\u0026gt; orgä¹Ÿå¾ˆä¾¿æ·äº†ï¼Œä½†å†™ä½œå’Œå‘å¸ƒåšå®¢éœ€è¦ç»è¿‡è‹¥å¹²å‘½ä»¤è¡Œæ“ä½œæ‰èƒ½å®Œæˆã€‚æ²¡æœ‰å®¢æˆ·ç«¯ç•Œé¢ç›´è§‚ã€‚\n ç›®å‰å†™ä½œå’Œå‘å¸ƒçš„æµç¨‹ æ–°å»ºorgæ–‡ä»¶ -\u0026gt; balabalaå¹¶è‡ªåŠ¨è½¬md -\u0026gt; å‘½ä»¤è¡Œ: $ hugo // ç”Ÿæˆé™æ€é¡µé¢ -\u0026gt; magit stage/commit/push -\u0026gt; å®Œæˆ  hugo çš„ major-mode æ’ä»¶: easy-hugo  easy-hugo æ˜¯ emacs ä¸Šçš„ hugo åšå®¢ç®¡ç†çš„æ’ä»¶ã€‚æ”¯æŒmarkdown or org-mode or AsciiDoc or reStructuredText or mmark or html ç­‰æ ¼å¼æ–‡æ¡£ï¼Œå¤šåšå®¢å¤šç«™ç‚¹ï¼Œä»¥åŠå¤šå¹³å°éƒ¨ç½²ã€‚\n   easy-hugo é…ç½® (use-package easy-hugo :commands easy-hugo :bind (:map easy-hugo-mode-map (\u0026quot;SPC\u0026quot; . general-simulate-C-c) (\u0026quot;G\u0026quot; . kumo-easy-hugo-github-deploy)) :custom (easy-hugo-org-header t) (easy-hugo-basedir kumo/easy-hugo-basedir) (easy-hugo-postdir kumo/easy-hugo-postdir) (easy-hugo-url kumo/easy-hugo-url) (easy-hugo-preview-url kumo/easy-hugo-preview-url) (easy-hugo-github-deploy-script kumo/easy-hugo-github-deploy-script) (easy-hugo-default-ext \u0026quot;.org\u0026quot;) :hook (easy-hugo-mode . (lambda () (evil-set-initial-state 'easy-hugo-mode 'emacs))) )   éœ€è¦é…ç½® easy-hugo çš„ basedir/postdir/preview-url/deploy-script ç­‰ç­‰ã€‚æ–¹ä¾¿ easy-hugo è¯»å–å‡ºåšå®¢åˆ—è¡¨ã€éƒ¨ç½²è„šæœ¬ï¼Œä»¥åŠæ‰§è¡Œä¸€é”®é¢„è§ˆç­‰ã€‚\n éƒ¨ç½²è„šæœ¬ #!/bin/sh # If a command fails then the deploy stops set -e printf \u0026quot;\\033[0;32mDeploying updates to GitHub...\\033[0m\\n\u0026quot; # Build the project. hugo # if using a theme, replace with `hugo -t \u0026lt;YOURTHEME\u0026gt;` # Go To Public folder cd public # Add changes to git. git add . # Commit changes. msg=\u0026quot;rebuilding site $(date)\u0026quot; if [ -n \u0026quot;$*\u0026quot; ]; then msg=\u0026quot;$*\u0026quot; fi git commit -m \u0026quot;$msg\u0026quot; # Push source and build repos. git push origin master -f     é…ç½®çš„ä¸€äº›å‘\n ç”±äºæˆ‘ä½¿ç”¨äº†evil-modeï¼Œæ‰€ä»¥ easy-hugo-mode-map çš„åŸç”Ÿé”®ä½æ˜¯ä¸èƒ½ç”¨äº†ã€‚åªæœ‰åœ¨ easy-hugo-mode ä¸­å±è”½ evil-mode.   :hook (easy-hugo-mode . (lambda () (evil-set-initial-state 'easy-hugo-mode 'emacs)))   å±è”½ evil-mode åŒæ—¶ä¹Ÿå±è”½äº† general çš„è§¦å‘é”® SPCã€‚ emacs ä¸Šæ²¡æœ‰äº† SPC å°±åƒèµ°è·¯è’™ç€åŒçœ¼\u0026hellip;   :bind (:map easy-hugo-mode-map (\u0026quot;SPC\u0026quot; . general-simulate-C-c))   easy-hugo åŸç”Ÿçš„ github page éƒ¨ç½²å‡½æ•°ä¸æ”¯æŒäº¤äº’å¼shellè„šæœ¬ï¼Œå¯¼è‡´ git push æ—¶ä¸èƒ½è¾“å…¥å¯†ç ã€‚éœ€è¦è‡ªå·±å†™ä¸ªå‡½æ•°æ¥æ›¿æ¢å®ƒã€‚   è¿™é‡Œä½¿ç”¨ C-q è€Œä¸æ˜¯ q é€€å‡º async-shell-command çš„ bufferã€‚å› ä¸ºä¸‡ä¸€è´¦å·æˆ–å¯†ç ä¸­å¸¦æœ‰ \u0026ldquo;q\u0026rdquo; å°±ä¸å¥½äº†\u0026hellip;ğŸ˜…\n :bind (:map easy-hugo-mode-map (\u0026quot;G\u0026quot; . kumo-easy-hugo-github-deploy)) (defun kumo-easy-hugo-github-deploy () \u0026quot;Easy-Hugo deploy github page.\u0026quot; (interactive) (let* ((output-buffer (get-buffer-create kumo/easy-hugo-github-deploy-buffer-name)) (command-window (async-shell-command (expand-file-name (concat kumo/easy-hugo-basedir kumo/easy-hugo-github-deploy-script)) output-buffer nil))) (select-window command-window) (local-set-key (kbd \u0026quot;C-q\u0026quot;) 'kill-buffer-and-window)))    ç°åœ¨çš„å†™ä½œå’Œå‘å¸ƒçš„æµç¨‹ å‘¼å‡º easy-hugo -\u0026gt; né”® æ–°å»ºorg balabalaå¹¶è‡ªåŠ¨è½¬md -\u0026gt; Gé”® å‘å¸ƒéƒ¨ç½²  åšå®¢æ€»ç®—èƒ½æœ‰ä¸€ä¸ªåƒæ ·çš„ç®¡ç†ç•Œé¢äº†ğŸ˜…\nç°åœ¨å†™ä½œ/å‘å¸ƒå¯ä»¥ç›´æ¥ä¾æ‰˜ emacsï¼Œå¹¶ä¸”éƒ½ä¸éœ€è¦é”®å…¥ä¸€ä¸ªå‘½ä»¤è¡Œã€‚\n","id":1,"section":"posts","summary":"ä½¿ç”¨emacsä½œä¸ºhugoåšå®¢çš„å®¢æˆ·ç«¯ Hugo ç”Ÿæˆåšå®¢çš„é™æ€é¡µé¢è™½ç„¶å·²ç»å¾ˆæ–¹ä¾¿äº†ï¼Œox-hugo è‡ªåŠ¨md -\u0026gt; orgä¹Ÿå¾ˆä¾¿æ·äº†ï¼Œä½†å†™ä½œå’Œå‘å¸ƒåšå®¢éœ€è¦ç»","tags":["emacs"],"title":"emacsç®¡ç†åšå®¢å†™ä½œæµç¨‹","uri":"https://rx-78-kum0.github.io/2020/07/emacs%E7%AE%A1%E7%90%86%E5%8D%9A%E5%AE%A2%E5%86%99%E4%BD%9C%E6%B5%81%E7%A8%8B/","year":"2020"},{"content":"rediså‘å¸ƒè®¢é˜…  ç›¸æ¯”rabbitmqç­‰ä¸“ä¸šæ¶ˆæ¯é˜Ÿåˆ—çš„ç¼ºé™·: æ²¡æœ‰ç›¸åº”çš„æœºåˆ¶ä¿è¯æ¶ˆæ¯çš„å¯é æ¶ˆè´¹ï¼Œå¦‚æœå‘å¸ƒè€…å‘å¸ƒä¸€æ¡æ¶ˆæ¯ï¼Œè€Œæ²¡æœ‰å¯¹åº”çš„è®¢é˜…è€…çš„è¯ï¼Œè¿™æ¡æ¶ˆæ¯å°†ä¸¢å¤±ï¼Œä¸ä¼šå­˜åœ¨å†…å­˜ä¸­ã€‚\n package main import ( \u0026quot;context\u0026quot; \u0026quot;fmt\u0026quot; \u0026quot;log\u0026quot; \u0026quot;strconv\u0026quot; \u0026quot;time\u0026quot; \u0026quot;github.com/gomodule/redigo/redis\u0026quot; ) // ConsumeFunc consumes message at the channel. type ConsumeFunc func(channel string, message []byte) error // RedisClient represents a redis client with connection pool. type RedisClient struct { pool *redis.Pool } // NewRedisClient returns a RedisClient. func NewRedisClient(addr string, passwd string) *RedisClient { pool := \u0026amp;redis.Pool{ MaxIdle: 10, IdleTimeout: 300 * time.Second, Dial: func() (redis.Conn, error) { c, err := redis.Dial(\u0026quot;tcp\u0026quot;, addr, redis.DialPassword(passwd), redis.DialDatabase(0)) if err != nil { return nil, err } return c, nil }, TestOnBorrow: func(c redis.Conn, t time.Time) error { if time.Since(t) \u0026lt; time.Minute { return nil } _, err := c.Do(\u0026quot;PING\u0026quot;) return err }, } log.Printf(\u0026quot;new redis pool at %s\u0026quot;, addr) client := \u0026amp;RedisClient{ pool: pool, } return client } // Close closes connection pool. func (r *RedisClient) Close() error { err := r.pool.Close() return err } // Publish publishes message to channel. func (r *RedisClient) Publish(channel, message string) (int, error) { c := r.pool.Get() defer c.Close() n, err := redis.Int(c.Do(\u0026quot;PUBLISH\u0026quot;, channel, message)) if err != nil { return 0, fmt.Errorf(\u0026quot;redis publish %s %s, err: %v\u0026quot;, channel, message, err) } return n, nil } // Subscribe subscribes messages at the channels. func (r *RedisClient) Subscribe(ctx context.Context, consume ConsumeFunc, channel ...string) error { psc := redis.PubSubConn{Conn: r.pool.Get()} log.Printf(\u0026quot;redis pubsub subscribe channel: %v\u0026quot;, channel) if err := psc.Subscribe(redis.Args{}.AddFlat(channel)...); err != nil { return err } done := make(chan error, 1) // start a new goroutine to receive message go func() { defer psc.Close() for { switch msg := psc.Receive().(type) { case error: done \u0026lt;- fmt.Errorf(\u0026quot;redis pubsub receive err: %v\u0026quot;, msg) return case redis.Message: if err := consume(msg.Channel, msg.Data); err != nil { done \u0026lt;- err return } case redis.Subscription: if msg.Count == 0 { // all channels are unsubscribed done \u0026lt;- nil return } } } }() ch \u0026lt;- 0 // health check tick := time.NewTicker(time.Minute) defer tick.Stop() for { select { case \u0026lt;-ctx.Done(): if err := psc.Unsubscribe(); err != nil { return fmt.Errorf(\u0026quot;redis pubsub unsubscribe err: %v\u0026quot;, err) } return nil case err := \u0026lt;-done: return err case \u0026lt;-tick.C: if err := psc.Ping(\u0026quot;\u0026quot;); err != nil { return err } log.Println(\u0026quot;over\u0026quot;) return nil } } } func myConsumer(channel string, message []byte) error { log.Printf(\u0026quot;receive message[%s] at the channel[%s]\\n\u0026quot;, string(message), channel) return nil } // ch ç”¨äºä¿è¯å‘å¸ƒçº¿ç¨‹åœ¨è®¢é˜…çº¿ç¨‹å¯åŠ¨æˆåŠŸåæ‰å¼€å§‹å‘å¸ƒæ¶ˆæ¯ var ch = make(chan int) func main() { redisClient := NewRedisClient(\u0026quot;127.0.0.1:6300\u0026quot;, \u0026quot;zyhua1122\u0026quot;) defer redisClient.Close() go func() { var subscriber int \u0026lt;-ch for i := 0; i \u0026lt; 3; i++ { subscriber, _ = redisClient.Publish(\u0026quot;testx\u0026quot;, \u0026quot;hello world\u0026quot;+strconv.Itoa(i)) log.Printf(\u0026quot;there is %d subscriber.\\n\u0026quot;, subscriber) } }() ctx, cancel := context.WithCancel(context.Background()) err := redisClient.Subscribe(ctx, func(channel string, message []byte) error { log.Printf(\u0026quot;receive message[%s] at the channel[%s]\\n\u0026quot;, string(message), channel) if string(message) == \u0026quot;goodbye\u0026quot; { cancel() } return nil }, \u0026quot;testx\u0026quot;) if err != nil { fmt.Printf(\u0026quot;get error: %v\\n\u0026quot;, err) } return }  ","id":2,"section":"posts","summary":"rediså‘å¸ƒè®¢é˜… ç›¸æ¯”rabbitmqç­‰ä¸“ä¸šæ¶ˆæ¯é˜Ÿåˆ—çš„ç¼ºé™·: æ²¡æœ‰ç›¸åº”çš„æœºåˆ¶ä¿è¯æ¶ˆæ¯çš„å¯é æ¶ˆè´¹ï¼Œå¦‚æœå‘å¸ƒè€…å‘å¸ƒä¸€æ¡æ¶ˆæ¯ï¼Œè€Œæ²¡æœ‰å¯¹åº”çš„è®¢é˜…è€…çš„è¯","tags":["golang"],"title":"rediså‘å¸ƒè®¢é˜…","uri":"https://rx-78-kum0.github.io/2020/07/redis%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85/","year":"2020"},{"content":"package main import ( \u0026quot;fmt\u0026quot; \u0026quot;sync\u0026quot; \u0026quot;time\u0026quot; ) type Glimit struct { n int c chan struct{} } func New(n int) *Glimit { return \u0026amp;Glimit{ n: n, c: make(chan struct{}, n), } } func (g *Glimit) Run(f func()) { g.c \u0026lt;- struct{}{} go func() { f() \u0026lt;-g.c }() } var wg = sync.WaitGroup{} func main() { number := 10 g := New(2) for i := 0; i \u0026lt; number; i++ { wg.Add(1) value := i g.Run(func() { // åšä¸€äº›ä¸šåŠ¡é€»è¾‘å¤„ç† fmt.Printf(\u0026quot;go func: %d\\n\u0026quot;, value) time.Sleep(time.Second) wg.Done() }) } wg.Wait() }  ","id":3,"section":"posts","summary":"package main import ( \u0026quot;fmt\u0026quot; \u0026quot;sync\u0026quot; \u0026quot;time\u0026quot; ) type Glimit struct { n int c chan struct{} } func New(n int) *Glimit { return \u0026amp;Glimit{ n: n, c: make(chan struct{}, n), } } func (g *Glimit) Run(f func()) { g.c \u0026lt;- struct{}{} go func() { f() \u0026lt;-g.c }() } var wg = sync.WaitGroup{} func main() { number := 10 g := New(2) for i := 0; i \u0026lt; number; i++","tags":["golang"],"title":"é™åˆ¶goroutineæ•°é‡","uri":"https://rx-78-kum0.github.io/2020/07/%E9%99%90%E5%88%B6goroutine%E6%95%B0%E9%87%8F/","year":"2020"},{"content":"å°å¯¹è±¡è¦åˆå¹¶ å‡½æ•°é¢‘ç¹åˆ›å»ºçš„ç®€å•çš„å¯¹è±¡ï¼Œç›´æ¥è¿”å›å¯¹è±¡ï¼Œæ•ˆæœæ¯”è¿”å›æŒ‡é’ˆæ•ˆæœè¦å¥½ ç±»å‹è½¬æ¢è¦æ³¨æ„ï¼Œå®˜æ–¹ç”¨æ³•æ¶ˆè€—ç‰¹åˆ«å¤§ã€‚ package string_util import ( \u0026quot;unsafe\u0026quot; ) func str2bytes(s string) []byte { x := (*[2]uintptr)(unsafe.Pointer(\u0026amp;s)) h := [3]uintptr{x[0], x[1], x[1]} return *(*[]byte)(unsafe.Pointer(\u0026amp;h)) } func bytes2str(b []byte) string { return *(*string)(unsafe.Pointer(\u0026amp;b)) }  é¿å…åå¤åˆ›å»ºsliceï¼Œmap func(r*Reader)Read()([]byte,error) // æ­¤å‡½æ•°æ²¡æœ‰å½¢å‚ï¼Œæ¯æ¬¡è°ƒç”¨çš„æ—¶å€™è¿”å›ä¸€ä¸ª[]byteã€‚ func(r*Reader)Read(buf[]byte)(int,error) // æ­¤å‡½æ•°ä¸ªå‡½æ•°åœ¨æ¯æ¬¡è¿ªè°ƒç”¨çš„æ—¶å€™ï¼Œä¼šé‡ç”¨å½¢å‚å£°æ˜ã€‚  é¿å…ä½¿ç”¨\u0026quot;+\u0026quot;æ‹¼æ¥å­—ç¬¦ä¸² package string_utils import ( \u0026quot;strings\u0026quot; ) func strAppend(s string, ss ...string) string { var r strings.Builder r.WriteString(s) for _, v := range ss { r.WriteString(v) } return r.String() }  ","id":4,"section":"posts","summary":"å°å¯¹è±¡è¦åˆå¹¶ å‡½æ•°é¢‘ç¹åˆ›å»ºçš„ç®€å•çš„å¯¹è±¡ï¼Œç›´æ¥è¿”å›å¯¹è±¡ï¼Œæ•ˆæœæ¯”è¿”å›æŒ‡é’ˆæ•ˆæœè¦å¥½ ç±»å‹è½¬æ¢è¦æ³¨æ„ï¼Œå®˜æ–¹ç”¨æ³•æ¶ˆè€—ç‰¹åˆ«å¤§ã€‚ package string_util import ( \u0026quot;unsafe\u0026quot; ) func str2bytes(s string) []byte { x := (*[2]uintptr)(unsafe.Pointer(\u0026amp;s)) h","tags":["golang"],"title":"golang gcä¼˜åŒ–","uri":"https://rx-78-kum0.github.io/2020/06/gc%E4%BC%98%E5%8C%96/","year":"2020"},{"content":"package util-time import ( \u0026quot;strconv\u0026quot; \u0026quot;time\u0026quot; ) // è·å–å½“å‰çš„æ—¶é—´ - å­—ç¬¦ä¸² func GetCurrentDate() string { return time.Now().Format(\u0026quot;2006/01/02 15:04:05\u0026quot;) } // è·å–å½“å‰çš„æ—¶é—´ - Unixæ—¶é—´æˆ³ func GetCurrentUnix() int64 { return time.Now().Unix() } // è·å–å½“å‰çš„æ—¶é—´ - æ¯«ç§’çº§æ—¶é—´æˆ³ func GetCurrentMilliUnix() int64 { return time.Now().UnixNano() / 1000000 } // è·å–å½“å‰çš„æ—¶é—´ - çº³ç§’çº§æ—¶é—´æˆ³ func GetCurrentNanoUnix() int64 { return time.Now().UnixNano() } func GetCurrentTime() string { var cstSh, _ = time.LoadLocation(\u0026quot;Asia/Shanghai\u0026quot;) t := time.Now().In(cstSh).Format(\u0026quot;2006/01/02/ 15:04:05\u0026quot;) return t } func GetCurrentHour() int { var cstSh, _ = time.LoadLocation(\u0026quot;Asia/Shanghai\u0026quot;) t,_ := strconv.Atoi(time.Now().In(cstSh).Format(\u0026quot;2006010215\u0026quot;)) return t } func GetCurrentDay() int { var cstSh, _ = time.LoadLocation(\u0026quot;Asia/Shanghai\u0026quot;) t,_ := strconv.Atoi(time.Now().In(cstSh).Format(\u0026quot;20060102\u0026quot;)) return t } func GetLastDay() int { var cstSh, _ = time.LoadLocation(\u0026quot;Asia/Shanghai\u0026quot;) nTime := time.Now() t,_ := strconv.Atoi(nTime.AddDate(0,0,-1).In(cstSh).Format(\u0026quot;20060102\u0026quot;)) return t } func GetlastHour() int { nTime := time.Now() lastTime := nTime.Add(time.Hour * -1) t,_ := strconv.Atoi(lastTime.Format(\u0026quot;2006010215\u0026quot;)) return t }  ","id":5,"section":"posts","summary":"package util-time import ( \u0026quot;strconv\u0026quot; \u0026quot;time\u0026quot; ) // è·å–å½“å‰çš„æ—¶é—´ - å­—ç¬¦ä¸² func GetCurrentDate() string { return time.Now().Format(\u0026quot;2006/01/02 15:04:05\u0026quot;) } // è·å–å½“å‰çš„æ—¶é—´ - Unixæ—¶é—´æˆ³ func GetCurrentUnix() int64 { return time.Now().Unix() } // è·å–å½“å‰çš„æ—¶é—´ - æ¯«ç§’çº§æ—¶é—´æˆ³ func GetCurrentMilliUnix() int64 { return","tags":["golang"],"title":"golang timeå·¥å…·å‡½æ•°","uri":"https://rx-78-kum0.github.io/2020/06/time/","year":"2020"},{"content":"GDT(Global Descriptor Table)å…¨å±€æè¿°ç¬¦è¡¨ GDTæ˜¯ä¸€ä¸ªä»¥ æ®µæè¿°ç¬¦ ä¸ºè¡¨é¡¹çš„æ•°ç»„ç±»å‹çš„æ•°æ®ç»“æ„ï¼Œåœ¨å†…å­˜ä¸­çº¿æ€§å­˜æ”¾ã€‚æ¯ä¸ªæ®µæè¿°ç¬¦å  8 ä¸ªå­—èŠ‚ã€‚\nGDTRå¯„å­˜å™¨å­˜æ”¾GDTè¡¨çš„åŸºåœ°å€å’Œè¡¨é•¿ç•Œé™(é«˜32ä½å­˜æ”¾GDTåŸºå€ï¼Œä½16ä¸ºå­˜æ”¾GDTé™é•¿)ã€‚æŒ‡ä»¤LGDTå’ŒSGDTåˆ†åˆ«ç”¨äºåŠ è½½å’Œä¿å­˜GDTRå¯„å­˜å™¨çš„å†…å®¹ã€‚åœ¨æœºå™¨åˆšåŠ ç”µæˆ–å¤„ç†å™¨å¤ä½åï¼ŒåŸºåœ°å€è¢«é»˜è®¤åœ°è®¾ç½®ä¸º0ï¼Œè€Œé•¿åº¦å€¼è¢«è®¾ç½®æˆ0xFFFFã€‚åœ¨ä¿æŠ¤æ¨¡å¼åˆå§‹åŒ–è¿‡ç¨‹ä¸­å¿…é¡»ç»™GDTRåŠ è½½ä¸€ä¸ªæ–°å€¼ã€‚\næ®µé€‰æ‹©å­(Segement Selector) ç”±GDTRè®¿é—®å…¨å±€æè¿°ç¬¦è¡¨æ˜¯é€šè¿‡â€œæ®µé€‰æ‹©å­â€(å®æ¨¡å¼ä¸‹çš„æ®µå¯„å­˜å™¨)æ¥å®Œæˆçš„ã€‚æ®µé€‰æ‹©å­æ˜¯ä¸€ä¸ª16ä½çš„å¯„å­˜å™¨(åŒå®æ¨¡å¼ä¸‹çš„æ®µå¯„å­˜å™¨ç›¸åŒ)ã€‚\næ®µé€‰æ‹©å­å…±16bitï¼Œç”±ä¸‰éƒ¨åˆ†ç»„æˆ: æè¿°ç¬¦ç´¢å¼•(index)ã€TIã€è¯·æ±‚ç‰¹æƒçº§(RPL)  æè¿°ç¬¦ç´¢å¼•(index): åœ¨æè¿°ç¬¦è¡¨ä¸­å®šä½ä¸€ä¸ªæ®µæè¿°ç¬¦ã€‚ TI: æè¿°ç¬¦è¡¨æŒ‡ç¤ºå™¨ï¼Œ TIï¼0 æ—¶ï¼Œè¡¨ç¤ºæè¿°ç¬¦åœ¨ GDT ä¸­ï¼› TIï¼1 æ—¶ï¼Œæè¿°ç¬¦åœ¨ LDT ä¸­ã€‚ RPL: è¯·æ±‚ç‰¹æƒçº§ï¼Œè¡¨ç¤ºç»™å‡ºå½“å‰é€‰æ‹©å­è®¿é—®çš„å†…å­˜æ®µçš„ç‰¹æƒçº§åˆ«ã€‚æ¯ä¸€ä¸ªæ®µéƒ½æœ‰ä¸€ä¸ªç‰¹å®šçš„çº§åˆ«ã€‚æ¯å½“ä¸€ä¸ªç¨‹åºè¯•å›¾è®¿é—®æŸä¸€ä¸ªæ®µæ—¶ï¼Œå°±å°†è¯¥ç¨‹åºæ‰€æ‹¥æœ‰çš„ç‰¹æƒçº§ä¸è¦è®¿é—®çš„ç‰¹æƒçº§è¿›è¡Œæ¯”è¾ƒï¼Œä»¥å†³å®šèƒ½å¦è®¿é—®è¯¥æ®µã€‚ç³»ç»Ÿçº¦å®šï¼ŒCPUåªèƒ½è®¿é—®åŒä¸€ç‰¹æƒçº§æˆ–çº§åˆ«è¾ƒä½ç‰¹æƒçº§çš„æ®µã€‚  å› ä¸ºæ¯ä¸ªæè¿°ç¬¦å  8 å­—èŠ‚ï¼Œå› æ­¤æè¿°ç¬¦åœ¨è¡¨å†…çš„åç§»åœ°å€æ˜¯ç´¢å¼•å·ä¹˜ä»¥ 8 å¤„ç†å™¨åœ¨æ‰§è¡Œä»»ä½•æ”¹å˜æ®µé€‰æ‹©å™¨çš„æŒ‡ä»¤æ—¶(æ¯”å¦‚ popã€ movã€jmp farã€ call farã€ iretã€ retf)ï¼Œå°±å°†æŒ‡ä»¤ä¸­æä¾›çš„ç´¢å¼•å·ä¹˜ä»¥ 8 ä½œä¸ºåç§»åœ°å€ï¼ŒåŒ GDTR ä¸­æä¾›çš„çº¿æ€§åŸºåœ°å€ç›¸åŠ ï¼Œä»¥è®¿é—® GDTã€‚åœ¨è¡¨å†…æ‰¾åˆ°çš„æè¿°ç¬¦ï¼Œå¹¶åŠ è½½åˆ°ä¸å¯è§çš„æè¿°ç¬¦é«˜é€Ÿç¼“å­˜éƒ¨åˆ†ã€‚æ­¤åæ¯å½“æœ‰è®¿é—®å†…å­˜çš„æŒ‡ä»¤æ—¶ï¼Œå°±ä¸å†è®¿é—® GDT ä¸­çš„æè¿°ç¬¦ï¼Œç›´æ¥ç”¨å½“å‰æ®µå¯„å­˜å™¨æè¿°ç¬¦é«˜é€Ÿç¼“å­˜å™¨æä¾›çº¿æ€§åŸºåœ°å€ã€‚\næ®µæè¿°ç¬¦(Segment Descriptor) æ¯ä¸ªæ®µæè¿°ç¬¦å  8 ä¸ªå­—èŠ‚ã€‚ç”±ä¸‰éƒ¨åˆ†ç»„æˆ: çº¿æ€§åŸºåœ°å€ã€æ®µç•Œé™å’Œæ®µçš„è®¿é—®å±æ€§ã€‚\n    G: ç²’åº¦ä½ï¼Œç”¨äºè§£é‡Šæ®µç•Œé™çš„å«ä¹‰ã€‚å½“ G ä½æ˜¯\u0026quot;0\u0026quot;æ—¶ï¼Œæ®µç•Œé™ä»¥å­—èŠ‚ä¸ºå•ä½ã€‚æ­¤æ—¶ï¼Œæ®µçš„æ‰©å±•èŒƒå›´æ˜¯ä» 1 å­—èŠ‚åˆ° 1 å…†å­—èŠ‚ï¼ˆ 1Bï½1MBï¼‰ï¼Œå› ä¸ºæè¿°ç¬¦ä¸­çš„ç•Œé™å€¼æ˜¯ 20 ä½çš„ã€‚ç›¸åï¼Œå¦‚æœè¯¥ä½æ˜¯\u0026quot;1\u0026rdquo;ï¼Œé‚£ä¹ˆï¼Œæ®µç•Œé™æ˜¯ä»¥ 4KB ä¸ºå•ä½çš„ã€‚è¿™æ ·ï¼Œæ®µçš„æ‰©å±•èŒƒå›´æ˜¯ä» 4KBåˆ° 4GBã€‚\n  D/B: \u0026ldquo;é»˜è®¤çš„æ“ä½œæ•°å¤§å°\u0026rdquo;(Default Operation Size)æˆ–è€…\u0026quot;é»˜è®¤çš„å †æ ˆæŒ‡é’ˆå¤§å°\u0026rdquo;ï¼Œåˆæˆ–è€…\u0026quot;ä¸Šéƒ¨è¾¹ç•Œ\u0026quot;æ ‡å¿—ã€‚è®¾ç«‹è¯¥æ ‡å¿—ä½ï¼Œä¸»è¦æ˜¯ä¸ºäº†èƒ½å¤Ÿåœ¨ 32 ä½å¤„ç†å™¨ä¸Šå…¼å®¹è¿è¡Œ 16 ä½ä¿æŠ¤æ¨¡å¼çš„ç¨‹åºã€‚Dï¼0 è¡¨ç¤ºæŒ‡ä»¤ä¸­çš„åç§»åœ°å€æˆ–è€…æ“ä½œæ•°æ˜¯ 16 ä½çš„ï¼› Dï¼1ï¼ŒæŒ‡ç¤º 32 ä½çš„åç§»åœ°å€æˆ–è€…æ“ä½œæ•°ã€‚\n  L: 64 ä½ä»£ç æ®µæ ‡å¿—ã€‚ä¿ç•™æ­¤ä½ç»™ 64 ä½å¤„ç†å™¨ä½¿ç”¨ã€‚32ä½å°†æ­¤ä½ç½®\u0026quot;0\u0026rdquo;ã€‚\n  AVL: ä¿ç•™ä½ã€‚å¯ä»¥è¢«ç³»ç»Ÿè½¯ä»¶ä½¿ç”¨ã€‚\n  P: æ®µå­˜åœ¨ä½(Segment Present)ã€‚ P ä½ç”¨äºæŒ‡ç¤ºæè¿°ç¬¦æ‰€å¯¹åº”çš„æ®µæ˜¯å¦å­˜åœ¨ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæè¿°ç¬¦æ‰€æŒ‡ç¤ºçš„æ®µéƒ½ä½äºå†…å­˜ä¸­ã€‚ä½†æ˜¯ï¼Œå½“å†…å­˜ç©ºé—´ç´§å¼ æ—¶ï¼Œæœ‰å¯èƒ½åªæ˜¯å»ºç«‹äº†æè¿°ç¬¦ï¼Œå¯¹åº”çš„å†…å­˜ç©ºé—´å¹¶ä¸å­˜åœ¨ï¼Œè¿™æ—¶ï¼Œå°±åº”å½“æŠŠæè¿°ç¬¦çš„ P ä½æ¸…é›¶ï¼Œè¡¨ç¤ºæ®µå¹¶ä¸å­˜åœ¨ã€‚P ä½æ˜¯ç”±å¤„ç†å™¨è´Ÿè´£æ£€æŸ¥çš„ã€‚æ¯å½“é€šè¿‡æè¿°ç¬¦è®¿é—®å†…å­˜ä¸­çš„æ®µæ—¶ï¼Œå¦‚æœ P ä½æ˜¯\u0026quot;0\u0026rdquo;ï¼Œå¤„ç†å™¨å°±ä¼šäº§ç”Ÿä¸€ä¸ªå¼‚å¸¸ä¸­æ–­ã€‚\n  DPL: æè¿°ç¬¦çš„ç‰¹æƒçº§(Descriptor Privilege Levelï¼Œ DPL)ã€‚è¿™ä¸¤ä½ç”¨äºæŒ‡å®šæ®µçš„ç‰¹æƒçº§ã€‚å…±æœ‰ 4 ç§å¤„ç†å™¨æ”¯æŒçš„ç‰¹æƒçº§åˆ«ï¼Œåˆ†åˆ«æ˜¯ 0ã€ 1ã€ 2ã€ 3ï¼Œå…¶ä¸­ 0 æ˜¯æœ€é«˜ç‰¹æƒçº§åˆ«ï¼Œ 3 æ˜¯æœ€ä½ç‰¹æƒçº§åˆ«ã€‚åˆšè¿›å…¥ä¿æŠ¤æ¨¡å¼æ—¶æ‰§è¡Œçš„ä»£ç å…·æœ‰æœ€é«˜ç‰¹æƒçº§ 0(å¯ä»¥çœ‹æˆæ˜¯ä»å¤„ç†å™¨é‚£é‡Œç»§æ‰¿æ¥çš„)ï¼Œè¿™äº›ä»£ç é€šå¸¸éƒ½æ˜¯æ“ä½œç³»ç»Ÿä»£ç (å†…æ ¸æ®µ)ï¼Œå› æ­¤å®ƒçš„ç‰¹æƒçº§åˆ«æœ€é«˜ã€‚æ¯å½“æ“ä½œç³»ç»ŸåŠ è½½ä¸€ä¸ªç”¨æˆ·ç¨‹åºæ—¶ï¼Œå®ƒé€šå¸¸éƒ½ä¼šæŒ‡å®šä¸€ä¸ªç¨ä½çš„ç‰¹æƒçº§(ç”¨æˆ·æ®µ)ï¼Œæ¯”å¦‚ 3 ç‰¹æƒçº§ã€‚ä¸åŒç‰¹æƒçº§åˆ«çš„ç¨‹åºæ˜¯äº’ç›¸éš”ç¦»çš„ï¼Œå…¶äº’è®¿æ˜¯ä¸¥æ ¼é™åˆ¶çš„ï¼Œè€Œä¸”æœ‰äº›å¤„ç†å™¨æŒ‡ä»¤(ç‰¹æƒæŒ‡ä»¤)åªèƒ½ç”± 0 ç‰¹æƒçº§çš„ç¨‹åºæ¥æ‰§è¡Œï¼Œä¸ºçš„å°±æ˜¯å®‰å…¨ã€‚è¿™é‡Œå†æ¬¡ç‚¹æ˜äº†ä¸ºä½•å«ä¿æŠ¤æ¨¡å¼ã€‚\n  S: ç”¨äºæŒ‡å®šæè¿°ç¬¦çš„ç±»å‹(Descriptor Type)ã€‚å½“è¯¥ä½æ˜¯\u0026quot;0\u0026quot;æ—¶ï¼Œè¡¨ç¤ºæ˜¯ä¸€ä¸ªç³»ç»Ÿæ®µï¼›ä¸º\u0026quot;1\u0026quot;æ—¶ï¼Œè¡¨ç¤ºæ˜¯ä¸€ä¸ªä»£ç æ®µæˆ–è€…æ•°æ®æ®µ(å †æ ˆæ®µä¹Ÿæ˜¯ç‰¹æ®Šçš„æ•°æ®æ®µ)ã€‚\n  TYPE: å…± 4 ä½ï¼Œç”¨äºæŒ‡ç¤ºæè¿°ç¬¦çš„å­ç±»å‹ï¼Œæˆ–è€…è¯´æ˜¯ç±»åˆ«ã€‚\n  æè¿°ç¬¦ç±»å‹   å¯¹äºæ•°æ®æ®µæ¥è¯´ï¼Œ è¿™ 4 ä½åˆ†åˆ«æ˜¯ Xã€ Eã€ Wã€ A ä½ï¼›è€Œå¯¹äºä»£ç æ®µæ¥è¯´ï¼Œè¿™ 4 ä½åˆ™åˆ†åˆ«æ˜¯ Xã€ Cã€ Rã€ A ä½ã€‚\næ•°æ®æ®µ  X: è¡¨ç¤ºæ˜¯å¦å¯ä»¥æ‰§è¡Œï¼ˆ eXecutableï¼‰ã€‚æ•°æ®æ®µæ€»æ˜¯ä¸å¯æ‰§è¡Œçš„ï¼ŒXï¼0ã€‚ E: é’ˆå¯¹æ•°æ®æ®µã€‚E ä½æŒ‡ç¤ºæ®µçš„æ‰©å±•æ–¹å‘ã€‚ Eï¼0 æ˜¯å‘ä¸Šæ‰©å±•çš„ï¼Œä¹Ÿå°±æ˜¯å‘é«˜åœ°å€æ–¹å‘æ‰©å±•çš„ï¼Œæ˜¯æ™®é€šçš„æ•°æ®æ®µï¼› Eï¼1 æ˜¯å‘ä¸‹æ‰©å±•çš„ï¼Œä¹Ÿå°±æ˜¯å‘ä½åœ°å€æ–¹å‘æ‰©å±•çš„ï¼Œé€šå¸¸æ˜¯å †æ ˆæ®µã€‚ W: æ®µçš„è¯»å†™å±æ€§ï¼ŒWï¼0 çš„æ®µæ˜¯ä¸å…è®¸å†™å…¥çš„ï¼Œå¦åˆ™ä¼šå¼•å‘å¤„ç†å™¨å¼‚å¸¸ä¸­æ–­ï¼› Wï¼1çš„æ®µæ˜¯å¯ä»¥æ­£å¸¸å†™å…¥çš„ã€‚ A: å·²è®¿é—®ä½ï¼Œç”¨äºæŒ‡ç¤ºå®ƒæ‰€æŒ‡å‘çš„æ®µæœ€è¿‘æ˜¯å¦è¢«è®¿é—®è¿‡ã€‚åœ¨æè¿°ç¬¦åˆ›å»ºçš„æ—¶å€™ï¼Œåº”è¯¥æ¸…é›¶ã€‚ä¹‹åï¼Œæ¯å½“è¯¥æ®µè¢«è®¿é—®æ—¶ï¼Œå¤„ç†å™¨è‡ªåŠ¨å°†è¯¥ä½ç½®\u0026quot;1\u0026rdquo;ã€‚  ä»£ç æ®µ   X: è¡¨ç¤ºæ˜¯å¦å¯ä»¥æ‰§è¡Œ(eXecutable)ã€‚ä»£ç æ®µæ€»æ˜¯å¯ä»¥æ‰§è¡Œçš„ Xï¼1ã€‚\n  C: æ˜¯å¦ä¸ºç‰¹æƒçº§ä¾ä»çš„(Conforming)ã€‚ Cï¼0 è¡¨ç¤ºéä¾ä»çš„ä»£ç æ®µï¼Œè¿™æ ·çš„ä»£ç æ®µå¯ä»¥ä»ä¸å®ƒç‰¹æƒçº§ç›¸åŒçš„ä»£ç æ®µè°ƒç”¨ï¼Œæˆ–è€…é€šè¿‡é—¨è°ƒç”¨ï¼› Cï¼1 è¡¨ç¤ºå…è®¸ä»ä½ç‰¹æƒçº§çš„ç¨‹åºè½¬ç§»åˆ°è¯¥æ®µæ‰§è¡Œã€‚\n  R: æ˜¯å¦å…è®¸è¯»å‡ºã€‚ä»£ç æ®µæ€»æ˜¯å¯ä»¥æ‰§è¡Œçš„ï¼Œä½†æ˜¯ï¼Œä¸ºäº†é˜²æ­¢ç¨‹åºè¢«ç ´åï¼Œå®ƒæ˜¯ä¸èƒ½å†™å…¥çš„ã€‚è‡³äºæ˜¯å¦æœ‰è¯»å‡ºçš„å¯èƒ½ï¼Œç”± R ä½æŒ‡å®šã€‚ Rï¼0 è¡¨ç¤ºä¸èƒ½è¯»å‡ºï¼Œå¦‚æœä¼å›¾å»è¯»ä¸€ä¸ª Rï¼0 çš„ä»£ç æ®µï¼Œä¼šå¼•å‘å¤„ç†å™¨å¼‚å¸¸ä¸­æ–­ï¼›å¦‚æœ Rï¼1ï¼Œåˆ™ä»£ç æ®µæ˜¯å¯ä»¥è¯»å‡ºçš„ï¼Œå³å¯ä»¥æŠŠè¿™ä¸ªæ®µçš„å†…å®¹å½“æˆ ROM ä¸€æ ·ä½¿ç”¨ã€‚\n ä¹Ÿè®¸æœ‰äººä¼šé—®ï¼Œæ—¢ç„¶ä»£ç æ®µæ˜¯ä¸å¯è¯»çš„ï¼Œé‚£å¤„ç†å™¨æ€ä¹ˆä»é‡Œé¢å–æŒ‡ä»¤æ‰§è¡Œå‘¢ï¼Ÿäº‹å®ä¸Šï¼Œè¿™é‡Œçš„Rå±æ€§å¹¶éç”¨æ¥é™åˆ¶å¤„ç†å™¨ï¼Œ è€Œæ˜¯ç”¨æ¥é™åˆ¶ç¨‹åºå’ŒæŒ‡ä»¤çš„è¡Œä¸ºã€‚\n   A: å·²è®¿é—®ä½ï¼Œç”¨äºæŒ‡ç¤ºå®ƒæ‰€æŒ‡å‘çš„æ®µæœ€è¿‘æ˜¯å¦è¢«è®¿é—®è¿‡ã€‚åœ¨æè¿°ç¬¦åˆ›å»ºçš„æ—¶å€™ï¼Œåº”è¯¥æ¸…é›¶ã€‚ä¹‹åï¼Œæ¯å½“è¯¥æ®µè¢«è®¿é—®æ—¶ï¼Œå¤„ç†å™¨è‡ªåŠ¨å°†è¯¥ä½ç½®\u0026quot;1\u0026rdquo;ã€‚\n  ","id":6,"section":"posts","summary":"GDT(Global Descriptor Table)å…¨å±€æè¿°ç¬¦è¡¨ GDTæ˜¯ä¸€ä¸ªä»¥ æ®µæè¿°ç¬¦ ä¸ºè¡¨é¡¹çš„æ•°ç»„ç±»å‹çš„æ•°æ®ç»“æ„ï¼Œåœ¨å†…å­˜ä¸­çº¿æ€§å­˜æ”¾ã€‚æ¯ä¸ªæ®µæè¿°ç¬¦å  8 ä¸ªå­—èŠ‚ã€‚ GDTRå¯„å­˜å™¨å­˜æ”¾G","tags":["æ“ä½œç³»ç»Ÿ"],"title":"GDT\u0026LDT","uri":"https://rx-78-kum0.github.io/2020/06/gdtldt/","year":"2020"},{"content":"func Home() (string, error) { user, err := user.Current() if nil == err { return user.HomeDir, nil } // cross compile support if runtime.GOOS == \u0026quot;windows\u0026quot; { return homeWindows() } // Unix-like system, so just assume Unix return homeUnix() } func homeUnix() (string, error) { // First prefer the HOME environmental variable if home := os.Getenv(\u0026quot;HOME\u0026quot;); home != \u0026quot;\u0026quot; { return home, nil } // If that fails, try the shell var stdout bytes.Buffer cmd := exec.Command(\u0026quot;sh\u0026quot;, \u0026quot;-c\u0026quot;, \u0026quot;eval echo ~$USER\u0026quot;) cmd.Stdout = \u0026amp;stdout if err := cmd.Run(); err != nil { return \u0026quot;\u0026quot;, err } result := strings.TrimSpace(stdout.String()) if result == \u0026quot;\u0026quot; { return \u0026quot;\u0026quot;, errors.New(\u0026quot;blank output when reading home directory\u0026quot;) } return result, nil } func homeWindows() (string, error) { drive := os.Getenv(\u0026quot;HOMEDRIVE\u0026quot;) path := os.Getenv(\u0026quot;HOMEPATH\u0026quot;) home := drive + path if drive == \u0026quot;\u0026quot; || path == \u0026quot;\u0026quot; { home = os.Getenv(\u0026quot;USERPROFILE\u0026quot;) } if home == \u0026quot;\u0026quot; { return \u0026quot;\u0026quot;, errors.New(\u0026quot;HOMEDRIVE, HOMEPATH, and USERPROFILE are blank\u0026quot;) } return home, nil }  ","id":7,"section":"posts","summary":"func Home() (string, error) { user, err := user.Current() if nil == err { return user.HomeDir, nil } // cross compile support if runtime.GOOS == \u0026quot;windows\u0026quot; { return homeWindows() } // Unix-like system, so just assume Unix return homeUnix() } func homeUnix() (string, error) { // First prefer the HOME environmental variable if home := os.Getenv(\u0026quot;HOME\u0026quot;); home != \u0026quot;\u0026quot; { return home, nil } // If that fails, try the","tags":["golang"],"title":"è·å–ç”¨æˆ·homeç›®å½•è·¯å¾„","uri":"https://rx-78-kum0.github.io/2020/06/%E8%8E%B7%E5%8F%96%E7%94%A8%E6%88%B7home%E7%9B%AE%E5%BD%95%E8%B7%AF%E5%BE%84/","year":"2020"},{"content":"æ ‡ç­¾(Label) æŒ‡å‘ä¸€å¤§å—çš„é¦–åœ°å€ã€‚ä½¿ç”¨æ–¹æ³•: LABEL_NAME: XXX XXX\nå±€éƒ¨Label ä»¥(ç‚¹)å¼€å¤´ï¼Œæ¯”å¦‚.beginï¼Œ.1ï¼Œ.2ã€‚åœ¨ä¸åŒçš„æ®µä¸­å¯ä»¥ä½¿ç”¨ç›¸åŒçš„å¸¦ç‚¹å¼€å¤´çš„LABELï¼Œä¸èƒ½é‡å¤ã€‚æœ€å¥½åªç”¨åœ¨ä»£ç æ®µä¸­ã€‚\nå˜é‡ å‡½æ•°å˜é‡ æŒ‡çš„æ˜¯ä¸€ä¸ªSUB_RUTINçš„é¦–åœ°å€ã€‚æ¯”å¦‚DispStrï¼Œä½¿ç”¨çš„æ—¶å€™æ˜¯call DispStrï¼Œç„¶ååœ¨å£°æ˜æ—¶å€™å› ä¸ºå®ƒæœ¬æ¥å°±æ˜¯ä¸€ä¸ªåœ°å€ï¼Œå°±æ˜¯ç”¨ä¸Šé¢æ ‡ç­¾çš„åŒæ ·çš„å£°æ˜æ–¹å¼ã€‚ DispStr:ï¼ˆæ³¨æ„åé¢æœ‰å†’å·ï¼‰\næ™®é€šå˜é‡ ä½¿ç”¨equç”Ÿæˆçš„çº¯çš„å˜é‡(å®) æ¯”å¦‚ï¼šTopOfStack equ $ - LABEL_STACK - 1\nä½¿ç”¨db dd dwç”Ÿæˆçš„å˜é‡(åœ°å€) ç”Ÿæˆçš„å„ç§å˜é‡åˆ†åˆ«æŒ‡å‘çš„æ˜¯ä¸åŒçš„æ•°æ®ç±»å‹(å†’å·å¯åŠ å¯ä¸åŠ ) æ¯”å¦‚ï¼š _dwDispPos: dd (80 * 6 + 0) * 2\n","id":8,"section":"posts","summary":"æ ‡ç­¾(Label) æŒ‡å‘ä¸€å¤§å—çš„é¦–åœ°å€ã€‚ä½¿ç”¨æ–¹æ³•: LABEL_NAME: XXX XXX å±€éƒ¨Label ä»¥(ç‚¹)å¼€å¤´ï¼Œæ¯”å¦‚.beginï¼Œ.1ï¼Œ.2ã€‚åœ¨ä¸åŒçš„æ®µä¸­å¯ä»¥ä½¿ç”¨ç›¸åŒçš„å¸¦","tags":["æ±‡ç¼–"],"title":"å˜é‡å’Œæ ‡ç­¾","uri":"https://rx-78-kum0.github.io/2020/06/%E5%8F%98%E9%87%8F%E5%92%8C%E6%A0%87%E7%AD%BE/","year":"2020"},{"content":"Mac   é¦–å…ˆéœ€å®‰è£…cmakeå’Œllvm\nbrew install cmake llvm    emacsé‡Œæ‰§è¡ŒM-x irony-install-serverå¾—åˆ°å®‰è£…æ‰§è¡Œå‘½ä»¤\ncmake -DCMAKE_INSTALL_PREFIX\\=/Users/kumotyou/.emacs.d/irony/ \\ /Users/kumotyou/.emacs.d/elpa/irony-20200130.849/server \\ \u0026amp;\u0026amp; cmake --build . --use-stderr --config Release --target install    æ·»åŠ ç¯å¢ƒå˜é‡\n-DCMAKE_PREFIX_PATH=/usr/local/opt/llvm -DCMAKE_INSTALL_RPATH_USE_LINK_PATH=ON -DLIBCLANG_INCLUDE_DIR=/usr/local/opt/llvm/include -DLIBCLANG_LIBRARY=/usr/local/opt/llvm/lib/libclang.dylib    æœ€ç»ˆç¼–è¯‘å‘½ä»¤\ncmake -DCMAKE_INSTALL_PREFIX\\=/Users/kumotyou/.emacs.d/irony/ \\ -DCMAKE_PREFIX_PATH=/usr/local/opt/llvm \\ -DCMAKE_INSTALL_RPATH_USE_LINK_PATH=ON \\ -DLIBCLANG_INCLUDE_DIR=/usr/local/opt/llvm/include \\ -DLIBCLANG_LIBRARY=/usr/local/opt/llvm/lib/libclang.dylib \\ /Users/kumotyou/.emacs.d/elpa/irony-20200130.849/server \\ \u0026amp;\u0026amp; cmake --build . --use-stderr --config Release --target install    Ubuntu   æ‹‰å–cclsæºç , å¹¶è¿›å…¥cclsæ ¹ç›®å½•\ngit clone https://github.com/MaskRay/ccls cd ccls    æ‹‰å–ç¬¬ä¸‰æ–¹ä¾èµ–. (ä¸»è¦æ˜¯rapidjson)\ngit submodule update --init --recursive    ä¸‹è½½llvmçš„äºŒè¿›åˆ¶åŒ…å¹¶è§£å‹\nwget -c http://releases.llvm.org/9.0.0/clang+llvm-9.0.0-x86_64-linux-gnu-ubuntu-18.04.tar.xz tar xf clang+llvm-9.0.0-x86_64-linux-gnu-ubuntu-18.04.tar.xz    åœ¨æ ¹ç›®å½•ä¸‹æ‰§è¡Œcmake æ‰§è¡Œç»“æœä¿å­˜åˆ°Releaseæ–‡ä»¶å¤¹ä¸­\ncmake -H. -BRelease -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=/path/to/clang+llvm-9.0.0-x86_64-linux-gnu-ubuntu-18.04 cmake --build Release    å¼€å§‹ç¼–è¯‘\ncd Release make -j4 #ä½¿ç”¨4çº¿ç¨‹ç¼–è¯‘    ç¼–è¯‘å®Œæˆ, å®‰è£…\nsudo make install    ","id":9,"section":"posts","summary":"Mac é¦–å…ˆéœ€å®‰è£…cmakeå’Œllvm brew install cmake llvm emacsé‡Œæ‰§è¡ŒM-x irony-install-serverå¾—åˆ°å®‰è£…æ‰§è¡Œå‘½ä»¤ cmake -DCMAKE_INSTALL_PREFIX\\=/Users/kumotyou/.emacs.d/irony/ \\ /Users/kumotyou/.emacs.d/elpa/irony-20200130.849/server \\ \u0026amp;\u0026amp; cmake --build . --use-stderr --config","tags":["emacs"],"title":"irony-server-install","uri":"https://rx-78-kum0.github.io/2020/05/irony-server-install/","year":"2020"},{"content":"############################################################### # Configuration file for Bochs ############################################################### # how much memory the emulated machine will have megs: 32 # filename of ROM images romimage: file=/usr/local/share/bochs/BIOS-bochs-latest vgaromimage: file=/usr/local/share/bochs/VGABIOS-lgpl-latest # what disk images will be used floppya: 1_44=a.img, status=inserted # choose the boot disk. boot: floppy # where do we send log messages? # log: bochsout.txt # disable the mouse mouse: enabled=0 # enable key mapping, using US layout as default. # keyboard_mapping: enabled=1, map=/usr/local/share/bochs/keymaps/x11-pc-us.map keyboard: keymap=/usr/local/share/bochs/keymaps/x11-pc-us.map  ","id":10,"section":"posts","summary":"############################################################### # Configuration file for Bochs ############################################################### # how much memory the emulated machine will have megs: 32 # filename of ROM images romimage: file=/usr/local/share/bochs/BIOS-bochs-latest vgaromimage: file=/usr/local/share/bochs/VGABIOS-lgpl-latest # what disk images will be used floppya: 1_44=a.img, status=inserted # choose the boot disk. boot: floppy # where do we send log messages? # log: bochsout.txt # disable the mouse mouse: enabled=0 # enable key mapping, using US layout as default. #","tags":["nasm"],"title":"bochsrc","uri":"https://rx-78-kum0.github.io/2020/05/bochsrc/","year":"2020"},{"content":"ld: dynamic main executables must link with libSystem.dylib for architecture x86_64 # -lSystem ld a.o -o a -lSystem  ","id":11,"section":"posts","summary":"ld: dynamic main executables must link with libSystem.dylib for architecture x86_64 # -lSystem ld a.o -o a -lSystem","tags":["æ±‡ç¼–","mac"],"title":"macç¼–è¯‘nasmé—®é¢˜æ±‡æ€»","uri":"https://rx-78-kum0.github.io/2020/05/mac%E7%BC%96%E8%AF%91nasm%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/","year":"2020"},{"content":" æ±‡ç¼–è¯­è¨€å’ŒCPUæ¯æ¯ç›¸å…³ï¼Œä½†æ˜¯ä¸èƒ½æŠŠæ±‡ç¼–è¯­è¨€å®Œå…¨ç­‰åŒäºCPUçš„æœºå™¨æŒ‡ä»¤ã€‚ä¸åŒæ¶æ„çš„CPUæŒ‡ä»¤å¹¶ä¸ç›¸åŒï¼Œå¦‚x86ï¼Œpowerpcï¼Œarmå„æœ‰å„çš„æŒ‡ä»¤ç³»ç»Ÿï¼›ç”šè‡³åŒä¸€ç§æ¶æ„çš„CPUæœ‰å‡ å¥—æŒ‡ä»¤é›†ï¼Œå…¸å‹çš„å¦‚armé™¤äº†æœ‰32ä½çš„æŒ‡ä»¤é›†å¤–ï¼Œè¿˜æœ‰ä¸€å¥—16ä½çš„thumbæŒ‡ä»¤é›†ã€‚ä½†æ˜¯ä½œä¸ºå¼€å‘è¯­è¨€çš„æ±‡ç¼–ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€å¥—è¯­æ³•è§„åˆ™å’ŒåŠ©è®°ç¬¦çš„é›†åˆï¼Œå®ƒå¯ä»¥åŒ…å®¹ä¸åŒçš„æŒ‡ä»¤é›†ã€‚å¦‚æœä»CPUä½“ç³»æ¥åˆ’åˆ†ï¼Œå¸¸è§çš„æ±‡ç¼–æœ‰ä¸¤ç§ï¼šIBM PCæ±‡ç¼–å’ŒARMæ±‡ç¼–ã€‚ IBM PCæ±‡ç¼–ä¹Ÿå°±æ˜¯Intelçš„æ±‡ç¼–ï¼Œå› ä¸ºIBM æœ€æ—©æ¨å‡ºPCæœºï¼Œåæ¥çš„ä½“ç³»å¾ˆå¤šéƒ½è¦å’Œå®ƒå…¼å®¹ï¼Œæ‰€ä»¥ä¹Ÿä½¿ç”¨äº†ç›¸åŒçš„æ±‡ç¼–è¯­è¨€ã€‚ARMå‹æ ¹æ²¡è€ƒè™‘è¿‡å…¼å®¹ï¼Œå®ƒçš„æŒ‡ä»¤é›†å’Œx86å®Œå…¨æ˜¯ä¸¤ä¸ªä½“ç³»ï¼Œæ‰€ä»¥æ±‡ç¼–è¯­è¨€ä¹Ÿç‹¬ç«‹å‘å±•å‡ºä¸€å¥—ã€‚ CPUåªæ˜¯é™å®šäº†æœºå™¨ç ï¼Œä½œä¸ºå¼€å‘è¯­è¨€çš„æ±‡ç¼–ï¼Œå…¶å®è¿˜å’Œç¼–è¯‘å™¨æ¯æ¯ç›¸å…³ã€‚æ±‡ç¼–è¯­è¨€å‡ºç°çš„æ—©ï¼Œæ²¡æœ‰åƒCè¯­è¨€ä¸€æ ·å®šä¹‰å‡ºæ ‡å‡†ï¼Œæ‰€ä»¥ç¼–è¯‘å™¨çš„å‚å•†å„æä¸€å¥—ã€‚åˆ°ç°åœ¨ï¼Œæœ€æœ‰åçš„ä¹Ÿæ˜¯ä¸¤å®¶ï¼šMASMå’ŒGNU ASMã€‚å‰è€…æ˜¯å¾®è½¯çš„ï¼Œåªæ”¯æŒx86ï¼Œç”¨åœ¨DOS/Windowså¹³å°ä¸­ï¼›åè€…æ˜¯å¼€æºäº§å“ï¼Œä¸»è¦ç”¨åœ¨Linuxä¸­ï¼ŒåŸºæœ¬ä¸Šæ”¯æŒå¤§éƒ¨åˆ†çš„CPUæ¶æ„ã€‚è¿™ä¸¤è€…çš„åŒºåˆ«åœ¨äºä¼ªæŒ‡ä»¤çš„ä¸åŒï¼Œä¼ªæŒ‡ä»¤æ˜¯ç”¨æ¥å‘Šè¯‰ç¼–è¯‘å™¨å¦‚ä½•å·¥ä½œçš„ï¼Œå’Œç¼–è¯‘å™¨ç›¸å…³ï¼Œå’ŒCPUæ— å…³ã€‚å…¶å®æ±‡ç¼–çš„ç¼–è¯‘ç›¸å½“ç®€å•ï¼Œè¿™ä¸¤å¥—ä¼ªæŒ‡ä»¤åªæ˜¯ç¬¦å·ä¸ç›¸åŒï¼Œå«ä¹‰æ˜¯å¤§åŒå°å¼‚ï¼Œæ˜ç™½äº†ä¸€ç§ï¼Œçœ‹å¦ä¸€ç§å°±å¾ˆå®¹æ˜“äº†ã€‚\n CPUä½“ç³»åˆ†ç±»  IBM PCæ±‡ç¼– ARMæ±‡ç¼–  æ±‡ç¼–æ ¼å¼åˆ†ç±» Intelæ ¼å¼ windowså¹³å°å¸¸è§ï¼Œåè€…æœ€æ—©ç”±è´å°”å®éªŒå®¤æ¨å‡ºï¼Œç”¨äºUnixä¸­\nAT\u0026amp;Tæ ¼å¼ GUNæ±‡ç¼–å™¨çš„ç¼ºçœæ ¼å¼\n GNUçš„æ±‡ç¼–å™¨å’Œè°ƒè¯•å™¨gdbå¯¹è¿™ä¸¤ç§æ ¼å¼éƒ½æ”¯æŒï¼Œå¯ä»¥éšä¾¿åˆ‡æ¢ã€‚MASMåªæ”¯æŒIntelæ ¼å¼ã€‚Intelæ ¼å¼å’ŒAT\u0026amp;Tæ ¼å¼çš„åŒºåˆ«åªæ˜¯ç¬¦å·ç³»ç»Ÿçš„åŒºåˆ«ï¼Œè¿™ä¸x86å’Œarmçš„åŒºåˆ«å¯ä¸ä¸€æ ·ï¼Œåè€…æ˜¯CPUä½“ç³»çš„åŒºåˆ«ã€‚\nå†…åµŒæ±‡ç¼– ç”¨äºCè¯­è¨€å’Œæ±‡ç¼–è¯­è¨€æ··åˆç¼–ç¨‹çš„ï¼Œæ‰€ä»¥å’Œç¼–è¯‘å™¨ä¹Ÿå…³ç³»ç´§å¯†ã€‚\n GNUçš„å†…åµŒæ±‡ç¼– (ä¸æ˜¯å¾ˆå®¹æ˜“çœ‹æ‡‚ï¼Œéœ€è¦ä¸“é—¨å­¦ä¹ ) MASMçš„å†…åµŒæ±‡ç¼– (MASMçš„å†…åµŒæ±‡ç¼–å’Œæ™®é€šæ±‡ç¼–çš„åŒºåˆ«åˆ™ä¸å¤§)  ","id":12,"section":"posts","summary":"æ±‡ç¼–è¯­è¨€å’ŒCPUæ¯æ¯ç›¸å…³ï¼Œä½†æ˜¯ä¸èƒ½æŠŠæ±‡ç¼–è¯­è¨€å®Œå…¨ç­‰åŒäºCPUçš„æœºå™¨æŒ‡ä»¤ã€‚ä¸åŒæ¶æ„çš„CPUæŒ‡ä»¤å¹¶ä¸ç›¸åŒï¼Œå¦‚x86ï¼Œpowerpcï¼Œarmå„æœ‰å„","tags":["æ±‡ç¼–"],"title":"æ±‡ç¼–è¯­è¨€ç§ç±»","uri":"https://rx-78-kum0.github.io/2020/05/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A7%8D%E7%B1%BB/","year":"2020"},{"content":"docker-compose é…ç½® version: '3' services: # mysql blog_mysql: image: mysql restart: always ports: - '3306:3306' environment: - MYSQL_ROOT_PASSWORD=xxxx volumes: - '/data/mysql:/var/lib/mysql'  docker å®‰è£…å®Œmysql åå®¢æˆ·ç«¯æ— æ³•è®¿é—® è¿›å…¥é•œåƒä¸­çš„mysql docker exec -it container_id /bin/bash  ç™»å½•mysql mysql -u root -p  ä¿®æ”¹rootè´¦å·, å¯ä»¥é€šè¿‡ä»»ä½•å®¢æˆ·ç«¯è¿æ¥ ALTER USER 'root'@'%' IDENTIFIED WITH mysql_native_password BY 'xxxxx';  ","id":13,"section":"posts","summary":"docker-compose é…ç½® version: '3' services: # mysql blog_mysql: image: mysql restart: always ports: - '3306:3306' environment: - MYSQL_ROOT_PASSWORD=xxxx volumes: - '/data/mysql:/var/lib/mysql' docker å®‰è£…å®Œmysql åå®¢æˆ·ç«¯æ— æ³•è®¿é—® è¿›å…¥é•œåƒä¸­çš„mysql docker exec -it container_id /bin/bash ç™»å½•mysql mysql -u root -p ä¿®æ”¹ro","tags":["mysql","docker"],"title":"dockeréƒ¨ç½²mysqlé—®é¢˜æ±‡æ€»","uri":"https://rx-78-kum0.github.io/2020/05/docker%E9%83%A8%E7%BD%B2mysql%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/","year":"2020"},{"content":".flex { flex-shrink: 0; }  ","id":14,"section":"posts","summary":".flex { flex-shrink: 0; }","tags":["css"],"title":"flexå®½åº¦å¤±æ•ˆ","uri":"https://rx-78-kum0.github.io/2020/04/flex%E5%AE%BD%E5%BA%A6%E5%A4%B1%E6%95%88/","year":"2020"},{"content":"context.drawImage(img,sx,sy,swidth,sheight,x,y,width,height);   img è§„å®šè¦ä½¿ç”¨çš„å›¾åƒ, ç”»å¸ƒæˆ–è§†é¢‘. sx å¯é€‰. å¼€å§‹å‰ªåˆ‡çš„ x åæ ‡ä½ç½®. sy å¯é€‰. å¼€å§‹å‰ªåˆ‡çš„ y åæ ‡ä½ç½®. swidth å¯é€‰. è¢«å‰ªåˆ‡å›¾åƒçš„å®½åº¦. sheight å¯é€‰. è¢«å‰ªåˆ‡å›¾åƒçš„é«˜åº¦. x åœ¨ç”»å¸ƒä¸Šæ”¾ç½®å›¾åƒçš„ x åæ ‡ä½ç½®. y åœ¨ç”»å¸ƒä¸Šæ”¾ç½®å›¾åƒçš„ y åæ ‡ä½ç½®. width å¯é€‰. è¦ä½¿ç”¨çš„å›¾åƒçš„å®½åº¦.(ä¼¸å±•æˆ–ç¼©å°å›¾åƒ) height å¯é€‰. è¦ä½¿ç”¨çš„å›¾åƒçš„é«˜åº¦.(ä¼¸å±•æˆ–ç¼©å°å›¾åƒ)  ","id":15,"section":"posts","summary":"context.drawImage(img,sx,sy,swidth,sheight,x,y,width,height); img è§„å®šè¦ä½¿ç”¨çš„å›¾åƒ, ç”»å¸ƒæˆ–è§†é¢‘. sx å¯é€‰. å¼€å§‹å‰ªåˆ‡çš„ x åæ ‡ä½ç½®. sy å¯é€‰. å¼€å§‹å‰ªåˆ‡çš„ y åæ ‡ä½ç½®. swidth å¯é€‰. è¢«å‰ªåˆ‡å›¾åƒçš„å®½åº¦. sheight å¯é€‰. è¢«å‰ªåˆ‡å›¾åƒçš„","tags":["web"],"title":"canvas-drawImage","uri":"https://rx-78-kum0.github.io/2020/03/canvas-drawimage/","year":"2020"},{"content":"#!/usr/bin/env bash # Print nyan cat # https://github.com/steckel/Git-Nyan-Graph/blob/master/nyan.sh # If you want big animated version: `telnet miku.acm.uiuc.edu` e='\\033' RESET=\u0026quot;$e[0m\u0026quot; BOLD=\u0026quot;$e[1m\u0026quot; CYAN=\u0026quot;$e[0;96m\u0026quot; RED=\u0026quot;$e[0;91m\u0026quot; YELLOW=\u0026quot;$e[0;93m\u0026quot; GREEN=\u0026quot;$e[0;92m\u0026quot; echo if [ $[$RANDOM%2] -eq \u0026quot;0\u0026quot; ]; then echo -en $RED'`Â·.,Â¸,.Â·*Â·.' echo -e $RESET$BOLD'â•­â”â”â”â”â•®'$RESET echo -en $YELLOW'`Â·.,Â¸,.Â·*Â·.' echo -e $RESET$BOLD'|::: /\\_/\\\\'$RESET echo -en $GREEN'`Â·.,Â¸,.Â·*Â·.' echo -e $RESET$BOLD'|:::( â—•á´¥â—•)'$RESET echo -en $CYAN'`Â·.,Â¸,.Â·*Â·.' echo -e $RESET$BOLD'u-uâ”â”-u--u'$RESET else echo -en $RED'-_-_-_-_-_-_-_' echo -e $RESET$BOLD',------,'$RESET echo -en $YELLOW'_-_-_-_-_-_-_-' echo -e $RESET$BOLD'| /\\_/\\\\'$RESET echo -en $GREEN'-_-_-_-_-_-_-' echo -e $RESET$BOLD'~|__( ^ .^)'$RESET echo -en $CYAN'-_-_-_-_-_-_-' echo -e $RESET$BOLD'\u0026quot;\u0026quot; \u0026quot;\u0026quot;'$RESET fi echo    ","id":16,"section":"posts","summary":"#!/usr/bin/env bash # Print nyan cat # https://github.com/steckel/Git-Nyan-Graph/blob/master/nyan.sh # If you want big animated version: `telnet miku.acm.uiuc.edu` e='\\033' RESET=\u0026quot;$e[0m\u0026quot; BOLD=\u0026quot;$e[1m\u0026quot; CYAN=\u0026quot;$e[0;96m\u0026quot; RED=\u0026quot;$e[0;91m\u0026quot; YELLOW=\u0026quot;$e[0;93m\u0026quot; GREEN=\u0026quot;$e[0;92m\u0026quot; echo if [ $[$RANDOM%2] -eq \u0026quot;0\u0026quot; ]; then echo -en $RED'`Â·.,Â¸,.Â·*Â·.' echo -e $RESET$BOLD'â•­â”â”â”â”â•®'$RESET echo -en $YELLOW'`Â·.,Â¸,.Â·*Â·.' echo -e $RESET$BOLD'|::: /\\_/\\\\'$RESET echo -en $GREEN'`Â·.,Â¸,.Â·*Â·.' echo -e $RESET$BOLD'|:::( â—•á´¥â—•)'$RESET echo -en $CYAN'`Â·.,Â¸,.Â·*Â·.' echo -e $RESET$BOLD'u-uâ”â”-u--u'$RESET else echo -en $RED'-_-_-_-_-_-_-_' echo -e $RESET$BOLD',------,'$RESET echo -en $YELLOW'_-_-_-_-_-_-_-' echo -e $RESET$BOLD'| /\\_/\\\\'$RESET echo -en $GREEN'-_-_-_-_-_-_-' echo -e $RESET$BOLD'~|__( ^ .","tags":["shell"],"title":"nyan","uri":"https://rx-78-kum0.github.io/2020/03/nyan/","year":"2020"},{"content":"// js è¡¨æƒ…emojiè½¬ç  // å‘é€è¯·æ±‚æ—¶å°†uft16è½¬ä¸ºutf-8 function utf16toEntities(str) { var patt = /[\\ud800-\\udbff][\\udc00-\\udfff]/g; // æ£€æµ‹utf16å­—ç¬¦æ­£åˆ™ return str.replace(patt, function(char) { var H, L, code; if (char.length === 2) { H = char.charCodeAt(0); // å–å‡ºé«˜ä½ L = char.charCodeAt(1); // å–å‡ºä½ä½ code = (H - 0xd800) * 0x400 + 0x10000 + L - 0xdc00; // è½¬æ¢ç®—æ³• return '\u0026amp;#' + code + ';'; } else { return char; } }); } // æ”¶åˆ°åç«¯çš„æ•°æ®æ—¶å±•ç¤ºemoji function entitiesToUtf16(str) { return str.replace(/\u0026amp;#(\\d+);/g, function(match, dec) { let H = Math.floor((dec - 0x10000) / 0x400) + 0xd800; let L = (Math.floor(dec - 0x10000) % 0x400) + 0xdc00; return String.fromCharCode(H, L); }); }  ","id":17,"section":"posts","summary":"// js è¡¨æƒ…emojiè½¬ç  // å‘é€è¯·æ±‚æ—¶å°†uft16è½¬ä¸ºutf-8 function utf16toEntities(str) { var patt = /[\\ud800-\\udbff][\\udc00-\\udfff]/g; // æ£€æµ‹utf16å­—ç¬¦æ­£åˆ™ return str.replace(patt, function(char) { var H, L, code; if (char.length === 2) { H = char.charCodeAt(0); // å–å‡ºé«˜ä½","tags":["web"],"title":"æµè§ˆå™¨æ˜¾ç¤ºemoji","uri":"https://rx-78-kum0.github.io/2020/03/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%98%BE%E7%A4%BAemoji/","year":"2020"},{"content":"Go è¯­è¨€ä¸é¸­å­ç±»å‹çš„å…³ç³»  If it looks like a duck, swims like a duck, and quacks like a duck, then it probably is a duck.\nå¦‚æœæŸä¸ªä¸œè¥¿é•¿å¾—åƒé¸­å­, åƒé¸­å­ä¸€æ ·æ¸¸æ³³, åƒé¸­å­ä¸€æ ·å˜å˜å«, é‚£å®ƒå°±å¯ä»¥è¢«çœ‹æˆæ˜¯ä¸€åªé¸­å­.\nåœ¨ Go è¯­è¨€ä¸­, å¦‚æœç±»å‹çš„æ–¹æ³•é›†å®Œå…¨åŒ…å«æ¥å£çš„æ–¹æ³•é›†ï¼Œåˆ™å¯è®¤ä¸ºè¯¥ç±»å‹å®ç°äº†è¯¥æ¥å£.\n é¸­å­ç±»å‹æ˜¯ä¸€ç§åŠ¨æ€è¯­è¨€çš„é£æ ¼, åœ¨è¿™ç§é£æ ¼ä¸­, ä¸€ä¸ªå¯¹è±¡æœ‰æ•ˆçš„è¯­ä¹‰, ä¸æ˜¯ç”±ç»§æ‰¿è‡ªç‰¹å®šçš„ç±»æˆ–å®ç°ç‰¹å®šçš„æ¥å£, è€Œæ˜¯ç”±å®ƒ\u0026quot;å½“å‰æ–¹æ³•å’Œå±æ€§çš„é›†åˆ\u0026quot;å†³å®š. Go ä½œä¸ºä¸€ç§é™æ€è¯­è¨€, é€šè¿‡æ¥å£å®ç°äº† é¸­å­ç±»å‹, å®é™…ä¸Šæ˜¯ Go çš„ç¼–è¯‘å™¨åœ¨å…¶ä¸­ä½œäº†éšåŒ¿çš„è½¬æ¢å·¥ä½œ.\nå€¼æ¥æ”¶è€…å’ŒæŒ‡é’ˆæ¥æ”¶è€…çš„åŒºåˆ« package main import \u0026quot;fmt\u0026quot; type Person struct { age int } func (p Person) howOld() int { return p.age } func (p *Person) growUp() { p.age += 1 } func main() { // qcrao æ˜¯å€¼ç±»å‹ qcrao := Person{age: 18} // å€¼ç±»å‹ è°ƒç”¨æ¥æ”¶è€…ä¹Ÿæ˜¯å€¼ç±»å‹çš„æ–¹æ³• fmt.Println(qcrao.howOld()) // å€¼ç±»å‹ è°ƒç”¨æ¥æ”¶è€…æ˜¯æŒ‡é’ˆç±»å‹çš„æ–¹æ³• qcrao.growUp() fmt.Println(qcrao.howOld()) // ---------------------- // stefno æ˜¯æŒ‡é’ˆç±»å‹ stefno := \u0026amp;Person{age: 100} // æŒ‡é’ˆç±»å‹ è°ƒç”¨æ¥æ”¶è€…æ˜¯å€¼ç±»å‹çš„æ–¹æ³• fmt.Println(stefno.howOld()) // æŒ‡é’ˆç±»å‹ è°ƒç”¨æ¥æ”¶è€…ä¹Ÿæ˜¯æŒ‡é’ˆç±»å‹çš„æ–¹æ³• stefno.growUp() fmt.Println(stefno.howOld()) }     - å€¼æ¥æ”¶è€… æŒ‡é’ˆæ¥æ”¶è€…     å€¼ç±»å‹è°ƒç”¨è€… æ–¹æ³•ä¼šä½¿ç”¨è°ƒç”¨è€…çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œç±»ä¼¼äº\u0026quot;ä¼ å€¼\u0026rdquo; ä½¿ç”¨å€¼çš„å¼•ç”¨æ¥è°ƒç”¨æ–¹æ³•, ä¸Šä¾‹ä¸­ qcrao.growUp() å®é™…ä¸Šæ˜¯ (\u0026amp;qcrao).growUp()   æŒ‡é’ˆç±»å‹è°ƒç”¨è€… æŒ‡é’ˆè¢«è§£å¼•ç”¨ä¸ºå€¼, ä¸Šä¾‹ä¸­, stefno.howOld() å®é™…ä¸Šæ˜¯ (*stefno).howOld() å®é™…ä¸Šä¹Ÿæ˜¯\u0026quot;ä¼ å€¼\u0026rdquo;, æ–¹æ³•é‡Œçš„æ“ä½œä¼šå½±å“åˆ°è°ƒç”¨è€…, ç±»ä¼¼äºæŒ‡é’ˆä¼ å‚, æ‹·è´äº†ä¸€ä»½æŒ‡é’ˆ    åŒºåˆ« å¦‚æœæ–¹æ³•çš„æ¥æ”¶è€…æ˜¯å€¼ç±»å‹, æ— è®ºè°ƒç”¨è€…æ˜¯å¯¹è±¡è¿˜æ˜¯å¯¹è±¡æŒ‡é’ˆ, ä¿®æ”¹çš„éƒ½æ˜¯å¯¹è±¡çš„å‰¯æœ¬, ä¸å½±å“è°ƒç”¨è€…; å¦‚æœæ–¹æ³•çš„æ¥æ”¶è€…æ˜¯æŒ‡é’ˆç±»å‹, åˆ™è°ƒç”¨è€…ä¿®æ”¹çš„æ˜¯æŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡æœ¬èº«.\nä½¿ç”¨å€¼æ¥æ”¶è€…è¿˜æ˜¯æŒ‡é’ˆæ¥æ”¶è€…, ä¸æ˜¯ç”±è¯¥æ–¹æ³•æ˜¯å¦ä¿®æ”¹äº†è°ƒç”¨è€… (ä¹Ÿå°±æ˜¯æ¥æ”¶è€…) æ¥å†³å®š, è€Œæ˜¯åº”è¯¥åŸºäºè¯¥ç±»å‹çš„æœ¬è´¨.\n å¦‚æœç±»å‹å…·å¤‡\u0026quot;åŸå§‹çš„æœ¬è´¨\u0026rdquo;, ä¹Ÿå°±æ˜¯è¯´å®ƒçš„æˆå‘˜éƒ½æ˜¯ç”± Go è¯­è¨€é‡Œå†…ç½®çš„åŸå§‹ç±»å‹, å¦‚å­—ç¬¦ä¸², æ•´å‹å€¼ç­‰, é‚£å°±å®šä¹‰å€¼æ¥æ”¶è€…ç±»å‹çš„æ–¹æ³•. åƒå†…ç½®çš„å¼•ç”¨ç±»å‹, å¦‚ slice, map, interface, channel, è¿™äº›ç±»å‹æ¯”è¾ƒç‰¹æ®Š, å£°æ˜ä»–ä»¬çš„æ—¶å€™, å®é™…ä¸Šæ˜¯åˆ›å»ºäº†ä¸€ä¸ª header, å¯¹äºä»–ä»¬ä¹Ÿæ˜¯ç›´æ¥å®šä¹‰å€¼æ¥æ”¶è€…ç±»å‹çš„æ–¹æ³•. è¿™æ ·, è°ƒç”¨å‡½æ•°æ—¶, æ˜¯ç›´æ¥ copy äº†è¿™äº›ç±»å‹çš„ header, è€Œ header æœ¬èº«å°±æ˜¯ä¸ºå¤åˆ¶è®¾è®¡çš„. å¦‚æœç±»å‹å…·å¤‡éåŸå§‹çš„æœ¬è´¨, ä¸èƒ½è¢«å®‰å…¨åœ°å¤åˆ¶, è¿™ç§ç±»å‹æ€»æ˜¯åº”è¯¥è¢«å…±äº«, é‚£å°±å®šä¹‰æŒ‡é’ˆæ¥æ”¶è€…çš„æ–¹æ³•. æ¯”å¦‚ go æºç é‡Œçš„æ–‡ä»¶ç»“æ„ä½“ (struct File) å°±ä¸åº”è¯¥è¢«å¤åˆ¶, åº”è¯¥åªæœ‰ä¸€ä»½å®ä½“.  iface å’Œ eface çš„åŒºåˆ« iface å’Œ eface éƒ½æ˜¯ Go ä¸­æè¿°æ¥å£çš„åº•å±‚ç»“æ„ä½“, åŒºåˆ«åœ¨äº iface æè¿°çš„æ¥å£åŒ…å«æ–¹æ³•, è€Œ eface åˆ™æ˜¯ä¸åŒ…å«ä»»ä½•æ–¹æ³•çš„ç©ºæ¥å£: interface{}.\niface import \u0026quot;unsafe\u0026quot; type iface struct { tab *itab // æ¥å£ç±»å‹ä»¥åŠå®é™…ç±»å‹ data unsafe.Pointer // æ¥å£å…·ä½“çš„å€¼, ä¸€èˆ¬è€Œè¨€æ˜¯ä¸€ä¸ªæŒ‡å‘å †å†…å­˜çš„æŒ‡é’ˆ } type itab struct { inter *interfacetype _type *_type hash uint32 // copy of _type.hash. Used for type switches. _ [4]byte fun [1]uintptr // variable sized. å­˜å‚¨çš„æ˜¯ç¬¬ä¸€ä¸ªæ–¹æ³•çš„å‡½æ•°æŒ‡é’ˆï¼Œå¦‚æœæœ‰æ›´å¤šçš„æ–¹æ³•ï¼Œåœ¨å®ƒä¹‹åçš„å†…å­˜ç©ºé—´é‡Œç»§ç»­å­˜å‚¨. } type interfacetype struct { typ _type pkgpath name mhdr []imethod } type _type struct { // ç±»å‹å¤§å° size uintptr ptrdata uintptr // ç±»å‹çš„ hash å€¼ hash uint32 // ç±»å‹çš„ flagï¼Œå’Œåå°„ç›¸å…³ tflag tflag // å†…å­˜å¯¹é½ç›¸å…³ align uint8 fieldalign uint8 // ç±»å‹çš„ç¼–å·ï¼Œæœ‰bool, slice, struct ç­‰ç­‰ç­‰ç­‰ kind uint8 equal func(unsafe.Pointer, unsafe.Pointer) bool // gc ç›¸å…³ gcdata *byte str nameOff ptrToThis typeOff }    eface type eface struct { _type *_type data unsafe.Pointer }  _type _type æ˜¯æè¿° Go è¯­è¨€ä¸­å„ç§æ•°æ®ç±»å‹çš„ç»“æ„ä½“\ntype _type struct { // ç±»å‹å¤§å° size uintptr ptrdata uintptr // ç±»å‹çš„ hash å€¼ hash uint32 // ç±»å‹çš„ flagï¼Œå’Œåå°„ç›¸å…³ tflag tflag // å†…å­˜å¯¹é½ç›¸å…³ align uint8 fieldalign uint8 // ç±»å‹çš„ç¼–å·ï¼Œæœ‰bool, slice, struct ç­‰ç­‰ç­‰ç­‰ kind uint8 equal func(unsafe.Pointer, unsafe.Pointer) bool // gc ç›¸å…³ gcdata *byte str nameOff ptrToThis typeOff }  Go è¯­è¨€å„ç§æ•°æ®ç±»å‹éƒ½æ˜¯åœ¨ _type å­—æ®µçš„åŸºç¡€ä¸Š, å¢åŠ ä¸€äº›é¢å¤–çš„å­—æ®µæ¥è¿›è¡Œç®¡ç†çš„:\ntype arraytype struct { typ _type elem *_type slice *_type len uintptr } type chantype struct { typ _type elem *_type dir uintptr } type slicetype struct { typ _type elem *_type } type functype struct { typ _type inCount uint16 outCount uint16 } type ptrtype struct { typ _type elem *_type } type structfield struct { name name typ *_type offsetAnon uintptr }  è¿™äº›æ•°æ®ç±»å‹çš„ç»“æ„ä½“å®šä¹‰, æ˜¯åå°„å®ç°çš„åŸºç¡€.\næ¥å£çš„åŠ¨æ€ç±»å‹å’ŒåŠ¨æ€å€¼ import \u0026quot;unsafe\u0026quot; type iface struct { tab *itab // æ¥å£ç±»å‹ä»¥åŠå®é™…ç±»å‹ data unsafe.Pointer // æ¥å£å…·ä½“çš„å€¼, ä¸€èˆ¬è€Œè¨€æ˜¯ä¸€ä¸ªæŒ‡å‘å †å†…å­˜çš„æŒ‡é’ˆ }  iface ç±»å‹åŒ…å«ä¸¤ä¸ªå­—æ®µ:\n tab: æ˜¯æ¥å£è¡¨æŒ‡é’ˆï¼ŒæŒ‡å‘ç±»å‹ä¿¡æ¯ data: æ˜¯æ•°æ®æŒ‡é’ˆï¼Œåˆ™æŒ‡å‘å…·ä½“çš„æ•°æ®  æ¥å£ç±»å‹å’Œ nil ä½œæ¯”è¾ƒ æ¥å£å€¼çš„é›¶å€¼æ˜¯æŒ‡åŠ¨æ€ç±»å‹å’ŒåŠ¨æ€å€¼éƒ½ä¸º nil, è¿™ä¸ªæ¥å£æ‰èƒ½è¢«è®¤ä¸º æ¥å£å€¼ == nil.\n  package main import \u0026quot;fmt\u0026quot; func main() { var a interface{} fmt.Println(c == nil) // true var b *string fmt.Println(b == nil) // true a = b fmt.Println(a == nil) // false }  b èµ‹å€¼ç»™ a å, a çš„åŠ¨æ€ç±»å‹ä¸º *string , åŠ¨æ€å€¼ä¸º nil , æ‰€ä»¥ a == nil ä¸º false .\n  package main import \u0026quot;fmt\u0026quot; type MyError string func (i MyError) Error() string { return i } func main() { err := HandleError() fmt.Println(err == nil) // false } func HandleError() error { var err *MyError = nil return err }  è°ƒç”¨ HandleError è¿”å› error æ¥å£ç±»å‹, åŠ¨æ€ç±»å‹ä¸º *MyError , åŠ¨æ€å€¼ä¸º nil .\n  æ‰“å°æ¥å£çš„åŠ¨æ€å€¼å’Œç±»å‹ package main import ( \u0026quot;unsafe\u0026quot; \u0026quot;fmt\u0026quot; ) type iface struct { itab, data uintptr } func main() { var a interface{} = nil var b interface{} = (*int)(nil) x := 5 var c interface{} = (*int)(\u0026amp;x) ia := *(*iface)(unsafe.Pointer(\u0026amp;a)) ib := *(*iface)(unsafe.Pointer(\u0026amp;b)) ic := *(*iface)(unsafe.Pointer(\u0026amp;c)) fmt.Println(ia) // {0 0} fmt.Println(ib) // {17426912 0} fmt.Println(ic) // {17426912 842350714568} fmt.Println(*(*int)(unsafe.Pointer(ic.data))) // 5 }   a çš„åŠ¨æ€ç±»å‹å’ŒåŠ¨æ€å€¼çš„åœ°å€å‡ä¸º 0, ä¹Ÿå°±æ˜¯ nil; b çš„åŠ¨æ€ç±»å‹å’Œ c çš„åŠ¨æ€ç±»å‹ä¸€è‡´, éƒ½æ˜¯ *int; c çš„åŠ¨æ€å€¼ä¸º 5.  ç¼–è¯‘å™¨è‡ªåŠ¨æ£€æµ‹ç±»å‹æ˜¯å¦å®ç°æ¥å£ var _ io.Writer = (*myWriter)(nil)  ç¼–è¯‘å™¨ä¼šç”±æ­¤æ£€æŸ¥ *myWriter ç±»å‹æ˜¯å¦å®ç°äº† io.Writer æ¥å£.\npackage main import \u0026quot;io\u0026quot; type myWriter string func (w *myWriter) Write(p []byte) (n int, err error) { return } func main() { // æ£€æŸ¥ *myWriter ç±»å‹æ˜¯å¦å®ç°äº† io.Writer æ¥å£ var _ io.Writer = (*myWriter)(nil) // æ£€æŸ¥ myWriter ç±»å‹æ˜¯å¦å®ç°äº† io.Writer æ¥å£ var _ io.Writer = myWriter{} }  src/main.go:15:6: cannot use myWriter literal (type myWriter) as type io.Writer in assignment: myWriter does not implement io.Writer (missing Write method)  myWriter æ²¡ç”¨å®ç° io.Writer\næ¥å£ç±»å‹çš„èµ‹å€¼ (æ„é€ ) å’Œæ–­è¨€ èµ‹å€¼ é’ˆå¯¹ä¸åŒç±»å‹æœ‰ä»¥ä¸‹å‡½æ•°:\n convT2E16, convT2I16 convT2E32, convT2I32 convT2E64, convT2I64 convT2Estring, convT2Istring convT2Eslice, convT2Islice convT2Enoptr, convT2Inoptr\n func convT2I(tab *itab, elem unsafe.Pointer) (i iface) { t := tab._type if raceenabled { raceReadObjectPC(t, elem, getcallerpc(), funcPC(convT2I)) } if msanenabled { msanread(elem, t.size) } x := mallocgc(t.size, t, true) typedmemmove(t, x, elem) i.tab = tab i.data = x return }  æŠŠ tab èµ‹ç»™äº† iface çš„ tab å­—æ®µ; data éƒ¨åˆ†åˆ™æ˜¯åœ¨å †ä¸Šç”³è¯·äº†ä¸€å—å†…å­˜, ç„¶åå°† elem æŒ‡å‘çš„æ•°æ®æ‹·è´è¿‡å».\næ–­è¨€ func assertI2I(inter *interfacetype, i iface) (r iface) { tab := i.tab if tab == nil { // explicit conversions require non-nil interface value. panic(\u0026amp;TypeAssertionError{nil, nil, \u0026amp;inter.typ, \u0026quot;\u0026quot;}) } if tab.inter == inter { r.tab = tab r.data = i.data return } r.tab = getitab(inter, tab._type, false) r.data = i.data return } func assertI2I2(inter *interfacetype, i iface) (r iface, b bool) { tab := i.tab if tab == nil { return } if tab.inter != inter { tab = getitab(inter, tab._type, true) if tab == nil { return } } r.tab = tab r.data = i.data b = true return } func assertE2I(inter *interfacetype, e eface) (r iface) { t := e._type if t == nil { // explicit conversions require non-nil interface value. panic(\u0026amp;TypeAssertionError{nil, nil, \u0026amp;inter.typ, \u0026quot;\u0026quot;}) } r.tab = getitab(inter, t, false) r.data = e.data return } func assertE2I2(inter *interfacetype, e eface) (r iface, b bool) { t := e._type if t == nil { return } tab := getitab(inter, t, true) if tab == nil { return } r.tab = tab r.data = e.data b = true return }  åˆ¤æ–­éœ€æ–­è¨€çš„å˜é‡ (iface) æ˜¯å¦æ»¡è¶³æ¥å£ç±»å‹ (interfacetype).\nassertI2I å¯¹åº” æ¥å£æ–­è¨€è¿”å›ä¸€ä¸ªå‚æ•°:\npackage main import ( \u0026quot;errors\u0026quot; \u0026quot;fmt\u0026quot; ) func main(args) { var a interface{} = errors.New(\u0026quot;error\u0026quot;) err := a.(error) fmt.Println(err.Error()) }  assertI2I2 åˆ™å¯¹åº”è¿”å›ä¸¤ä¸ªå‚æ•°çš„æƒ…å†µ:\npackage main import ( \u0026quot;errors\u0026quot; \u0026quot;fmt\u0026quot; ) func main(args) { var a interface{} = errors.New(\u0026quot;error\u0026quot;) if err, ok := a.(error); ok { fmt.Println(err.Error()) } }  éƒ½åœ¨ç¼–è¯‘é˜¶æ®µç¼–è¯‘å™¨åˆ¤æ–­.\næ‰“å°æ¥å£ç±»å‹çš„hashå€¼ package main import ( \u0026quot;fmt\u0026quot; \u0026quot;unsafe\u0026quot; ) type iface struct { tab *itab data unsafe.Pointer } type itab struct { inter uintptr _type uintptr hash uint32 _ [4]byte fun [1]uintptr } func main() { p := Person(Student{age: 18}) iface := (*iface)(unsafe.Pointer(\u0026amp;p)) fmt.Printf(\u0026quot;iface.tab.hash = %#x\\n\u0026quot;, iface.tab.hash) // iface.tab.hash = 0xd4209fda }  ç±»å‹è½¬æ¢å’Œæ–­è¨€çš„åŒºåˆ« ç±»å‹è½¬æ¢ Go è¯­è¨€ä¸­ä¸å…è®¸éšå¼ç±»å‹è½¬æ¢, ä¹Ÿå°±æ˜¯è¯´ = ä¸¤è¾¹, ä¸å…è®¸å‡ºç°ç±»å‹ä¸ç›¸åŒçš„å˜é‡. ç±»å‹è½¬æ¢å‰åçš„ä¸¤ä¸ªç±»å‹å¿…é¡»ç›¸äº’å…¼å®¹.\n \u0026lt;ç»“æœç±»å‹\u0026gt; := \u0026lt;ç›®æ ‡ç±»å‹\u0026gt; ( \u0026lt;è¡¨è¾¾å¼\u0026gt; )\n package main import \u0026quot;fmt\u0026quot; func main() { var i int = 9 var f float64 f = float64(i) fmt.Printf(\u0026quot;%T, %v\\n\u0026quot;, f, f) f = 10.8 a := int(f) fmt.Printf(\u0026quot;%T, %v\\n\u0026quot;, a, a) // s := []int(i) }  æ–­è¨€ ç©ºæ¥å£ interface{} æ²¡æœ‰å®šä¹‰ä»»ä½•å‡½æ•°, å› æ­¤ Go ä¸­æ‰€æœ‰ç±»å‹éƒ½å®ç°äº†ç©ºæ¥å£. å½“ä¸€ä¸ªå‡½æ•°çš„å½¢å‚æ˜¯ interface{}, é‚£ä¹ˆåœ¨å‡½æ•°ä¸­, éœ€è¦å¯¹å½¢å‚è¿›è¡Œæ–­è¨€, ä»è€Œå¾—åˆ°å®ƒçš„çœŸå®ç±»å‹.\n \u0026lt;ç›®æ ‡ç±»å‹çš„å€¼\u0026gt;ï¼Œ\u0026lt;å¸ƒå°”å‚æ•°\u0026gt; := \u0026lt;è¡¨è¾¾å¼\u0026gt;.( ç›®æ ‡ç±»å‹ ) // å®‰å…¨ç±»å‹æ–­è¨€ \u0026lt;ç›®æ ‡ç±»å‹çš„å€¼\u0026gt; := \u0026lt;è¡¨è¾¾å¼\u0026gt;.( ç›®æ ‡ç±»å‹ )ã€€//éå®‰å…¨ç±»å‹æ–­è¨€\n package main import \u0026quot;fmt\u0026quot; type Student struct { Name string Age int } func main() { var i interface{} = new(Student) s := i.(*Student) fmt.Println(s) }  switch å½¢å¼æ–­è¨€\npackage main import \u0026quot;fmt\u0026quot; type Student struct { Name string Age int } func main() { var i interface{} judge(i) } func judge(v interface{}) { fmt.Printf(\u0026quot;%p %v\\n\u0026quot;, \u0026amp;v, v) switch v := v.(type) { case nil: fmt.Printf(\u0026quot;%p %v\\n\u0026quot;, \u0026amp;v, v) fmt.Printf(\u0026quot;nil type[%T] %v\\n\u0026quot;, v, v) case Student: fmt.Printf(\u0026quot;%p %v\\n\u0026quot;, \u0026amp;v, v) fmt.Printf(\u0026quot;Student type[%T] %v\\n\u0026quot;, v, v) case *Student: fmt.Printf(\u0026quot;%p %v\\n\u0026quot;, \u0026amp;v, v) fmt.Printf(\u0026quot;*Student type[%T] %v\\n\u0026quot;, v, v) default: fmt.Printf(\u0026quot;%p %v\\n\u0026quot;, \u0026amp;v, v) fmt.Printf(\u0026quot;unknow\\n\u0026quot;) } }  fmt.Println å‡½æ•° fmt.Println å‡½æ•°çš„å‚æ•°æ˜¯ interface{}. å¯¹äºå†…ç½®ç±»å‹, å‡½æ•°å†…éƒ¨ä¼šç”¨ç©·ä¸¾æ³•, å¾—å‡ºå®ƒçš„çœŸå®ç±»å‹, ç„¶åè½¬æ¢ä¸ºå­—ç¬¦ä¸²æ‰“å°. è€Œå¯¹äºè‡ªå®šä¹‰ç±»å‹, é¦–å…ˆç¡®å®šè¯¥ç±»å‹æ˜¯å¦å®ç°äº† String() æ–¹æ³•. å¦‚æœå®ç°äº†, åˆ™ç›´æ¥æ‰“å°è¾“å‡º String() æ–¹æ³•çš„ç»“æœ; å¦åˆ™, ä¼šé€šè¿‡åå°„æ¥éå†å¯¹è±¡çš„æˆå‘˜è¿›è¡Œæ‰“å°.\nå› ä¸º Student ç»“æ„ä½“æ²¡æœ‰å®ç° String() æ–¹æ³•, æ‰€ä»¥ fmt.Println ä¼šåˆ©ç”¨åå°„æŒ¨ä¸ªæ‰“å°æˆå‘˜å˜é‡:\npackage main import \u0026quot;fmt\u0026quot; type Student struct { Name string Age int } func main() { s := Student{ Name: \u0026quot;zzz\u0026quot;, Age: 18, } fmt.Println(s) // {zzz 18} }  å¢åŠ ä¸€ä¸ª String() æ–¹æ³•çš„å®ç°:\nimport \u0026quot;fmt\u0026quot; func (s Student) String() string { return fmt.Sprintf(\u0026quot;[Name: %s], [Age: %d]\u0026quot;, s.Name, s.Age) // [Name: zzz], [Age: 18] }  ä¿®æ”¹ String() æ–¹æ³•:\nimport \u0026quot;fmt\u0026quot; func (s *Student) String() string { return fmt.Sprintf(\u0026quot;[Name: %s], [Age: %d]\u0026quot;, s.Name, s.Age) // {zzz 18} }  æ‰“å°ç»“æœå¹¶æ²¡ç”¨è°ƒç”¨ String() ,å› ä¸º:\n ç±»å‹ T åªæœ‰æ¥å—è€…æ˜¯ T çš„æ–¹æ³•; è€Œç±»å‹ *T æ‹¥æœ‰æ¥å—è€…æ˜¯ T å’Œ *T çš„æ–¹æ³•. è¯­æ³•ä¸Š T èƒ½ç›´æ¥è°ƒ *T çš„æ–¹æ³•ä»…ä»…æ˜¯ Go çš„è¯­æ³•ç³–.\n è¦è°ƒç”¨ String() éœ€è¦:\nfmt.Println(\u0026amp;s)  æ¥å£è½¬æ¢çš„åŸç† ç±»å‹æœ‰ m ä¸ªæ–¹æ³•, æŸæ¥å£æœ‰ n ä¸ªæ–¹æ³•, åˆ™å¾ˆå®¹æ˜“çŸ¥é“è¿™ç§åˆ¤å®šçš„æ—¶é—´å¤æ‚åº¦ä¸º O(mn); Go ä¼šå¯¹æ–¹æ³•é›†çš„å‡½æ•°æŒ‰ç…§å‡½æ•°åçš„å­—å…¸åºè¿›è¡Œæ’åº, æ‰€ä»¥å®é™…çš„æ—¶é—´å¤æ‚åº¦ä¸º O(m+n).\npackage main import \u0026quot;fmt\u0026quot; type coder interface { code() run() } type runner interface { run() } type Gopher struct { language string } func (g Gopher) code() { return } func (g Gopher) run() { return } func main() { var c coder = Gopher{} var r runner r = c fmt.Println(c, r) }  Gopher ç±»å‹åŒæ—¶æ»¡è¶³ coder æ¥å£å’Œ runner æ¥å£.\nconvI2I å‡½æ•°å°†ä¸€ä¸ª interface è½¬æ¢æˆ å¦ä¸€ä¸ª interface .\nfunc convI2I(inter *interfacetype, i iface) (r iface) { tab := i.tab if tab == nil { return } if tab.inter == inter { r.tab = tab r.data = i.data return } r.tab = getitab(inter, tab._type, false) r.data = i.data return }  inter è¡¨ç¤ºè¦è½¬æˆçš„æ¥å£ç±»å‹, i è¡¨ç¤ºä¸€ä¸ªå®ä½“ç±»å‹. å¦‚æœè¦è½¬æ¢çš„æ¥å£ç±»å‹å’Œå®ä½“ç±»å‹çš„æ¥å£ç±»å‹ç›¸åŒå°±ç›´æ¥è¿”å›; å¦åˆ™å°±ç”¨è°ƒç”¨ getitab å‡½æ•°å»åŒ¹é…æ»¡è½¬æ–¹æ³•é›†çš„æ¥å£.\nimport \u0026quot;unsafe\u0026quot; func getitab(inter *interfacetype, typ *_type, canfail bool) *itab { if len(inter.mhdr) == 0 { throw(\u0026quot;internal error - misuse of itab\u0026quot;) } // easy case if typ.tflag\u0026amp;tflagUncommon == 0 { if canfail { return nil } name := inter.typ.nameOff(inter.mhdr[0].name) panic(\u0026amp;TypeAssertionError{nil, typ, \u0026amp;inter.typ, name.name()}) } var m *itab // First, look in the existing table to see if we can find the itab we need. // This is by far the most common case, so do it without locks. // Use atomic to ensure we see any previous writes done by the thread // that updates the itabTable field (with atomic.Storep in itabAdd). t := (*itabTableType)(atomic.Loadp(unsafe.Pointer(\u0026amp;itabTable))) if m = t.find(inter, typ); m != nil { goto finish } // Not found. Grab the lock and try again. lock(\u0026amp;itabLock) if m = itabTable.find(inter, typ); m != nil { unlock(\u0026amp;itabLock) goto finish } // Entry doesn't exist yet. Make a new entry \u0026amp; add it. m = (*itab)(persistentalloc(unsafe.Sizeof(itab{})+uintptr(len(inter.mhdr)-1)*sys.PtrSize, 0, \u0026amp;memstats.other_sys)) m.inter = inter m._type = typ // The hash is used in type switches. However, compiler statically generates itab's // for all interface/type pairs used in switches (which are added to itabTable // in itabsinit). The dynamically-generated itab's never participate in type switches, // and thus the hash is irrelevant. // Note: m.hash is _not_ the hash used for the runtime itabTable hash table. m.hash = 0 m.init() itabAdd(m) unlock(\u0026amp;itabLock) finish: if m.fun[0] != 0 { return m } if canfail { return nil } // this can only happen if the conversion // was already done once using the , ok form // and we have a cached negative result. // The cached result doesn't record which // interface function was missing, so initialize // the itab again to get the missing function name. panic(\u0026amp;TypeAssertionError{concrete: typ, asserted: \u0026amp;inter.typ, missingMethod: m.init()}) }  getitab å‡½æ•°ä¼šæ ¹æ® interfacetype å’Œ _type å»å…¨å±€çš„ itab å“ˆå¸Œè¡¨ä¸­æŸ¥æ‰¾, å¦‚æœèƒ½æ‰¾åˆ°, åˆ™ç›´æ¥è¿”å›; å¦åˆ™, ä¼šæ ¹æ®ç»™å®šçš„ interfacetype å’Œ _type æ–°ç”Ÿæˆä¸€ä¸ª itab, å¹¶æ’å…¥åˆ° itab å“ˆå¸Œè¡¨, è¿™æ ·ä¸‹ä¸€æ¬¡å°±å¯ä»¥ç›´æ¥æ‹¿åˆ° itab.\nè¿™é‡ŒæŸ¥æ‰¾äº†ä¸¤æ¬¡, å¹¶ä¸”ç¬¬äºŒæ¬¡ä¸Šé”äº†, è¿™æ˜¯å› ä¸ºå¦‚æœç¬¬ä¸€æ¬¡æ²¡æ‰¾åˆ°, åœ¨ç¬¬äºŒæ¬¡ä»ç„¶æ²¡æœ‰æ‰¾åˆ°ç›¸åº”çš„ itab çš„æƒ…å†µä¸‹, éœ€è¦æ–°ç”Ÿæˆä¸€ä¸ª, å¹¶ä¸”å†™å…¥å“ˆå¸Œè¡¨, å› æ­¤éœ€è¦åŠ é”. è¿™æ ·, å…¶ä»–åç¨‹åœ¨æŸ¥æ‰¾ç›¸åŒçš„ itab å¹¶ä¸”ä¹Ÿæ²¡æœ‰æ‰¾åˆ°æ—¶, ç¬¬äºŒæ¬¡æŸ¥æ‰¾æ—¶, ä¼šè¢«æŒ‚ä½, ä¹‹å, å°±ä¼šæŸ¥åˆ°ç¬¬ä¸€ä¸ªåç¨‹å†™å…¥å“ˆå¸Œè¡¨çš„ itab.\nitabAdd å‡½æ•°ä¼šæŠŠ itab å†™å…¥åˆ°å…¨å±€itabTable\nimport \u0026quot;unsafe\u0026quot; func itabAdd(m *itab) { // Bugs can lead to calling this while mallocing is set, // typically because this is called while panicing. // Crash reliably, rather than only when we need to grow // the hash table. if getg().m.mallocing != 0 { throw(\u0026quot;malloc deadlock\u0026quot;) } t := itabTable if t.count \u0026gt;= 3*(t.size/4) { // 75% load factor // Grow hash table. // t2 = new(itabTableType) + some additional entries // We lie and tell malloc we want pointer-free memory because // all the pointed-to values are not in the heap. t2 := (*itabTableType)(mallocgc((2+2*t.size)*sys.PtrSize, nil, true)) t2.size = t.size * 2 // Copy over entries. // Note: while copying, other threads may look for an itab and // fail to find it. That's ok, they will then try to get the itab lock // and as a consequence wait until this copying is complete. iterate_itabs(t2.add) if t2.count != t.count { throw(\u0026quot;mismatched count during itab table copy\u0026quot;) } // Publish new hash table. Use an atomic write: see comment in getitab. atomicstorep(unsafe.Pointer(\u0026amp;itabTable), unsafe.Pointer(t2)) // Adopt the new table as our own. t = itabTable // Note: the old table can be GC'ed here. } t.add(m) } func iterate_itabs(fn func(*itab)) { // Note: only runs during stop the world or with itabLock held, // so no other locks/atomics needed. t := itabTable for i := uintptr(0); i \u0026lt; t.size; i++ { m := *(**itab)(add(unsafe.Pointer(\u0026amp;t.entries), i*sys.PtrSize)) if m != nil { fn(m) } } }  å¦‚ä½•ç”¨ interface å®ç°å¤šæ€ å¤šæ€æ˜¯ä¸€ç§è¿è¡ŒæœŸçš„è¡Œä¸º, å®ƒæœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹:\n ä¸€ç§ç±»å‹å…·æœ‰å¤šç§ç±»å‹çš„èƒ½åŠ› å…è®¸ä¸åŒçš„å¯¹è±¡å¯¹åŒä¸€æ¶ˆæ¯åšå‡ºçµæ´»çš„ååº” ä»¥ä¸€ç§é€šç”¨çš„æ–¹å¼å¯¹å¾…ä¸ªä½¿ç”¨çš„å¯¹è±¡ éåŠ¨æ€è¯­è¨€å¿…é¡»é€šè¿‡ç»§æ‰¿å’Œæ¥å£çš„æ–¹å¼æ¥å®ç°   package main import \u0026quot;fmt\u0026quot; func main() { s := Student{age: 18} whatJob(\u0026amp;s) growUp(\u0026amp;s) fmt.Println(s) p := Programmer{age: 100} whatJob(p) growUp(p) fmt.Println(p) } func whatJob(p Person) { p.job() } func growUp(p Person) { p.growUp() } type Person interface { job() growUp() } type Student struct { age int } func (p Student) job() { fmt.Println(\u0026quot;I am a student.\u0026quot;) return } func (p *Student) growUp() { p.age += 1 return } type Programmer struct { age int } func (p Programmer) job() { fmt.Println(\u0026quot;I am a programmer.\u0026quot;) return } func (p Programmer) growUp() { p.age += 10 return }  Go æ¥å£ä¸ C++ æ¥å£æœ‰ä½•å¼‚åŒ æ¥å£å®šä¹‰äº†ä¸€ç§è§„èŒƒ, æè¿°äº†ç±»çš„è¡Œä¸ºå’ŒåŠŸèƒ½, è€Œä¸åšå…·ä½“å®ç°.\nC++ çš„æ¥å£æ˜¯ä½¿ç”¨æŠ½è±¡ç±»æ¥å®ç°çš„, å¦‚æœç±»ä¸­è‡³å°‘æœ‰ä¸€ä¸ªå‡½æ•°è¢«å£°æ˜ä¸ºçº¯è™šå‡½æ•°, åˆ™è¿™ä¸ªç±»å°±æ˜¯æŠ½è±¡ç±». çº¯è™šå‡½æ•°æ˜¯é€šè¿‡åœ¨å£°æ˜ä¸­ä½¿ç”¨ \u0026ldquo;= 0\u0026rdquo; æ¥æŒ‡å®šçš„. ä¾‹å¦‚:\nclass Shape { public: // çº¯è™šå‡½æ•° virtual double getArea() = 0; private: string name; // åç§° };   è®¾è®¡æŠ½è±¡ç±»çš„ç›®çš„, æ˜¯ä¸ºäº†ç»™å…¶ä»–ç±»æä¾›ä¸€ä¸ªå¯ä»¥ç»§æ‰¿çš„é€‚å½“çš„åŸºç±». æŠ½è±¡ç±»ä¸èƒ½è¢«ç”¨äºå®ä¾‹åŒ–å¯¹è±¡, å®ƒåªèƒ½ä½œä¸ºæ¥å£ä½¿ç”¨. æ´¾ç”Ÿç±»éœ€è¦æ˜ç¡®åœ°å£°æ˜å®ƒç»§æ‰¿è‡ªåŸºç±», å¹¶ä¸”éœ€è¦å®ç°åŸºç±»ä¸­æ‰€æœ‰çš„çº¯è™šå‡½æ•°.\nC++ å®šä¹‰æ¥å£çš„æ–¹å¼ç§°ä¸ºâ€œä¾µå…¥å¼â€, è€Œ Go é‡‡ç”¨çš„æ˜¯ â€œéä¾µå…¥å¼â€, ä¸éœ€è¦æ˜¾å¼å£°æ˜, åªéœ€è¦å®ç°æ¥å£å®šä¹‰çš„å‡½æ•°, ç¼–è¯‘å™¨è‡ªåŠ¨ä¼šè¯†åˆ«.\nC++ å’Œ Go åœ¨å®šä¹‰æ¥å£æ–¹å¼ä¸Šçš„ä¸åŒ, ä¹Ÿå¯¼è‡´äº†åº•å±‚å®ç°ä¸Šçš„ä¸åŒ. C++ é€šè¿‡è™šå‡½æ•°è¡¨æ¥å®ç°åŸºç±»è°ƒç”¨æ´¾ç”Ÿç±»çš„å‡½æ•°; è€Œ Go é€šè¿‡ itab ä¸­çš„ fun å­—æ®µæ¥å®ç°æ¥å£å˜é‡è°ƒç”¨å®ä½“ç±»å‹çš„å‡½æ•°. C++ ä¸­çš„è™šå‡½æ•°è¡¨æ˜¯åœ¨ç¼–è¯‘æœŸç”Ÿæˆçš„; è€Œ Go çš„ itab ä¸­çš„ fun å­—æ®µæ˜¯åœ¨è¿è¡ŒæœŸé—´åŠ¨æ€ç”Ÿæˆçš„. åŸå› åœ¨äº, Go ä¸­å®ä½“ç±»å‹å¯èƒ½ä¼šæ— æ„ä¸­å®ç° N å¤šæ¥å£, å¾ˆå¤šæ¥å£å¹¶ä¸æ˜¯æœ¬æ¥éœ€è¦çš„, æ‰€ä»¥ä¸èƒ½ä¸ºç±»å‹å®ç°çš„æ‰€æœ‰æ¥å£éƒ½ç”Ÿæˆä¸€ä¸ª itab, è¿™ä¹Ÿæ˜¯â€œéä¾µå…¥å¼â€å¸¦æ¥çš„å½±å“; è¿™åœ¨ C++ ä¸­æ˜¯ä¸å­˜åœ¨çš„, å› ä¸ºæ´¾ç”Ÿéœ€è¦æ˜¾ç¤ºå£°æ˜å®ƒç»§æ‰¿è‡ªå“ªä¸ªåŸºç±».\n ","id":18,"section":"posts","summary":"Go è¯­è¨€ä¸é¸­å­ç±»å‹çš„å…³ç³» If it looks like a duck, swims like a duck, and quacks like a duck, then it probably is a duck. å¦‚æœæŸä¸ªä¸œè¥¿é•¿å¾—åƒé¸­å­, åƒé¸­å­ä¸€æ ·æ¸¸æ³³, åƒé¸­å­ä¸€æ ·å˜å˜å«, é‚£å®ƒå°±å¯ä»¥è¢«çœ‹æˆæ˜¯","tags":["golang"],"title":"interfaceç±»å‹","uri":"https://rx-78-kum0.github.io/2020/03/interface%E7%B1%BB%E5%9E%8B/","year":"2020"},{"content":"// æ–‡å­—è¶…å‡ºçœç•¥å· .text-overflow { overflow: hidden; white-space: nowrap; text-overflow: ellipsis; } // æ–‡å­—è¶…å‡ºä¸¤è¡Œçœç•¥å·, blockå…ƒç´  .text-overflow-2 { word-break: break-all; overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 2; line-clamp: 2; -webkit-box-orient: vertical; }  ","id":19,"section":"posts","summary":"// æ–‡å­—è¶…å‡ºçœç•¥å· .text-overflow { overflow: hidden; white-space: nowrap; text-overflow: ellipsis; } // æ–‡å­—è¶…å‡ºä¸¤è¡Œçœç•¥å·, blockå…ƒç´  .text-overflow-2 { word-break: break-all; overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 2; line-clamp: 2; -webkit-box-orient: vertical; }","tags":["css"],"title":"æ–‡å­—è¶…å‡ºæ˜¾ç¤ºçœç•¥å·","uri":"https://rx-78-kum0.github.io/2020/03/%E6%96%87%E5%AD%97%E8%B6%85%E5%87%BA%E6%98%BE%E7%A4%BA%E7%9C%81%E7%95%A5%E5%8F%B7/","year":"2020"},{"content":"çº¿ç¨‹: æ‰§è¡ŒæŒ‡ä»¤åºåˆ— ä¿ç•™äº†å¹¶å‘çš„ä¼˜ç‚¹, é¿å…äº†è¿›ç¨‹åˆ‡æ¢çš„ä»£ä»·. å®è´¨: æ˜ å°„è¡¨ä¸å˜, PCæŒ‡é’ˆå˜.\nä»·å€¼, ç”¨å¤„ æµè§ˆå™¨\n ä¸€ä¸ªçº¿ç¨‹ç”¨æ¥ä»æœåŠ¡å™¨æ¥æ”¶æ•°æ® ä¸€ä¸ªçº¿ç¨‹ç”¨æ¥æ˜¾ç¤ºæ–‡æœ¬ ä¸€ä¸ªçº¿ç¨‹ç”¨æ¥å¤„ç†å›¾ç‰‡(è§£å‹ç¼©) ä¸€ä¸ªçº¿ç¨‹ç”¨æ¥æ˜¾ç¤ºå›¾ç‰‡  æ¥æ”¶æ•°æ®çº¿ç¨‹ç­‰å¾…æ—¶å¯ä»¥åˆ‡æ¢åˆ°å¦ä¸€ä¸ªçº¿ç¨‹(å¦‚æ˜¾ç¤ºæ–‡æœ¬), æ›´åŠ é«˜æ•ˆåˆ©ç”¨CPU, ç¨‹åºäº¤äº’æ›´åŠ äººæ€§åŒ–.\nçº¿ç¨‹åˆ‡æ¢ å¤šçº¿ç¨‹æ‰§è¡Œäº’ä¸å¹²æ‰°, æ‰€ä»¥ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œåºåˆ—å¯¹åº”ä¸€ä¸ª(æˆ–å¥—)æ ˆ. çº¿ç¨‹åˆ‡æ¢å°±æ˜¯åˆ‡æ¢TCB.\nTCB (Thread Control Block) ä¿å­˜çº¿ç¨‹çš„ä¿¡æ¯(æ‰§è¡Œåºåˆ—çš„æ ˆ). ä¸PCBç›¸ä¼¼, åªæ˜¯æ¯”PCBå‚¨å­˜çš„ä¿¡æ¯å°‘è€Œå·².\nç”¨æˆ·çº§çº¿ç¨‹ ç”¨æˆ·æ€åˆ‡æ¥åˆ‡å». CPLä¸º3. TCBåœ¨ç”¨æˆ·ç¨‹åºä¸­.\nvoid ThreadCeate(A) { TCB *tcb = malloc(); // ç”³è¯·å†…å­˜åˆ›å»ºTCB *stack = malloc(); // åˆ›å»ºæ ˆ *stack = A; // ä¿å­˜æ ˆ tcb.esp = stack } // çº¿ç¨‹åˆ‡æ¢ void Yield() { TCB2.esp = esp; esp = TCB1.esp; // esp: CPUå¯„å­˜å™¨ // jmp xxx; // ä¸éœ€è¦å†jmp xxx, å› ä¸ºè°ƒç”¨Yieldæ—¶å·²ç»æŠŠYieldåé¢æ‰§è¡Œçš„å†…å®¹å‹æ ˆ. }  ç¼ºç‚¹ ä¸€ä¸ªè¿›ç¨‹é‡Œçš„æŸä¸ªç”¨æˆ·çº§çº¿ç¨‹è§¦å‘ç³»ç»ŸIO(å¦‚ç½‘å¡, ç£ç›˜ç­‰)åç³»ç»Ÿä¼šåˆ‡æ¢åˆ°å…¶ä»–è¿›ç¨‹æ‰§è¡Œ. è¿™ä¸ªè¿›ç¨‹å…¶ä»–çº¿ç¨‹å°±æ— æ³•æ‰§è¡Œ.\næ ¸å¿ƒçº§çº¿ç¨‹ å¤š\u0026quot;å¥—\u0026rdquo;(ç”¨æˆ·æ ˆ + å†…æ ¸æ ˆ)TCBåœ¨å†…æ ¸ä¸­. ä¸­æ–­è¿›å…¥å†…æ ¸\nä¼˜ç‚¹ å¤šæ ¸å¿ƒCPUæ”¯æŒ, æ ¸å¿ƒçº§çº¿ç¨‹å¯ä»¥å¹¶è¡Œæ‰§è¡Œ.\n","id":20,"section":"posts","summary":"çº¿ç¨‹: æ‰§è¡ŒæŒ‡ä»¤åºåˆ— ä¿ç•™äº†å¹¶å‘çš„ä¼˜ç‚¹, é¿å…äº†è¿›ç¨‹åˆ‡æ¢çš„ä»£ä»·. å®è´¨: æ˜ å°„è¡¨ä¸å˜, PCæŒ‡é’ˆå˜. ä»·å€¼, ç”¨å¤„ æµè§ˆå™¨ ä¸€ä¸ªçº¿ç¨‹ç”¨æ¥ä»æœåŠ¡å™¨æ¥æ”¶æ•°æ® ä¸€ä¸ªçº¿ç¨‹","tags":["æ“ä½œç³»ç»Ÿ"],"title":"å¤šçº¿ç¨‹","uri":"https://rx-78-kum0.github.io/2020/03/%E5%A4%9A%E7%BA%BF%E7%A8%8B/","year":"2020"},{"content":"è¿›ç¨‹: è¿›è¡Œä¸­çš„ç¨‹åº è¿›è¡Œä¸­çš„ç¨‹åºä¸ç£ç›˜ä¸­çš„é™æ€ç¨‹åºä¸ä¸€æ ·. è¿›ç¨‹æ˜¯æè¿°ä¸€ä¸ªè¿è¡Œä¸­çš„ç¨‹åº. è¿›ç¨‹ = èµ„æº(æ˜ å°„è¡¨) + å¤šä¸ªæ‰§è¡ŒæŒ‡ä»¤åºåˆ—(çº¿ç¨‹) è¿›ç¨‹åªèƒ½åœ¨å†…æ ¸. è¦åˆ†é…èµ„æº, è®¿é—®æ–‡ä»¶.\n æœ‰å¼€å§‹, ç»“æŸ èµ°èµ°åœåœ(åˆ‡æ¢) éœ€è¦è®°å½•  ä¸ºäº†å……åˆ†ä½¿ç”¨CPU ä¸€æ¬¡IOæ“ä½œå¯¹åº”æ•°ç™¾ä¸‡(å¾ˆå¤šå¾ˆå¤š)æ¬¡CPUè®¡ç®—æ“ä½œ. ä¸ºäº†å……åˆ†åˆç†ä½¿ç”¨CPU, éœ€è¦å¤šä¸ªè¿›ç¨‹äº¤æ›¿æ‰§è¡Œ. \u0026ndash; [å¹¶å‘]\nå¤šè¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿçš„æ ¸å¿ƒ æ“ä½œç³»ç»Ÿçš„æ ¸å¿ƒå°±æ˜¯è®°å½•, ç®¡ç†, åˆç†æ¨è¿›å¤šä¸ªè¿›ç¨‹. ä½¿ç”¨è®¡ç®—æœºå°±æ˜¯å¯ç”¨å¤šä¸ªè¿›ç¨‹.\nå¤šè¿›ç¨‹çš„ç»„ç»‡ PCB + çŠ¶æ€ + é˜Ÿåˆ—\nPCB(Proess Control Block) è®°å½•è¿›ç¨‹ä¿¡æ¯çš„æ•°æ®ç»“æ„. ä¾¿äºåˆ‡å›æ—¶ç»§ç»­æ‰§è¡Œ.\nçŠ¶æ€  å°±ç»ªæ€ é˜»å¡æ€ è¿è¡Œæ€  å°±ç»ªæ€ \u0026mdash;\u0026mdash;\u0026ndash;\u0026raquo; è¿è¡Œæ€ \\ / \\ / é˜»å¡æ€\né˜Ÿåˆ—  å°±ç»ªé˜Ÿåˆ— PCB1 \u0026ndash; PCB3 \u0026ndash; PCB5 ç£ç›˜ç­‰å¾…é˜Ÿåˆ— PCB2 \u0026ndash; PCB4 \u0026ndash; PCB6  å¤šè¿›ç¨‹çš„äº¤æ›¿ é˜Ÿåˆ— + è°ƒåº¦ + åˆ‡æ¢\nvoid schedule() { pNew = getNext(ReadyQueue); // è°ƒåº¦ switch_to(pCur, pNew); // pCur, pNew PCB }  æŠŠå½“å‰è¿›ç¨‹ä¿å­˜èµ·æ¥, åˆ‡å…¥å¦ä¸€ä¸ªçš„è¿›ç¨‹.\nvoid swtich_to(pCur, pNew) { pCur.ax = CPU.ax; pCur.bx = CPU.bx; // ... pCur.cs = CPU.cs; pCur.retpc = CPU.pc; CPU.ax = pNew.ax; CPU.bx = pNew.bx; // ... CPU.cs = pNew.cs; CPU.pc = pNew.retpc; }  å¤šè¿›ç¨‹çš„å†…å­˜ç®¡ç† é€šè¿‡æ˜ å°„è¡¨å®ç°å†…å­˜åœ°å€ç©ºé—´çš„åˆ†ç¦».\nè¿›ç¨‹1 å†…å­˜åœ°å€[100] \u0026mdash;\u0026gt; è¿›ç¨‹1çš„æ˜ å°„è¡¨ \u0026mdash;-\u0026gt; ç‰©ç†å†…å­˜ 780 è¿›ç¨‹2 å†…å­˜åœ°å€[100] \u0026mdash;\u0026gt; è¿›ç¨‹2çš„æ˜ å°„è¡¨ \u0026mdash;-\u0026gt; ç‰©ç†å†…å­˜ 1260\nå¤šè¿›ç¨‹çš„åˆä½œ ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€… è¿›ç¨‹åŒæ­¥ä¸èƒ½éšæ„åˆ‡æ¢è¿›ç¨‹, å¿…é¡»åŒæ­¥è¿›ç¨‹åˆç†åˆ‡æ¢.\n","id":21,"section":"posts","summary":"è¿›ç¨‹: è¿›è¡Œä¸­çš„ç¨‹åº è¿›è¡Œä¸­çš„ç¨‹åºä¸ç£ç›˜ä¸­çš„é™æ€ç¨‹åºä¸ä¸€æ ·. è¿›ç¨‹æ˜¯æè¿°ä¸€ä¸ªè¿è¡Œä¸­çš„ç¨‹åº. è¿›ç¨‹ = èµ„æº(æ˜ å°„è¡¨) + å¤šä¸ªæ‰§è¡ŒæŒ‡ä»¤åºåˆ—(çº¿ç¨‹) è¿›ç¨‹åªèƒ½åœ¨","tags":["æ“ä½œç³»ç»Ÿ"],"title":"å¤šè¿›ç¨‹","uri":"https://rx-78-kum0.github.io/2020/02/%E5%A4%9A%E8%BF%9B%E7%A8%8B/","year":"2020"},{"content":"// ç¡¬ç¼–ç ä¸€ä¸ªäºŒè¿›åˆ¶ trie type BinaryTrie = [ [ [ [ [[[[0, 1], [2, 3]], [[4, 5], [6, 7]]], [[[8, 9], [10, 11]], [[12, 13], [14, 15]]]], [[[[16, 17], [18, 19]], [[20, 21], [22, 23]]], [[[24, 25], [26, 27]], [[28, 29], [30, 31]]]] ], [ [[[[32, 33], [34, 35]], [[36, 37], [38, 39]]], [[[40, 41], [42, 43]], [[44, 45], [46, 47]]]], [[[[48, 49], [50, 51]], [[52, 53], [54, 55]]], [[[56, 57], [58, 59]], [[60, 61], [62, 63]]]] ] ], [ [ [[[[64, 65], [66, 67]], [[68, 69], [70, 71]]], [[[72, 73], [74, 75]], [[76, 77], [78, 79]]]], [[[[80, 81], [82, 83]], [[84, 85], [86, 87]]], [[[88, 89], [90, 91]], [[92, 93], [94, 95]]]] ], [ [[[[96, 97], [98, 99]], [[100, 101], [102, 103]]], [[[104, 105], [106, 107]], [[108, 109], [110, 111]]]], [[[[112, 113], [114, 115]], [[116, 117], [118, 119]]], [[[120, 121], [122, 123]], [[124, 125], [126, 127]]]] ] ] ], [ [ [ [[[[128, 129], [130, 131]], [[132, 133], [134, 135]]], [[[136, 137], [138, 139]], [[140, 141], [142, 143]]]], [[[[144, 145], [146, 147]], [[148, 149], [150, 151]]], [[[152, 153], [154, 155]], [[156, 157], [158, 159]]]] ], [ [[[[160, 161], [162, 163]], [[164, 165], [166, 167]]], [[[168, 169], [170, 171]], [[172, 173], [174, 175]]]], [[[[176, 177], [178, 179]], [[180, 181], [182, 183]]], [[[184, 185], [186, 187]], [[188, 189], [190, 191]]]] ] ], [ [ [[[[192, 193], [194, 195]], [[196, 197], [198, 199]]], [[[200, 201], [202, 203]], [[204, 205], [206, 207]]]], [[[[208, 209], [210, 211]], [[212, 213], [214, 215]]], [[[216, 217], [218, 219]], [[220, 221], [222, 223]]]] ], [ [[[[224, 225], [226, 227]], [[228, 229], [230, 231]]], [[[232, 233], [234, 235]], [[236, 237], [238, 239]]]], [[[[240, 241], [242, 243]], [[244, 245], [246, 247]]], [[[248, 249], [250, 251]], [[252, 253], [254, 255]]]] ] ] ] ]; // æ•°ç»„æ“ä½œ type Copy\u0026lt;T, S extends any\u0026gt; = { [P in keyof T]: S[P] }; type Unshift\u0026lt;T, A\u0026gt; = ((a: A, ...b: T extends any[] ? T : never) =\u0026gt; void) extends (...a: infer R) =\u0026gt; void ? R : never; type Push\u0026lt;T, A\u0026gt; = Copy\u0026lt;Unshift\u0026lt;T, any\u0026gt;, T \u0026amp; Record\u0026lt;string, A\u0026gt;\u0026gt;; // æœç´¢äºŒè¿›åˆ¶ trie type SearchInTrie\u0026lt;Num, Node, Digits\u0026gt; = { 1: Node extends [infer A, infer B] ? Num extends A ? Push\u0026lt;Digits, 0\u0026gt; : Num extends B ? Push\u0026lt;Digits, 1\u0026gt; : never : never; 0: Node extends [infer A, infer B] ? SearchInTrie\u0026lt;Num, A, Push\u0026lt;Digits, 0\u0026gt;\u0026gt; | SearchInTrie\u0026lt;Num, B, Push\u0026lt;Digits, 1\u0026gt;\u0026gt; : never; }[Node extends [number, number] ? 1 : 0]; // å®šä¹‰æ•°å­—ç±»å‹ type Digit = 0 | 1; type Bits = 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7; type Uint8 = Record\u0026lt;Bits, Digit\u0026gt;; // ä¹Ÿå¯ä»¥å®šä¹‰æˆ8ä¸ªDigitçš„æ•°ç»„ï¼Œè¿™æ ·å†™æ¯”è¾ƒç®€çŸ­ type AsDigit\u0026lt;T\u0026gt; = T extends Digit ? T : never; type AsUint8\u0026lt;T\u0026gt; = T extends Uint8 ? T : never; // æ•°å­—è½¬äºŒè¿›åˆ¶è¡¨ç¤º type ToUint8\u0026lt;A extends number\u0026gt; = SearchInTrie\u0026lt;A, BinaryTrie, []\u0026gt;; // äºŒè¿›åˆ¶è¡¨ç¤ºè½¬æ•°å­— type ToNumber\u0026lt;A extends Uint8\u0026gt; = BinaryTrie[A[0]][A[1]][A[2]][A[3]][A[4]][A[5]][A[6]][A[7]]; // ä¸¤ä¸ª1 bitæ•°ç›¸åŠ ï¼ŒC è¡¨ç¤ºè¿›ä½ type BitAdd\u0026lt;A extends Digit, B extends Digit, C extends Digit\u0026gt; = [ [[[0, 0], [1, 0]], [[1, 0], [0, 1]]], [[[1, 0], [0, 1]], [[0, 1], [1, 1]]] ][A][B][C]; // 8ä½æ•°ç›¸åŠ  type Uint8Add\u0026lt;A extends Uint8, B extends Uint8\u0026gt; = BitAdd\u0026lt;A[7], B[7], 0\u0026gt; extends [infer S7, infer C] ? BitAdd\u0026lt;A[6], B[6], AsDigit\u0026lt;C\u0026gt;\u0026gt; extends [infer S6, infer C] ? BitAdd\u0026lt;A[5], B[5], AsDigit\u0026lt;C\u0026gt;\u0026gt; extends [infer S5, infer C] ? BitAdd\u0026lt;A[4], B[4], AsDigit\u0026lt;C\u0026gt;\u0026gt; extends [infer S4, infer C] ? BitAdd\u0026lt;A[3], B[3], AsDigit\u0026lt;C\u0026gt;\u0026gt; extends [infer S3, infer C] ? BitAdd\u0026lt;A[2], B[2], AsDigit\u0026lt;C\u0026gt;\u0026gt; extends [infer S2, infer C] ? BitAdd\u0026lt;A[1], B[1], AsDigit\u0026lt;C\u0026gt;\u0026gt; extends [infer S1, infer C] ? BitAdd\u0026lt;A[0], B[0], AsDigit\u0026lt;C\u0026gt;\u0026gt; extends [infer S0, infer C] // ? C extends 1 ? \u0026quot;overflow\u0026quot; : ? AsUint8\u0026lt;[S0, S1, S2, S3, S4, S5, S6, S7]\u0026gt; : never : never : never : never : never : never : never : never; // ä½å–å type Reverse = [1, 0]; type Uint8Reverse\u0026lt;A extends Uint8\u0026gt; = [ Reverse[A[0]], Reverse[A[1]], Reverse[A[2]], Reverse[A[3]], Reverse[A[4]], Reverse[A[5]], Reverse[A[6]], Reverse[A[7]] ]; // ä¸¤ä¸ªç‰¹æ®Šæ•°å­—æ–¹ä¾¿ä½¿ç”¨ type ZERO = [0, 0, 0, 0, 0, 0, 0, 0]; type ONE = [0, 0, 0, 0, 0, 0, 0, 1]; // è¡¥ç  type Uint8Negate\u0026lt;A extends Uint8\u0026gt; = Uint8Add\u0026lt;Uint8Reverse\u0026lt;A\u0026gt;, ONE\u0026gt;; // 8ä½æ•°ç›¸å‡ type Uint8Sub\u0026lt;A extends Uint8, B extends Uint8\u0026gt; = Uint8Add\u0026lt;A, Uint8Negate\u0026lt;B\u0026gt;\u0026gt;; // å·¦ç§» type LShift\u0026lt;A extends Uint8, B extends number, P extends Digit\u0026gt; = B extends 1 ? [A[1], A[2], A[3], A[4], A[5], A[6], A[7], P] : B extends 2 ? [A[2], A[3], A[4], A[5], A[6], A[7], P, P] : B extends 3 ? [A[3], A[4], A[5], A[6], A[7], P, P, P] : B extends 4 ? [A[4], A[5], A[6], A[7], P, P, P, P] : B extends 5 ? [A[5], A[6], A[7], P, P, P, P, P] : B extends 6 ? [A[6], A[7], P, P, P, P, P, P] : B extends 7 ? [A[7], P, P, P, P, P, P, P] : B extends 0 ? A : [P, P, P, P, P, P, P, P]; // 8ä½æ•°ä¹˜1ä½æ•° type BitMul\u0026lt;A extends Uint8, B extends Digit, C extends Bits\u0026gt; = B extends 1 ? LShift\u0026lt;A, C, 0\u0026gt; : ZERO; // 8ä½æ•°ç›¸ä¹˜ type Uint8Mul\u0026lt;A extends Uint8, B extends Uint8\u0026gt; = Uint8Add\u0026lt;ZERO, BitMul\u0026lt;A, B[7], 0\u0026gt;\u0026gt; extends infer S ? Uint8Add\u0026lt;AsUint8\u0026lt;S\u0026gt;, BitMul\u0026lt;A, B[6], 1\u0026gt;\u0026gt; extends infer S ? Uint8Add\u0026lt;AsUint8\u0026lt;S\u0026gt;, BitMul\u0026lt;A, B[5], 2\u0026gt;\u0026gt; extends infer S ? Uint8Add\u0026lt;AsUint8\u0026lt;S\u0026gt;, BitMul\u0026lt;A, B[4], 3\u0026gt;\u0026gt; extends infer S ? Uint8Add\u0026lt;AsUint8\u0026lt;S\u0026gt;, BitMul\u0026lt;A, B[3], 4\u0026gt;\u0026gt; extends infer S ? Uint8Add\u0026lt;AsUint8\u0026lt;S\u0026gt;, BitMul\u0026lt;A, B[2], 5\u0026gt;\u0026gt; extends infer S ? Uint8Add\u0026lt;AsUint8\u0026lt;S\u0026gt;, BitMul\u0026lt;A, B[1], 6\u0026gt;\u0026gt; extends infer S ? Uint8Add\u0026lt;AsUint8\u0026lt;S\u0026gt;, BitMul\u0026lt;A, B[0], 7\u0026gt;\u0026gt; : never : never : never : never : never : never : never; // æ¯”è¾ƒç»“æœ type EQ = 0; type GT = 1; type LT = 2; // 1ä½æ•°æ¯”è¾ƒ type BitCMP\u0026lt;A extends Digit, B extends Digit\u0026gt; = [[EQ, LT], [GT, EQ]][A][B]; // 8ä½æ•°æ¯”è¾ƒ type Uint8CMP\u0026lt;A extends Uint8, B extends Uint8\u0026gt; = BitCMP\u0026lt;A[0], B[0]\u0026gt; extends GT | LT ? BitCMP\u0026lt;A[0], B[0]\u0026gt; : BitCMP\u0026lt;A[1], B[1]\u0026gt; extends GT | LT ? BitCMP\u0026lt;A[1], B[1]\u0026gt; : BitCMP\u0026lt;A[2], B[2]\u0026gt; extends GT | LT ? BitCMP\u0026lt;A[2], B[2]\u0026gt; : BitCMP\u0026lt;A[3], B[3]\u0026gt; extends GT | LT ? BitCMP\u0026lt;A[3], B[3]\u0026gt; : BitCMP\u0026lt;A[4], B[4]\u0026gt; extends GT | LT ? BitCMP\u0026lt;A[4], B[4]\u0026gt; : BitCMP\u0026lt;A[5], B[5]\u0026gt; extends GT | LT ? BitCMP\u0026lt;A[5], B[5]\u0026gt; : BitCMP\u0026lt;A[6], B[6]\u0026gt; extends GT | LT ? BitCMP\u0026lt;A[6], B[6]\u0026gt; : BitCMP\u0026lt;A[7], B[7]\u0026gt;; // ç®€å•æ±‚ä½™ type Remainder\u0026lt;A extends Uint8, B extends Uint8\u0026gt; = Uint8CMP\u0026lt;A, B\u0026gt; extends LT ? [0, A] : [1, Uint8Sub\u0026lt;A, B\u0026gt;]; // 8ä½æ•°ç›¸é™¤ type Uint8Div\u0026lt;A extends Uint8, B extends Uint8\u0026gt; = Remainder\u0026lt;LShift\u0026lt;ZERO, 1, A[0]\u0026gt;, B\u0026gt; extends [infer Q0, infer R] ? Remainder\u0026lt;LShift\u0026lt;AsUint8\u0026lt;R\u0026gt;, 1, A[1]\u0026gt;, B\u0026gt; extends [infer Q1, infer R] ? Remainder\u0026lt;LShift\u0026lt;AsUint8\u0026lt;R\u0026gt;, 1, A[2]\u0026gt;, B\u0026gt; extends [infer Q2, infer R] ? Remainder\u0026lt;LShift\u0026lt;AsUint8\u0026lt;R\u0026gt;, 1, A[3]\u0026gt;, B\u0026gt; extends [infer Q3, infer R] ? Remainder\u0026lt;LShift\u0026lt;AsUint8\u0026lt;R\u0026gt;, 1, A[4]\u0026gt;, B\u0026gt; extends [infer Q4, infer R] ? Remainder\u0026lt;LShift\u0026lt;AsUint8\u0026lt;R\u0026gt;, 1, A[5]\u0026gt;, B\u0026gt; extends [infer Q5, infer R] ? Remainder\u0026lt;LShift\u0026lt;AsUint8\u0026lt;R\u0026gt;, 1, A[6]\u0026gt;, B\u0026gt; extends [infer Q6, infer R] ? Remainder\u0026lt;LShift\u0026lt;AsUint8\u0026lt;R\u0026gt;, 1, A[7]\u0026gt;, B\u0026gt; extends [infer Q7, infer R] ? [AsUint8\u0026lt;[Q0, Q1, Q2, Q3, Q4, Q5, Q6, Q7]\u0026gt;, AsUint8\u0026lt;R\u0026gt;] : never : never : never : never : never : never : never : never; // åŠ  type Add\u0026lt;A extends number, B extends number\u0026gt; = ToNumber\u0026lt;Uint8Add\u0026lt;ToUint8\u0026lt;A\u0026gt;, ToUint8\u0026lt;B\u0026gt;\u0026gt;\u0026gt;; // å‡ type Sub\u0026lt;A extends number, B extends number\u0026gt; = ToNumber\u0026lt;Uint8Sub\u0026lt;ToUint8\u0026lt;A\u0026gt;, ToUint8\u0026lt;B\u0026gt;\u0026gt;\u0026gt;; // ä¹˜ type Mul\u0026lt;A extends number, B extends number\u0026gt; = ToNumber\u0026lt;Uint8Mul\u0026lt;ToUint8\u0026lt;A\u0026gt;, ToUint8\u0026lt;B\u0026gt;\u0026gt;\u0026gt;; // é™¤ type Div\u0026lt;A extends number, B extends number\u0026gt; = B extends 0 ? never : ToNumber\u0026lt;Uint8Div\u0026lt;ToUint8\u0026lt;A\u0026gt;, ToUint8\u0026lt;B\u0026gt;\u0026gt;[0]\u0026gt;; // å–ä½™ type Mod\u0026lt;A extends number, B extends number\u0026gt; = B extends 0 ? never : ToNumber\u0026lt;Uint8Div\u0026lt;ToUint8\u0026lt;A\u0026gt;, ToUint8\u0026lt;B\u0026gt;\u0026gt;[1]\u0026gt;; // æµ‹è¯• type case1_ShouldBe99 = Add\u0026lt;33, 66\u0026gt;; // 33 + 66 = 99 type case2_ShouldBe0 = Add\u0026lt;255, 1\u0026gt;; // 255 + 1 = 0 (overflow) const a: case1_ShouldBe99 = 99; type case3_ShouldBe99 = Sub\u0026lt;123, 24\u0026gt;; // 123 - 24 = 99 type case4_ShouldBe255 = Sub\u0026lt;0, 1\u0026gt;; // 0 - 1 = 255 (overflow) type case5_ShouldBe153 = Mul\u0026lt;17, 9\u0026gt;; // 17 x 9 = 153 type case6_ShouldBe253 = Mul\u0026lt;255, 3\u0026gt;; // 255 x 3 = 253 (overflow) type case7_ShouldBe33 = Div\u0026lt;100, 3\u0026gt;; // 100 / 3 = 33 type case8_ShouldBeNever = Div\u0026lt;1, 0\u0026gt;; // 1 / 0 = error (divide by 0) type case9_ShouldBe1 = Mod\u0026lt;100, 3\u0026gt;; // 100 % 3 = 1 type case10_ShouldBeNever = Mod\u0026lt;1, 0\u0026gt;; // 1 % 0 = error (divide by 0)  ","id":22,"section":"posts","summary":"// ç¡¬ç¼–ç ä¸€ä¸ªäºŒè¿›åˆ¶ trie type BinaryTrie = [ [ [ [ [[[[0, 1], [2, 3]], [[4, 5], [6, 7]]], [[[8, 9], [10, 11]], [[12, 13], [14, 15]]]], [[[[16, 17], [18, 19]], [[20, 21], [22, 23]]], [[[24, 25], [26, 27]], [[28, 29], [30, 31]]]] ], [ [[[[32, 33], [34, 35]], [[36, 37], [38, 39]]], [[[40, 41], [42, 43]], [[44, 45], [46, 47]]]], [[[[48, 49], [50,","tags":["typescript"],"title":"typescriptå…ƒç¼–ç¨‹","uri":"https://rx-78-kum0.github.io/2020/02/typescript%E5%85%83%E7%BC%96%E7%A8%8B/","year":"2020"},{"content":"# .clang-format BasedOnStyle: LLVM Language:\tCpp IndentWidth : 2 # å¼€æ‹¬å·(å¼€åœ†æ‹¬å·ã€å¼€å°–æ‹¬å·ã€å¼€æ–¹æ‹¬å·)åçš„å¯¹é½: Align, DontAlign, AlwaysBreak(æ€»æ˜¯åœ¨å¼€æ‹¬å·åæ¢è¡Œ) AlignAfterOpenBracket:\tAlign # å¤§æ‹¬å·æ¢è¡Œï¼Œåªæœ‰å½“BreakBeforeBracesè®¾ç½®ä¸ºCustomæ—¶æ‰æœ‰æ•ˆ BraceWrapping: # classå®šä¹‰åé¢ AfterClass:\tfalse # æ§åˆ¶è¯­å¥åé¢ AfterControlStatement:\tfalse # enumå®šä¹‰åé¢ AfterEnum:\tfalse # å‡½æ•°å®šä¹‰åé¢ AfterFunction:\ttrue # å‘½åç©ºé—´å®šä¹‰åé¢ AfterNamespace:\tfalse # ObjCå®šä¹‰åé¢ AfterObjCDeclaration:\tfalse # structå®šä¹‰åé¢ AfterStruct:\tfalse # unionå®šä¹‰åé¢ AfterUnion:\tfalse # catchä¹‹å‰ BeforeCatch:\ttrue # elseä¹‹å‰ BeforeElse:\ttrue # ç¼©è¿›å¤§æ‹¬å· IndentBraces:\tfalse BreakBeforeBraces:\tCustom  ","id":23,"section":"posts","summary":"# .clang-format BasedOnStyle: LLVM Language: Cpp IndentWidth : 2 # å¼€æ‹¬å·(å¼€åœ†æ‹¬å·ã€å¼€å°–æ‹¬å·ã€å¼€æ–¹æ‹¬å·)åçš„å¯¹é½: Align, DontAlign, AlwaysBreak(æ€»æ˜¯åœ¨å¼€æ‹¬å·åæ¢è¡Œ) AlignAfterOpenBracket: Align # å¤§æ‹¬å·æ¢è¡Œï¼Œåªæœ‰å½“","tags":["tools"],"title":"clang-format","uri":"https://rx-78-kum0.github.io/2020/02/clang-format/","year":"2020"},{"content":"Power by Hugo ç°åœ¨ï¼Œè¯¥åšå®¢æ”¹ç”± Hugo å¼ºåŠ›é©±åŠ¨å•¦ï¼  Hugo æ˜¯ä¸€ä¸ª golang ç¼–å†™çš„é™æ€ç½‘é¡µç”Ÿæˆå™¨ã€‚åŒç±»å‹å·¥å…·è¿˜æœ‰ä½¿ç”¨ node ç¼–å†™çš„ Hexoã€‚\n Hugoçš„ä¼˜ç‚¹ - å¿« åŸºäº golang ç¼–å†™çš„\n- ç®€å• ä¸ä»…ä½¿ç”¨ç®€å•ï¼Œç”šè‡³è‡ªå·±å†™ä¸»é¢˜ä¹Ÿå¾ˆç®€å•ã€‚\n- æ”¯æŒorgæ ¼å¼! (ä¼˜ç§€) hexo, jekyll ç­‰åŒç±»å·¥å…·å¤§å¤šåªæ”¯æŒ markdown. è€Œ hugo æ”¯æŒ org è¿™ä¸€ä»…åœ¨ emacs ä¸Šæœ‰çš„æ–‡æ¡£æ ¼å¼ï¼Œæ„ŸåŠ¨~\n ä½†ä¸ä¼šç›´æ¥ç”¨orgæ¥å‘å¸ƒ~ ç›®å‰æ”¯æŒç¨‹åº¦è¿œæ²¡æœ‰ markdown æ ¼å¼å¥½ã€‚å› ä¸º org åœ¨ emacs ä¸ŠåŸç”Ÿæ”¯æŒå¤ªå¥½ï¼Œåˆä¸åƒ md è¿™æ ·é€šç”¨å¯¼è‡´å…¶ä»–å¹³å°æ”¯æŒç¨‹åº¦ä¸æ˜¯å¾ˆé«˜ã€‚å¥½åœ¨å¯ä»¥ä½¿ç”¨ emacs æ’ä»¶æŠŠ org è½¬æˆ mdï¼Œè™½ç„¶è¿˜æ˜¯ä¼šä¸¢å¤±ä¸€äº› org çš„ç‰¹æ€§ã€‚\n Org -\u0026gt; Markdown Emacs çš„ ox-hugo\nå®‰è£… (use-package ox-hugo :after ox)  ä½¿ç”¨    éœ€è¦åœ¨orgæ–‡æ¡£å…ƒæ•°æ®ä¸Šæ ‡æ˜hugoåšå®¢çš„æ ¹ç›®å½• HUGO_BASE_DIR å’Œç”Ÿæˆæ–‡æ¡£çš„ç›®æ ‡ç›®å½• HUGO_SECTION\n#+HUGO_BASE_DIR: ~/Hugo-DirName #+HUGO_SECTION: posts       C-c C-e H h\nå¯¼å‡ºå½“å‰orgæ–‡æ¡£\n     org-hugo-auto-export-mode\nä¿å­˜orgæ–‡æ¡£è‡ªåŠ¨å¯¼å‡ºä¸ºmd\nåœ¨hugoåšå®¢æ ¹ç›®å½•æ·»åŠ .dir-locals.elæ–‡ä»¶:\n((\u0026quot;content-org/\u0026quot; . ((org-mode . ((eval . (org-hugo-auto-export-mode)))))))  æœ€ç»ˆHugoç›®å½•æ ‘:\n\u0026lt;HUGO_BASE_DIR\u0026gt; â”œâ”€â”€ config.toml â”œâ”€â”€ content â”œâ”€â”€ \u0026lt;HUGO_SECTION\u0026gt; â”œâ”€â”€ content-org \u0026lt;-- Org files in there â”œâ”€â”€ static â”œâ”€â”€ themes â””â”€â”€ .dir-locals.el    ","id":24,"section":"posts","summary":"Power by Hugo ç°åœ¨ï¼Œè¯¥åšå®¢æ”¹ç”± Hugo å¼ºåŠ›é©±åŠ¨å•¦ï¼ Hugo æ˜¯ä¸€ä¸ª golang ç¼–å†™çš„é™æ€ç½‘é¡µç”Ÿæˆå™¨ã€‚åŒç±»å‹å·¥å…·è¿˜æœ‰ä½¿ç”¨ node ç¼–å†™çš„ Hexoã€‚ Hugoçš„ä¼˜ç‚¹ - å¿« åŸºäº golang ç¼–å†™çš„ - ç®€å•","tags":["helloworld"],"title":"Hello_World","uri":"https://rx-78-kum0.github.io/2020/01/hello_world/","year":"2020"},{"content":"# vi: ft=dosini [main] # Enables context sensitive auto-completion. If this is disabled the all # possible completions will be listed. smart_completion = True # Multi-line mode allows breaking up the sql statements into multiple lines. If # this is set to True, then the end of the statements must have a semi-colon. # If this is set to False then sql statements can't be split into multiple # lines. End of line (return) is considered as the end of the statement. multi_line = True # Destructive warning mode will alert you before executing a sql statement # that may cause harm to the database such as \u0026quot;drop table\u0026quot;, \u0026quot;drop database\u0026quot; # or \u0026quot;shutdown\u0026quot;. destructive_warning = True # log_file location. log_file = ~/.mycli.log # Default log level. Possible values: \u0026quot;CRITICAL\u0026quot;, \u0026quot;ERROR\u0026quot;, \u0026quot;WARNING\u0026quot;, \u0026quot;INFO\u0026quot; # and \u0026quot;DEBUG\u0026quot;. \u0026quot;NONE\u0026quot; disables logging. log_level = INFO # Log every query and its results to a file. Enable this by uncommenting the # line below. # audit_log = ~/.mycli-audit.log # Timing of sql statments and table rendering. timing = True # Table format. Possible values: psql, plain, simple, grid, fancy_grid, pipe, # orgtbl, rst, mediawiki, html, latex, latex_booktabs, tsv. # Recommended: psql, fancy_grid and grid. table_format = psql # Syntax coloring style. Possible values (many support the \u0026quot;-dark\u0026quot; suffix): # manni, igor, xcode, vim, autumn, vs, rrt, native, perldoc, borland, tango, emacs, # friendly, monokai, paraiso, colorful, murphy, bw, pastie, paraiso, trac, default, # fruity. # Screenshots at http://mycli.net/syntax syntax_style = default # Keybindings: Possible values: emacs, vi. # Emacs mode: Ctrl-A is home, Ctrl-E is end. All emacs keybindings are available in the REPL. # When Vi mode is enabled you can use modal editing features offered by Vi in the REPL. key_bindings = emacs # Enabling this option will show the suggestions in a wider menu. Thus more items are suggested. wider_completion_menu = False # MySQL prompt # \\t - Product type (Percona, MySQL, Mariadb) # \\u - Username # \\h - Hostname of the server # \\d - Database name # \\n - Newline prompt = '\\t \\u@\\h:\\d\u0026gt; ' prompt_continuation = '-\u0026gt; ' # Skip intro info on startup and outro info on exit less_chatty = False # Use alias from --login-path instead of host name in prompt login_path_as_host = False # Custom colors for the completion menu, toolbar, etc. [colors] # Completion menus. Token.Menu.Completions.Completion.Current = 'bg:#00aaaa #000000' Token.Menu.Completions.Completion = 'bg:#008888 #ffffff' Token.Menu.Completions.MultiColumnMeta = 'bg:#aaffff #000000' Token.Menu.Completions.ProgressButton = 'bg:#003333' Token.Menu.Completions.ProgressBar = 'bg:#00aaaa' # Selected text. Token.SelectedText = '#ffffff bg:#6666aa' # Search matches. (reverse-i-search) Token.SearchMatch = '#ffffff bg:#4444aa' Token.SearchMatch.Current = '#ffffff bg:#44aa44' # The bottom toolbar. Token.Toolbar = 'bg:#222222 #aaaaaa' Token.Toolbar.Off = 'bg:#222222 #888888' Token.Toolbar.On = 'bg:#222222 #ffffff' # Search/arg/system toolbars. Token.Toolbar.Search = 'noinherit bold' Token.Toolbar.Search.Text = 'nobold' Token.Toolbar.System = 'noinherit bold' Token.Toolbar.Arg = 'noinherit bold' Token.Toolbar.Arg.Text = 'nobold' # Favorite queries. [favorite_queries]  ","id":25,"section":"posts","summary":"# vi: ft=dosini [main] # Enables context sensitive auto-completion. If this is disabled the all # possible completions will be listed. smart_completion = True # Multi-line mode allows breaking up the sql statements into multiple lines. If # this is set to True, then the end of the statements must have a semi-colon. # If this is set to False then sql statements can't be split into multiple # lines.","tags":["mysql","tools"],"title":"myclirc","uri":"https://rx-78-kum0.github.io/2019/12/myclirc/","year":"2019"},{"content":"angularçš„ControlValueAccessoræ˜¯ä¸€ä¸ªè¿æ¥è¡¨å•æ¨¡å‹å’Œè§†å›¾DOMçš„æŠ½è±¡ç±»æ¥å£\n.org-center { margin-left: auto; margin-right: auto; text-align: center; }  ä½¿è‡ªå®šä¹‰è¡¨å•ç»„ä»¶åƒåŸç”Ÿinputä¸€æ ·æ˜ å°„åˆ°formè¡¨å•æ¨¡å‹ä¸­, æ‹¥æœ‰è‡ªå®šä¹‰è¡¨å•ç»„ä»¶çš„formä¹Ÿèƒ½ä½¿ç”¨å“åº”å¼è¡¨å•. (ä¹Ÿå°±æ˜¯ä½¿è‡ªå®šä¹‰è¡¨å•ç»„ä»¶æ‹¥æœ‰formControlNameå±æ€§å’ŒngModelæ¥å£.)\n æ¯•ç«Ÿå“åº”å¼è¡¨å•æ‰æ˜¯angularçš„åˆ©å™¨.\nControlValueAccessor export interface ControlValueAccessor { writeValue(obj: any): void; registerOnChange(fn: any): void; registerOnTouched(fn: any): void; setDisabledState?(isDisabled: boolean): void; }  writeValue(obj: any): è¯¥æ–¹æ³•æ˜¯æ¥æ”¶æ¨¡ç‰ˆä¸­çš„ngModel.\nwriteValue(value: any): void { this._renderer.setProperty(this._elementRef.nativeElement, 'value', value); }  registerOnChange(fn: any): void: è¯¥æ–¹æ³•æ˜¯ç»„ä»¶æ¥æ”¶åˆ° change äº‹ä»¶çš„å›è°ƒ, å¯ä»¥ç”¨æ¥é€šçŸ¥å¤–éƒ¨è¾¾æˆåŒå‘ç»‘å®š, å³ngModelChange.\nregisterOnChange(fn: (_: any) =\u0026gt; void): void { this._onChange = fn; }  registerOnTouched(fn: any): æ¥æ”¶åˆ° touched äº‹ä»¶çš„å›è°ƒ.\nregisterOnTouched(fn: any): void { this._onTouched = fn; }  setDisabledState?(isDisabled: boolean): è¯¥æ–¹æ³•æ˜¯ç»„ä»¶è¾“å…¥çŠ¶æ€ disable \u0026lt;=\u0026gt; enable å˜åŒ–æ—¶çš„å›è°ƒã€‚è¯¥æ–¹æ³•ä¼šæ ¹æ®å‚æ•°å€¼ï¼Œå¯ç”¨æˆ–ç¦ç”¨æŒ‡å®šçš„DOMå…ƒç´ .\nä»¥ä¸‹ç»„ä»¶ç±»å®ç°äº†ControlValueAccessoræ¥å£. CheckboxControlValueAccessor ç”¨äºcheckboxå¤é€‰ç»„ä»¶é€‰æ‹©å™¨:\n input[type=checkbox][formControlName] input[type=checkbox][formControl] input[type=checkbox][ngModel]  NumberValueAccessor ç”¨äºnumberç±»å‹çš„è¾“å…¥ç»„ä»¶é€‰æ‹©å™¨:\n input[type=number][formControlName] input[type=number][formControl] input[type=number][ngModel]  DefaultValueAccessor ç”¨äº text å’Œ textarea ç±»å‹çš„è¾“å…¥ç»„ä»¶é€‰æ‹©å™¨:\n input:not([type=checkbox])[formControlName] textarea[formControlName] input:not([type=checkbox])[formControl] textarea[formControl] input:not([type=checkbox])[ngModel] textarea[ngModel] [ngDefaultControl]  RadioControlValueAccessor ç”¨äºradioå•é€‰ç»„ä»¶é€‰æ‹©å™¨:\n input[type=radio][formControlName] input[type=radio][formControl] input[type=radio][ngModel]  æ‰©å±•æ–¹æ³•:\n fireUncheck(value: any): void:å–æ¶ˆé€‰ä¸­çš„å›è°ƒ.  RangeValueAccessor ç”¨äºèŒƒå›´è¾“å…¥ç»„ä»¶é€‰æ‹©å™¨:\n input[type=range][formControlName] input[type=range][formControl] input[type=range][ngModel]  SelectControlValueAccessor ç”¨äºselectç»„ä»¶é€‰æ‹©å™¨:\n select:not([multiple])[formControlName] select:not([multiple])[formControl] select:not([multiple])[ngModel]  æ‰©å±•æ–¹æ³•:\n compareWith: (o1: any, o2: any) =\u0026gt; boolean:æ¯”è¾ƒå‡½æ•°. ä¾‹å¦‚optionçš„ngValueæ˜¯ä¸€ä¸ªå¯¹è±¡, å½“é€‰ä¸­é¡¹å¡«å…¥è¡¨å•æ—¶,éœ€è¦ç¼–å†™ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°æ¥å¤„ç†å½“å‰é€‰ä¸­çš„å¯¹è±¡æ˜¯å“ªä¸€ä¸ªoption.  SelectMultipleControlValueAccessor ç”¨äºå¤šé€‰selectç»„ä»¶é€‰æ‹©å™¨:\n select[multiple][formControlName] select[multiple][formControl] select[multiple][ngModel]  æ‰©å±•æ–¹æ³•: compareWith: (o1: any, o2: any) =\u0026gt; boolean:æ¯”è¾ƒå‡½æ•°. ä¾‹å¦‚optionçš„ngValueæ˜¯ä¸€ä¸ªå¯¹è±¡, å½“é€‰ä¸­é¡¹å¡«å…¥è¡¨å•æ—¶, éœ€è¦ç¼–å†™ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°æ¥å¤„ç†å½“å‰é€‰ä¸­çš„å¯¹è±¡æ˜¯å“ªä¸€ä¸ªoption.\nEG è‡ªå®šä¹‰è¡¨å•ç»„ä»¶ä»£ç ç»“æ„ import { Component, OnInit, HostListener, ViewEncapsulation, forwardRef, Input, OnDestroy, ChangeDetectorRef, ChangeDetectionStrategy } from '@angular/core'; import { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms'; import { Subject } from 'rxjs'; @Component({ selector : '[app-radiobox]', templateUrl : './radiobox.component.html', styleUrls : ['./radiobox.component.styl'], encapsulation : ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.OnPush, host : { '[class.radio-wrapper]' : 'true', '[class.radio-wrapper-checked]': 'checked' }, providers: [ { provide : NG_VALUE_ACCESSOR, useExisting: forwardRef(() =\u0026gt; RadioboxComponent), multi : true } ] }) export class RadioboxComponent implements OnInit, OnDestroy, ControlValueAccessor { @Input() value: boolean; checked: boolean; select$ = new Subject\u0026lt;RadioboxComponent\u0026gt;(); onChange: (_: any) =\u0026gt; void = () =\u0026gt; null; onTouched: () =\u0026gt; void = () =\u0026gt; null; constructor(private _cdr: ChangeDetectorRef) {} @HostListener('click', ['$event']) onClick(e: MouseEvent): void { e.stopPropagation(); e.preventDefault(); this.checked = !this.checked; this.onChange(this.checked); this.select$.next(this); } writeValue(value: boolean) { this.checked = value; } registerOnChange(fn: (_: boolean) =\u0026gt; {}): void { this.onChange = fn; } registerOnTouched(fn: () =\u0026gt; {}): void { this.onTouched = fn; } ngOnInit() {} ngOnDestroy() {} }  è°ƒç”¨ import { Component, OnInit } from '@angular/core'; import { FormBuilder, FormGroup } from '@angular/forms'; @Component({ selector: 'app-example', template: ` \u0026lt;form [formGroup]=\u0026quot;testForm\u0026quot;\u0026gt; \u0026lt;label\u0026gt;è¯•è¯•\u0026lt;/label\u0026gt; \u0026lt;label app-radiobox formControlName=\u0026quot;check\u0026quot;\u0026gt;check me\u0026lt;/label\u0026gt; \u0026lt;/form\u0026gt; ` }) export class ExampleComponent implements OnInit { testForm: FormGroup = this._fb.group({ check: false }); constructor(private _fb: FormBuilder) {} ngOnInit() { this.testForm.valueChanges.subscribe(d =\u0026gt; { console.log(d); }); } }  ","id":26,"section":"posts","summary":"angularçš„ControlValueAccessoræ˜¯ä¸€ä¸ªè¿æ¥è¡¨å•æ¨¡å‹å’Œè§†å›¾DOMçš„æŠ½è±¡ç±»æ¥å£ .org-center { margin-left: auto; margin-right: auto; text-align: center; } ä½¿è‡ªå®šä¹‰è¡¨å•ç»„ä»¶åƒåŸç”Ÿi","tags":["angular"],"title":"angularè‡ªå®šä¹‰åŒå‘ç»‘å®šè¡¨å•ç»„ä»¶","uri":"https://rx-78-kum0.github.io/2019/07/angular%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/","year":"2019"},{"content":"\u0026quot; .vimrc \u0026quot; Configuration file for vim set modelines=0 \u0026quot; Don't write backup file if vim is being called by \u0026quot;crontab -e\u0026quot; \u0026quot; au BufWrite /private/tmp/crontab.* set nowritebackup nobackup \u0026quot; Don't write backup file if vim is being called by \u0026quot;chpass\u0026quot; \u0026quot; au BufWrite /private/etc/pw.* set nowritebackup nobackup set nobackup set nowritebackup let skip_defaults_vim=1 \u0026quot; \u0026lt;leader\u0026gt; let g:mapleader=\u0026quot;,\u0026quot; \u0026quot; å»æ‰æœ‰å…³viä¸€è‡´æ€§æ¨¡å¼ï¼Œé¿å…ä»¥å‰ç‰ˆæœ¬çš„bugå’Œå±€é™ set nocompatible \u0026quot; è®¾ç½®é€€æ ¼é”®å¯ç”¨ set backspace=2 \u0026quot; utf-8 set encoding=UTF-8 \u0026quot; ä¸»é¢˜ \u0026quot; set background=dark \u0026quot; colorscheme dracula \u0026quot; å‡½æ•°æ–¹æ³•ååŠ ç²— let g:enable_bold_font = 1 \u0026quot; æ³¨é‡Šæ–œä½“ let g:enable_italic_font = 1 \u0026quot; é€æ˜èƒŒæ™¯ let g:hybrid_transparent_background = 1 \u0026quot; airline_theme let g:airline_theme = \u0026quot;hybrid\u0026quot; \u0026quot; è¡Œå· set nu! \u0026quot; é«˜äº®æ˜¾ç¤ºå¯»æ‰¾åŒ¹é… set hls \u0026quot; å…è®¸ç”¨æŒ‡å®šè¯­æ³•é«˜äº®é…è‰²æ–¹æ¡ˆæ›¿æ¢é»˜è®¤æ–¹æ¡ˆ syntax on dracula \u0026quot; å¼€å¯è¯­æ³•é«˜äº® syntax enable \u0026quot; è®¾ç½®åŒ¹é…æ¨¡å¼ (å½“è¾“å…¥ä¸€ä¸ªå·¦æ‹¬å·æ—¶ä¼šåŒ¹é…ç›¸åº”çš„å³æ‹¬å·) set showmatch \u0026quot; æ˜¾ç¤ºå½“å‰å…‰æ ‡ä½ç½® set ruler \u0026quot; ä½¿ç”¨ç³»ç»Ÿå‰ªåˆ‡æ¿ set clipboard=unnamed \u0026quot; è®¾ç½®æ ¼å¼åŒ–æ—¶ä»£ç ç¼©è¿›ä¸º2ä¸ªç©ºæ ¼ set shiftwidth=2 \u0026quot; tabé”®ç¼©è¿›ä¸º4æ ¼å­ set tabstop=2 \u0026quot; æŠŠè¿ç»­æ•°é‡çš„ç©ºæ ¼è§†ä¸ºä¸€ä¸ªåˆ¶è¡¨ç¬¦ set softtabstop=2 \u0026quot; ç¦æ­¢æŠ˜è¡Œ set nowrap \u0026quot; tabé”®è½¬æ¢ä¸ºç©ºæ ¼ set expandtab \u0026quot; æ™ºèƒ½ç¼©è¿› set smartindent \u0026quot; å¼€å¯å®æ—¶æœç´¢åŠŸèƒ½ set incsearch \u0026quot; æœç´¢æ—¶å¤§å°å†™ä¸æ•æ„Ÿ set ignorecase \u0026quot; vim è‡ªèº«å‘½ä»¤è¡Œæ¨¡å¼æ™ºèƒ½è¡¥å…¨ set wildmenu \u0026quot; å¼€å¯æ–‡ä»¶ç±»å‹ä¾¦æµ‹ filetype on \u0026quot; æ ¹æ®ä¾¦æµ‹åˆ°çš„ä¸åŒç±»å‹åŠ è½½å¯¹åº”çš„æ’ä»¶ filetype plugin on \u0026quot; è‡ªé€‚åº”ä¸åŒè¯­è¨€çš„æ™ºèƒ½ç¼©è¿› filetype indent on \u0026quot; å°†åˆ¶è¡¨ç¬¦æ‰©å±•ä¸ºç©ºæ ¼ set nofoldenable \u0026quot; åŸºäºç¼©è¿›æˆ–è¯­æ³•è¿›è¡Œä»£ç æŠ˜å  set foldmethod=syntax \u0026quot; å¯åŠ¨ vim æ—¶å…³é—­æŠ˜å ä»£ç  set nofoldenable \u0026quot; ç¦æ­¢å…‰æ ‡é—ªçƒ set gcr=a:block-blinkon0 \u0026quot; ç¦æ­¢æ˜¾ç¤ºæ»šåŠ¨æ¡ set guioptions-=l set guioptions-=L set guioptions-=r set guioptions-=R \u0026quot; é«˜äº®æ˜¾ç¤ºå½“å‰è¡Œ/åˆ— set cursorline set cursorcolumn \u0026quot; è®©é…ç½®å˜æ›´ç«‹å³ç”Ÿæ•ˆ autocmd BufWritePost $MYVIMRC source $MYVIMRC \u0026quot; normal æ¨¡å¼ keymap nnoremap x \u0026quot;_x nnoremap X \u0026quot;_X nnoremap d \u0026quot;_d nnoremap dd \u0026quot;_dd nnoremap D \u0026quot;_D nnoremap s \u0026quot;_s nnoremap S \u0026quot;_S nnoremap c \u0026quot;_c nnoremap C \u0026quot;_C \u0026quot; insert æ¨¡å¼ inoremap $( ()\u0026lt;esc\u0026gt;i inoremap $\u0026lt; \u0026lt;\u0026gt;\u0026lt;esc\u0026gt;i inoremap ${ {}\u0026lt;esc\u0026gt;i inoremap $[ []\u0026lt;esc\u0026gt;i inoremap $' ''\u0026lt;esc\u0026gt;i inoremap $\u0026quot; \u0026quot;\u0026quot;\u0026lt;esc\u0026gt;i \u0026quot; visual æ¨¡å¼ vnoremap s \u0026quot;_s vnoremap S \u0026quot;_S vnoremap z) c()\u0026lt;esc\u0026gt;hp vnoremap z} c{}\u0026lt;esc\u0026gt;hp vnoremap z] c[]\u0026lt;esc\u0026gt;hp vnoremap z' c''\u0026lt;esc\u0026gt;hp vnoremap z\u0026quot; c\u0026quot;\u0026quot;\u0026lt;esc\u0026gt;hp vnoremap z\u0026gt; c\u0026lt;\u0026gt;\u0026lt;esc\u0026gt;hp vnoremap z` c``\u0026lt;esc\u0026gt;hp \u0026quot; NERDTree let g:NERDTreeIndicatorMapCustom = { \\ \u0026quot;Modified\u0026quot; : \u0026quot;âœ¹\u0026quot;, \\ \u0026quot;Staged\u0026quot; : \u0026quot;âœš\u0026quot;, \\ \u0026quot;Untracked\u0026quot; : \u0026quot;âœ­\u0026quot;, \\ \u0026quot;Renamed\u0026quot; : \u0026quot;âœ\u0026quot;, \\ \u0026quot;Unmerged\u0026quot; : \u0026quot;â•\u0026quot;, \\ \u0026quot;Deleted\u0026quot; : \u0026quot;âœ–\u0026quot;, \\ \u0026quot;Dirty\u0026quot; : \u0026quot;âœ—\u0026quot;, \\ \u0026quot;Clean\u0026quot; : \u0026quot;âœ”ï¸\u0026quot;, \\ \u0026quot;Unknown\u0026quot; : \u0026quot;?\u0026quot; \\ } \u0026quot; è‡ªåŠ¨å¼€å¯NERDTree \u0026quot; autocmd vimenter * NERDTree \u0026quot; UltiSnips let g:UltiSnipsExpandTrigger=\u0026quot;\u0026lt;Leader\u0026gt;\u0026lt;TAB\u0026gt;\u0026quot; let g:UltiSnipsJumpForwardTrigger=\u0026quot;\u0026lt;c-f\u0026gt;\u0026quot; let g:UltiSnipsJumpBackwardTrigger=\u0026quot;\u0026lt;c-b\u0026gt;\u0026quot; \u0026quot;au BufRead,BufNewFile *.go set filetype=go \u0026quot; ycm \u0026quot; let g:ycm_key_list_select_completion=['\u0026lt;c-n\u0026gt;'] \u0026quot; let g:ycm_key_list_previous_completion=['\u0026lt;c-p\u0026gt;'] \u0026quot; let g:ycm_key_invoke_completion = '\u0026lt;C-Space\u0026gt;' \u0026quot; \u0026quot; å…³é—­åŠ è½½.ycm_extra_conf.pyæç¤º \u0026quot; let g:ycm_confirm_extra_conf=0 \u0026quot; \u0026quot; å¼€å¯ YCM åŸºäºæ ‡ç­¾å¼•æ“ \u0026quot; let g:ycm_collect_identifiers_from_tags_files=1 \u0026quot; \u0026quot; ä»ç¬¬2ä¸ªé”®å…¥å­—ç¬¦å°±å¼€å§‹ç½—åˆ—åŒ¹é…é¡¹ \u0026quot; let g:ycm_min_num_of_chars_for_completion=1 \u0026quot; \u0026quot; ç¦æ­¢ç¼“å­˜åŒ¹é…é¡¹,æ¯æ¬¡éƒ½é‡æ–°ç”ŸæˆåŒ¹é…é¡¹ \u0026quot; let g:ycm_cache_omnifunc=0 \u0026quot; \u0026quot; è¯­æ³•å…³é”®å­—è¡¥å…¨ \u0026quot; let g:ycm_seed_identifiers_with_syntax=1 \u0026quot; \u0026quot; è®¾ç½®åœ¨ä¸‹é¢å‡ ç§æ ¼å¼çš„æ–‡ä»¶ä¸Šå±è”½ycm \u0026quot; let g:ycm_filetype_blacklist = { \u0026quot; \\ 'typescript.tsx' : 1, \u0026quot; \\ 'typescript' : 1, \u0026quot; \\} \u0026quot; \u0026quot; æ³¨é‡Šå’Œå­—ç¬¦ä¸²ä¸­çš„æ–‡å­—ä¹Ÿä¼šè¢«æ”¶å…¥è¡¥å…¨ \u0026quot; let g:ycm_collect_identifiers_from_comments_and_strings = 0 \u0026quot; \u0026quot; è¾“å…¥ç¬¬2ä¸ªå­—ç¬¦å¼€å§‹è¡¥å…¨ \u0026quot; let g:ycm_min_num_of_chars_for_completion=2 \u0026quot; æ³¨é‡Š \u0026quot; Add spaces after comment delimiters by default let g:NERDSpaceDelims = 1 \u0026quot; Use compact syntax for prettified multi-line comments let g:NERDCompactSexyComs = 1 \u0026quot; Align line-wise comment delimiters flush left instead of following code indentation let g:NERDDefaultAlign = 'left' \u0026quot; Set a language to use its alternate delimiters by default let g:NERDAltDelims_java = 1 \u0026quot; Add your own custom formats or override the defaults let g:NERDCustomDelimiters = { 'c': { 'left': '/**','right': '*/' } } \u0026quot; Allow commenting and inverting empty lines (useful when commenting a region) let g:NERDCommentEmptyLines = 1 \u0026quot; Enable trimming of trailing whitespace when uncommenting let g:NERDTrimTrailingWhitespace = 1 \u0026quot; Enable NERDCommenterToggle to check all selected lines is commented or not let g:NERDToggleCheckAllLines = 1 \u0026quot; coc let g:coc_global_extensions = [ \\ 'coc-json', \\ 'coc-html', \\ 'coc-css', \\ ] set cmdheight=2 set updatetime=300 set shortmess+=c set signcolumn=yes au BufNewFile,BufRead *.ts setlocal filetype=typescript au BufNewFile,BufRead *.tsx setlocal filetype=typescript.tsx nmap \u0026lt;silent\u0026gt; gd \u0026lt;Plug\u0026gt;(coc-definition) nmap \u0026lt;silent\u0026gt; gy \u0026lt;Plug\u0026gt;(coc-type-definition) nmap \u0026lt;silent\u0026gt; gi \u0026lt;Plug\u0026gt;(coc-implementation) nmap \u0026lt;silent\u0026gt; gr \u0026lt;Plug\u0026gt;(coc-references) nmap \u0026lt;leader\u0026gt;rn \u0026lt;Plug\u0026gt;(coc-rename) nmap \u0026lt;silent\u0026gt; [c \u0026lt;Plug\u0026gt;(coc-diagnostic-prev) nmap \u0026lt;silent\u0026gt; ]c \u0026lt;Plug\u0026gt;(coc-diagnostic-next) nmap \u0026lt;leader\u0026gt;a \u0026lt;Plug\u0026gt;(coc-codeaction-selected) nmap \u0026lt;leader\u0026gt;ac \u0026lt;Plug\u0026gt;(coc-codeaction) nmap \u0026lt;leader\u0026gt;qf \u0026lt;Plug\u0026gt;(coc-fix-current) nmap \u0026lt;silent\u0026gt; \u0026lt;TAB\u0026gt; \u0026lt;Plug\u0026gt;(coc-range-select) xmap \u0026lt;silent\u0026gt; \u0026lt;TAB\u0026gt; \u0026lt;Plug\u0026gt;(coc-range-select) xmap \u0026lt;silent\u0026gt; \u0026lt;S-TAB\u0026gt; \u0026lt;Plug\u0026gt;(coc-range-select-backword) xmap \u0026lt;leader\u0026gt;a \u0026lt;Plug\u0026gt;(coc-codeaction-selected) \u0026quot; æ˜¾ç¤ºæ–‡æ¡£ nnoremap \u0026lt;silent\u0026gt; K :call \u0026lt;SID\u0026gt;show_documentation()\u0026lt;CR\u0026gt; \u0026quot; å›è½¦ï¼šè¡¥å…¨æ¡†?ç¡®è®¤è¡¥å…¨:å›è½¦å¯ä»¥æ’¤å› inoremap \u0026lt;expr\u0026gt; \u0026lt;cr\u0026gt; pumvisible() ? \u0026quot;\\\u0026lt;C-y\u0026gt;\u0026quot; : \u0026quot;\\\u0026lt;C-g\u0026gt;u\\\u0026lt;CR\u0026gt;\u0026quot; \u0026quot; \u0026lt;c-c\u0026gt;è§¦å‘è¡¥å…¨ inoremap \u0026lt;silent\u0026gt;\u0026lt;expr\u0026gt; \u0026lt;c-c\u0026gt; coc#refresh() inoremap \u0026lt;expr\u0026gt;\u0026lt;S-TAB\u0026gt; pumvisible() ? \u0026quot;\\\u0026lt;C-p\u0026gt;\u0026quot; : \u0026quot;\\\u0026lt;C-h\u0026gt;\u0026quot; inoremap \u0026lt;silent\u0026gt;\u0026lt;expr\u0026gt; \u0026lt;TAB\u0026gt; \\ pumvisible() ? \u0026quot;\\\u0026lt;C-n\u0026gt;\u0026quot; : \\ \u0026lt;SID\u0026gt;check_back_space() ? \u0026quot;\\\u0026lt;TAB\u0026gt;\u0026quot; : \\ coc#refresh() \u0026quot; Use `:Format` to format current buffer command! -nargs=0 Format :call CocAction('format') \u0026quot; Use `:Fold` to fold current buffer command! -nargs=? Fold :call CocAction('fold', \u0026lt;f-args\u0026gt;) \u0026quot; set statusline^=%{coc#status()}%{get(b:,'coc_current_function','')} \u0026quot; autocmd CursorHold * silent call CocActionAsync('highlight') function! s:show_documentation() if (index(['vim','help'], \u0026amp;filetype) \u0026gt;= 0) execute 'h '.expand('\u0026lt;cword\u0026gt;') else call CocAction('doHover') endif endfunction function! s:check_back_space() abort let col = col('.') - 1 return !col || getline('.')[col - 1] =~# '\\s' endfunction \u0026quot; -------------------- plug ------------------------ call plug#begin('~/.vim/plugins') Plug 'dracula/vim', { 'as': 'dracula' } Plug 'mhinz/vim-startify' Plug 'SirVer/ultisnips' Plug 'jiangmiao/auto-pairs' Plug 'vim-airline/vim-airline' Plug 'vim-airline/vim-airline-themes' Plug 'scrooloose/nerdcommenter' \u0026quot; NERDTree Plug 'scrooloose/nerdtree' \u0026quot; git Plug 'Xuyuanp/nerdtree-git-plugin' \u0026quot; icon \u0026quot; Plug 'ryanoasis/vim-devicons' \u0026quot; coc \u0026quot; Plug 'neoclide/coc.nvim', {'do': 'yarn install --frozen-lockfile' } \u0026quot; golang \u0026quot; Plug 'fatih/vim-go' \u0026quot; typescript \u0026quot; Plug 'leafgarland/typescript-vim', {'for': ['typescript', 'typescript.tsx', 'js']} \u0026quot; prettier \u0026quot;Plug 'prettier/vim-prettier', { \u0026quot; \\ 'do': 'yarn install', \u0026quot; \\ 'for': ['javascript', 'typescript', 'css', 'less', 'scss', 'json', 'graphql', 'markdown', 'vue', 'yaml', 'html'] } \u0026quot;Plug 'Valloric/YouCompleteMe' call plug#end() \u0026quot; æ›¿æ¢å‡½æ•° \u0026quot; å‚æ•°è¯´æ˜ï¼š \u0026quot; confirmï¼šæ˜¯å¦æ›¿æ¢å‰é€ä¸€ç¡®è®¤ \u0026quot; wholewordï¼šæ˜¯å¦æ•´è¯åŒ¹é… \u0026quot; replaceï¼šè¢«æ›¿æ¢å­—ç¬¦ä¸² function! Replace(confirm, wholeword, replace) wa let flag = '' if a:confirm let flag .= 'gec' else let flag .= 'ge' endif let search = '' if a:wholeword let search .= '\\\u0026lt;' . escape(expand('\u0026lt;cword\u0026gt;'), '/\\.*$^~[') . '\\\u0026gt;' else let search .= expand('\u0026lt;cword\u0026gt;') endif let replace = escape(a:replace, '/\\\u0026amp;~') execute 'argdo %s/' . search . '/' . replace . '/' . flag . '| update' endfunction \u0026quot; ä¸ç¡®è®¤ã€éæ•´è¯ nnoremap \u0026lt;Leader\u0026gt;R :call Replace(0, 0, input('Replace '.expand('\u0026lt;cword\u0026gt;').' with: '))\u0026lt;CR\u0026gt; \u0026quot; ä¸ç¡®è®¤ã€æ•´è¯ nnoremap \u0026lt;Leader\u0026gt;rw :call Replace(0, 1, input('Replace '.expand('\u0026lt;cword\u0026gt;').' with: '))\u0026lt;CR\u0026gt; \u0026quot; ç¡®è®¤ã€éæ•´è¯ nnoremap \u0026lt;Leader\u0026gt;rc :call Replace(1, 0, input('Replace '.expand('\u0026lt;cword\u0026gt;').' with: '))\u0026lt;CR\u0026gt; \u0026quot; ç¡®è®¤ã€æ•´è¯ nnoremap \u0026lt;Leader\u0026gt;rcw :call Replace(1, 1, input('Replace '.expand('\u0026lt;cword\u0026gt;').' with: '))\u0026lt;CR\u0026gt; nnoremap \u0026lt;Leader\u0026gt;rwc :call Replace(1, 1, input('Replace '.expand('\u0026lt;cword\u0026gt;').' with: '))\u0026lt;CR\u0026gt;  ","id":27,"section":"posts","summary":"\u0026quot; .vimrc \u0026quot; Configuration file for vim set modelines=0 \u0026quot; Don't write backup file if vim is being called by \u0026quot;crontab -e\u0026quot; \u0026quot; au BufWrite /private/tmp/crontab.* set nowritebackup nobackup \u0026quot; Don't write backup file if vim is being called by \u0026quot;chpass\u0026quot; \u0026quot; au BufWrite /private/etc/pw.* set nowritebackup nobackup set nobackup set nowritebackup let skip_defaults_vim=1 \u0026quot; \u0026lt;leader\u0026gt; let g:mapleader=\u0026quot;,\u0026quot; \u0026quot; å»æ‰æœ‰å…³viä¸€è‡´æ€§æ¨¡å¼","tags":["vim"],"title":"vimrc","uri":"https://rx-78-kum0.github.io/2019/06/vimrc/","year":"2019"},{"content":" golang æ¥å£å€¼: ä¸€ä¸ªåŒ…å« nil æŒ‡é’ˆçš„æ¥å£ä¸æ˜¯ nil æ¥å£.\nä¸€ä¸ªä¸åŒ…å«ä»»ä½•å€¼çš„ nil æ¥å£å€¼å’Œä¸€ä¸ªåˆšå¥½åŒ…å« nil æŒ‡é’ˆçš„æ¥å£å€¼æ˜¯ä¸åŒçš„.\n æ¥å£å€¼ç”±ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆ:\n ä¸€ä¸ªå…·ä½“çš„ç±»å‹ é‚£ä¸ªç±»å‹çš„å€¼  å®ƒä»¬è¢«ç§°ä¸ºæ¥å£çš„åŠ¨æ€ç±»å‹å’ŒåŠ¨æ€å€¼.\n   type value     x x    æ¥å£çš„é›¶å€¼æ˜¯æŒ‡åŠ¨æ€ç±»å‹ä¸ºnil, åŠ¨æ€å€¼ä¹Ÿä¸ºnil.\n   type value     nil nil    è¿™æ ·çš„æ¥å£æ‰èƒ½æ»¡è¶³ æ¥å£å€¼ == nil.\nvar a interface{} fmt.Println(a == nil) // true  ä¸€ä¸ªä¸åŒ…å«ä»»ä½•å€¼çš„ nil æ¥å£å€¼: interface ç±»å‹å˜é‡çš„åŠ¨æ€ç±»å‹å’ŒåŠ¨æ€å€¼éƒ½ä¸º nil. æ¯”å¦‚ nil, æˆ–è€…:\nvar a interface{} fmt.Println(a) // aä¸ºnil  ä¸€ä¸ªåˆšå¥½åŒ…å« nil æŒ‡é’ˆçš„æ¥å£å€¼: èµ‹å€¼ç»™åï¼Œinterface ç±»å‹å˜é‡çš„åŠ¨æ€ç±»å‹ä¸ä¸º nilï¼ŒåŠ¨æ€å€¼ä¸º nil.\nvar a interface{} var b *string a = b fmt.Println(a) // æ­¤æ—¶açš„åŠ¨æ€ç±»å‹ä¸º*stringï¼ŒåŠ¨æ€å€¼ä¸ºnil  è¿™ä¸¤ç§å¯¹è±¡æ¯”è¾ƒ: func main(){ var a interface{} // nil var b *string // nil a = b fmt.Println(a == nil) // false fmt.Println(b == nil) // true fmt.Println(b == a) // true }    a = nil ä¸º false: b èµ‹å€¼ç»™ a, a çš„åŠ¨æ€ç±»å‹ä¸º *string, åŠ¨æ€å€¼ä¸º nil, æ‰€ä»¥ a = nil ä¸º false.\n// ç©ºæ¥å£ type eface struct { _type *_type // ç±»å‹ä¿¡æ¯ data unsafe.Pointer // æŒ‡å‘æ•°æ®çš„æŒ‡é’ˆ } // å¸¦æœ‰æ–¹æ³•çš„æ¥å£ type iface struct { tab *itab // å­˜å‚¨typeä¿¡æ¯è¿˜æœ‰ç»“æ„å®ç°æ–¹æ³•çš„é›†åˆ data unsafe.Pointer // æŒ‡å‘æ•°æ®çš„æŒ‡é’ˆ }    æ ¹æ® interface çš„åº•å±‚å®ç°, a = b å®åˆ™æ˜¯ a.data = unsafe.Pointer(\u0026amp;b). a = nil æ‰æ˜¯ a.data = nil.\n  b == nil ä¸º true: b æ˜¯ä¸€ä¸ªç©ºçš„æŒ‡é’ˆ(éæ¥å£)ç±»å‹.\n  b == a ä¸º true: å€¼éƒ½ä¸º nil, b æ˜¯ä¸€ä¸ªç©ºçš„æŒ‡é’ˆ(éæ¥å£)ç±»å‹.\n  ","id":28,"section":"posts","summary":"golang æ¥å£å€¼: ä¸€ä¸ªåŒ…å« nil æŒ‡é’ˆçš„æ¥å£ä¸æ˜¯ nil æ¥å£. ä¸€ä¸ªä¸åŒ…å«ä»»ä½•å€¼çš„ nil æ¥å£å€¼å’Œä¸€ä¸ªåˆšå¥½åŒ…å« nil æŒ‡é’ˆçš„æ¥å£å€¼æ˜¯ä¸åŒçš„. æ¥å£å€¼ç”±ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆ: ä¸€ä¸ªå…·ä½“çš„ç±»","tags":["golang"],"title":"ä¸€ä¸ªåŒ…å« nil æŒ‡é’ˆçš„æ¥å£ä¸æ˜¯ nil æ¥å£","uri":"https://rx-78-kum0.github.io/2019/03/%E4%B8%80%E4%B8%AA%E5%8C%85%E5%90%AB-nil-%E6%8C%87%E9%92%88%E7%9A%84%E6%8E%A5%E5%8F%A3%E4%B8%8D%E6%98%AF-nil-%E6%8E%A5%E5%8F%A3/","year":"2019"},{"content":"{ // editor \u0026quot;editor.fontSize\u0026quot;: 14, \u0026quot;editor.snippetSuggestions\u0026quot;: \u0026quot;top\u0026quot;, \u0026quot;editor.formatOnSave\u0026quot;: true, \u0026quot;explorer.confirmDragAndDrop\u0026quot;: true, \u0026quot;explorer.confirmDelete\u0026quot;: false, \u0026quot;editor.detectIndentation\u0026quot;: false, \u0026quot;files.autoSave\u0026quot;: \u0026quot;off\u0026quot;, // \u0026quot;editor.fontFamily\u0026quot;: \u0026quot;'FuraCode', Menlo, Monaco, 'Courier New', monospace\u0026quot;, \u0026quot;editor.fontLigatures\u0026quot;: true, \u0026quot;workbench.iconTheme\u0026quot;: \u0026quot;material-icon-theme\u0026quot;, \u0026quot;workbench.colorTheme\u0026quot;: \u0026quot;Nebula\u0026quot;, // prettier \u0026quot;prettier.printWidth\u0026quot;: 120, \u0026quot;editor.tabSize\u0026quot;: 2, \u0026quot;prettier.singleQuote\u0026quot;: true, \u0026quot;prettier.semi\u0026quot;: true, // typescript \u0026quot;typescript.updateImportsOnFileMove.enabled\u0026quot;: \u0026quot;always\u0026quot;, // emmet \u0026quot;emmet.includeLanguages\u0026quot;: { \u0026quot;javascript\u0026quot;: \u0026quot;javascriptreact\u0026quot;, \u0026quot;typescript\u0026quot;: \u0026quot;typescriptreact\u0026quot; }, \u0026quot;emmet.triggerExpansionOnTab\u0026quot;: true, // è£…é¥°å™¨ \u0026quot;javascript.implicitProjectConfig.experimentalDecorators\u0026quot;: true, // stylus \u0026quot;stylusSupremacy.insertColons\u0026quot;: false, // æ˜¯å¦æ’å…¥å†’å· \u0026quot;stylusSupremacy.insertSemicolons\u0026quot;: false, // æ˜¯å¦æ’å…¥åˆ†å¥½ \u0026quot;stylusSupremacy.insertBraces\u0026quot;: false, // æ˜¯å¦æ’å…¥å¤§æ‹¬å· \u0026quot;stylusSupremacy.insertNewLineAroundImports\u0026quot;: true, // importä¹‹åæ˜¯å¦æ¢è¡Œ \u0026quot;stylusSupremacy.insertNewLineAroundBlocks\u0026quot;: true, \u0026quot;stylusSupremacy.insertSpaceAfterComment\u0026quot;: true, \u0026quot;window.zoomLevel\u0026quot;: 0, // Formatter \u0026quot;[javascript]\u0026quot;: { \u0026quot;editor.defaultFormatter\u0026quot;: \u0026quot;vscode.typescript-language-features\u0026quot; }, \u0026quot;[typescript]\u0026quot;: { \u0026quot;editor.defaultFormatter\u0026quot;: \u0026quot;esbenp.prettier-vscode\u0026quot; }, \u0026quot;[json]\u0026quot;: { \u0026quot;editor.defaultFormatter\u0026quot;: \u0026quot;esbenp.prettier-vscode\u0026quot; }, \u0026quot;[jsonc]\u0026quot;: { \u0026quot;editor.defaultFormatter\u0026quot;: \u0026quot;esbenp.prettier-vscode\u0026quot; }, \u0026quot;[typescriptreact]\u0026quot;: { \u0026quot;editor.defaultFormatter\u0026quot;: \u0026quot;esbenp.prettier-vscode\u0026quot; }, \u0026quot;[html]\u0026quot;: { \u0026quot;editor.defaultFormatter\u0026quot;: \u0026quot;esbenp.prettier-vscode\u0026quot; }, \u0026quot;search.followSymlinks\u0026quot;: false, // vim \u0026quot;vim.useSystemClipboard\u0026quot;: true, \u0026quot;vim.hlsearch\u0026quot;: true, \u0026quot;vim.smartcase\u0026quot;: true, \u0026quot;vim.leader\u0026quot;: \u0026quot;,\u0026quot;, \u0026quot;vim.highlightedyank.enable\u0026quot;: true, \u0026quot;vim.highlightedyank.duration\u0026quot;: 1000, \u0026quot;vim.highlightedyank.color\u0026quot;: \u0026quot;rgba(250, 240, 170, 0.5)\u0026quot;, \u0026quot;vim.history\u0026quot;: 100, // \u0026quot;vim.cursorStylePerMode.insert\u0026quot;: \u0026quot;line\u0026quot;, // \u0026quot;vim.cursorStylePerMode.normal\u0026quot;: \u0026quot;underline\u0026quot;, // \u0026quot;vim.cursorStylePerMode.replace\u0026quot;: \u0026quot;underline\u0026quot;, // \u0026quot;vim.cursorStylePerMode.visual\u0026quot;: \u0026quot;blink\u0026quot;, // \u0026quot;vim.cursorStylePerMode.visualblock\u0026quot;: \u0026quot;blink\u0026quot;, // \u0026quot;vim.cursorStylePerMode.visualline\u0026quot;: \u0026quot;underline\u0026quot;, \u0026quot;vim.easymotion\u0026quot;: true, \u0026quot;vim.easymotionMarkerFontSize\u0026quot;: \u0026quot;16\u0026quot;, \u0026quot;vim.easymotionMarkerHeight\u0026quot;: 16, \u0026quot;vim.easymotionMarkerWidthPerChar\u0026quot;: 9, \u0026quot;vim.normalModeKeyBindings\u0026quot;: [], \u0026quot;vim.normalModeKeyBindingsNonRecursive\u0026quot;: [ { \u0026quot;before\u0026quot;: [\u0026quot;d\u0026quot;], \u0026quot;after\u0026quot;: [\u0026quot;\\\u0026quot;\u0026quot;, \u0026quot;_\u0026quot;, \u0026quot;d\u0026quot;] }, { \u0026quot;before\u0026quot;: [\u0026quot;d\u0026quot;, \u0026quot;d\u0026quot;], \u0026quot;after\u0026quot;: [\u0026quot;\\\u0026quot;\u0026quot;, \u0026quot;_\u0026quot;, \u0026quot;d\u0026quot;, \u0026quot;d\u0026quot;] }, { \u0026quot;before\u0026quot;: [\u0026quot;D\u0026quot;], \u0026quot;after\u0026quot;: [\u0026quot;\\\u0026quot;\u0026quot;, \u0026quot;_\u0026quot;, \u0026quot;D\u0026quot;] }, { \u0026quot;before\u0026quot;: [\u0026quot;t\u0026quot;], \u0026quot;after\u0026quot;: [\u0026quot;\\\u0026quot;\u0026quot;, \u0026quot;_\u0026quot;, \u0026quot;x\u0026quot;] }, { \u0026quot;before\u0026quot;: [\u0026quot;X\u0026quot;], \u0026quot;after\u0026quot;: [\u0026quot;\\\u0026quot;\u0026quot;, \u0026quot;_\u0026quot;, \u0026quot;X\u0026quot;] }, { \u0026quot;before\u0026quot;: [\u0026quot;s\u0026quot;], \u0026quot;after\u0026quot;: [\u0026quot;\\\u0026quot;\u0026quot;, \u0026quot;_\u0026quot;, \u0026quot;s\u0026quot;] }, { \u0026quot;before\u0026quot;: [\u0026quot;S\u0026quot;], \u0026quot;after\u0026quot;: [\u0026quot;\\\u0026quot;\u0026quot;, \u0026quot;_\u0026quot;, \u0026quot;S\u0026quot;] }, { \u0026quot;before\u0026quot;: [\u0026quot;c\u0026quot;], \u0026quot;after\u0026quot;: [\u0026quot;\\\u0026quot;\u0026quot;, \u0026quot;_\u0026quot;, \u0026quot;c\u0026quot;] }, { \u0026quot;before\u0026quot;: [\u0026quot;C\u0026quot;], \u0026quot;after\u0026quot;: [\u0026quot;\\\u0026quot;\u0026quot;, \u0026quot;_\u0026quot;, \u0026quot;C\u0026quot;] } ], \u0026quot;vim.visualModeKeyBindings\u0026quot;: [ { \u0026quot;before\u0026quot;: [\u0026quot;s\u0026quot;], \u0026quot;after\u0026quot;: [\u0026quot;\\\u0026quot;\u0026quot;, \u0026quot;_\u0026quot;, \u0026quot;s\u0026quot;] }, { \u0026quot;before\u0026quot;: [\u0026quot;S\u0026quot;], \u0026quot;after\u0026quot;: [\u0026quot;\\\u0026quot;\u0026quot;, \u0026quot;_\u0026quot;, \u0026quot;S\u0026quot;] }, { \u0026quot;before\u0026quot;: [\u0026quot;z\u0026quot;, \u0026quot;)\u0026quot;], \u0026quot;after\u0026quot;: [\u0026quot;c\u0026quot;, \u0026quot;(\u0026quot;, \u0026quot;)\u0026quot;, \u0026quot;\u0026lt;Esc\u0026gt;\u0026quot;, \u0026quot;h\u0026quot;, \u0026quot;p\u0026quot;] }, { \u0026quot;before\u0026quot;: [\u0026quot;z\u0026quot;, \u0026quot;}\u0026quot;], \u0026quot;after\u0026quot;: [\u0026quot;c\u0026quot;, \u0026quot;{\u0026quot;, \u0026quot;}\u0026quot;, \u0026quot;\u0026lt;Esc\u0026gt;\u0026quot;, \u0026quot;h\u0026quot;, \u0026quot;p\u0026quot;] }, { \u0026quot;before\u0026quot;: [\u0026quot;z\u0026quot;, \u0026quot;]\u0026quot;], \u0026quot;after\u0026quot;: [\u0026quot;c\u0026quot;, \u0026quot;[\u0026quot;, \u0026quot;]\u0026quot;, \u0026quot;\u0026lt;Esc\u0026gt;\u0026quot;, \u0026quot;h\u0026quot;, \u0026quot;p\u0026quot;] }, { \u0026quot;before\u0026quot;: [\u0026quot;z\u0026quot;, \u0026quot;'\u0026quot;], \u0026quot;after\u0026quot;: [\u0026quot;c\u0026quot;, \u0026quot;'\u0026quot;, \u0026quot;'\u0026quot;, \u0026quot;\u0026lt;Esc\u0026gt;\u0026quot;, \u0026quot;h\u0026quot;, \u0026quot;p\u0026quot;] }, { \u0026quot;before\u0026quot;: [\u0026quot;z\u0026quot;, \u0026quot;\\\u0026quot;\u0026quot;], \u0026quot;after\u0026quot;: [\u0026quot;c\u0026quot;, \u0026quot;\\\u0026quot;\u0026quot;, \u0026quot;\\\u0026quot;\u0026quot;, \u0026quot;\u0026lt;Esc\u0026gt;\u0026quot;, \u0026quot;h\u0026quot;, \u0026quot;p\u0026quot;] }, { \u0026quot;before\u0026quot;: [\u0026quot;z\u0026quot;, \u0026quot;\u0026gt;\u0026quot;], \u0026quot;after\u0026quot;: [\u0026quot;c\u0026quot;, \u0026quot;\u0026lt;\u0026quot;, \u0026quot;\u0026gt;\u0026quot;, \u0026quot;\u0026lt;Esc\u0026gt;\u0026quot;, \u0026quot;h\u0026quot;, \u0026quot;p\u0026quot;] }, { \u0026quot;before\u0026quot;: [\u0026quot;z\u0026quot;, \u0026quot;`\u0026quot;], \u0026quot;after\u0026quot;: [\u0026quot;c\u0026quot;, \u0026quot;`\u0026quot;, \u0026quot;`\u0026quot;, \u0026quot;\u0026lt;Esc\u0026gt;\u0026quot;, \u0026quot;h\u0026quot;, \u0026quot;p\u0026quot;] } ], \u0026quot;vim.handleKeys\u0026quot;: { \u0026quot;\u0026lt;C-a\u0026gt;\u0026quot;: false, \u0026quot;\u0026lt;C-f\u0026gt;\u0026quot;: false } }  ","id":29,"section":"posts","summary":"{ // editor \u0026quot;editor.fontSize\u0026quot;: 14, \u0026quot;editor.snippetSuggestions\u0026quot;: \u0026quot;top\u0026quot;, \u0026quot;editor.formatOnSave\u0026quot;: true, \u0026quot;explorer.confirmDragAndDrop\u0026quot;: true, \u0026quot;explorer.confirmDelete\u0026quot;: false, \u0026quot;editor.detectIndentation\u0026quot;: false, \u0026quot;files.autoSave\u0026quot;: \u0026quot;off\u0026quot;, // \u0026quot;editor.fontFamily\u0026quot;: \u0026quot;'FuraCode', Menlo, Monaco, 'Courier New', monospace\u0026quot;, \u0026quot;editor.fontLigatures\u0026quot;: true, \u0026quot;workbench.iconTheme\u0026quot;: \u0026quot;material-icon-theme\u0026quot;, \u0026quot;workbench.colorTheme\u0026quot;: \u0026quot;Nebula\u0026quot;, // prettier \u0026quot;prettier.printWidth\u0026quot;: 120, \u0026quot;editor.tabSize\u0026quot;: 2, \u0026quot;prettier.singleQuote\u0026quot;: true, \u0026quot;prettier.semi\u0026quot;: true, // typescript \u0026quot;typescript.updateImportsOnFileMove.enabled\u0026quot;: \u0026quot;always\u0026quot;, // emmet \u0026quot;emmet.includeLanguages\u0026quot;: { \u0026quot;javascript\u0026quot;: \u0026quot;javascriptreact\u0026quot;, \u0026quot;typescript\u0026quot;: \u0026quot;typescriptreact\u0026quot; }, \u0026quot;emmet.triggerExpansionOnTab\u0026quot;: true, // è£…é¥°å™¨ \u0026quot;javascript.implicitProjectConfig.experimentalDecorators\u0026quot;: true, // stylus \u0026quot;stylusSupremacy.insertColons\u0026quot;: false, // æ˜¯å¦æ’","tags":["vscode"],"title":"vscode","uri":"https://rx-78-kum0.github.io/2019/03/vscode/","year":"2019"}],"tags":[{"title":"angular","uri":"https://rx-78-kum0.github.io/tags/angular/"},{"title":"css","uri":"https://rx-78-kum0.github.io/tags/css/"},{"title":"docker","uri":"https://rx-78-kum0.github.io/tags/docker/"},{"title":"emacs","uri":"https://rx-78-kum0.github.io/tags/emacs/"},{"title":"golang","uri":"https://rx-78-kum0.github.io/tags/golang/"},{"title":"helloworld","uri":"https://rx-78-kum0.github.io/tags/helloworld/"},{"title":"mac","uri":"https://rx-78-kum0.github.io/tags/mac/"},{"title":"mysql","uri":"https://rx-78-kum0.github.io/tags/mysql/"},{"title":"nasm","uri":"https://rx-78-kum0.github.io/tags/nasm/"},{"title":"shell","uri":"https://rx-78-kum0.github.io/tags/shell/"},{"title":"tools","uri":"https://rx-78-kum0.github.io/tags/tools/"},{"title":"typescript","uri":"https://rx-78-kum0.github.io/tags/typescript/"},{"title":"vim","uri":"https://rx-78-kum0.github.io/tags/vim/"},{"title":"vscode","uri":"https://rx-78-kum0.github.io/tags/vscode/"},{"title":"web","uri":"https://rx-78-kum0.github.io/tags/web/"},{"title":"æ“ä½œç³»ç»Ÿ","uri":"https://rx-78-kum0.github.io/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"},{"title":"æ±‡ç¼–","uri":"https://rx-78-kum0.github.io/tags/%E6%B1%87%E7%BC%96/"},{"title":"ç”Ÿæ´»","uri":"https://rx-78-kum0.github.io/tags/%E7%94%9F%E6%B4%BB/"}]}