<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>elispæ–‡æ¡£ | è°Ÿæ¶…æ‘©ç»ªæ¶…ğŸ“–</title>
<meta name="keywords" content="emacs" />
<meta name="description" content="emacs lisp æŒ‡å—">
<meta name="author" content="zakudriver">
<link rel="canonical" href="https://zakudriver.github.io/posts/elisp%E6%96%87%E6%A1%A3/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.d9015f4cb657fd3539b79b29ffbd11de4175ccd105ad7591beffaadfafb48488.css" integrity="sha256-2QFfTLZX/TU5t5sp/70R3kF1zNEFrXWRvv&#43;q36&#43;0hIg=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.27cd435cc9ed6abb4b496581b151804f79f366c412620272bb94e2f5f598ebcc.js" integrity="sha256-J81DXMntartLSWWBsVGAT3nzZsQSYgJyu5Ti9fWY68w="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://zakudriver.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://zakudriver.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://zakudriver.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://zakudriver.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://zakudriver.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.80.0" />
<meta property="og:title" content="elispæ–‡æ¡£" />
<meta property="og:description" content="emacs lisp æŒ‡å—" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zakudriver.github.io/posts/elisp%E6%96%87%E6%A1%A3/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-07-25T00:00:00&#43;08:00" />
<meta property="article:modified_time" content="2022-07-22T10:14:38&#43;08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="elispæ–‡æ¡£"/>
<meta name="twitter:description" content="emacs lisp æŒ‡å—"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://zakudriver.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "elispæ–‡æ¡£",
      "item": "https://zakudriver.github.io/posts/elisp%E6%96%87%E6%A1%A3/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "elispæ–‡æ¡£",
  "name": "elispæ–‡æ¡£",
  "description": "emacs lisp æŒ‡å—",
  "keywords": [
    "emacs"
  ],
  "articleBody": "æœ‰ä¸‰ç§æ–¹å¼å¯ä»¥åŠ è½½æ–‡ä»¶ï¼š  load autoload require  ä½¿ç”¨eval-after-loadå¯ä»¥æ¨è¿Ÿä¸€æ®µä»£ç çš„æ‰§è¡Œ (eval-after-load â€œè§¦å‘æ¡ä»¶çš„æ–‡ä»¶â€ å¾…æ‰§è¡Œçš„ä»£ç ) è¿™é‡Œï¼Œç¬¬ä¸€ä¸ªå‚æ•°çš„å€¼å¿…é¡»è·Ÿä¸Šé¢ä¸‰ç§æ–¹å¼åŠ è½½æ–‡ä»¶æ—¶çš„å€¼ä¸€æ¨¡ä¸€æ ·\nemacsä¸­çš„å˜é‡ä½œç”¨åŸŸ buffer-localå˜é‡ å£°æ˜buffer-localå˜é‡  make-variable-buffer-local  å„ä¸ªç¼“å†²åŒºéƒ½æœ‰å„è‡ªçš„buffer-localå˜é‡\n make-local-variable  å½“å‰ç¼“å†²åŒºäº§ç”Ÿä¸€ä¸ªå±€éƒ¨å˜é‡,å…¶ä»–ç¼“å†²åŒºä»ç„¶ä½¿ç”¨å…¨å±€å˜é‡(æ¨èä½¿ç”¨)\nbufferç›¸å…³å‡½æ•°    with-current-buffer\n;ä½¿å…¶ä¸­çš„bodyè¡¨è¾¾å¼åœ¨æŒ‡å®šçš„ç¼“å†²åŒºé‡Œæ‰§è¡Œ(ä½¿ç”¨æŒ‡å®šbufferçš„é…ç½®ä¿¡æ¯æ‰§è¡Œbodyè¡¨è¾¾å¼) (with-current-buffer buffer body)      get-buffer\n;å¾—åˆ°ç¼“å†²åŒºåå­—çš„å¯¹åº”ç¼“å†²åŒºå¯¹è±¡,å¦‚æœæ²¡æœ‰è¿™ä¸ªåå­—çš„ç¼“å†²åŒº,è¿”å›nil (get-buffer buffer-name)      default-value\n;è®¿é—®ç¬¦å·çš„å…¨å±€å˜é‡çš„å€¼ (default-value symbol)      setq-default\n;ä¿®æ”¹ç¬¦å·ä½œä¸ºå…¨å±€å˜é‡çš„å€¼ (setq-default symbol-name)      local-variable-p\n;æµ‹è¯•å˜é‡æ˜¯ä¸æ˜¯buffer-localçš„ (local-variable-p symbol [bufferå¯¹è±¡])      buffer-local-value\n;å¾—åˆ°å…¶ä»–ç¼“å†²åŒºå†…çš„buffer-localå˜é‡å€¼ (buffer-local-value ç¬¦å· bufferå¯¹è±¡)      default-boundp\n;åˆ¤æ–­ç¬¦å·æ˜¯å¦æœ‰å…¨å±€å€¼ (default-boundp ç¬¦å·)      makunbound\n;ä½¿ä¸€ä¸ªå˜é‡çš„å€¼é‡æ–°ä¸ºç©º (makunbound ç¬¦å·)      kill-local-variable\n;æ¸…é™¤ä¸€ä¸ªbuffer-localå˜é‡ (kill-local-variable ç¬¦å·)      kill-all-local-variables\n;æ¸…é™¤æ‰€æœ‰çš„buffer-localå˜é‡,ä½†æ˜¯å¸¦æœ‰å±æ€§permanent-localçš„ä¸ä¼šæ¸…é™¤,å¸¦æœ‰è¿™äº›æ ‡è®°çš„å˜é‡ä¸€èˆ¬éƒ½æ˜¯å’Œç¼“å†²åŒºæ¨¡å¼æ— å…³çš„ (kill-all-local-variables)   æ–‡ä»¶ä¸­çš„æœ¬åœ°å˜é‡åˆ—è¡¨  â€œæœ¬åœ°å˜é‡åˆ—è¡¨\"å¯ä»¥ä½äºä»»ä½•æ–‡ä»¶çš„ç»“å°¾ä½ç½®,å®ƒçš„å½¢å¼å¦‚ä¸‹æ‰€ç¤º   Local variables: var1 : value1 var2 : value2 ... eval : form1 eval : form2 ... End: è¿™é‡Œå®šä¹‰çš„varè‡ªåŠ¨æ˜¯buffer-localçš„,ç±»ä¼¼å®ä¸€æ ·,valueè¢«è®¤ä¸ºæ˜¯è¢«å¼•ç”¨çš„ è¿™é‡Œçš„formåˆ™ä¼šè‡ªåŠ¨æ‰§è¡Œ.\n å¯ä»¥é€šè¿‡åœ¨.emacsä¸­åŠ å…¥   (setq enable-local-variables 'query) æ¥é˜»æ­¢\"æœ¬åœ°å˜é‡åˆ—è¡¨\"ç”Ÿæ•ˆ\nå˜é‡æœ¬åœ°åŒ–  æ™®é€šå˜é‡é€šè¿‡make-localvariableæˆ–make-variable-buffer-localå˜ä¸ºbufferï¼localçš„ make-variable-buffer-localä½¿æŒ‡å®šçš„å˜é‡åœ¨æ¯ä¸ªbufferä¸­éƒ½æ˜¯ç‹¬ç«‹çš„ make-local-variableä½¿å˜é‡åœ¨å½“å‰bufferæ˜¯ç‹¬ç«‹çš„ï¼Œè€Œå…¶ä»–bufferä¾ç„¶å…±äº«å…¨å±€å˜é‡ hookå˜é‡æ™ºèƒ½é€šè¿‡make-local-hookå˜ä¸ºbuffer-localçš„  elispä¸­çš„æ•°æ®ç±»å‹ Number Integer æ ¹æ®æœºå™¨çš„ä¸åŒ,Integeræœ‰ä¸åŒçš„åŒºé—´(åˆ†åˆ«ç”±å˜é‡most-positive-fixnumå’Œmost-negative-fixnumæ¥æŒ‡ç¤º). ä½†elispè§„å®šæœ€å°‘çš„èŒƒå›´æ˜¯ä»-536870912åˆ°536870911.\nä»»ä½•è¶…è¿‡IntegerèŒƒå›´çš„å€¼éƒ½è®¤ä¸ºæ˜¯Floatå‹\né»˜è®¤,Integerç”¨10è¿›åˆ¶æ¥è¡¨ç¤ºæ•°,ä½†ä¹Ÿå¯ä»¥ç”¨\n #bNNNNè¡¨ç¤ºäºŒè¿›åˆ¶æ•° #oNNNNè¡¨ç¤ºå…«è¿›åˆ¶æ•° #xNNNNè¡¨ç¤ºåå…­è¿›åˆ¶æ•° #MrNNNNè¡¨ç¤ºMè¿›åˆ¶çš„æ•°  Float Elispä¸­Floatçš„å–å€¼èŒƒå›´ä¸Cä¸­çš„doubleå‹ä¸€æ ·.\nFloatä½¿ç”¨INFè¡¨ç¤ºæ— ç©·å¤§. Floatè¿˜æœ‰ä¸€ä¸ªç‰¹æ®Šå€¼åä¸ºNaN. å½“æ•°å­¦å‡½æ•°è®¡ç®—éæ³•è¡¨è¾¾å¼æ—¶ä¼šè¿”å›è¯¥å€¼.\n(/ 0 0.0) ;-0.0e+NaN (/ -0 0.0) ;-0.0e+NaN (/ 1 0.0) ;1.0e+INF (/ -1 0.0) ;-1.0e+INF    ç›¸å…³å‡½æ•°\n  åˆ¤æ–­æ˜¯å¦ä¸ºNAN\n(isnan x)\n  (frexp x)\nè¿”å›ä¸€ä¸ªå…ƒç»„(S . E),ä½¿å¾—S*2^E == x,Sçš„å€¼åœ¨[0.5 1)\n  (ldexp S E)\nè¿”å›Floatå€¼x ä½¿å¾—x == S*2^E\n  (copysign x1 x2)\nå‡è®¾x1 = S1*2^E1, x2 = S2*2^E2,åˆ™è¿”å›S1*2^E2çš„å€¼\n  (logb x)\nè¿”å›log2(x)çš„å€¼,å‘ä¸‹å–æ•´. ä¾‹å¦‚(logb 10) = 3\n    Sequence   è·å–sequenceçš„é•¿åº¦\n(length mySequence)\n  éœ€è¦æ³¨æ„çš„æ˜¯lengthä¸èƒ½å¯¹ç‚¹åˆ—è¡¨å’Œç¯å½¢åˆ—è¡¨æ±‚é•¿åº¦,ä½†æ˜¯å¯ä»¥ç”¨safe-lengthä»£æ›¿\nArray é™¤äº†char-tableä¹‹å¤–,åˆ›å»ºå…¶ä»–ç±»å‹çš„Arrayéƒ½éœ€è¦æŒ‡å®šä¸€ä¸ªå›ºå®šé•¿åº¦.\nchar-tableçš„é•¿åº¦æ˜¯ç”±character codeçš„èŒƒå›´æ‰€å†³å®šçš„,ä¸èƒ½äººå·¥æŒ‡å®š\n   vector\nvecotræ˜¯sequenceçš„ä¸€ä¸ªå­ç±»å‹\n  å¦‚ä½•åˆ›å»ºä¸€ä¸ªvector\n ä½¿ç”¨å­—é¢é‡è¯­æ³•:[val1 val2 val3â€¦]    ä½¿ç”¨å‡½æ•°(vector val1 val2 val3â€¦)\n  è·å–vectorçš„é•¿åº¦\n  (length myVector)\n è·å–element  (elt mySeq index) # indexä»0å¼€å§‹\n è®¾ç½®element  (aset mySeq index value)\n å°†å¤šä¸ªSequenceç»„åˆæˆä¸€ä¸ªvector  (voncat seq1 seq2 â€¦)\n å°†vectorè½¬æ¢æˆlist  (append myVector nil)\n     bool-vector\n bool-vectoråªèƒ½å­˜æ”¾nilæˆ–t bool-vectorçš„è¾“å‡ºæ ¼å¼ä¸å­—ç¬¦ä¸²ç±»ä¼¼,ä½†åœ¨å‰é¢åŠ ä¸Š`#\u0026é•¿åº¦`ä½œä¸ºæ ‡è¯†: #\u0026é•¿åº¦\"å†…å®¹\" ;è¿™é‡Œçš„é•¿åº¦è¡¨ç¤ºbool-vectorçš„é•¿åº¦,å†…å®¹çš„äºŒè¿›åˆ¶ä¸ºvectorçš„å†…å®¹,å†…å®¹çš„ç°å®æ–¹å¼ä¸ºå­—ç¬¦ä¸² (make-bool-vector 3 t) ; = #\u00263\"^G\" ?\\C-g == 7 (make-bool-vector 3 nil) ; = #\u00263\"^@\" ?\\C-@ == 0 (equal #\u00263\"\\377\" #\u00263\"\\007\") ; = t        char-tables\n ç±»ä¼¼vector,ä½†å®ƒä½¿ç”¨Characterä½œä¸ºç´¢å¼•. char-tablesçš„è¾“å‡ºæ ¼å¼ä¸vectorç±»ä¼¼,ä½†å‰é¢åŠ ä¸Š`#^`ä½œä¸ºæ ‡ç¤º æ¯ä¸ªchar-tableå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªsymbolç±»å‹çš„\"subtypeâ€,å¯ä»¥ç”¨äºæ ‡è¯†char-tableçš„ç”¨å¤„, ä½¿ç”¨å‡½æ•°char-table-subtypleæ¥æŸ¥è¯¢è¯¥subtype char-tableçš„subtypeä¸­çš„å±æ€§`char-table-extra-slots`å†³å®šäº†è¯¥char-tableçš„æ‰©å±•slotçš„ä¸ªæ•°(0-10ä¹‹é—´) æ¯ä¸ªchar-tableéƒ½å¯ä»¥æœ‰ä¸€ä¸ªçˆ¶char-table,å­char-tableä»çˆ¶char-tableä¸­ç»§æ‰¿ç´¢å¼•çš„å€¼. char-tableè¿˜èƒ½å¤Ÿè®¾å®šä¸€ä¸ªé»˜è®¤å€¼.è‹¥å‘ç°char-tableæŒ‡å®šindexçš„å€¼ä¸ºnil,åˆ™è¿”å›è¯¥é»˜è®¤å€¼.       string\n  elispä¸­çš„stringæ˜¯ä¸å¯å˜çš„.\n  stringä¸­ä¸èƒ½åŒ…å«?\\H-N ?\\A-N ?\\s-N è¿™äº›å­—ç¬¦\n  stringä¸­å¯ä»¥åŒ…å«æ–‡æœ¬å±æ€§,åŒ…å«æ–‡æœ¬å±æ€§çš„è¾“å‡ºæ ¼å¼ä¸º:\n#(\"characters\" property-data...)  Emacsä¸­,å¯¹å­—ç¬¦ä¸²ä½œæ¯”è¾ƒçš„å‡½æ•°åªæœ‰string=,stringå‡½æ•°      List listæ˜¯sequenceçš„ä¸€ä¸ªå­ç±»å‹\n  åˆ›å»ºä¸€ä¸ªlist\n  ä½¿ç”¨listå‡½æ•°:(list v1 v2â€¦)\n  ä½¿ç”¨å­—é¢è¡¨è¾¾å¼'(v1 v2â€¦)\n  è·å–element\n   Function Purpose     (car â„“) first element   (nth n â„“) nth element (start from 0)   (car (last â„“)) last element   (cdr â„“) 2nd to last elements   (nthcdr n â„“) nth to last elements   (butlast â„“ n) without the last n elements      è·å–listçš„é•¿åº¦\n  (length mySeq)\n åœ¨listå¤´æ·»åŠ element  (cons x myList)\n åˆå¹¶ä¸¤ä¸ªlist  (append list1 list2)\nç”±æ­¤å¯ä»¥å¾—å‡º,åœ¨listå°¾éƒ¨æ·»åŠ elementçš„æ–¹æ³•ä¸º\n(append myList (list myVal))\n ä¿®æ”¹listçš„å‡½æ•°    Function Purpose     (pop â„“) Remove first element from the variable. Returns the removed element.   (nbutlast â„“ n) Remove last n elements from the variable. Returns the new value of the variable.   (setcar â„“ x) replaces the first element in â„“ with x. Returns x.   (setcdr â„“ x) replaces the rest of elements in â„“ with x. Returns x.         association list / alist\nalistä¸­çš„itemæ˜¯é¡ºåºçš„,ä¸”å¯ä»¥æœ‰é‡å¤é”®å€¼\nåœ¨elispä¸­,alistä¸­å¯ä»¥å­˜åœ¨æŸäº›elementä¸æ˜¯cons cellçš„æƒ…å†µ,alistæŸ¥è¯¢å‡½æ•°ä¼šè‡ªåŠ¨ç•¥è¿‡è¿™äº›å¼‚å¸¸çš„element association listç±»ä¼¼äºCè¯­è¨€ä¸­çš„map,å®ƒçš„ç»“æ„ä¸º\n(defvar *alist-example* '((key1 value1) (key2 value2)))      Property list / plist\nplistçš„ä½œç”¨ç±»ä¼¼alist,ä¹Ÿæ˜¯ç”¨listè¡¨ç¤ºä¸€ç»„é”®å€¼å¯¹.\nplistçš„keyä¸ºsymbol,å®ƒçš„ç»“æ„ä¸º\n(key1 value1 key2 (value2) key3 \"value3\") ;=é”®å€¼å¯¹çš„å¯¹åº”å…³ç³»ä¸ºkey1-value1;key2-'(value2);key3-\"value3\" æ¯ä¸€ä¸ªsymboléƒ½å¯ä»¥attachä¸€ä¸ªplist\néœ€è¦æ³¨æ„çš„æ˜¯,plistä¸­çš„ keyå¿…é¡»æ˜¯å”¯ä¸€çš„ ,ç›¸æ¯”æ¥è¯´alistå°±æ²¡æœ‰è¿™ä¸ªé™åˆ¶äº†.\n  hashtable hash tableç±»ä¼¼alistä¸€æ ·æä¾›äº†é”®å€¼é…å¯¹çš„åŠŸèƒ½. ä½†æ¯”èµ·alistæ¥è¯´,æœ‰å¦‚ä¸‹ä¸‰ä¸ªæ–¹é¢çš„ä¸åŒ\n åœ¨æœç´¢å¤§é‡çš„é”®å€¼å¯¹é›†åˆæ—¶,ä½¿ç”¨hash tableçš„æœç´¢é€Ÿåº¦æ¯”alistå¿«å¾—å¤š hash tableä¸­çš„çš„itemæ˜¯éæ’åºçš„,ä¸èƒ½æœ‰é‡å¤é”®å€¼ ä¸¤ä¸ªhash tableå¯¹è±¡æ— æ³•å…±äº«åŒä¸€ä¸ªç»“æ„ä½“,è€Œä¸¤ä¸ªalistå¯¹è±¡ä¹‹é—´æœ‰å¯èƒ½ä½¿ç”¨å…±åŒçš„tail  hash tableçš„è¾“å‡ºæ ¼å¼ä»¥#så¼€å¤´åæ¥hash tableçš„å±æ€§å’Œå†…å®¹\n#s(hash-table size 65 test eql rehash-size 1.5 rehash-threshold 0.8 data ()) symbol  Lispä¸­symbolç±»ä¼¼äºå…¶ä»–è¯­è¨€ä¸­çš„å˜é‡,ä½†æ˜¯å®ƒä¸ä»…ä»…åªå­˜å‚¨ä¸€ä¸ªå€¼. åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªè¡¨è¾¾å¼å¦‚æœæ˜¯ä¸€ä¸ªç¬¦å·,è§£é‡Šå™¨ä¼šæŸ¥æ‰¾è¿™ä¸ªè¡¨è¾¾å¼çš„å‡½æ•°å€¼.å¦‚æœå‡½æ•°å€¼æ˜¯å¦ä¸€ä¸ªç¬¦å·,åˆ™ä¼šç»§ç»­æŸ¥æ‰¾è¿™ä¸ªç¬¦å·çš„å‡½æ•°å€¼ symbolä¸­,\\å¤±å»äº†è½¬ä¹‰çš„åŠŸèƒ½,å› æ­¤'\\tå°±æ˜¯â€™tè€Œä¸æ—¶' ä¸€ä¸ªç¬¦å·æ—¢å¯ä»¥æœ‰value,ä¹Ÿå¯ä»¥æœ‰function,å³ä¸€ä¸ªsymbolå¯ä»¥åŒæ—¶æ±‚å€¼å’Œå½“ä½œå‡½æ•°ç”¨  ç¬¦å·çš„ç»„æˆ   ç¬¦å·åç§°:ä½¿ç”¨å‡½æ•°symbol-nameè·å–\n  ç¬¦å·å€¼: ä½¿ç”¨å‡½æ•°symbol-valueè·å–\n  ä½¿ç”¨boundpæµ‹è¯•ç¬¦å·æ˜¯å¦æœ‰å€¼\n  ä»¥`:`å¼€å¤´çš„ç¬¦å·çš„å€¼ä¸èƒ½å˜\n  å‡½æ•°: ä½¿ç”¨symobl-functionè·å–\n  ä½¿ç”¨fboundpæµ‹è¯•ç¬¦å·æ˜¯å¦è®¾ç½®äº†å‡½æ•°\n  å…¶å®function slotä¸ä»…ä»…å¯ä»¥å­˜æ”¾function,è¿˜å¯ä»¥å­˜æ”¾macro,symbol,keyboard marcro,keympaå’Œautoload object\n  å±æ€§åˆ—è¡¨:ä½¿ç”¨symbol-plistè·å–\n  ä½¿ç”¨get/putæ¥è®¿é—®/ä¿®æ”¹æŸä¸ªå±æ€§å€¼\n  ä½¿ç”¨plist-get/plist-putæ¥è®¿é—®/è®¾ç½®å±æ€§åˆ—è¡¨ä¸­çš„å±æ€§\n  å±æ€§åˆ—è¡¨æ˜¯ä¸€ä¸ªå½¢å¦‚(prop1 value1 prop2 value2)çš„å…³è”åˆ—è¡¨,ä½†æ— æ³•åˆ é™¤ä¸€ä¸ªå±æ€§\n  å¯ç”¨ä½¿ç”¨å±æ€§åˆ—è¡¨æ¥å­˜å‚¨functionçš„çŠ¶æ€\n  ç¬¦å·çš„å½¢æˆ å½“elispè¯»å–åˆ°ä¸€ä¸ªsymbolæ—¶,å®ƒä¼šå…ˆåœ¨ä¸€ä¸ªåä¸º`obarray`çš„vectorä¸­æ£€æŸ¥æ˜¯å¦å·²ç»å­˜åœ¨è¿™ä¸ªsymbol, è‹¥ä¸å­˜åœ¨,åˆ™elisp readeråˆ›å»ºæ–°çš„symbolå¹¶æ·»åŠ åˆ°obarrayä¸­(åˆ›å»ºå¹¶æ·»åŠ symbolçš„è¿‡ç¨‹è¢«æˆä¸º\"interning\",è€Œè¯¥symbolè¢«æˆä¸ºæ˜¯\"interned symbol\").\nå¦‚æœæƒ³é¿å…internä¸€ä¸ªsymbol,å¯ä»¥åœ¨ç¬¦å·åå‰åŠ ä¸Š`#::`,è¿™äº›ç¬¦å·è¢«ç§°ä¸º`uninterned symbols`\n(intern-soft \"abc\") ; = nil 'abc ; = abc (intern-soft \"abc\") ; = abc (intern-soft \"abcd\") ; = nil '#:abcd ; = abcd (intern-soft \"abcd\") ; = nil obarrayä¹Ÿæ˜¯ä¸€ç§ç±»å‹åç§°\nç”±äºåœ¨elispä¸­,obarrayå°±æ˜¯ä¸€ä¸ªvector,å› æ­¤å¯ä»¥ä½¿ç”¨(make-vecotr LENGTH 0)æ¥åˆ›å»ºä¸€ä¸ªç©ºçš„obarray, è€Œè¦æŠŠsymbolæ’å…¥ä¸€ä¸ªobarray,åˆ™å¿…é¡»ä½¿ç”¨å¦‚ä¸‹çš„internç³»åˆ—å‡½æ•°æ¥è¿›è¡Œ.\n intern intern-soft unintern mapatoms  Char ç±»ä¼¼C,Elispä¸­çš„Charå…¶å®å°±æ˜¯integer(å€¼ä»0åˆ°(max-char)çš„èŒƒå›´éƒ½å¯ä»¥è®¤ä¸ºæ˜¯character). Charç±»å‹çš„å­—é¢é‡ç»“æ„ä¸º`?å­—æ¯`,ä¾‹å¦‚\n(message \"%d\" ?A) ;65 (message \"%d\" ?\\.) ;46 æ ‡ç‚¹ä¸€èˆ¬åœ¨å‰é¢åŠ \\ (message \"%d\" ?æˆ‘) ;25105 ?\\a ;= 7 ; control-g, `C-g' ?\\b ;= 8 ; backspace, , `C-h' ?\\t ;= 9 ; tab, , `C-i' ?\\n ;= 10 ; newline, `C-j' ?\\v ;= 11 ; vertical tab, `C-k' ?\\f ;= 12 ; formfeed character, `C-l' ?\\r ;= 13 ; carriage return, , `C-m' ?\\e ;= 27 ; escape character, , `C-[' ?\\s ;= 32 ; space character,  ?\\\\ ;= 92 ; backslash character, `\\' ?\\d ;= 127 ; delete character,  ?\\uNNNN ;è¿™é‡ŒNä¸º16è¿›åˆ¶æ•°,è¡¨ç¤ºU+NNNNçš„Unicodeå­—ç¬¦ ?\\U00NNNNNN ; ?\\xåå…­è¿›åˆ¶ä»£ç  ; ?\\x41 = \\?A ?\\ä¸‰ä¸ªå…«è¿›åˆ¶ä»£ç  ; ?\\001 = `C-a`  æ²¡æœ‰charp,å› ä¸ºå­—ç¬¦å°±æ˜¯æ•´æ•°,ä½†æ˜¯æœ‰char-or-string-på‡½æ•° ä½¿ç”¨char-equalæ¯”è¾ƒå­—ç¬¦æ—¶,éœ€è¦æ³¨æ„case-fold-searchå˜é‡çš„å€¼,tè¡¨ç¤ºå¿½ç•¥å¤§å°å†™  Control characters Ctrl-Nçš„å­—é¢è¡¨è¾¾å¼ä¸º`?\\^å­—æ¯`(è¿™é‡Œçš„å­—æ¯ä¸åŒºåˆ†å¤§å°å†™)\n?\\^I ; == ?\\^i == C-i == 9 è¿˜å¯ä»¥è¡¨ç¤ºä¸º`?\\C-å­—æ¯`\n?\\C-g ;== ?\\^g == C-g éœ€è¦æ³¨æ„çš„æ˜¯,?\\C-Gä¸æ—¶?\\C-S-gçš„æ„æ€,å®ƒè·Ÿ?\\C-gçš„æ„ä¹‰ä¸€æ · ç”±äºå†å²çš„åŸå› ,EmacsæŠŠçœ‹æˆæ˜¯C-?\nMeta Character M-Nçš„å­—é¢è¡¨ç¤ºæ–¹å¼ä¸º`?\\M-å­—æ¯`\nShift Character ?Â§-N\nAlt Character ?\\A-N\nHyper Character ?\\H-N\nSuper Character ?\\s-N\nå…¶ä»–ç±»å‹  Buffer Marker Window Frame Terminal Window Configuration Frame Configuration Process Stream nilæŒ‡`standard-input`å’Œ`standard-output` tæŒ‡ä»£`ä»minibufferè¾“å…¥`æˆ–è¾“å‡ºåˆ°`echo area` Keymap Overlay  Overlayç”¨æ¥çµ¦bufferçš„ä¸€éƒ¨åˆ†å†…å®¹åŠ ä¸Šä¸åŒçš„æ˜¾ç¤ºé£æ ¼\n Font  å¾ªç¯ç»“æ„ éœ€è¦ä½¿ç”¨`#N=`å’Œ`#N#`æ¥å®šä¹‰å¾ªç¯ç‚¹å’Œå¼•ç”¨å¾ªç¯ç‚¹,è¿™é‡ŒNä¸ºæ•°å­—\n'(#1=(a) b #1#) #1='(a #1#) æ•°æ®ç±»å‹ä¹‹é—´çš„è½¬æ¢  number-to-string / string-to-number concatå¯ä»¥å°†åºåˆ—è½¬æ¢æˆå­—ç¬¦ä¸²   (concat '(?a ?b ?c ?d ?e)) ; = \"abcde\" (concat [?a ?b ?c ?d ?e]) ; = \"abcde\"  vconcatå¯ä»¥æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆå‘é‡   (vconcat \"abdef\") ; = [97 98 100 101 102]  appendå¯ä»¥æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆä¸€ä¸ªåˆ—è¡¨   (append \"abcdef\" nil) ; = (97 98 99 100 101 102)  (byte-to-string BYTE) å¤§å°å†™è½¬æ¢  elispé€šè¿‡case tableæ¥ç¡®å®šå¤§å°å†™çš„å¯¹åº”å…³ç³»,æ¯ä¸ªbufferéƒ½å¯ä»¥è®¾ç½®è‡ªå·±çš„case table.\n  (downcase string-or-char)\n  (upcase string-or-char)\n  (capitalize string-or-char)\nstringä¸­çš„æ‰€æœ‰å•è¯éƒ½è¢«æ ¼å¼åŒ–ä¸ºcapitalizeçš„æ ¼å¼\nè‹¥å‚æ•°ä¸ºcharç±»å‹,åˆ™æ•ˆæœè·Ÿupcaseä¸€æ ·\n  (upcase-initials string-or-char)\nå¯¹stringä¸­çš„æ¯ä¸ªå•è¯çš„ç¬¬ä¸€ä¸ªå­—æ¯è½¬åŒ–äº†å¤§å†™å­—æ¯,å…¶ä»–å­—æ¯ä¸å˜.\n  è½¬æ¢æ•°å­—ä¸ºFloatå‹\n  (float number)\n è½¬æ¢æ•°å­—ä¸ºIntegerå‹  æœ‰8ä¸ªå‡½æ•°å¯ä»¥ç”¨æ¥è½¬æ¢Floatåˆ°Integerå‹. æœ‰äº›å‡½æ•°éƒ½å¸¦æœ‰ä¸€ä¸ªå¯é€‰å‚æ•°DIVISOR, è‹¥ä¼ å…¥äº†DIVISORåˆ™è¿”å›NUMBER/DIVISORçš„æ•´æ•°åŒ–çš„å€¼. è‹¥DIVISORä¸º0,åˆ™ElispæŠ¥arith-error\n(truncate number \u0026optional divisor) / (ftruncate float)\næˆªæ–­å°æ•°ä½\n(floor number \u0026optional divisor) / (ffloor float)\næˆªæ–­æˆä¸€ä¸ªæ›´å°çš„æ•´æ•°\n(ceiling number \u0026optional divisor) / (fceiling float)\næˆªæ–­æˆä¸€ä¸ªæ›´å¤§çš„æ•´æ•°\n(round number \u0026optional divisor) / (fround float)\nè½¬æ¢æˆæœ€è¿‘çš„æ•´æ•°,è‹¥å°æ•°ä¸ºä¸º0.5,åˆ™è½¬æ¢ä¸ºå¶æ•°,ä¾‹å¦‚(round 1.5)=2 (round 2.5)=2\n å­—ç¬¦ä¸²ä¸æ•°å­—ä¹‹é—´çš„ç›¸äº’è½¬æ¢  (string-to-number â€œNâ€ \u0026optional base)\n(number-to-string N)\n(format â€œ%dâ€ N)\n Objectè½¬æ¢ä¸ºString  (format â€œ%sâ€ object)\n(prin1-to-string object)\n Stringè½¬æ¢ä¸ºObject  (read-from-string string)\n symbolè½¬æ¢ä¸ºstring  (symbol-name symbol)\n stringè½¬æ¢ä¸ºsymbol  (intern string)\nç±»å‹åˆ¤æ–­  (cl-typep object type)  æ£€æŸ¥objectæ˜¯å¦ä¸ºtypeç±»å‹.\nå‚æ•°typeä¸ºcommon lispå½¢å¼\n (type-of object)  è¿”å›objectçš„ åŸºæœ¬ ç±»å‹\nelispä¸­çš„ç­‰äº eq eqç”¨äºåˆ¤æ–­ä¸¤ä¸ªObjectæ˜¯å¦ä¸ºåŒä¸€ä¸ªObject\nequal equalç”¨äºåˆ¤æ–­ä¸¤ä¸ªObjectæ˜¯å¦æœ‰ç›¸åŒçš„å†…éƒ¨ç»“æ„(è¿™é€šå¸¸æ„å‘³ç€ä¸¤ä¸ªObjectçš„ç±»å‹æ˜¯ä¸€æ ·çš„,å³0 ä¸equal 0.0).\nequalåœ¨æ¯”è¾ƒä¸¤ä¸ªstringæ—¶,ä¸ä¼šæ¯”è¾ƒä»–ä»¬çš„å±æ€§,éœ€è¦æ¯”è¾ƒå±æ€§çš„è¯,ä½¿ç”¨equal-including-propertiesæ¥ä»£æ›¿\nå³ä½¿ä¸¤ä¸ªbufferçš„å†…å®¹ä¸€æ ·,equalè¿™ä¸¤ä¸ªbufferæ—¶ä¹Ÿä¸ç›¸ç­‰\nç”±äºequalä¼šå¯¹ä¸¤ä¸ªObjectçš„å„ä¸ªç»„æˆéƒ¨åˆ†é€’å½’è°ƒç”¨equal,å› æ­¤åœ¨å¤„ç†å¾ªç¯ç»“æ„æ—¶,å¯èƒ½ä¼šé™·å…¥æ­»å¾ªç¯.\n= =ä¸€èˆ¬ç”¨äºæ•°å­—ä¹‹é—´çš„æ¯”è¾ƒ,ä¸”0=0.0\n/= æ•°å­—é—´çš„ä¸ç­‰äº\neql eqlç±»ä¼¼eq,ä½†åœ¨å¤„ç†æ•°å­—æ˜¯,ä¼šåŒæ—¶æ¯”è¾ƒæ•°å­—çš„ç±»å‹å’Œå€¼.å› æ­¤(eql 1.0 1)=nil;(eql 1.0 1.0)=t\nchar-equal æ¯”è¾ƒä¸¤ä¸ªcharacteræ˜¯å¦ç›¸ç­‰,é»˜è®¤å¿½ç•¥å¤§å°å†™å·®å¼‚,è‹¥å˜é‡`case-fold-search`nil(é»˜è®¤ä¸ºt),åˆ™æ¯”è¾ƒæ—¶åŒºåˆ†å¤§å°å†™\n(char-equal ?x ?x) ; = t (let ((case-fold-search nil)) (char-equal ?x ?X)) ; = nil string= string=æ¥æ”¶stringæˆ–symbolçš„å‚æ•°. ä½¿ç”¨string=çš„æ—¶å€™ä¸€å®šä¼šåŒºåˆ†å¤§å°å†™,è€Œè·Ÿå˜é‡`case-fold-search`æ— å…³. è€Œä¸”åœ¨æ¯”è¾ƒæ—¶,stringçš„text propertiesä¸å‚ä¸æ¯”è¾ƒ.\n(string= \"abc\" 'abc) ;=t string-equal string=çš„åˆ«å\nequal-includeing-properties å˜é‡åå‘½åä¹ æƒ¯  -hook ä¸€ä¸ªåœ¨ç‰¹å®šæƒ…å†µä¸‹è°ƒç”¨çš„å‡½æ•°åˆ—è¡¨ï¼Œæ¯”å¦‚å…³é—­ç¼“å†²Â«æ—¶ï¼Œè¿›å…¥æŸä¸ªæ¨¡å¼æ—¶ã€‚ -functionå€¼ä¸ºä¸€ä¸ªå‡½æ•° -functions å€¼ä¸ºä¸€ä¸ªå‡½æ•°åˆ—è¡¨ -flag å€¼ä¸ºnilæˆ–non-nil -predicate å€¼æ˜¯ä¸€ä¸ªä½œåˆ¤æ–­çš„å‡½æ•°ï¼Œè¿”å›nilæˆ–non-nil -program æˆ–-command ä¸€ä¸ªç¨‹åºæˆ–shellåä»¤å -form ä¸€ä¸ªè¡¨è¾¾å¼ -forms ä¸€ä¸ªè¡¨è¾¾å¼åˆ—è¡¨ã€‚ -map ä¸€ä¸ªæŒ‰é”®æ˜ å°„ï¼ˆkeymapï¼‰ å‘½åä»¥ç©ºæ ¼å¼€å¤´çš„ç¼“å†²åŒºæ˜¯ä¸´æ—¶çš„,ç”¨æˆ·ä¸éœ€è¦å…³ç³»çš„ç¼“å†²åŒº  è·å–å‚æ•°çš„å‡ ç§æ–¹æ³• å˜é‡`current-prefix-arg`è·å–universal-argument emacså‘½ä»¤å¯ä»¥ä½¿ç”¨C-uä¼ é€’universal-argument.\n   Key Input Value of current-prefix-arg     No universal arg called. nil   ã€Ctrl+u -ã€‘ Symbol -   ã€Ctrl+u - 2ã€‘ Number -2   ã€Ctrl+u 1ã€‘ Number 1   ã€Ctrl+u 4ã€‘ Number 4   ã€Ctrl+uã€‘ List â€˜(4)   ã€Ctrl+u Ctrl+uã€‘ List â€˜(16)    interactive   è‹¥interactiveçš„å‚æ•°ä»¥*å¼€å¤´ï¼Œåˆ™æ„ä¹‰æ˜¯ï¼Œå¦‚æœå½“å‰bufferæ˜¯åªè¯»çš„ï¼Œåˆ™ä¸æ‰§è¡Œè¯¥å‡½æ•°\n  interactiveå¯ä»¥åæ¥å­—ç¬¦ä¸²,è¡¨ç¤ºè·å¾—å‚æ•°çš„æ–¹å¼\n  p æ¥æ”¶C-uçš„æ•°å­—å‚æ•°\nä¹Ÿå¯ä»¥ä¸ç”¨På‚æ•°,ç›´æ¥åœ¨ä»£ç ä¸­åˆ¤æ–­current-prefix-argçš„å€¼\n  r regionçš„å¼€å§‹/ç»“æŸä½ç½®\n  n æç¤ºç”¨æˆ·è¾“å…¥æ•°å­—å‚æ•°,nåé¢å¯ç”¨æ¥ç€æç¤ºç¬¦\n  s æç¤ºç”¨æˆ·è¾“å…¥å­—ç¬¦ä¸²å‚æ•°\n  è‹¥å‡½æ•°æ¥æ”¶å¤šä¸ªinput,éœ€è¦ç”¨\\næ¥åˆ†éš”\n  interactiveå¯ä»¥åæ¥ä¸€ä¸ªform,formçš„æ±‚å€¼ç»“æœåº”è¯¥æ˜¯ä¸€ä¸ªlist,è¿™ä¸ªlistçš„å€¼ä½œä¸ºå‚æ•°çš„å®å‚\n  åœ¨formä¸­ä¸€èˆ¬ä¼šç”¨åˆ°å¦‚ä¸‹å‡ ä¸ªå‡½æ•°ç”¨äºè·å–ç”¨æˆ·è¾“å…¥\n read-string read-file-name read-directory-name read-regexp y-or-n-p read-from-minibuffer ä½¿ç”¨å˜é‡`current-prefix-arg`æ¥åˆ¤æ–­æ˜¯å¦æœ‰universal-argument  å…‰æ ‡ä½ç½® å‡½æ•°  è·å–å…‰æ ‡å½“å‰ä½ç½®  (point)\n è·å–regionçš„å¼€å§‹å’Œç»“æŸä½ç½®  (region-beginning) / (region-end)\n å½“å‰è¡Œçš„å¼€å§‹/ç»“æŸä½ç½®  (line-beginning-position) / (line-end-position)\n è·å–å½“å‰bufferçš„å¼€å§‹/ç»“æŸä½ç½®  (point-min) / (point-max)\n  å¾—åˆ°è¡Œå·\nline-number-at-pos\n  æµ‹è¯•æ˜¯å¦åœ¨bufferå¤´/å°¾\nbobp(beginning of buffer predicate)å’Œeobp(end of buffer predicate)\n  æµ‹è¯•æ˜¯å¦åœ¨è¡Œé¦–/å°¾\nbolp(beginning of line predicate)å’Œeolp(end of line predicate)\n  å…‰æ ‡ç§»åŠ¨ å‡½æ•°   æŒ‰å•ä¸ªå­—ç¬¦ç§»åŠ¨\ngoto-char /forward-char /backward-char\n  è·³è½¬åˆ°æŒ‡å®šå­—ç¬¦ä¸²çš„ä½ç½®\n(search-forward myStr) ;å…‰æ ‡ä½äºmyStrçš„å°¾éƒ¨\n(search-backward myStr) ;å…‰æ ‡ä½äºmyStrçš„å¤´éƒ¨\n  æ­£åˆ™æŸ¥è¯¢\n  (re-search-forward myRegex) / (search-forward-regexp myRegex)\n(re-search-backward myRegex) / (search-backward-regexp myRegex)\n è·³åˆ°ç¬¬ä¸€ä¸ªä¸æ˜¯\"a\"-â€œz\"çš„ä½ç½®  (skip-chars-forward â€œa-zâ€)\n(skip-chars-backward â€œa-zâ€)\n  è·³åˆ°bufferçš„å¼€å¤´/æœ«å°¾\nbeginning-of-buffer / end-of-buffer\n  æŒ‰è¯ç§»åŠ¨\nforward-word /backward-word\n  æŒ‰è¡Œç§»åŠ¨\næ²¡æœ‰backward-line,è€Œä¸”æ¯æ¬¡ç§»åŠ¨éƒ½æ˜¯ç§»åŠ¨åˆ°è¡Œé¦–çš„,æ‰€ä»¥(forward-line 0)å¯ä»¥ç§»åŠ¨åˆ°å½“å‰è¡Œçš„è¡Œé¦–\n(forward-line N) Nå¯ä»¥ä¸ºè´Ÿæ•°,è¡¨ç¤ºbackward-line\n  ç§»åŠ¨åˆ°è¡Œé¦–/å°¾\n  (beginning-of-line)\n(end-of-line)\næ§åˆ¶ç»“æ„ é¡ºåºç»“æ„  (progn bodys)  é¡ºåºæ‰§è¡Œbodys,bodysä¸­çš„æœ€åä¸€ä¸ªformçš„è¿”å›å€¼ä¸ºprognçš„è¿”å›å€¼\n (prog1 form1 bodys)  ç±»ä¼¼progn,ä½†form1çš„è¿”å›å€¼ä¸ºprog1çš„è¿”å›å€¼\n (prog2 form1 form2 bodys)  ç±»ä¼¼progn,ä½†form2çš„è¿”å›å€¼ä¸ºprog2çš„è¿”å›å€¼\næ¡ä»¶è¡¨è¾¾å¼  (if condition then-form else-bodys)  æ³¨æ„,then-formåªèƒ½æ˜¯ä¸€å¥form,è€Œelse-bodyså¯ä»¥ä¸ºå¤šä¸ªform,äº‹å®ä¸Šå®ƒåŒ…å«äº†ä¸€ä¸ªéšå«çš„progn\n  (when condition then-bodys)\n  (unless condition else-bodys)\n  (cond clauses)\n  ä¸€ä¸ªclauseçš„æ ¼å¼ä¸º(condition bodys)\nclauseçš„æ ¼å¼ä¹Ÿå¯ä»¥ä¸º(condition),è¿™æ ·çš„è¯,condçš„è¿”å›å€¼ä¸ºénilçš„conditionçš„è¿”å›å€¼\n (pcase EXP BRANCH1 BRANCH2 BRANCH3 â€¦)  ä¸€ä¸ªBRANCHçš„æ ¼å¼ä¸º(UPATTERN BODYS)\npcaseå…ˆè®¡ç®—EXPçš„å€¼,å¹¶å°†å€¼ä¸å„ä¸ªBRANCHä¸­çš„UPATTERNç›¸æ¯”è¾ƒ,è‹¥ç›¸ç­‰,åˆ™æ‰§è¡Œç›¸åº”çš„BODYS\n(pcase (get-return-code x) ('success (message \"Done!\")) ('would-block (message \"Sorry, can't do it now\")) ('read-only (message \"The shmliblick is read-only\")) ('access-denied (message \"You do not have the needed rights\")) (code (message \"Unknown return code %S\" code))) UPATTERNå¯ä»¥æ˜¯ä¸‹é¢å‡ ç§æ ¼å¼\n `(QPATTERN1 . QPATTERN2) è¯¥æ¨¡å¼åŒ¹é…ä¸€ä¸ªcons cell,å®ƒçš„caråŒ¹é…QPATTERN1,è€ŒcdråŒ¹é…QPATTERN2 (setq form '(1 . 2)) (pcase form (`(,x . ,y) (message \"%s + %s = %s\" x y (+ x y)))) ;è¿™é‡Œxç»‘å®šä¸ºå€¼1,yç»‘å®šä¸ºå€¼2 ;=\"1 + 2 = 3\"  `ATOM è¯¥æ¨¡å¼åŒ¹é…ä»»ä½•`equal` ATOMçš„atom (pcase (get-return-code x) (`success (message \"Done!\")) (`would-block (message \"Sorry, can't do it now\")) (`read-only (message \"The shmliblick is read-only\")) ;æ³¨æ„,symbolå‰éœ€è¦ç”¨åå¼•å·å¼•èµ·æ¥ (`access-denied (message \"You do not have the needed rights\"))) ;è¿™é‡Œaccess-deniedä¸ºatom,ä½¿ç”¨equalæ¥è¿›è¡ŒåŒ¹é…  `,UPATTERN è¯¥æ¨¡å¼åŒ¹é…ä»»ä½•ç¬¦åˆUPATTERNçš„object,å¹¶ä¼šç»‘å®šobjectåˆ°UPATTERNä¸­çš„å˜é‡ä¸­ (setq form '(add 1 2)) (pcase form (`(add ,x ,y) (message \"%s + %s = %s\" x y (+ x y)))) ;è¿™é‡Œxç»‘å®šä¸ºå€¼1,yç»‘å®šä¸ºå€¼2 ;=\"1 + 2 = 3\"  SYMBOL è¯¥æ¨¡å¼åŒ¹é…ä»»ä½•object,å¹¶ä¸”å°†è¯¥symbolç»‘å®šåˆ°objectä¸Š. (pcase (get-code x) (code (message \"code is %s\" code))) ;è¿™é‡Œcodeä¸ºä¸€ä¸ªsymbol,å®ƒçš„å€¼ä¸º(get-code x)çš„ç»“æœ      è¯¥æ¨¡å¼åŒ¹é…ä»»ä½•object,ä½†ä¸SYMBOLä¸åŒåœ¨äºä¸ä¼šå°†objectç»‘å®šåˆ°ä»»ä½•symbolä¸Š (pred PRED) è¿”å›(PRED object)çš„å€¼ (pcase x ((pred numberp) (message \"x is number\")) ((pred stringp) (message \"x is string\")))  (or UPATTERN1 UPATTERN2 â€¦) ä»»ä½•ä¸€ä¸ªUPATTERNåŒ¹é…éƒ½è¡Œ (and UPATTERN1 UPATTERN2 â€¦) æ‰€æœ‰UPATTERNéƒ½å¿…é¡»åŒ¹é… (guard EXP) è‹¥EXPçš„è®¡ç®—ç»“æœä¸ºénil,åˆ™åŒ¹é…,å¦åˆ™ä¸åŒ¹é…  ç»„åˆæ¡ä»¶   (not condition)\n  (and conditions)\n  (or conditions)\n  å¾ªç¯  (while condition bodys)  whileå…ˆåˆ¤æ–­conditionçš„å€¼,åªè¦conditionä¸ºénil,åˆ™å¾ªç¯æ‰§è¡Œbodys,bodyså¯ä»¥ä¸ºç©º.\nè¦æ¨¡æ‹Ÿrepeat bodys until condition,å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„ç»“æ„\n(while (bodys (not condition)))  (dolist (var list [result]]) bodys)  å¯¹listçš„æ¯ä¸ªelement,ç»‘å®šåˆ°å˜é‡varä¸­,ç„¶åæ‰§è¡Œbodysä¸­çš„è¯­å¥,æœ€åè¿”å›resultçš„è®¡ç®—ç»“æœ(é»˜è®¤ä¸ºnil).\n(defun reverse (list) (let (value) (dolist (elt list value) (setq value (cons elt value)))))  (dotimes (var count [result]) bodys)  ç±»ä¼¼dolist,ä½†varçš„å€¼çš„èŒƒå›´ä¸º[0,count)\n (do (var initial [step-form]) (end-test [RESULT-FORM] bodysâ€¦))  ç±»ä¼¼for(var=initial;end-test;var=step-form){bodysâ€¦}\nä½¿ç”¨catch/throwæ¨¡æ‹Ÿgotoè¯­å¥ å¯ä»¥åœ¨catchä¸­ä½¿ç”¨throwæ¥è·³å‡ºå¾ªç¯,throwè¯­å¥ä¼šè·³è½¬åˆ°catchå¤„,ä¾‹å¦‚\n;; (catch tag bodys) (defun foo-outer () (catch 'foo (foo-inner))) ;; (throw tag value) (defun foo-inner () ... (if x (throw 'foo t)) ;è¿™é‡Œç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»ä¸catchçš„ç¬¬ä¸€ä¸ªå‚æ•°åŒ¹é…. ç¬¬äºŒä¸ªå‚æ•°t,ä½œä¸ºcatchçš„è¿”å›å€¼ ...) ;; ä»è¿™ä¸ªä¾‹å­ä¸­å¯ä»¥çœ‹å‡º,throwå¯ä»¥è·¨å‡½æ•°é—´æ•è· throwä¼šæ ¹æ®å…¶ç¬¬ä¸€ä¸ªå‚æ•°æ¥æŸ¥è¯¢åŒ¹é…çš„catch,åŒ¹é…çš„catchå®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°éœ€è¦eq throwçš„ç¬¬ä¸€ä¸ªå‚æ•°.\ncatchè¯­å¥çš„è¿”å›å€¼ç”±throwçš„ç¬¬äºŒä¸ªå‚æ•°å†³å®š\nè‹¥æœ‰å¤šä¸ªcatchå¯ä¾›åŒ¹é…,åˆ™æœ€å†…å±‚é‚£ä¸ªcatchè¢«åŒ¹é….\nthrowæ“ä½œé€€å‡ºå¤šä¸ªlispç»“æ„æ—¶,å°±å¥½åƒæ­£å¸¸é€€å‡ºè¿™äº›lispç»“æ„ä¸€æ ·. å…·ä½“æ¥è¯´,throwæ“ä½œä¼šè¿™äº›lispç»“æ„ä¸­ä½¿è§£ç»‘ç”¨letç»‘å®šçš„å˜é‡,é€€å‡ºäº†save-excursionè¯­å¥å,ä¼šè¿˜åŸbufferå’Œpostion. é€€å‡ºsave-restrictionè¯­å¥å,ä¼šè¿˜åŸnarrowingçŠ¶æ€. å®ƒè¿˜ä¼šè°ƒç”¨unwind-protectè¯­å¥å®šä¹‰çš„æ¸…ç†åŠ¨ä½œ.\nè‹¥ä¸€ä¸ªthrowçš„tagæ²¡æœ‰ç›¸åº”çš„catch tagæ¥åŒ¹é…,åˆ™ä¼šæŠ›å‡º`no-catch`é”™è¯¯. é”™è¯¯å†…å®¹ä¸ºthrowè¯­å¥ä¸­çš„`(tag value)`\nElispä¸­çš„å¼‚å¸¸æœºåˆ¶ ä½¿ç”¨singal/error/condition-caseæ¨¡æ‹Ÿtry catchè¯­å¥ elispä¸­ä¹Ÿæä¾›äº†ç±»ä¼¼C++ä¸­çš„å¼‚å¸¸æœºåˆ¶,åœ¨elispä¸­,å…¶è¢«ç§°ä¸ºerror.\nå¤§å¤šæ•°çš„errorä¼šåœ¨è°ƒç”¨primitive functionæ—¶è‡ªåŠ¨æŠ›å‡º. å½“ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å‡½æ•°`error`å’Œ`signal`æ‰‹å·¥æŠ›å‡ºerror.\néœ€è¦æ³¨æ„çš„æ˜¯,C-gè§¦å‘çš„quitting,å®ƒçš„å¤„ç†æ–¹å¼è·Ÿerrorç±»ä¼¼,ä½†å¹¶ä¸æ˜¯error\næ¯ä¸ªerroréƒ½éœ€è¦ä¸€ä¸ªé”™è¯¯è¯´æ˜ä¿¡æ¯,æ¥è¯´æ˜æŠ›å‡ºerrorçš„åŸå› .\nerrorç±»å‹ å°±å¥½åƒC++æœ‰å„ç§ä¸åŒç±»å‹çš„å¼‚å¸¸ä¸€æ ·,elispä¹Ÿæœ‰ä¸åŒç±»å‹çš„error. errorçš„ç±»å‹ä½¿ç”¨error symbolæ¥æ ‡è¯†. æ¯ä¸ªerroræœ‰ä¸”ä»…æœ‰ä¸€ä¸ªerror symbol\nåŒæ ·çš„,è·ŸC++ç±»ä¼¼,errorå¤„äºä¸€ç§è¢«ç§°ä¸ºerror-conditionçš„ç»§æ‰¿ä½“ç³»å†…,æ¯ä¸ªerror-conditionç”±condition-nameæ¥æ ‡è¯†,ä¸€ä¸ªerrorå¯ä»¥å±äºå¤šä¸ªerror-condition.\nç†è®ºä¸Š,`â€˜error`å¤„äºerror-conditionçš„æœ€é¡¶ç«¯,ä½†quitæ˜¯ä¸ªä¾‹å¤–,quitå±äºä¸€ç§error-conditionä½†å®ƒä¸æ˜¯ä¸€ç§error,å®ƒçš„çˆ¶ç±»å°±æ˜¯quitè‡ªå·±\nè‹¥è¦å®šä¹‰è‡ªå·±çš„error,å¯ä»¥ä½¿ç”¨define-errorå‡½æ•°.\n  (define-error symbol message \u0026optional parent)\nå®šä¹‰ä¸€ä¸ªæ–°error,å®ƒçš„error-symbolä¸ºå‚æ•°symbol. å®ƒç»§æ‰¿äºå‚æ•°parentæ‰€è¡¨ç¤ºçš„error-condition(é»˜è®¤ä¸ºerror),\nå‚æ•°messageéœ€è¦æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²,å½“è¯¥errorè¢«æŠ›å‡º,è€Œæ²¡æœ‰handleræ•è·æ—¶,elispä½¿ç”¨è¯¥å­—ç¬¦ä¸²ä½œä¸ºerror message.\nä¸‹é¢æ˜¯ä¸€ä¸ªå®šä¹‰errorçš„ä¾‹å­\n(define-error 'new-error \"A new error\" 'my-own-errors) ;error messageä¸€èˆ¬ç¬¬ä¸€ä¸ªå­—æ¯æ˜¯å¤§å†™çš„   æŠ›å‡ºerror   (error format-string \u0026rest args)\næŠ›å‡ºä¸€ä¸ªerror,è¯¥errorçš„é”™è¯¯è¯´æ˜ä¿¡æ¯ä¸º(format format-string args)\n  (signal error-symbol data)\nsignalå‡½æ•°æŠ›å‡ºä¸€ä¸ªåä¸ºerror-symbolçš„error.\nå‚æ•°error-symbolå¿…é¡»æ˜¯ç”±`define-error`å®šä¹‰çš„symbol. dataå‚æ•°åˆ™æ˜¯ä¸errorç¯å¢ƒç›¸å…³çš„ä¸€ç³»åˆ—lisp object,å…¶lisp objectä¸­çš„ä¸ªæ•°å’Œæ„ä¹‰,å¯¹ä¸åŒçš„error-symbolæœ‰ä¸åŒçš„è¦æ±‚\nè‹¥æŠ›å‡ºçš„erroræ²¡æœ‰è¢«å¤„ç†,åˆ™error-symbolå’Œdataè¿™ä¸¤ä¸ªå‚æ•°è¢«ç”¨æ¥è¾“å‡ºå‡ºé”™ä¿¡æ¯.\nä¸€èˆ¬æƒ…å†µä¸‹,å‡ºé”™ä¿¡æ¯ç”±error-symbolçš„error-message propertyæ¥æä¾›. dataåˆ™ä¸€èˆ¬ç”¨æ¥æä¾›äº§ç”Ÿerrorçš„ä¸Šä¸‹æ–‡ç¯å¢ƒ. ä½†è‹¥error-symbolä¸ºerror,åˆ™é”™è¯¯ä¿¡æ¯ä¸º(car data),ä¸”(car data)å¿…é¡»ä¸ºstringå‹. file-errorç±»åˆ™æœ‰å…¶ç‰¹æ®Šçš„å¤„ç†æ¨¡å¼.\n(signal 'error '(\"asdbs\" (car 1) (cas 1))) ;error-- asdbs: (car 1), (cas 1) (signal 'wrong-number-of-arguments '(x y)) ; error-- Wrong number of arguments: x, y (signal 'no-such-error '(\"My unknown error condition\")) ; error-- peculiar error: \"My unknown error condition\"   (user-error format-string \u0026rest args)\nuser-errorè·Ÿerrorå‡½æ•°ç±»ä¼¼,ä½†æ˜¯å®ƒä½¿ç”¨user-errorä½œä¸ºerror-symbolè€Œä¸æ˜¯error.\nå¦‚åç§°æ‰€ç¤º,ä¸€èˆ¬ç”¨è¯¥å‡½æ•°æŠ›å‡ºç”¨æˆ·çº§çš„error,è€Œä¸æ˜¯ä»£ç çº§çš„error,å³å®ƒä¸ä¼šè¿›å…¥debugæ¨¡å¼(å³ä½¿debug-on-errorä¸ºénil)\n  å¤„ç†Error ç±»ä¼¼C++ä¸­çš„å¼‚å¸¸æœºåˆ¶,elispä¸­çš„errorä¹Ÿå¯ä»¥å®šä¹‰å¤šä¸ªerror-handleræ¥æ•è·å®ƒ,ä½†åªæœ‰æœ€é è¿‘errorå‘æºåœ°çš„error-handlerä¼šç”¨æ¥å¤„ç†è¯¥error.\nè‹¥æŠ›å‡ºçš„error,æ²¡æœ‰å¯¹åº”çš„error handleræ¥å¤„ç†å®ƒ,åˆ™æ ¹æ®å˜é‡`debug-on-error`æ¥å†³å®šæ˜¯è°ƒç”¨debugæ¥å¤„ç†è¯¥error(t),è¿˜æ˜¯ç›´æ¥ç»ˆæ­¢ç¨‹åºè¾“å‡ºerror(nil).\n  (condition-case var protected-form error-handler-bodys)\nå¯ä»¥ä½¿ç”¨condition-caseæ¥å®šä¹‰error handler.ä¾‹å¦‚\n(condition-case nil (delete-file filename) (error nil)) condition-caseçš„ç¬¬ä¸€ä¸ªå‚æ•°varæ˜¯ä¸€ä¸ªå˜é‡,å½“å‚æ•°protected-formæ­£å¸¸æ‰§è¡Œæ—¶,è¯¥å˜é‡åªèƒ½åœ¨error-handlerçš„ä»£ç ä¸­æ‰èƒ½è¢«ä½¿ç”¨,è¿™æ—¶è¯¥å˜é‡çš„å€¼ä¸ºâ€™(error-symbol . data)â€™. error-handlerå¯ä»¥æ ¹æ®è¯¥å˜é‡ä¸­æ‰€æè¿°çš„é”™è¯¯ä¿¡æ¯æ¥è¿›è¡Œæ“ä½œ. varå‚æ•°ä¹Ÿå¯ä»¥æ˜¯nil,è¡¨ç¤ºæ²¡æœ‰è¿™æ ·ä¸€ä¸ªæè¿°errorä¿¡æ¯çš„å˜é‡. å°±åƒå†™C++ä»£ç ä¸€æ ·,æœ‰æ—¶å€™,éœ€è¦é‡æ–°æŠ›å‡ºerror,ä»¥ä¾¿è®©å¤–é¢çš„ä»£ç æ•è·åˆ°è¯¥error,åˆ™å¯ä»¥è¿™æ ·åš:\n(signal (car var) (cdr var)) æˆ‘ä»¬ç§°å‘¼condition-caseçš„ç¬¬äºŒä¸ªå‚æ•°ä¸º\"protected formâ€(åœ¨ä¸Šä¾‹ä¸­,å°±æ˜¯(delete-file filename))\nâ€œprotected form\"åé¢çš„å‚æ•°åˆ™ä¸ºå®šä¹‰çš„error handlers. æ¯ä¸ªerror-handlerçš„æ ¼å¼ä¸º(condition-names handler-bodys). è¿™é‡Œ,conditon-nameså¯ä»¥æ˜¯ä¸€ä¸ªerror-conditionåç§°æˆ–ä¸€ä¸ªç”±error-conditionåç§°ç»„æˆæˆåˆ—è¡¨. åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­,`error`ä¸ºconditon-nameè¡¨ç¤ºæ‰€æœ‰ç±»å‹çš„error.\næ•è·åˆ°errorå,condition-caseçš„è¿”å›å€¼ä¸ºerror-handlerçš„æ‰§è¡Œç»“æœ. è‹¥æ²¡æœ‰errorå‘ç”Ÿ,åˆ™è¿”å›protectd-formçš„è®¡ç®—ç»“æœ. ä¸‹é¢æ˜¯ä¸€äº›error-handlerçš„ä¾‹å­\n(error nil) (arith-error (message \"Division by zero\")) ((arith-error file-error) (message \"Either division by zero or failure to open a file\"))   ä¸€èˆ¬æƒ…å†µä¸‹,è‹¥æŠ›å‡ºçš„errorè¢«error-handleræ‰€æ•è·,åˆ™ä¸ä¼šè¿›å…¥debugæ¨¡å¼,ä½†è‹¥å¸Œæœ›è°ƒè¯•é‚£äº›è¢«condition-caseæ•è·çš„error,å¯ä»¥è®¾ç½®å˜é‡`debug-on-signal`ä¸ºénil. ä½ ä¹Ÿå¯ä»¥è®¾ç½®æŸäº›ç‰¹å®šçš„erroråœ¨æ•è·å‰,å…ˆè¿›å…¥debugæ¨¡å¼,æ–¹æ³•æ˜¯åœ¨error-handlerçš„conditon-nameå‰åŠ ä¸Š`debug`,ä¾‹å¦‚:\n(condition-case nil (delete-file filename) ((debug error) nil)) éœ€è¦æ³¨æ„çš„æ˜¯,è¿™é‡Œcondition-nameå‰çš„debugå¹¶ä¸æ„å‘³ç€ä¸€å®šä¼šè¿›å…¥debugæ¨¡å¼,è¿˜éœ€è¦å°†`debug-on-error`è®¾ç½®ä¸ºénilæ‰è¡Œ.\n  (condition-case-unless-debug var protected-form error-handler-bodys)\nç±»ä¼¼condition-case,ä½†åªåœ¨ä¸å¯ç”¨debugçš„æƒ…å†µä¸‹æ‰å…¶ä½œç”¨(å³`debug-on-error`ä¸ºnil)\n  (error-message-string error-descriptor)\nè¾“å‡ºerror-descriptor(å³condition-caseä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°var)æ‰€è¡¨ç¤ºçš„å­—ç¬¦ä¸².\n  (ignore-errors body)\næ‰§è¡Œbodyè¯­å¥,å¹¶å¿½ç•¥ä»»ä½•æŠ›å‡ºçš„error. è‹¥bodyæ‰§è¡Œæ—¶ä¸æŠ›error,åˆ™è¿”å›bodyçš„è®¡ç®—ç»“æœ,å¦åˆ™è¿”å›nil\n  (with-demoted-errors format bodys)\nè¯¥å®å°±åƒæ˜¯ignore-errorçš„æ¸©å’Œç‰ˆæœ¬. å®ƒä¸ä¼šç›´æ¥å¿½ç•¥æ‰errorçš„å‘ç”Ÿ,ç›¸å,å®ƒä¼šä½¿ç”¨formatæ¥å°†errorè½¬æ¢ä¸ºä¸€æ¡messageè¾“å‡º.\nå‚æ•°formatå¿…é¡»ä¸ºæ ¼å¼å­—ç¬¦ä¸²,ä¸”å¿…é¡»æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªâ€%S\"ä½œä¸ºå ä½ç¬¦.\néœ€è¦æ³¨æ„çš„æ˜¯,åœ¨with-demoted-errorså®ä¸­,å®ƒæ˜¯ä½¿ç”¨conditon-case-unless-debugæ¥æ•è·error,è€Œä¸æ˜¯conditon-case. å› æ­¤éœ€è¦åœ¨å…³é—­debug-on-error,æ‰èƒ½èµ·ä½œç”¨.\n  ä½¿ç”¨unwind-protectæ¨¡æ‹Ÿfinallyè¯­å¥ ç±»ä¼¼javaä¸­çš„finallyè¯­å¥,elispä¹Ÿæä¾›äº†unwind-protectæ¥ä¿è¯æ¸…ç†åŠ¨ä½œä¸€å®šä¼šæ‰§è¡Œ.\n (unwind-protect body-form cleanup-formsâ€¦)  unwind-protectä¿è¯æ‰§è¡Œå®Œbody-formå,æ— è®ºæ‰§è¡Œè¿‡ç¨‹ä¸­æ˜¯å¦ç›´æ¥è°ƒç”¨throwè·³å‡ºbody-form,è¿˜æ˜¯æŠ›å‡ºerror,è¿˜æ˜¯æ­£å¸¸æ‰§è¡Œ,éƒ½ä¼šæ‰§è¡Œcleanup-formsä¸­çš„è¯­å¥.\nä¸finallyç±»ä¼¼,unwind-protectè¯­å¥åªä¿è¯body-formæ‰§è¡Œå¤±è´¥åä¼šæ‰§è¡Œcleanup-formsä¸­çš„è¯­å¥,è€Œä¸èƒ½ä¿è¯cleanup-formsä¸­å¦‚æœå‡ºäº†é—®é¢˜,è¿˜ä¼šæ‰§è¡Œåé¢çš„è¯­å¥.\nä¸finallyä¸åŒçš„æ˜¯,è‹¥body-formæ­£å¸¸ç»“æŸ,åˆ™unwind-protectçš„è¿”å›å€¼ä¸º body-form çš„è®¡ç®—ç»“æœ,è€Œè‹¥body-forméæ­£å¸¸é€€å‡º,åˆ™ä¸è¿”å›ä»»ä½•å€¼(??),è€Œä¸æ˜¯è¿”å›cleanup-formsçš„å€¼.\nElispä¸­çš„å˜é‡ åœ¨Elispä¸­,ä¸€ä¸ªå˜é‡å°±æ˜¯ä¸€ä¸ªlisp symbol. å˜é‡åä¸ºè¯¥symbolçš„åç§°,å˜é‡å€¼ä¸ºè¯¥symbolçš„value cellä¸­å­˜å‚¨çš„å€¼.\nä¸C++ä¸­çš„å˜é‡ä¸åŒçš„æ˜¯,Elispä¸­çš„å˜é‡å¯ä»¥æŒ‡å‘ä»»ä½•ç±»å‹çš„æ•°æ®,è€Œä¸”å¯ä»¥ä¸ºå˜é‡è®¾ç½®ä¸€ä¸ªdoc-string,ç”¨äºè¯´æ˜è¯¥å˜é‡çš„ç”¨å¤„.\nå…¨å±€å˜é‡ å¯ä»¥ä½¿ç”¨defvar,defconst,defcustomæ¥å®šä¹‰å…¨å±€å˜é‡.\n (defvar symbol \u0026optional value doc-string)  å®šä¹‰åä¸ºsymbol-nameçš„å˜é‡,å¹¶åˆå§‹åŒ–å€¼ä¸ºvalue.\n(defvar project-root \"~/project/\" \"é¡¹ç›®æ ¹ç›®å½•\") è‹¥çœç•¥valueçš„å€¼,åˆ™å®šä¹‰å‡ºæ¥çš„å˜é‡ä¸ºç©ºå˜é‡.ä¸èƒ½ç›´æ¥è¢«è®¿é—®.\n(defvar void-var) void-var ;Lisp error: (void-variable void-var) éœ€è¦æ³¨æ„çš„æ˜¯: è‹¥symbolå·²ç»æœ‰å€¼,åˆ™defvarå¹¶ä¸ä¼šæ›´æ”¹symbolçš„å€¼.\n(defvar var 'some-value) var ;some-value (defvar var 'other-value) var ;some-value å¦å¤–,defvarç»‘å®šçš„æ˜¯symbolåœ¨åŠ¨æ€åŸŸä¸‹çš„é»˜è®¤å€¼,å®ƒå¹¶ä¸ä¼šå½±å“symbolçš„buffer-localå€¼,ä¹Ÿä¸æ”¹å˜symbolçš„é™æ€ç»‘å®šå€¼.\n (defconst symbol value \u0026optional doc-string)  ä¸defvardefconstä¹Ÿå®šä¹‰ä¸€ä¸ªåä¸ºsymbol-nameçš„å˜é‡,å®ƒçš„å€¼ä¸ºvalue.\nå¦å¤–,defconstç»‘å®šçš„ä¹Ÿæ˜¯symbolåœ¨åŠ¨æ€åŸŸä¸‹çš„é»˜è®¤å€¼,å®ƒå¹¶ä¸ä¼šå½±å“symbolçš„buffer-localå€¼,ä¹Ÿä¸æ”¹å˜symbolçš„é™æ€ç»‘å®šå€¼.\nå®ƒè·Ÿdefvarä¸ä¸€æ ·çš„åœ°æ–¹åœ¨ä¸,å®ƒæ€»æ˜¯ä½¿symbolèµ‹å€¼ä¸ºvalue,è€Œä¸ç®¡æ˜¯å¦å·²ç»æœ‰å€¼.\nä½†æ­£å¦‚åç§°æ‰€è¡¨ç¤ºçš„,å®ƒè¡¨ç¤ºå®šä¹‰çš„å˜é‡é€šå¸¸åº”è¯¥æ˜¯ä¸€ä¸ªå¸¸é‡. ä¸ å»ºè®® ä¿®æ”¹å®ƒçš„å€¼(ä½†ä¸æ˜¯å¼ºåˆ¶æ€§çš„)\nå¸¸é‡ åœ¨Elispä¸­,nil,tå’Œä»»ä½•ä»¥`:`å¼€å¤´çš„symbol(æˆ‘ä»¬å¸¸å¸¸ç§°å‘¼è¿™ç§symbolä¸ºkeyword)éƒ½æ˜¯ç³»ç»Ÿçš„ä¿ç•™å¸¸é‡.\nä»»ä½•å¯¹è¿™äº›ç³»ç»Ÿçš„ä¿ç•™å¸¸é‡çš„å€¼è¿›è¡Œä¿®æ”¹çš„åŠ¨ä½œ,éƒ½ä¼šæŠ›å‡º`setting-constant` error.\nè¿˜æœ‰ä¸€ç±»æ˜¯ç”¨æˆ·ä½¿ç”¨defconstæ¥è‡ªå®šä¹‰çš„å¸¸é‡,å¯¹è¿™ç±»å¸¸é‡çš„å€¼è¿›è¡Œä¿®æ”¹,å¹¶ä¸ä¼šæŠ›å‡ºerror,è€Œä¸”ä¿®æ”¹è¡Œä¸ºä¹Ÿèƒ½æˆåŠŸ\nå±€éƒ¨å˜é‡ ä¸C++ä¸€æ ·,å‡½æ•°ä¸­çš„å‚æ•°,å¤©ç”Ÿå°±æ˜¯å±€éƒ¨å˜é‡,å®ƒçš„ä½œç”¨èŒƒå›´å°±æ˜¯æ•´ä¸ªå‡½æ•°å†…éƒ¨.\nè€Œè¦å®ç°ç±»ä¼¼C++çš„ä»£ç å—å†…çš„å±€éƒ¨å˜é‡({}å†…å®šä¹‰çš„å±€éƒ¨å˜é‡),éœ€è¦ä½¿ç”¨let*è¯­å¥.\n (let* (bingsâ€¦) formsâ€¦)  è¿™é‡Œ,bingdingä¸ºå®šä¹‰å±€éƒ¨å˜é‡çš„è¯­å¥,åœ¨è¿™é‡Œå®šä¹‰çš„å±€éƒ¨å˜é‡,åªèƒ½åœ¨åé¢çš„bodysä¸­è®¿é—®.\næ¯ä¸ªbingdingå¯ä»¥æ˜¯ä¸€ä¸ªsymbol,è¿™è¡¨ç¤ºå®šä¹‰ä¸€ä¸ªå±€éƒ¨å˜é‡,å¹¶ä¸”è¯¥å±€éƒ¨å˜é‡çš„å€¼ä¸ºnil. ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ª(symbol value-form)æ ¼å¼çš„list,è¡¨ç¤ºå®šä¹‰ä¸€ä¸ªå±€éƒ¨å˜é‡,å¹¶ä¸”è¯¥å±€éƒ¨å˜é‡çš„å€¼ä¸ºvalue-formçš„è®¡ç®—ç»“æœ. å½“ç„¶value-formä¹Ÿå¯ä»¥çœç•¥,è¡¨ç¤ºnil.\nä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­\n(setq y 2) ; = 2 (let* ((y 1) (z y)) (list y z)) ; = (1 1)  (let (bindingsâ€¦) bodysâ€¦)  ç±»ä¼¼let*è¯­å¥, ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯: letè¯­å¥ä¸­,åœ¨æ•´ä¸ª(bingings)æ²¡æœ‰å®Œæˆä¹‹å‰,æ‰€æœ‰çš„å±€éƒ¨å˜é‡éƒ½æ˜¯ä¸ç”Ÿæ•ˆçš„. ä¸¾ä¸ªä¾‹å­\n(setq y 2) ; = 2 ;; è¿™é‡Œåœ¨æ‰§è¡Œ(z y)æ—¶,å±€éƒ¨å˜é‡yè¿˜æœªç”Ÿæ•ˆ,è¿™æ—¶çš„yæ˜¯å…¨å±€å˜é‡y,å³å®ƒçš„å€¼ä¸º2 (let ((y 1) (z y)) (list y z)) ; = (1 2) Buffer-Localå˜é‡ Buffer-Localå˜é‡åº”è¯¥è¯´æ˜¯Elispæ‰€ç‰¹æœ‰çš„ä¸€ç§å˜é‡ç±»å‹äº†. è¿™ç§å˜é‡çš„ä½œç”¨åŸŸä»…é™äºæŸä¸ªbuffer.\næ¢å¥è¯è¯´,ä¸€ä¸ªå˜é‡å®ƒåœ¨ä¸åŒä½œç”¨åŸŸä¸‹æœ‰ä¸åŒçš„ç»‘å®šå€¼. è‹¥å®ƒå¤„äºbufferä½œç”¨åŸŸä¸‹,åˆ™è¯¥å˜é‡çš„å€¼æ ¹æ®bufferçš„ä¸åŒè€Œä¸åŒ. è€Œä¹‹å‰æåˆ°çš„ä¸bufferæ— å…³çš„åŠ¨æ€ä½œç”¨åŸŸçš„å€¼,æˆ‘ä»¬ç§°å®ƒä¸ºå˜é‡çš„é»˜è®¤å€¼.\néœ€è¦æ³¨æ„: å³ä½¿ä¸€ä¸ªå˜é‡è¢«æ ‡è®°ä¸ºbuffer-localå˜é‡,å½“ä½¿ç”¨defvarå’Œdefconstæ—¶,æ”¹å˜çš„ä¾ç„¶æ˜¯å®ƒçš„é»˜è®¤å€¼.è€Œä¸æ˜¯bufferä½œç”¨åŸŸä¸‹çš„å€¼.\n  (make-local-variable symbol)\nå¯ä»¥ä½¿ç”¨å‘½ä»¤`make-local-variable`æ¥æ ‡æ³¨ä¸€ä¸ªå˜é‡ä¸ºBuffer-Localå˜é‡. è¿™æ—¶,è¯¥å˜é‡åœ¨å½“å‰bufferä¸­çš„å€¼å˜å¾—è·Ÿå…¶ä»–bufferç‹¬ç«‹å¼€æ¥. åœ¨å½“å‰bufferä¸­,è¯¥å˜é‡å¤„äºbufferä½œç”¨åŸŸä¸­,è€Œåœ¨å…¶ä»–bufferä¸­åˆ™å…±äº«è¯¥å˜é‡çš„é»˜è®¤å€¼.\n  è¯¥å˜é‡åœ¨bufferä½œç”¨åŸŸä¸‹çš„å€¼,åœ¨åˆ›å»ºæ—¶ä¸è¯¥bufferçš„é»˜è®¤å€¼æ˜¯ä¸€æ ·çš„.\nè‹¥ä¸€ä¸ªå˜é‡æ˜¯terminal-localå˜é‡,åˆ™è¯¥å‡½æ•°ä¼šæŠ›å‡ºerror. terminal-localå˜é‡ä¸èƒ½æœ‰bufferä½œç”¨åŸŸä¸‹çš„å€¼.\næ³¨æ„: ä¸è¦ç”¨è¯¥å‡½æ•°æ¥å°†hookå˜é‡è®¾ç½®ä¸ºbuffer-localå˜é‡,è€Œåº”è¯¥åœ¨ä½¿ç”¨add-hookå’Œremove-hookæ—¶å°†localå‚æ•°è®¾ä¸ºt\n (setq-local symbol-name value)  å°†symbolå˜é‡æ ‡æ³¨ä¸ºbuffer-localå˜é‡,åŒæ—¶èµ‹å€¼ä¸ºvalue. å®ƒç­‰äºæ˜¯å…ˆè°ƒç”¨make-local-variableåå†ç”¨setqè¿›è¡Œèµ‹å€¼.\n  (make-variable-buffer-local symbol)\nä¹Ÿå¯ä»¥ä½¿ç”¨å‘½ä»¤`make-variable-buffer-local`æ¥æ ‡æ³¨ä¸€ä¸ªå˜é‡åœ¨æ‰€æœ‰çš„bufferä¸­éƒ½å¤„äºbuffer-localä½œç”¨åŸŸä¸‹,åŒ…æ‹¬é‚£äº›è¿˜æœªè¢«åˆ›å»ºçš„buffer. æˆ‘ä»¬ç§°å‘¼è¿™ç§å˜é‡ä¸ºautomatically buffer-localå˜é‡\næ‰€æœ‰bufferä¸­çš„å€¼ä¸€å¼€å§‹æ—¶é»˜è®¤å°±æ˜¯è¯¥å˜é‡çš„é»˜è®¤å€¼.\n  å½“symbolå˜é‡çš„é»˜è®¤å€¼ä¸ºç©ºæ—¶,è¯¥è¯­å¥ä¼šè‡ªåŠ¨ä¸ºå˜é‡åœ¨bufferä½œç”¨åŸŸä¸‹çš„å€¼èµ‹å€¼ä¸ºnil.\n (defvar-local symbol-name value \u0026optional docstring)  å®šä¹‰ä»¥symbol-nameä¸ºåç§°çš„å˜é‡,å¹¶èµ‹åˆå€¼ä¸ºvalue,å¹¶æŠŠè¯¥å˜é‡æ ‡æ³¨ä¸ºè‡ªåŠ¨çš„buffer-localå˜é‡.\nè¯¥çº¢ç­‰ä»·äºå…ˆæ‰§è¡Œmake-variable-buffer-local,ç„¶åå†æ‰§è¡Œdefvar\n (local-variable-p symbol \u0026optional buffer)  åˆ¤æ–­symbolæ‰€è¡¨ç¤ºçš„å˜é‡åœ¨bufferä¸­æ˜¯å¦ä¸ºbuffer-localå˜é‡,è‹¥çœç•¥bufferå‚æ•°åˆ™æŒ‡çš„å½“å‰buffer.\næ³¨æ„:è¯¥å‡½æ•°åœ¨åˆ¤æ–­automatically buffer-localå˜é‡æ—¶è¿”å›nil\n(defvar-local a 1) ;è¿™æ—¶aä¸ºautomatically buffer-localå˜é‡ (local-variable-p 'a) ;=nil  (local-variable-if-set-p symbol \u0026optional buffer)  è·Ÿlocal-variable-pç±»ä¼¼,ä½†å½“symbolä¸ºautomatically buffer-localå˜é‡æ—¶,è¯¥å‡½æ•°ä¹Ÿè¿”å›t\n(defvar-local a 1) ;è¿™æ—¶aä¸ºautomatically buffer-localå˜é‡ (local-variable-if-set-p 'a) ;= t  (buffer-local-value symbol buffer)  è¿”å›symbolå˜é‡åœ¨æŒ‡å®šbufferä¸­çš„bufferä½œç”¨åŸŸä¸­çš„å€¼, è‹¥symbolå˜é‡åœ¨æŒ‡å®šbufferä¸­æ²¡æœ‰buffer-localç»‘å®šå€¼,åˆ™è¿”å›å®ƒçš„é»˜è®¤å€¼.\n (buffer-local-variables \u0026optional buffer)  ä»¥listçš„æ–¹å¼è¿”å›å½“å‰bufferä¸­çš„æ‰€æœ‰buffer-localå˜é‡. è‹¥bufferå‚æ•°è¢«çœç•¥,åˆ™è¡¨ç¤ºå½“å‰buffer.\nè¿”å›çš„listä¸­çš„æ¯ä¸ªå…ƒç´ çš„æ ¼å¼ä¸ºâ€™(symbol . value), ä½†è‹¥symbolå˜é‡åœ¨bufferä½œç”¨åŸŸä¸‹çš„å€¼ä¸ºç©º(ä¸æ˜¯nil),åˆ™å…ƒç´ çš„æ ¼å¼åªæ˜¯å•ä¸ªçš„symbol\n(make-local-variable 'foobar) (makunbound 'foobar) (make-local-variable 'bind-me) (setq bind-me 69) (setq lcl (buffer-local-variables)) ;; = (foobar ;foobarä¸ºvoidå˜é‡,æ ¼å¼ä¸ºå•ä¸ªçš„symbol (bind-me . 69)) ;bind-meå˜é‡æœ‰å€¼,å› æ­¤æ ¼å¼ä¸º(symbol . value)  (kill-local-variable symbol)  åˆ é™¤symbolå˜é‡åœ¨å½“å‰bufferä¸­çš„buffer-localæ ‡è¯†,ä½¿ä¹‹åœ¨å½“å‰bufferä¸­ä½œä¸ºä¸€ä¸ªæ™®é€šå˜é‡æ¥å¤„ç†.\nè¦æ³¨æ„çš„æ˜¯: è‹¥å¯¹ä¸€ä¸ªautomatical buffer-localå˜é‡æ‰§è¡Œè¯¥å‡½æ•°,åˆ™è¯¥å˜é‡åœ¨å½“å‰bufferä¸­è®¿é—®æ—¶ä¼šä½œä¸ºä¸€ä¸ªæ™®é€šå˜é‡æ¥å¤„ç†,ç„¶è€Œ, ä¸€æ—¦å¯¹è¿™ä¸ªå˜é‡å†æ¬¡èµ‹å€¼,è¯¥å˜é‡åˆå˜æˆä¸ºbuffer-localå˜é‡\n (kill-all-local-variables)  åˆ é™¤å½“å‰bufferä¸­æ‰€æœ‰buffer-localå˜é‡(åŒ…æ‹¬å‡½æ•°)çš„buffer-localæ ‡è¯†,ä½†é‚£äº›æ ‡æ³¨ä¸º\"permanent\"çš„å˜é‡å’Œ\"permanent-local-hook\"å±æ€§ä¸ºénilçš„å‡½æ•°é™¤å¤–.\nè¯¥å‡½æ•°è¿”å›nil\nè¯¥å‡½æ•°æ‰§è¡Œçš„ç¬¬ä¸€ä»¶äº‹å°±ä¼šæ‰§è¡Œchange-major-mode-hook,å› ä¸ºå®ƒä¼šæŠŠå½“å‰bufferçš„major modeå…ˆæ”¹ä¸ºfundamental mode\næ‰€è°“æ ‡æ³¨ä¸ºpermanentçš„å˜é‡,æŒ‡çš„æ˜¯symbolçš„permanent-localå±æ€§ä¸ºénil\nå½“åœ¨æŸbufferä¸­æ ‡æ³¨æŸå˜é‡é—®buffer-localå˜é‡å,å†ä½¿ç”¨setqæ¥æ›´æ”¹å˜é‡å€¼æ—¶åªä¼šæ›´æ”¹è¯¥å˜é‡åœ¨è¯¥bufferä½œç”¨åŸŸä¸‹çš„å€¼äº†,è¦æƒ³æ›´æ”¹å®ƒçš„é»˜è®¤å€¼,éœ€è¦ä½¿ç”¨è¯­å¥set-default / setq-defaultäº†\n  (setq-default symbol1-name value1 symbol2-name value2 â€¦)\nè®¾ç½®æ¯ä¸ªå˜é‡çš„é»˜è®¤å€¼\n  (set-default symbol value)\nè®¾ç½®symbolå˜é‡çš„é»˜è®¤å€¼\n  åŒæ ·çš„,ä½¿ç”¨letå¯¹ä¸€ä¸ªbuffer-localå˜é‡è¿›è¡Œå±€éƒ¨ç»‘å®šæ—¶,ä¿®æ”¹çš„ä¹Ÿæ˜¯è¯¥å˜é‡åœ¨bufferä½œç”¨åŸŸä¸‹çš„å€¼.\nFile-Localå˜é‡ åœ¨æ–‡ä»¶ä¸­æŒ‡å®šäº†æŸä¸ªå˜é‡ä¸ºFile-localå˜é‡å,å½“æŸä¸ªbufferè®¿é—®è¯¥æ–‡ä»¶å,ç›¸å…³å˜é‡è‡ªåŠ¨æˆä¸ºbuffer-localå˜é‡.\nå¤„äºå®‰å…¨è€ƒè™‘,è‹¥æŸä¸ªFile-localå˜é‡ä¸ºå‡½æ•°æˆ–Sè¡¨è¾¾å¼,åˆ™åªæœ‰é‚£äº›æ˜ç¡®æ ‡è®°ä¸ºsafeçš„file-localå˜é‡æ‰ä¼šè‡ªåŠ¨ç”Ÿæ•ˆ,å…¶ä»–çš„file-localå˜é‡éœ€è¦ç”¨äºè®¤å¯æ‰å›ç”Ÿæ•ˆ.\nä½ å¯ä»¥é€šè¿‡ä¿®æ”¹ä¸€ä¸ªå˜é‡çš„safe-local-variableå±æ€§æ¥å†³å®šå“ªäº›å€¼å¯¹äºè¯¥å‚æ•°æ¥è¯´æ˜¯æœ‰æ•ˆçš„,è¯¥å±æ€§æ¥æ”¶è¯¥å‚æ•°çš„å€¼,è¿”å›énilåˆ™è¡¨ç¤ºè¯¥å‚æ•°safe(æœ‰æ•ˆ),nilè¡¨ç¤ºunsafe(æ— æ•ˆ).\næ­¤å¤–,å½“Emacsè¯»å–file-localå˜é‡æ—¶,`read-circle`å˜é‡ä¼šä¸´æ—¶è®¾ä¸ºnil.\n å˜é‡enable-local-variables  è¯¥å˜é‡æ§åˆ¶äº†æ˜¯å¦è®©file-localå˜é‡ç”Ÿæ•ˆ.\nè¯¥å˜é‡æœ‰å¯ä»¥è®¾ç½®ä¸º:\n  t (é»˜è®¤)\nè¡¨ç¤ºè‡ªåŠ¨ç”Ÿæ•ˆé‚£äº›æ ‡è®°ä¸ºsafeçš„å˜é‡,è€Œé‚£äº›unsafeçš„å˜é‡éœ€è¦æç¤ºç”¨æˆ·ç¡®è®¤åæ‰ç”Ÿæ•ˆ\n  :safe\nåªæœ‰æ ‡è®°ä¸ºsafeçš„å˜é‡æ‰ç”Ÿæ•ˆ,å…¶ä»–çš„unsafeå˜é‡ä¸ç”Ÿæ•ˆ\n  :all\næ‰€æœ‰çš„å˜é‡,ä¸ç®¡safeæˆ–unsafe,éƒ½ç”Ÿæ•ˆ\n  nil\næ‰€æœ‰çš„å˜é‡,ä¸ç®¡safeæˆ–unsafe,éƒ½ä¸ç”Ÿæ•ˆ\n  å…¶ä»–\nç´ æœ‰å˜é‡,ä¸ç®¡safeæˆ–unsafe,éƒ½éœ€è¦ç”¨æˆ·ç¡®è®¤è¿‡ä¹‹åæ‰ç”Ÿæ•ˆ\n  å˜é‡inhibit-local-variables-regexps\n  è¯¥å˜é‡æ˜¯ä¸€ä¸ªç”±æ­£åˆ™è¡¨è¾¾å¼ç»„æˆçš„list. å¦‚æœæŸä¸ªæ–‡ä»¶åç¬¦åˆlistä¸­æŸå…ƒç´ çš„ä¸ªæ­£åˆ™è¡¨è¾¾å¼,åˆ™è¯¥æ–‡ä»¶ä¸­çš„file-locaå˜é‡ä¸ç”Ÿæ•ˆ\n (hack-local-variables \u0026optional mode-only)  å¯ç”¨è¯¥bufferæ‰€è®¿é—®fileä¸­çš„file-localå˜é‡.\næ³¨æ„: æ‰§è¡Œè¯¥å‡½æ•°æ—¶,ä¼šæŒ‰ç…§å˜é‡`enable-local-variables`çš„ä¸åŒå€¼,è€Œæœ‰ä¸åŒçš„ç”Ÿæ•ˆæ–¹å¼.\nè¯¥å‡½æ•°æ‰§è¡Œå‰ä¼šè§¦å‘`before-hack-local-variables-hook`,æ‰§è¡Œåä¼šè§¦å‘`hack-local-variables-hook`\nè‹¥mode-onlyå‚æ•°ä¸ºénil,åˆ™ä¹‹ååä¸º\"mode:â€œçš„file-localå˜é‡ä¼šç”Ÿæ•ˆ,è‹¥æ–‡ä»¶ä¸­æŒ‡æ˜äº†\"mode:\",åˆ™è¯¥å‡½æ•°è¿”å›è¯¥å‡½æ•°å€¼,å¦åˆ™è¿”å›nil\n å˜é‡file-local-variables-alist  è¯¥å˜é‡ä¸€å®šä¸ºbuffer-localå˜é‡,å®ƒæ˜¯ä¸€ä¸ªå­˜å‚¨äº†file-localå˜é‡ä¿¡æ¯çš„alist.\næ¯ä¸ªfile-local-variables-alistä¸­å…ƒç´ çš„æ ¼å¼ä¸º`(VAR . VALUE)`,è¿™é‡ŒVARä¸ºfile-localå˜é‡,valueä¸ºå˜é‡çš„å€¼.\nå½“Emacsè®¿é—®ä¸€ä¸ªæ–‡ä»¶æ—¶,å®ƒå…¶å®æ˜¯å…ˆå°†æ‰€æœ‰çš„file-localå˜é‡æ”¶é›†äº†èµ·æ¥å­˜å…¥file-local-variables-alistå˜é‡ä¸­,ç„¶åå†è°ƒç”¨hack-local-variableså‡½æ•°æ¥è®©ä»–ä»¬ç”Ÿæ•ˆ.\n é…ç½®é¡¹safe-local-variable-values  è¯¥å˜é‡æ˜¯ä¸€ä¸ªç”±`(VAR . VALUE)`ç»„æˆçš„list. è¿™é‡ŒVARä¸ºå˜é‡å,è€ŒVALUEä¸ºVARçš„å€¼,å¹¶ä¸”è¯¥å€¼è¢«è®¤ä¸ºæ˜¯safeçš„.\n (safe-local-variable-p symbol value)  åˆ¤æ–­çµ¦symbolå˜é‡è®¾ç½®ä¸ºvalueæ˜¯å¦safe\n (risky-local-variable-p symbol)  è¯¥å‡½æ•°åˆ¤æ–­symbolå˜é‡æ˜¯å¦è®¤ä¸ºæ˜¯risky\nriskyçš„å˜é‡åœ¨ç”Ÿæ•ˆå‰,é™¤éæ˜ç¡®è¢«è®¾ç½®åˆ°`safe-local-variable-value`ä¸­,ä½›åˆ™ä¸€å®šéœ€è¦ç»è¿‡ç”¨æˆ·çš„ç¡®è®¤.\næ‰€è°“riskyå˜é‡,æŒ‡çš„æ˜¯å®ƒçš„å±æ€§`risky-local-variable`ä¸ºnon-nilçš„å˜é‡.\næ­¤å¤–,ä»»ä½•ä»¥`-command`,`-frame-alist`,`-function`,`functions`,`-hook`,`-hooks`,`-form`,`-forms`,`-map`,`map-alist`,`-mode-alist`,`-program`å’Œ`-predicate`ç»“å°¾çš„å˜é‡éƒ½è‡ªåŠ¨è®¤ä¸ºæ˜¯riskyçš„.\n å˜é‡ignored-local-variables  è¯¥å˜é‡çš„å€¼ä¸ºç”±å˜é‡ç»„æˆçš„list, è¯¥listä¸­çš„å¯¹åº”å˜é‡ä¸èƒ½è¢«è®¾ç½®ä¸ºfile-localå˜é‡,å³ä½¿åœ¨æ–‡ä»¶ä¸­å°†å®ƒè®¾ç½®ä¸ºfile-localå˜é‡,ä¹Ÿæ— æ•ˆæœ.\n é…ç½®å‹enable-local-eval  `:Eval`æ˜¯ä¸€ä¸ªæ˜æ˜¾çš„æ½œåœ¨æ¼æ´,å› æ­¤Emacsé€šå¸¸åœ¨å¤„ç†è¯¥å‡½æ•°æ—¶éƒ½è¦ç»è¿‡ç”¨æˆ·çš„ç¡®è®¤.\né€šè¿‡è®¾ç½®enable-local-evalå€¼,å¯ä»¥æ”¹å˜è¿™ä¸€è¡Œä¸º. è¯¥å˜é‡å¯ä»¥æœ‰ä¸‰ä¸ªå€¼:\n  t\nè¡¨ç¤ºæ— æ¡ä»¶æ‰§è¡Œ\n  nil\nè¡¨ç¤ºæ— æ¡ä»¶ä¸æ‰§è¡Œ\n  å…¶ä»–(é»˜è®¤ä¸ºâ€™mayb)\nè¡¨ç¤ºè¯¢é—®ç”¨æˆ·.\n  é…ç½®å‹safe-local-eval-forms\n  è¯¥å˜é‡ä¸ºä¸€ä¸ªç”±æ­£åˆ™è¡¨è¾¾å¼ç»„æˆçš„list. å½“`Eval:`å‚æ•°çš„å€¼èƒ½å¤ŸåŒ¹é…ä¸Šå…¶ä¸­ä¸€ä¸ªæ­£åˆ™çš„Sè¡¨è¾¾å¼,åˆ™è®¤ä¸ºæ˜¯å®‰å…¨çš„.\nå¦‚æœ`Eval:`å‚æ•°çš„å€¼ä¸ºä¸€ä¸ªè°ƒç”¨å‡½æ•°çš„Sè¡¨è¾¾å¼,ä¸”è°ƒç”¨çš„å‡½æ•°æ‹¥æœ‰`safe-local-eval-function`å±æ€§,åˆ™è¯¥å±æ€§æ‰€è¡¨ç¤ºçš„å‡½æ•°è¢«ç”¨æ¥åˆ¤æ–­è¯¥Sè¡¨è¾¾å¼æ˜¯å¦ä¸ºå®‰å…¨çš„. `safe-local-eval-function`å‡½æ•°å¾—å€¼,å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°åˆ—è¡¨,è¡¨ç¤ºå…¶ä¸­ä»»ä½•ä¸€ä¸ªå‡½æ•°è¿”å›tå³ä¸ºå®‰å…¨,ä¹Ÿå¯ä»¥æ˜¯t,è¡¨ç¤ºæ‰€æœ‰çš„Sè¡¨è¾¾å¼éƒ½å®‰å…¨.\nç”±äºTextå±æ€§å€¼ä¹Ÿå¯èƒ½åŒ…å«è¦è¢«è°ƒç”¨çš„å‡½æ•°,å› æ­¤å®ƒä¹Ÿè®¤ä¸ºæ˜¯ä¸€ä¸ªæ½œåœ¨çš„æ¼æ´, å› æ­¤,è‹¥ä¸€ä¸ªå˜é‡çš„å€¼ä¸ºå¸¦æœ‰Textå±æ€§çš„String,åˆ™è¯¥stringçš„Textå±æ€§è¢«å¿½ç•¥.\nDirectory-Localå˜é‡ åœ¨ç›®å½•ä¸­æŒ‡å®šäº†æŸä¸ªå˜é‡ä¸ºDirectory-localå˜é‡å,å½“æŸä¸ªbufferè®¿é—®è¯¥ç›®å½•(æå…¶å­ç›®å½•)ä¸‹çš„æ–‡ä»¶å,ç›¸å…³å˜é‡è‡ªåŠ¨æˆä¸ºbuffer-localå˜é‡.\næœ‰ä¸¤ç§æ–¹å¼æ¥å®šä¹‰directory-localå˜é‡:\n  æŠŠä»–ä»¬æ”¾åˆ°ç‰¹å®šçš„æ–‡ä»¶ä¸­,è¯¥æ–‡ä»¶åç”±å¸¸é‡`dir-locals-file`å†³å®š,é»˜è®¤ä¸º`.dir-locals.el/_dir-locals`\nåŸºäºé€Ÿåº¦çš„è€ƒè™‘,ä¸€èˆ¬åœ¨è®¿é—®è¿œç¨‹æ–‡ä»¶æ—¶,ä¼šç¦ç”¨è¯¥ç‰¹æ€§,ä½†é€šè¿‡è®¾ç½®å˜é‡`enable-remote-dir-locals`ä¸ºt,å¯ä»¥ä¸ºè¿œç¨‹æ–‡ä»¶ä¹Ÿæ‰“å¼€è¯¥ç‰¹æ€§.\ndir-locals-fileæ–‡ä»¶çš„æ ¼å¼ä¸ºä¸€ä¸ªlist,å…¶ä¸­æ¯ä¸ªå…ƒç´ çš„æ ¼å¼å¯ä»¥æ˜¯:\n (major-mode . directory-local-variable-value-alist)  è¡¨ç¤ºå½“æŒ‡å®šmajor-modeå¼€å¯æ—¶,å¯¹åº”çš„directory-localå˜é‡ç”Ÿæ•ˆ\n (nil. directory-local-variable-value-alist)  è¡¨ç¤ºå¯¹æ‰€æœ‰major-mode,å¯¹åº”çš„directory-localå˜é‡ç”Ÿæ•ˆ\n (subdirectory-name-string . dir-locals-file-format-list)  è¡¨ç¤ºå¯¹äºæŒ‡å®šå­ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶,directory-localå˜é‡ç”Ÿæ•ˆ.\nä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­:\n((nil . ((indent-tabs-mode . t) (fill-column . 80))) (c-mode . ((c-file-style . \"BSD\") (subdirs . nil))) ; =è¿™é‡Œsubdirsä¸æ˜¯å˜é‡å,è€Œæ˜¯ä¸€ä¸ªå…³é”®å­—,è¡¨ç¤ºè¯¥è®¾ç½®,åªå¯¹å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶æœ‰æ•ˆ,è€Œå¯¹å­ç›®å½•ä¸‹çš„æ–‡ä»¶æ— æ•ˆ. (\"src/imported\" . ((nil . ((change-log-default-name . \"ChangeLog.local\")))))) ç”±äºæ‰‹å·¥ä¿®æ”¹è¯¥æ–‡ä»¶æ ¼å¼ä¼šæ¯”è¾ƒå®¹æ˜“å‡ºé”™,å› æ­¤Emacsæä¾›äº†å‘½ä»¤add-dir-local-variable/delete-dir-local-variable/copy-file-locals-to-dir-localså‘½ä»¤æ¥ç»´æŠ¤directory-localeå˜é‡\n  ä¸ºç›®å½•å®šä¹‰\"project classâ€\né¦–å…ˆä½¿ç”¨å‡½æ•°dir-locals-set-class-variableså®šä¹‰ä¸€ç»„å˜é‡/å€¼çš„é”®å€¼å¯¹çš„é›†åˆ.\n(dir-locals-set-class-variables 'unwritable-directory '((nil . ((some-useful-setting . value))))) ç„¶åä½¿ç”¨å‡½æ•°dir-locals-set-directory-classå‡½æ•°ä¸ºç›®å½•åˆ†é…è¿™ç»„é”®å€¼å¯¹çš„é›†åˆ\n(dir-locals-set-directory-class \"/usr/include/\" 'unwritable-directory)   ç›¸å…³å‡½æ•°   (hack-dir-local-variables)\nä¸ºè®¿é—®å½“å‰ç›®å½•(åŠå­ç›®å½•)ä¸‹æ–‡ä»¶çš„æ‰€æœ‰bufferå¼€å¯directory-localå˜é‡\nè¯¥å‡½æ•°é€šè¿‡è°ƒç”¨å‡½æ•°dir-locals-set-class-variableså’Œdir-locals-set-directory-classæ¥å®Œæˆæ­¤æ“ä½œ.\n  (hack-dir-local-variables-non-file-buffer)\nä¸ºå½“å‰bufferå¯ç”¨directory-localå˜é‡,ä¸€èˆ¬ç”¨äºé‚£äº›non-file bufferä¸­.\nå¯¹è¿™äº›non-file bufferå¼€å¯directory-localå˜é‡æ—¶ä¼šä»`default-directory`å’Œå®ƒçš„çˆ¶ç›®å½•ä¸­æŸ¥æ‰¾directory-localå˜é‡çš„å®šä¹‰\n  (dir-locals-set-class-variables project-class dir-locals-file-format-list)\nè¯¥å‡½æ•°å®šä¹‰ä¸€ç»„directory-localå˜é‡åŠå…¶å€¼,å¹¶åˆ†é…æ”¹ç»„å˜é‡ä¸ºproject-class\n(dir-locals-set-class-variables 'unwritable-directory '((nil . ((some-useful-setting . value)))))   (dir-locals-set-directory-class directory project-class \u0026optioinal mtime)\nä¸ºdirectory(åŠå…¶å­ç›®å½•ä¸‹)ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åˆ†é…project-classæ‰€è¡¨ç¤ºçš„directory-localå˜é‡.\nå½“Emacsä»`.dir-locals.el`æ–‡ä»¶ä¸­è¯»å–directory-localå˜é‡æ—¶,ä¹Ÿæ˜¯é€šè¿‡è°ƒç”¨è¯¥å‡½æ•°æ¥å®ç°çš„,è¿™æ˜¯ä¼šå¸¦ä¸Šmtimeå‚æ•°.\nmtimeå‚æ•°å­˜å‚¨çš„æ˜¯`.dir-locals.el`çš„modification time. Emacsä½¿ç”¨è¯¥æ—¶é—´æ¥æ£€æŸ¥å·²æœ‰çš„directory-localå˜é‡æ˜¯å¦ä¾ç„¶æœ‰æ•ˆ.\n  å˜é‡dir-locals-class-alist\nè¯¥å˜é‡æ˜¯ä¸€ä¸ªalist,å®ƒç»´æŠ¤äº†project-classåŠå¯¹åº”directory-localå˜é‡çš„å¯¹åº”å…³ç³».\n  å˜é‡dir-locals-directory-cache\nè¯¥å˜é‡æ˜¯ä¸€ä¸ªalist,å®ƒç»´æŠ¤äº†ç›®å½•åç§°,å¯¹åº”çš„project-classå’Œå¯¹åº”`.dir-locals.el`çš„modification time\n  å˜é‡enable-dir-local-variables\næ˜¯å¦å¯ç”¨directory-locallå˜é‡ç‰¹æ€§.\n  Terminal-Lockå˜é‡ ç©ºå˜é‡ å‰é¢è¯´åˆ°,å˜é‡çš„å€¼å…¶å®å°±æ˜¯å–å¾—symbolä¸­çš„value cellä¸­å­˜å‚¨çš„å¯¹è±¡. å½“symbolä¸­çš„value cellæ²¡æœ‰å­˜å‚¨ä»»ä½•å¯¹è±¡æ—¶(nilä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡),è¿™æ—¶è®¿é—®è¯¥å˜é‡ä¼šæŠ›å‡º`void-variable` error. æˆ‘ä»¬ç§°è¿™ç§å˜é‡ä¸ºç©ºå˜é‡. (NOTE: ä¸Šè¿°çš„æƒ…å†µåœ¨Emacsé»˜è®¤çš„åŠ¨æ€ä½œç”¨åŸŸä¸‹æ˜¯æˆç«‹çš„,è‹¥æ˜ç¡®æŒ‡å®šäº†é™æ€ä½œç”¨åŸŸ,åˆ™å¦å½“åˆ«è®ºäº†,ä½†è¿™ç§æƒ…å†µæ¯”è¾ƒå°‘ç”¨åˆ°)\né‚£ä¹ˆåˆ›å»ºè¿™ç§ç©ºå˜é‡å‘¢? è¿™å°±éœ€è¦ç”¨åˆ°makeunboundå‡½æ•°äº†.\n (makeunbound symbol)  å°†å½“å‰ä½œç”¨åŸŸä¸‹çš„å±€éƒ¨å˜é‡symbolä¸­çš„value cellæ¸…ç©º,ä½¿ä¹‹æˆä¸ºç©ºå˜é‡.\nè‹¥è¦åˆ¤æ–­æŸä¸ªå˜é‡æ˜¯å¦ä¸ºç©ºå˜é‡,åˆ™å¯ä»¥ä½¿ç”¨boundpå‡½æ•°\n (boundp symbol)  è¯¥å‡½æ•°æ£€æŸ¥symbolçš„value cellæ˜¯å¦æœ‰å€¼,è‹¥æœ‰å€¼åˆ™è¿”å›t,å¦åˆ™è¿”å›nil. å› æ­¤æˆ‘ä»¬ä¹Ÿå¯ä»¥å®šä¹‰å‡½æ•°\n(defun void-variable-p (variable) (null (boundp variable))) ä¸‹é¢æ˜¯ä¸€äº›boundpçš„ä¾‹å­\n(boundp 'abracadabra) ; Starts out void. ;; = nil (let ((abracadabra 5)) ; Locally bind it. (boundp 'abracadabra)) ;; = t (boundp 'abracadabra) ; Still globally void. ;; = nil (setq abracadabra 5) ; Make it globally nonvoid. ;; = 5 (boundp 'abracadabra) ;; = t å˜é‡åˆ«å å˜é‡åŠå…¶åˆ«åå…¬ç”¨åŒä¸€ä¸ªå€¼,ä¿®æ”¹å…¶ä¸­ä¸€ä¸ªä¹Ÿä¼šåŒæ—¶æ›´æ”¹å¦ä¸€ä¸ªå€¼.\n (defvaralias new-alias base-variable \u0026optional docstring)  ä¸ºbase-variableå®šä¹‰ä¸€ä¸ªåä¸ºnew-aliasçš„å˜é‡åˆ«å,å¯ä»¥ä¸ºè¿™ä¸ªåˆ«ååˆ†é…ä¸€ä¸ªæ–°çš„docstring\nè¯¥å‡½æ•°è¿”å›base-variable\n (indirect-variable alias-variable)  è¿”å›åˆ«åé“¾ä¸­æœ€æœ«ç«¯çš„é‚£ä¸ªéåˆ«åå˜é‡\nè‹¥å‡ºç°äº†å¾ªç¯å®šä¹‰çš„åˆ«å,åˆ™è¯¥å‡½æ•°æŠ›å‡º`cyclic-variable-indirection` error\nåºŸå¼ƒå˜é‡  (make-obsolete-variable obsolete-variable current-variable when \u0026optional access-type)  åœ¨ç¼–è¯‘æ—¶è­¦å‘Šä¸€ä¸ªå˜é‡å³å°†åºŸå¼ƒä¸ç”¨äº†,å…¶ä¸­:\nå‚æ•°obsolete-variableä¸ºå³å°†ä¸ç”¨çš„å˜é‡\nå‚æ•°current-variableè‹¥ä¸ºsymbol,åˆ™ä¼šæç¤ºç”¨æ–°çš„å˜é‡current-variableä»£æ›¿è€çš„å˜é‡obsolete-variable. è‹¥current-nameä¸ºstring,åˆ™ç›´æ¥è­¦å‘Šè¯¥string.\nå‚æ•°whenæŒ‡æ˜äº†obsolete-variableä»ä»€ä¹ˆæ—¶å€™å¼€å§‹åºŸå¼ƒ,é€šå¸¸ä¸ºä¸€ä¸ªè¡¨ç¤ºç‰ˆæœ¬å·çš„å­—ç¬¦ä¸².\nå‚æ•°access-typeæŒ‡æ˜äº†å¯¹obsolete-variableçš„å“ªç§æ“ä½œä¼šè§¦å‘è­¦å‘Š,å¯ä»¥ä½¿â€™getæˆ–â€™set\n (define-obsolete-variable-alias obsolete-variable current-variable \u0026optional when docstring)  è¯¥å®åˆ›å»ºobsolete-variableä¸ºcurrent-variableçš„åˆ«å,å¹¶æ ‡è®°obsolete-variableä¸ºå³å°†åºŸå¼ƒçš„å˜é‡.\nè¯¥å®å…¶å®ç­‰ä»·äº:\n(defvaralias OBSOLETE-NAME CURRENT-NAME DOCSTRING) (make-obsolete-variable OBSOLETE-NAME CURRENT-NAME WHEN) å—é™çš„å˜é‡ é»˜è®¤æƒ…å†µä¸‹,ä¸€ä¸ªLispå˜é‡çš„å€¼å¯ä»¥æ˜¯ä»»ä½•çš„Lisp object. ä½†æœ‰äº›å˜é‡ä¸æ˜¯ç”¨Lispæ¥å®šä¹‰çš„,è€Œæ˜¯ç”¨Cæ¥å®šä¹‰. è¿™äº›ç”¨Cå®šä¹‰çš„å˜é‡æœ‰å¯èƒ½åªèƒ½å­˜å‚¨ç‰¹å®šç±»å‹çš„å€¼. å¦‚æœå˜é‡ç±»å‹ä¸º:\n DEFVAR_LISP  è¯¥å˜é‡è·Ÿåœ¨lispä¸­å®šä¹‰çš„å˜é‡ä¸€æ ·,å®ƒçš„å€¼å¯ä»¥æ˜¯ä»»æ„çš„.\n DEFVAR_INT  è¯¥å˜é‡çš„å€¼åªèƒ½æ˜¯æ•´å‹\n DEFVAR_BOOL  è¯¥å˜é‡çš„å€¼åªèƒ½ä¸ºtæˆ–è€…nil\nå…¶ä¸­å˜é‡`byte-boolean-vars`ä¸­åˆ—å‡ºäº†æ‰€æœ‰ç±»å‹çš„DEFVAR_BOOLçš„å˜é‡\nå˜é‡çš„ä½œç”¨åŸŸ ä¸C++ä¸åŒçš„æ˜¯,Elispä¸­çš„å˜é‡é»˜è®¤æƒ…å†µä¸‹æ˜¯å¤„äºåŠ¨æ€ä½œç”¨åŸŸä¸­. å½“ç„¶,Elispä¹Ÿæ”¯æŒé™æ€ä½œç”¨åŸŸ.\nåŠ¨æ€ä½œç”¨åŸŸ å½“ä¸€ä¸ªå˜é‡å¤„äºåŠ¨æ€ä½œç”¨åŸŸä¸­æ—¶,è¿™å°±æ„å‘³ç€,è¿™ä¸ªå˜é‡çš„å€¼æ˜¯å—åˆ°è¿è¡Œç¯å¢ƒçš„å½±å“çš„. ä¸¾ä¸ªä¾‹å­:\n(setq foo 'outer) ;outer (defun say-foo() foo) (say-foo) ;=outer (let ((foo 'inner)) (say-foo)) ;=inner,åœ¨è°ƒç”¨say-fooçš„è¿è¡Œç¯å¢ƒä¸­,fooçš„å€¼ä¸ºå±€éƒ¨å®šä¹‰çš„'inner,å› æ­¤say-fooçš„è¿”å›å€¼ä¸º'inner (say-foo) ;=outer, åœ¨è°ƒç”¨say-fooçš„è¿è¡Œç¯å¢ƒä¸­,fooçš„å€¼ä¸ºå…¨å±€å€¼'outer,å› æ­¤say-fooçš„è¿”å›å€¼ä¸º'outer æ‹¥æœ‰åŠ¨æ€ä½œç”¨åŸŸå€¼çš„å˜é‡è¢«æˆä¸ºspecial-variable,å¯ä»¥ä½¿ç”¨å‡½æ•°special-variable-pæ¥åˆ¤æ–­ä¸€ä¸ªsymbolæ˜¯å¦ä¸ºspecial variable.\n  (special-variable-p symbol)\nåˆ¤æ–­symbolæ‰€è¡¨ç¤ºçš„å˜é‡æ˜¯å¦ä¸ºspecial-variable. (ç”±defvar,defconstå’Œdefcustomå®šä¹‰çš„å˜é‡éƒ½æ˜¯special variable)\n   elispå®ç°åŠ¨æ€ä½œç”¨åŸŸçš„æ–¹æ³•å¾ˆç®€å•,æ¯ä¸ªsymboléƒ½ç”±ä¸€ä¸ªvalue cell,è¿™ä¸ªvalue cellæ‰€æŒæœ‰çš„å€¼å°±æ˜¯è¯¥å˜é‡åœ¨å½“å‰åŠ¨æ€ä½œç”¨åŸŸä¸‹çš„å€¼. å½“ä¸ºè¯¥å˜é‡åˆ›å»ºä¸€ä¸ªåŠ¨æ€å±€éƒ¨ä½œç”¨åŸŸæ—¶,elispå°†å½“å‰value cellçš„å€¼å‹å…¥ä¸€ä¸ªæ ˆä¸­,å¹¶å°†è¯¥symbolçš„value cellå­˜ä¸Šæ–°å€¼. å½“é€€å‡ºè¯¥åŠ¨æ€å±€éƒ¨ä½œç”¨åŸŸæ—¶,Elispä»æ ˆä¸­å¼¹å‡ºä»¥å‰çš„å€¼,å¹¶é‡æ–°å­˜å…¥symbolçš„value cellä¸­.\né™æ€ä½œç”¨åŸŸ å½“ä¸€ä¸ªå˜é‡å¤„äºé™æ€ä½œç”¨åŸŸä¸‹æ—¶,è¯¥å˜é‡çš„å€¼åœ¨å®šä¹‰è¯¥å˜é‡å¤„å°±å·²ç»è¢«ç¡®å®šäº†,å³å®ƒçš„å€¼ä¸ºå®šä¹‰ç¯å¢ƒçš„å€¼. ä¾‹å¦‚\näº‹å®ä¸Š,Elispä½¿ç”¨ä¸€ä¸ªalistæ¥å­˜å‚¨é™æ€ä½œç”¨åŸŸä¸­å„å˜é‡ä¸å€¼çš„å…³ç³». è¿™ç§alistçš„ç»“æ„ä¸º`'((symbol1 value1)(symbol2 value2)â€¦ t)`. è¿™ç§alistå¯ä»¥ä½œä¸ºevalå‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°ç”¨æ¥æŒ‡æ˜evalæ‰§è¡Œè¯­å¥çš„é™æ€ä½œç”¨åŸŸç¯å¢ƒ.\nå¯ä»¥ä½¿ç”¨lexical-letå’Œlexical-let*æ¥åˆ›å»ºé™æ€ä½œç”¨åŸŸ. è¿™ä¸¤ä¸ªè¯­å¥çš„è¯­æ³•è·Ÿletå’Œlet*ä¸€æ ·,ä½†BODYä¸­çš„lambdaå‡½æ•°ä¼šåˆ›å»ºé—­åŒ….\næ³›åŒ–å˜é‡(Generalized Variables) æ³›åŒ–å˜é‡(Generalized Variables)æˆ–ç§°ä½ç½®åˆ—è¡¨(place form)å…¶å®å°±æ˜¯å˜é‡å€¼æ‰€è¢«å­˜å‚¨çš„å†…å­˜åœ°å€.\næ³›åŒ–å˜é‡å¯èƒ½æ˜¯: ä¸€ä¸ªæ™®é€šçš„lispå˜é‡æˆ–è€…aref,car,caar,cadr,cdr,cdar,cddr,elt,get,gethash,nth,nthcdr,symbol-function,symbol-plist,symbol-value,default-value,frame-parameter,terminal-parameter,keymap-parent,match-data,overlay-get,overlay-start,overlay-end,process-buffer,process-filter,process-get,process-sentinel,window-buffer,window-display-table,window-dedicated-p,window-hscroll,window-parameter,window-point,window-startå‡½æ•°çš„è¿”å›å€¼.\n  (setf place-form1 value1 place-form2 value2â€¦)\nå¯ä»¥ä½¿ç”¨setfå®æ¥æ“ä½œæ³›åŒ–å˜é‡. å®ƒçš„ä½œç”¨ç±»ä¼¼setq,ä½†setqåªèƒ½ä¸ºsymbolèµ‹å€¼,è€Œsetfå¯ä»¥ä¸ºä»»ä½•æ³›åŒ–å˜é‡èµ‹å€¼. ä¾‹å¦‚\n   (setq a '(1 2 3)) ;(1 2 3) (setf (cadr a) 'two) ;å°†aä¸­çš„ç¬¬äºŒä¸ªå…ƒç´ çš„å€¼æ”¹ä¸ºtwo a ;(1 two 3)   (gv-define-simple-setter name setter-function \u0026optional fix-return)\n  (gv-define-setter name arglist \u0026rest body)\n  å–å˜é‡å€¼ å½“åœ¨é™æ€ä½œç”¨åŸŸä¸‹,Elispå–å˜é‡å€¼æ—¶,å®ƒä¼šå…ˆæŸ¥çœ‹è¯¥å˜é‡æ˜¯å¦å­˜åœ¨é™æ€ä½œç”¨åŸŸä¸‹çš„ç»‘å®šå€¼. ç„¶åå†æŸ¥çœ‹è¯¥å˜é‡çš„åŠ¨æ€ä½œç”¨åŸŸä¸‹çš„ç»‘å®šå€¼(å³è¯¥symbolçš„value cellæ‰€å­˜å‚¨çš„å€¼)\né™¤äº†ç›´æ¥å¼•ç”¨å˜é‡å¯ä»¥å–å¾—å˜é‡å€¼å¤–,è¿˜å¯ä»¥ä½¿ç”¨symbol-valueå‡½æ•°æ¥è·å–å˜é‡çš„åŠ¨æ€ä½œç”¨åŸŸä¸‹çš„å€¼\n (symbol-value symbol)   (defvar num 123) (symbol-value 'num) ;123 éœ€è¦æ³¨æ„çš„æ˜¯: è¯¥å‡½æ•°åªèƒ½ç”¨æ¥è·å–symbolåŠ¨æ€ç»‘å®šçš„å€¼,è€Œä¸èƒ½ç”¨åœ¨é™æ€ç¯å¢ƒä¸‹è·å–å®ƒé™æ€ç»‘å®šçš„å€¼\n(lexical-let ((num 234)) (symbol-value 'num) ;123 num) ;234  (buffer-local-value symbol buffer)  è¿”å›symbolå˜é‡åœ¨æŒ‡å®šbufferä¸­çš„bufferä½œç”¨åŸŸä¸­çš„å€¼, è‹¥symbolå˜é‡åœ¨æŒ‡å®šbufferä¸­æ²¡æœ‰buffer-localç»‘å®šå€¼,åˆ™è¿”å›å®ƒçš„é»˜è®¤å€¼.\n  (default-value symbol)\nå–symbolå˜é‡çš„é»˜è®¤å€¼\n  (default-boundp symbol)\nåˆ¤æ–­symbolå˜é‡çš„é»˜è®¤å€¼æ˜¯å¦ä¸ºä¸ä¸ºç©º\n   Customization emacsä¸­å¯ä»¥ä½¿ç”¨`defcustom`å®šä¹‰customizable variables, ä½¿ç”¨deffaceå®šä¹‰customizable face,ä½¿ç”¨defgroupå®šä¹‰cutomization group.\nCommon Item Keywords defcustom,defgroup,deffaceè¿™äº›å®šä¹‰é…ç½®é¡¹çš„å‡½æ•°/å®,éƒ½æ¥æ”¶keywordå‚æ•°.\næ‰€æœ‰è¿™äº›keywordå‚æ•°,é™¤äº†`:tag`ä¹‹å¤–,éƒ½å¯ä»¥è”åˆä½¿ç”¨. ä¸‹é¢æ˜¯ä¸€äº›é€šç”¨çš„å‚æ•°è¯´æ˜.\n :tag LABEL  LABELä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹. è¯¥å‚æ•°è¡¨ç¤ºä½¿ç”¨LABELå–ä»£è¢«å®šä¹‰itemçš„åç§°ä½œä¸ºè¯¥itemçš„æ ‡ç­¾.\n :group GROUP  å®šä¹‰itemæ‰€å±çš„ç»„åˆ«. ä¸€ä¸ªitemå¯ä»¥åŒæ—¶å±äºå¤šä¸ªç»„åˆ«,å› æ­¤ä½ å¯ä»¥å¤šæ¬¡ä½¿ç”¨è¯¥å‚æ•°\n :link LINK-DATA  åœ¨è¯¥itemçš„è¯´æ˜æ–‡æ¡£åé¢å¢åŠ ä¸€ä¸ªå¤–éƒ¨é“¾æ¥. å…¶ä¸­LINK-DATAå¯ä»¥ä»¥ä¸‹æ ¼å¼:\nä½ è¿˜å¯ä»¥åœ¨LINK_DATAçš„ç¬¬ä¸€ä¸ªå…ƒç´ åé¢åŠ ä¸Š`:tag NAME`ç”¨æ¥è¡¨ç¤ºé“¾æ¥æ˜¾ç¤ºä¸ºNAME. ä¾‹å¦‚`(info-link :tag â€œfooâ€ â€œ(emacs)Topâ€)â€˜ä¼šåˆ›å»ºä¸€ä¸ªé“¾æ¥è¿æ¥åˆ°Emacsæ‰‹å†Œ,ä½†æ˜¯æ˜¾ç¤ºä¸ºfoo\n  (custom-manual INFO-NODE)\né“¾æ¥åˆ°Info node. INFO-NODEä¸ºInfoæ–‡æ¡£ä¸­æŸnodeçš„åç§°,åƒ\"(emacs)Top\"è¿™æ ·çš„.\nè¯¥é“¾æ¥æ˜¾ç¤ºä¸º[manual]\n  (info-link INFO-NODE)\nç±»ä¼¼custom-manual,åªæ˜¯é“¾æ¥çš„æ˜¾ç¤ºä¸ºInfo nodeçš„åç§°\n  (url-link URL)\né“¾æ¥åˆ°webé¡µé¢, ç‚¹å‡»å®ƒä¼šä½¿ç”¨å˜é‡`browse-url-browser-function`å®šä¹‰çš„Webæµè§ˆå™¨æ‰“å¼€\n  (emacs-library-link LIBRARY)\nè¿æ¥åˆ°Emacs Lisp libraryæ–‡ä»¶.\n  (file-link FILE)\nè¿æ¥åˆ°æŸä¸ªæ–‡ä»¶,Emacsä¼šç”¨find-fileå‡½æ•°æ‰“å¼€å®ƒ\n  (function-link FUNCTION)\né“¾æ¥åˆ°æŸä¸ªå‡½æ•°çš„è¯´æ˜æ–‡æ¡£,å½“ç‚¹å‡»å®ƒ,ä¼šä½¿ç”¨describe-functionæ¥è·å–å‡½æ•°è¯´æ˜\n  (variable-link VARIABLE)\nè¿æ¥åˆ°æŸä¸ªå˜é‡çš„è¯´æ˜æ–‡æ¡£\n  (custom-group-link GROUP)\né“¾æ¥åˆ°å…¶ä»–çš„group\n  :load FILE\n  åœ¨æ˜¾ç¤ºitemå‰å…ˆåŠ è½½FILE\n :require FEATURE  å½“ä¿å­˜itemçš„å€¼æ—¶,æ‰§è¡Œ(require â€˜FEATURE)\n :version VERSION  è¡¨ç¤ºè¯¥itemç¬¬ä¸€æ¬¡å‡ºç°åœ¨ç‰ˆæœ¬ä¸ºVERSIONçš„Emacsä¸­,æˆ–è¯¥itemçš„é»˜è®¤å€¼æˆ–æ„ä¹‰åœ¨ç‰ˆæœ¬ä¸ºVERSIONçš„Emacsä¸­æ›´æ”¹äº†.\nVERSIONä¸ºå­—ç¬¦ä¸²ç±»å‹\n :package-version â€˜(PACKAGE . VERSION)  è¡¨ç¤ºè¯¥itemç¬¬ä¸€æ¬¡å‡ºç°åœ¨ç‰ˆæœ¬ä¸ºVERSIONçš„PACKAGEä¸­,æˆ–è¯¥itemçš„é»˜è®¤å€¼æˆ–æ„ä¹‰åœ¨ç‰ˆæœ¬ä¸ºVERSIONçš„PACKAGEä¸­æ›´æ”¹äº†.\nPACKAGEåº”è¯¥æ˜¯ä¸€ä¸ªç¬¦å·,ä¸ºpackageçš„æ­£å¼åç§°. è€ŒVERSIONåº”è¯¥ä¸ºå­—ç¬¦ä¸²ç±»å‹.\nè‹¥PACKAGEä¸ºEmacsè‡ªå¸¦çš„,åˆ™PACKAGEå’ŒVERSIONéœ€è¦åœ¨å˜é‡`customize-package-emacs-version-alist`ä¸­\ncustomization groups  (defgroup group members doc [keyword value]â€¦)  å®šä¹‰æ–°çš„åä¸ºgroupçš„å®¢æˆ·åŒ–ç»„. è¯¥å®¢æˆ·åŒ–ç»„ä¸­åŒ…å«membersä¸ºå†…å®¹.\nå‚æ•°groupä¸ºä¸€ä¸ªä¸è¢«quoteçš„symbol.\nå‚æ•°membersä¸ºç”±cusomiztion itemsç»„æˆçš„list,è¡¨ç¤ºè¿™äº›itemså±äºæŸä¸ªgroup. ç„¶è€Œå®é™…ä¸Šä¸€èˆ¬è¯¥å‚æ•°éƒ½ä¸ºnil,è€Œæ˜¯å®šä¹‰itemæ—¶ä½¿ç”¨:groupå…³é”®å­—æ¥æ ‡è¯†è¯¥itemæ‰€å±çš„group\nmembersçš„å…ƒç´ æ ¼å¼ä¸º(NAME WIDGET). è¿™é‡ŒNAMEä¸ºè¡¨ç¤ºitemçš„symbol. è€ŒWIDGETä¸ºitemçš„ç±»å‹(custom-variable,custom-face,custom-group)\nå½“å¯¹groupè®¾ç½®äº†:versionå‚æ•°,åˆ™æ‰€æœ‰å±äºè¯¥groupçš„å…¶ä»–item,é»˜è®¤ç»§æ‰¿è¯¥å‚æ•°å€¼\ndefgroupå¯ä»¥ä½¿ç”¨:prefixå…³é”®å­—å‚æ•°\n:prefix PREFIX\nè¡¨ç¤ºè‹¥è¯¥groupä¸­çš„itemä»¥PREFIXä¸ºå‰ç¼€,è€Œå˜é‡`custom-unlispify-remove-prefixes`ä¸ºénil, åˆ™è¯¥itemçš„tagåœ¨æ˜¾ç¤ºæ—¶ä¼šå¿½ç•¥æ‰è¯¥PREFIX.\nä¸€ä¸ªgroupå¯ä»¥è®¾ç½®å¿½ç•¥ä»»æ„æ•°é‡çš„prefix\ncustomizable variable defcusomterçš„è¯­æ³•ä¸defvaræœ‰ç‚¹ç±»ä¼¼,ä½†æ˜¯å®ƒè¿˜å¯ä»¥æ¥æ”¶å¾ˆå¤škeywordå‚æ•°.\n (defcustom var standard-value doc [keyword value]â€¦)  å‚æ•°varä¸ºä¸è¢«quoteçš„symbol. å®ƒè¡¨ç¤ºå®šä¹‰çš„å¯é…ç½®å˜é‡.\nå‚æ•°standard-valueä¸ºä¸€ä¸ªè¡¨è¾¾å¼,å®ƒçš„è®¡ç®—å€¼ä½œä¸ºvarçš„é»˜è®¤å€¼\nå‚æ•°docä¸ºå¯¹è¯¥å˜é‡çš„è¯´æ˜.\nè‹¥åœ¨defcustomä¸­æ²¡æœ‰é€šè¿‡:groupå…³é”®å­—è®¾ç½®æ‰€å±çš„group,åˆ™åœ¨ç›¸åŒæ–‡ä»¶ä¸­æœ€ådefgroupçš„ç»„ä¼šè‡ªåŠ¨ä½œä¸ºè¯¥itemçš„æ‰€å±ç»„.\ndefcustomæ”¯æŒçš„keywordå‚æ•°æœ‰:\n  :type TYPE\næ ‡æ³¨è¯¥å®¢æˆ·åŒ–å˜é‡çš„ç±»å‹,å®ƒæŒ‡å®šäº†å“ªäº›å€¼æ˜¯åˆç†çš„,å¦‚ä½•æ˜¾ç¤ºè¿™äº›å€¼.\nä¹Ÿå¯ä»¥åœ¨defcustomeråä½¿ç”¨å‡½æ•°(custom-add-frequent-value customization-item value)æ¥å¢åŠ é€‰å€¼èŒƒå›´\n  :options VALUE-LIST\næŒ‡å®šå¯é€‰å€¼çš„èŒƒå›´,è¯¥å¯é€‰å€¼çš„èŒƒå›´å¹¶ä¸å…·æœ‰çº¦æŸæ€§.\nè¯¥keywordåªæœ‰åœ¨typeä¸ºhook,plistå’Œalistæ—¶æ‰æœ‰æ•ˆ\n  :set SETFUNCTION\nå½“ä½¿ç”¨Customizeæ›´æ”¹è¯¥é…ç½®é¡¹æ—¶,å®é™…ä¸Šè°ƒç”¨çš„æ˜¯SETFUNCTIONå‡½æ•°,è¯¥å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°:é…ç½®é¡¹å’Œæ–°å€¼. é»˜è®¤SETFUNCTIONå‡½æ•°ä¸ºset-default\n  :get GETFUNCTION\nå½“è·å–è¯¥é…ç½®é¡¹çš„å€¼æ—¶,å®é™…ä¸Šæ˜¯è°ƒç”¨äº†GETFUNCTIONå‡½æ•°. è¯¥å‡½æ•°æ¥æ”¶ä¸€ä¸ªå‚æ•°:é…ç½®é¡¹, å¹¶è¿”å›æŸä¸ªå€¼. é»˜è®¤GETFUNCTIONä¸º`default-valueâ€™\n  :initialize FUNCTION\nå½“defcustomè¯­å¥è¢«æ‰§è¡Œæ—¶,å®é™…ä¸Šæ˜¯è°ƒç”¨äº†FUNCTIONå‡½æ•°. è¯¥å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°:é…ç½®é¡¹å’Œé»˜è®¤å€¼.\nelispé¢„å®šä¹‰äº†ä¸€äº›å¯é€‰çš„FUNCTION:\n  `custom-initialize-setâ€™\n  `custom-initialize-defaultâ€™\n  `custom-initialize-reset'\n  `custom-initialize-changed'\n  `custom-initialize-safe-set'\n  `custom-initialize-safe-default'\n    :risky VALUE\nè®¾ç½®è¯¥é…ç½®é¡¹å˜é‡çš„`risky-local-variableâ€™å±æ€§ä¸ºVALUE\n  :safe FUNCTION\nè®¾ç½®è¯¥é…ç½®é¡¹å˜é‡çš„`safe-local-variableâ€™å±æ€§ä¸ºFUNCTION\n  :set-after VARIABLES\n  (custom-reevaluate-setting customizable-arg)\n  å¯ä»¥ç”¨è¯¥å‡½æ•°åœ¨defcustomå¤–,é‡æ–°å¯¹customizablen-argè¿›è¡Œèµ‹å€¼\n (custom-variable-p arg)  åˆ¤æ–­argæ˜¯å¦ä¸ºå¯é…ç½®å˜é‡, è¿™æ„å‘³ç€è¿™ä¸ªå˜é‡æ˜¯å¸¦æœ‰`standard-valueâ€™å±æ€§çš„symbolæˆ–è€…å¸¦æœ‰`custom-autoloadâ€™å±æ€§çš„symbol,æˆ–è€…ç”±å…¶ä»–å¯é…ç½®å˜é‡ç»„æˆçš„alist\n (custom-set-variables \u0026rest args)  æ ¹æ®argä¸­çš„è¯´æ˜,æ›´æ”¹é…ç½®é¡¹\næ¯ä¸ªargçš„æ ¼å¼ä¸º'(é…ç½®é¡¹ é…ç½®é¡¹çš„å€¼è¡¨è¾¾å¼ [is-NOW [REQUEST-features-list [doc-string]]])\nCustomization Type æ‰€æœ‰çš„customization typeéƒ½å®ç°ä¸ºwidget. customization widgetå¯ä»¥é€šè¿‡`C-M-iâ€™æˆ–`M-â€˜æ¥è¡¥å…¨\n   Simple Types\n  â€˜sexp\nä»»æ„lisp object\n  â€˜integer\n  â€˜number\n  â€˜float\n  â€˜string\n  â€˜regexp\n  â€˜character\n  â€˜file\né…ç½®é¡¹å¿…é¡»æ˜¯ä¸€ä¸ªæ–‡ä»¶åç§°\n  â€˜(file :must-match t)\né…ç½®é¡¹å¿…é¡»æ˜¯ä¸€ä¸ªå·²å­˜åœ¨çš„æ–‡ä»¶åç§°\n  â€˜directory\né…ç½®é¡¹å¿…é¡»æ˜¯ç›®å½•\n  â€˜hook\nè¯¥é…ç½®é¡¹å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°åˆ—è¡¨\n  â€˜symbol\n  â€˜function\nè¯¥é…ç½®é¡¹å¿…é¡»æ˜¯ä¸€ä¸ªlambdaè¡¨è¾¾å¼æˆ–å‡½æ•°å\n  â€˜variable\nè¯¥é…ç½®å¿…é¡»æ˜¯ä¸€ä¸ªå˜é‡åç§°\n  â€˜face\n  â€˜boolean\n  â€˜key-sequence\n  â€˜coding-system\n  â€˜color\n       Composite Types\n  â€˜(cons CAR-TYPE CDR-TYPE)\nè¯¥é…ç½®é¡¹å¿…é¡»æ˜¯cons cell. å¹¶ä¸”å®ƒçš„carå¿…é¡»ä¸ºCAR-TYPE,cdrå¿…é¡»ä¸ºCDR-TYPE\n  â€˜(list ELEMENAT1-TYPE ELEMENT2-TYPE â€¦ ELEMENTn-TYPE)\nè¯¥é…ç½®é¡¹ä¸ºç”±nä¸ªå…ƒç´ ç»„æˆçš„list,æ¯ä¸ªå…ƒç´ éƒ½éœ€è¦è·Ÿç›¸åº”çš„ELEMENT-TYPEç›¸åŒ¹é…\n  â€˜(group ELEMENAT1-TYPE ELEMENT2-TYPE â€¦ ELEMENTn-TYPE)\nç±»ä¼¼â€™(list ELEMENAT1-TYPE ELEMENT2-TYPE â€¦ ELEMENTn-TYPE),åŒºåˆ«åœ¨äºlistä½¿ç”¨elementçš„tagæ¥ä½œä¸ºelement valueçš„æ ‡ç­¾,è€Œgroupä¸ä½œæ ‡ç­¾\n  â€˜(vector ELEMENAT1-TYPE ELEMENT2-TYPE â€¦ ELEMENTn-TYPE)\nç±»ä¼¼â€™(list ELEMENAT1-TYPE ELEMENT2-TYPE â€¦ ELEMENTn-TYPE)\nåŒºåˆ«åœ¨äºé…ç½®é¡¹çš„ç±»å‹å¿…é¡»æ˜¯vector\n  â€˜(alist :key-type KEY-TYPE :value-type VALUE-TYPE)\né…ç½®é¡¹ä¸ºalistç±»å‹,ä¸”æ¯ä¸ªcons ceilå…ƒç´ çš„carå¿…é¡»æ˜¯KEY-TYPEçš„,cons ceilçš„cdrå¿…é¡»æ˜¯VALUE-TYPE\n:key-typeå‚æ•°ä¸:value-typeå¯ä»¥çœç•¥,é»˜è®¤ä¸ºâ€™sexp\n  â€˜(plist :key-type KEY-TYPE :value-type VALUE-TYPE)\nç±»ä¼¼â€™(alist :key-type KEY-TYPE :value-type VALUE-TYPE),åªæ˜¯é…ç½®é¡¹ä¸ºplistç±»å‹,ä¸”KEY-TYPEé»˜è®¤ä¸ºsymbolç±»å‹è€Œä¸æ˜¯sexp\n  â€˜(choice CUSTOMIZE-TYPE1 CUSTOMIZE-TYPE2 â€¦ CUSTOMIZE-TYPEn)\né…ç½®é¡¹å¯ä»¥æ˜¯CUSTOMIZE-TYPESä¸­çš„ä»»æ„ä¸€ç§.\nå¯ä»¥åœ¨CUSTOMIZE-TYPEä¸­é€šè¿‡:tagå…³é”®å­—æ¥æŒ‡æ˜é…ç½®é¡¹ä¸ºæŸç§TYPEæ—¶çš„label.ä¾‹å¦‚\n(choice (integer :tag \"Number of spaces\") (string :tag \"Literal text\"))   â€˜(radio CUSTOMIZE-TYPE1 CUSTOMIZE-TYPE2 â€¦ CUSTOMIZE-TYPEn)\nç±»ä¼¼â€™(choice CUSTOMIZE-TYPE1 CUSTOMIZE-TYPE2 â€¦ CUSTOMIZE-TYPEn),åªæ˜¯æ˜¾ç¤ºæ—¶ä½¿ç”¨radio buttonçš„æ–¹å¼æ˜¾ç¤ºè€Œä¸æ˜¯ç”¨èœå•æ˜¾ç¤º\n  â€˜(const VALUE)\nè¯¥é…ç½®é¡¹çš„å€¼å¿…é¡»ä¸ºVALUE. å¸¸ä¸choiceæ­é…\n  â€˜(other VALUE)\nè¡¨ç¤ºé…ç½®é¡¹å¯ä»¥æ¥æ”¶ä»»æ„çš„lispå€¼,ä½†æ˜¯è¯¥é…ç½®é¡¹å®é™…ä¸Šæ€»æ˜¯è¢«èµ‹å€¼ä¸ºVALUE.\notherä¸»è¦ç”¨åœ¨choiceä¸­ä½œä¸ºæœ€åä¸€ä¸ªå…ƒç´ ä½¿ç”¨. ä¾‹å¦‚:\n(choice (const :tag \"Yes\" t) (const :tag \"No\" nil) (other :tag \"Ask\" foo)   â€˜(function-item FUNCTION)\nç±»ä¼¼const,ä½†æ˜¯å®ƒçš„å€¼å¿…é¡»æ˜¯function.\n  â€˜(variable-item VARIABLE)\nç±»ä¼¼const,ä½†æ˜¯å®ƒçš„å€¼å¿…é¡»æ˜¯è¡¨ç¤ºæŸä¸ªå˜é‡çš„symbol\n  â€˜(set TYPE1 TYPE2 â€¦ TYPEn)\nè¯¥é…ç½®é¡¹å¿…é¡»æ˜¯ä¸€ä¸ªlist,ä¸”æ¯ä¸ªlistä¸­å…ƒç´ ç±»å‹å¿…é¡»åŒ¹é…TYPESä¸­çš„å…¶ä¸­ä¸€ç§\n  â€˜(repeat ELEMENT-TYPE)\nè¯¥é…ç½®é¡¹å¿…é¡»æ˜¯ä¸€ä¸ªlist,å¹¶ä¸”æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ELEMENT-TYPEçš„\n  â€˜(restricted-sexp :match-alternatives CRITERIA)\nè¯¥é…ç½®é¡¹çš„å€¼å¯ä»¥æ˜¯ä»»ä¸€çš„lispå¯¹è±¡,ä½†æ˜¯å¿…é¡»åŒ¹é…CRITERIAä¸­çš„ä»»ä¸€æ¡ä»¶.\nCRITERIAæ˜¯ä¸€ä¸ªlist,å…¶ä¸­æ¯ä¸ªå…ƒç´ å¯ä»¥æ˜¯:ä¸€ä¸ªpredicate functionæˆ–è€…A quoted constant\n;; allows integers, `t' and `nil' as legitimate values. (restricted-sexp :match-alternatives (integerp 't 'nil))        Type Keywords\nåœ¨å®šä¹‰é…ç½®é¡¹çš„:typeæ—¶,å¯ä»¥åœ¨customizaton type name symbolåæŒ‡å®šä»¥ä¸‹çš„keyword-argumentå¯¹:\n  :value DEFAULT\næä¾›é»˜è®¤å€¼. å½“æŸç§ç±»å‹ä¸èƒ½åŒ…å«nilæ—¶,ç‰¹åˆ«æœ‰ç”¨.\n  :format FORMAT-STRING\næ˜¾ç¤ºé…ç½®é¡¹å€¼æ—¶çš„æ ¼å¼.\n   å ä½ç¬¦ è¯´æ˜     %[BUTTON%] ä»¥æŒ‰é’®çš„æ ·å¼æ˜¾ç¤ºæ–‡æœ¬BUTTON,å…¶:actionå±æ€§è¯´æ˜äº†å½“è¯¥æŒ‰é’®è¢«ç‚¹å‡»æ—¶ä½œä»€ä¹ˆæ“ä½œ   %{SAMPLE} ä»¥`:sample-faceâ€™çš„æ ·å¼æ˜¾ç¤ºæ–‡æœ¬SAMPLE   %v æ˜¾ç¤ºä¸ºè¯¥é…ç½®é¡¹çš„value   %d æ˜¾ç¤ºä¸ºè¯¥é…ç½®é¡¹çš„documentation string   %h ç±»ä¼¼%d,ä½†å½“é…ç½®é¡¹çš„doc-stringè¶…è¿‡ä¸€è¡Œæ—¶,ä¼šæä¾›ä¸€ä¸ªæŒ‰é’®éšè—/æ˜¾ç¤ºå‰©ä¸‹çš„è¡Œ   %t æ˜¾ç¤ºä¸ºè¯¥é…ç½®é¡¹çš„tag   %% æ˜¾ç¤ºä¸º%      :action ACTION\nå½“ç‚¹å‡»buttonæ—¶æ‰§è¡Œçš„æ“ä½œ. è¿™é‡ŒACTIONä¸ºä¸€ä¸ªå‡½æ•°,å®ƒä¼šæ¥æ”¶ä¸¤ä¸ªå‚æ•°:ç‚¹å‡»çš„æŒ‰é’®æ‰€åœ¨widgetå’Œç‚¹å‡»äº‹ä»¶\n  :button-face FACE\næä¾›:button-faceçš„æ˜¾ç¤ºæ ·å¼,å®ƒä¼šç”¨äºæ˜¾ç¤ºFORMAT-STRINGä¸­çš„%[â€¦%]ä¸­çš„å†…å®¹\n  :button-prefix PREFIX / :button-suffix SUFFIX\næŒ‡æ˜åœ¨æ˜¾ç¤ºbuttonçš„å‰åæ–‡æœ¬. ä»–ä»¬çš„å€¼å¯ä»¥æ˜¯:\nnil: ä¸æ˜¾ç¤ºå¤šäºçš„æ–‡æœ¬\nstring: æ˜¾ç¤ºæ–‡æœ¬\nsymbol: æ˜¾ç¤ºsymbolçš„å€¼\n  :tag TAG\næŒ‡å®šTAG(å­—ç¬¦ä¸²ç±»å‹)ä½œä¸ºé…ç½®é¡¹ä¸ºè¯¥ç±»å‹æ—¶çš„tag\n  :doc DOC\næŒ‡å®šDOCä½œä¸ºé…ç½®é¡¹ä¸ºè¯¥ç±»å‹æ—¶çš„doc-string\n  :help-echo MOTION-DOC\n  :match FUNCTION\nä½¿ç”¨FUNCTIONåˆ¤æ–­é…ç½®é¡¹çš„å€¼æ˜¯å¦åŒ¹é…è¯¥ç±»å‹,FUNCTIONä¸ºä¸€ä¸ªå‡½æ•°,å®ƒæ¥æ”¶ä¸¤ä¸ªå‚æ•°:è¡¨ç¤ºCUSTOMIZATION TYPEçš„widgetå’Œé…ç½®é¡¹çš„å€¼\n  :validate FUNCTION\nä½¿ç”¨FUNCTIONæ ¡éªŒé…ç½®é¡¹çš„å€¼æ˜¯å¦æœ‰æ•ˆ. FUNCTIONå‡½æ•°æ¥æ”¶ä¸€ä¸ªå‚æ•°:è¡¨ç¤ºCUSTOMIZATION TYPEçš„widget. è‹¥è¯¥å‡½æ•°åˆ¤æ–­widgetæ˜¯å½“å‰å€¼æ˜¯æœ‰æ•ˆçš„,åˆ™è¿”å› nil ,å¦åˆ™è¿”å›åŒ…å«æ— æ•ˆæ•°æ®çš„widget,å¹¶è®¾ç½®è¯¥widgetçš„`:errorâ€™å±æ€§ä¸ºå‡ºé”™æè¿°.\n       Defining New Types\nå®šä¹‰æ–°Typeå°±æ˜¯ä¸ºä¸€ä¸ªComposite Typeså‘½ä¸€ä¸ªåå­—. ç”±äºä¸€ä¸ªtypeå°±æ˜¯ä¸€ä¸ªwidget,å› æ­¤ä½¿ç”¨define-widgetæ¥å®ç°\n(define-widget 'binary-tree-of-string 'lazy \"A binary tree made of cons-cells and strings.\" :offset 4 :tag \"Node\" :type '(choice (string :tag \"Leaf\" :value \"\") (cons :tag \"Interior\" :value (\"\" . \"\") binary-tree-of-string binary-tree-of-string))) è¿™é‡Œdefine-widgetçš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè¡¨ç¤ºæ–°widget typeçš„symbol.\nç¬¬äºŒä¸ªå‚æ•°ä¸ºä¸€ä¸ªå·²ç»å­˜åœ¨çš„widget,è¡¨ç¤ºæ–°widget typeçš„ç±»åˆ«,ä¸€èˆ¬ç”¨â€™lazy\nç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºdoc-string\n:typeå‚æ•°æè¿°äº†æ‰€ä»£è¡¨çš„composite typeè¯´æ˜\n  customizable face  (custom-set-faces \u0026rest args)  æ ¹æ®arg,æ›´æ”¹faceé…ç½®é¡¹.\nä¸€ä¸ªargçš„æ ¼å¼ä¸ºâ€™(FACE SPEC [is-Now [doc-string]])\nLoading Loadå‘½ä»¤  (load filename \u0026optional missing-ok nomessage nosuffix must-suffix)  loadå…ˆæŸ¥æ‰¾filename.elcæ–‡ä»¶,å†æŸ¥æ‰¾filename.elæ–‡ä»¶,å†æŸ¥æ‰¾filenameæ–‡ä»¶\nè‹¥å¼€å¯äº†Auto-Compression-mode(é»˜è®¤å¼€å¯),åˆ™loadåœ¨æŸ¥æ‰¾åä¸€ä¸ªæ–‡ä»¶å‰è¿˜ä¼šæŸ¥æ‰¾å‰ä¸€ä¸ªæ–‡ä»¶çš„å‹ç¼©ç‰ˆæœ¬(å‚è§å˜é‡`jka-compr-load-suffixesâ€™).\nè‹¥nosuffixå‚æ•°ä¸ºénil,åˆ™loadä¸ä¼šæŸ¥æ‰¾filename.elcå’Œfilename.el,ä½†ä¸å½±å“auto-compression-modeçš„ä½œç”¨\nè‹¥must-suffixå‚æ•°ä¸ºénil,åˆ™loadè®¤ä¸ºåŠ è½½çš„æ–‡ä»¶ååç¼€å¿…é¡»ä¸º.elå’Œ.elc(æˆ–ä»–ä»¬çš„å‹ç¼©ç‰ˆæœ¬),é™¤éfilenameä¸­åŒ…å«äº†æ˜ç¡®çš„ç›®å½•åç§°.\nè‹¥å‚æ•°missing-ok,åˆ™åœ¨æ‰¾ä¸åˆ°è¦åŠ è½½çš„æ–‡ä»¶æ—¶,ä¸æŠ›å‡ºé”™è¯¯,åªæ˜¯è¿”å›nil\nè‹¥`load-prefer-newerâ€™é…ç½®é¡¹ä¸ºénil,åˆ™loadä¼šæŒ‘é€‰filename.elcå’Œfilename.elä¸­æœ€è¿‘è¾ƒæ–°çš„é‚£ä¸ªæ¥åŠ è½½\nè‹¥filenameä¸ºç›¸å¯¹è·¯å¾„,åˆ™loadä¼šåœ¨å˜é‡`load-pathâ€™ä¸­å®šä¹‰çš„è·¯å¾„ä¸­æŸ¥è¯¢,æŸ¥è¯¢åˆ°çš„ç¬¬ä¸€ä¸ªå­˜åœ¨æ–‡ä»¶ä½œä¸ºè¦åŠ è½½çš„æ–‡ä»¶. éœ€è¦æ³¨æ„çš„æ˜¯:éœ€è¦åœ¨`load-pathâ€™ä¸­æ·»åŠ nilæ‰å›åœ¨å½“å‰è·¯å¾„æœç´¢è¦loadçš„æ–‡ä»¶\nloadåœ¨åŠ è½½æ–‡ä»¶æ—¶,ä¼šåŒæ—¶è®¾ç½®å˜é‡`load-file-nameâ€™çš„å€¼ä¸ºåŠ è½½æ–‡ä»¶çš„æ–‡ä»¶å.\nè‹¥loadé¡ºåˆ©åŠ è½½æ–‡ä»¶,åˆ™è¿”å›t\n (load-file filename)  åŠ è½½filenameæ‰€æ˜ç¡®æŒ‡å®šçš„æ–‡ä»¶,å¹¶ä¸ä¼šä¸ºå®ƒæ·»åŠ .elä¼š.elcåç¼€(ä½†ä¸å½±å“Auto Compression Modeçš„ä½œç”¨)\nè‹¥filenameä¸ºç›¸å¯¹è·¯å¾„,åˆ™è®¤ä¸ºæ˜¯ç›¸å¯¹äºå½“å‰è·¯å¾„æ¥è¯´çš„. (è¯¥å‡½æ•°å¹¶ä¸æ¶‰åŠåˆ°load-pathå˜é‡)\n (load-library library)  ç±»ä¼¼load\n å˜é‡`load-file-nameâ€™  å­˜å‚¨çš„æ˜¯loadæ—¶å®é™…åŠ è½½çš„æ–‡ä»¶åç§°.\n å˜é‡`load-in-progressâ€™  è‹¥Emacsæ­£åœ¨åŠ è½½æŸä¸ªæ–‡ä»¶,åˆ™è¯¥å€¼ä¸ºénil,å¦åˆ™ä¸ºnil\n å˜é‡`load-read-functioinâ€™  è¯¥å˜é‡æŒ‡æ˜çš„å‡½æ•°,ç”¨äºæ›¿ä»£`loadâ€™å’Œ`eval-regionâ€™ä¸­çš„`readâ€™å‡½æ•°\nè¯¥å˜é‡é»˜è®¤ä¸ºnil,è¡¨ç¤º`readâ€™\n å˜é‡`load-suffixesâ€™  loadåœ¨æœç´¢æ–‡ä»¶æ—¶,ä¼šæ ¹æ®è¯¥å˜é‡ä¸­è®¾ç½®çš„åç¼€,æ·»åŠ åˆ°filenameå‚æ•°åé¢æ¥å¯»æ‰¾æ–‡ä»¶.\né»˜è®¤ä¸ºâ€™(\".elc\" â€œ.elâ€)\n å˜é‡`load-file-rep-suffixesâ€™  This is a list of suffixes that indicate representations of the same file.\nè¯¥å˜é‡ä¸€èˆ¬ä»¥\"â€œå¼€å¤´,è‹¥å¼€äº†Auto Compression Modeåˆ™ä¼šæŠŠ`jka-compr-load-suffixesâ€™çš„å†…å®¹ä¹ŸåŠ è¿›å».\n (get-load-suffixes)  è¿”å›loadå‡½æ•°å°è¯•æ·»åŠ çš„æ–‡ä»¶åç¼€. å®ƒçš„å€¼ä¸€èˆ¬æ˜¯`load-suffixesâ€™ä¸`load-file-rep-suffixesâ€™çš„é›†åˆ.\n é…ç½®é¡¹load-prefer-newer  è‹¥è¯¥é…ç½®é¡¹ä¸ºénil,åˆ™loadä¼šæ£€æµ‹æ‰€æœ‰å¯èƒ½çš„åŠ è½½æ–‡ä»¶,å¹¶æŒ‘é€‰æœ€æ–°çš„é‚£ä¸ªæ¥åŠ è½½\n å˜é‡load-path  loadå‡½æ•°æœç´¢åŠ è½½æ–‡ä»¶çš„è·¯å¾„åˆ—è¡¨,nilè¡¨ç¤ºå½“å‰å·¥ä½œç›®å½•\nå¯ä»¥åœ¨è¿è¡Œemacsæ—¶ç”¨-Lé€‰é¡¹æŒ‡å®šload-pathçš„å€¼\nå¯¹äºæ¯ä¸ªload-pathä¸­çš„ç›®å½•,emacséƒ½ä¼šå»æ£€æŸ¥æ˜¯å¦æœ‰subdirs.elè¿™ä¸ªæ–‡ä»¶,è‹¥å­˜åœ¨è¯¥æ–‡ä»¶,åˆ™åŠ è½½å®ƒ. ç”±emacsè‡ªåŠ¨ç”Ÿæˆçš„subdirs.elä¼šè‡ªåŠ¨å°†è¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰ä»¥ å­—æ¯ä¸æ•°å­—ç»“å°¾ çš„å­ç›®å½•è·¯å¾„æ·»åŠ åˆ°load-pathä¸­.\n å‘½ä»¤(locate-library library \u0026optional nosuffix path interactive-call)  æ‰¾åˆ°æŒ‡å®šlibraryæ‰€è¡¨ç¤ºçš„ç²¾ç¡®æ–‡ä»¶å. å®ƒçš„æœç´¢æ–¹å¼ä¸loadä¸€è‡´.\nå‚æ•°nosuffixä¸loadå‚æ•°ä¸­çš„ä¸€æ ·. énilè¡¨ç¤ºä¸æ·»åŠ .elcå’Œ.elåç¼€\nè‹¥PATHä¸ºénil,åˆ™è¡¨ç¤ºç”¨å‚æ•°PATHçš„å€¼ä»£æ›¿load-pathçš„å€¼\nå½“ä½œä¸ºå‘½ä»¤è¿è¡Œlocate-libraryæ—¶,å‚æ•°interactive-callçš„å€¼ä¸ºt,åˆ™ä¼šåœ¨echo areaä¸­æ˜¾ç¤ºfile name,å¦åˆ™å‡½æ•°ç›´æ¥è¿”å›æ–‡ä»¶åç§°\n å‘½ä»¤(list-load-path-shadows \u0026optional stringp)  è¯¥å‘½ä»¤åˆ—å‡ºéšè—çš„Emacs Lispæ–‡ä»¶çš„åˆ—è¡¨.\næ‰€è°“éšè—æ–‡ä»¶æŒ‡çš„æ˜¯è¿™æ ·ä¸€äº›æ–‡ä»¶,è™½ç„¶åœ¨load-pathä¸­æœ‰å®šä¹‰å…¶ç›®å½•,ä½†æ˜¯ç”±äºåœ¨æœç´¢åˆ°å…¶ç›®å½•ä¹‹å‰å·²ç»å‘ç°äº†ç¬¦åˆæ¡ä»¶çš„åŠ è½½æ–‡ä»¶,å› æ­¤loadå‘½ä»¤æ— æ³•åŠ è½½åˆ°è¿™äº›æ–‡ä»¶.\nå‚æ•°stringpæŒ‡å®šæ˜¯ä»¥å­—ç¬¦ä¸²çš„å½¢å¼è¿”å›æ–‡ä»¶åˆ—è¡¨,è¿˜æ˜¯æ˜¾ç¤ºåœ¨bufferä¸­.\nAutoload autoloadè®©ä½ åœ¨ä¸€å¼€å§‹åªæ˜¯è®°å½•å‡½æ•°/å®æ‰€å¯¹åº”çš„åŠ è½½æ–‡ä»¶è·¯å¾„. å½“ç¬¬ä¸€æ¬¡ç”¨åˆ°è¯¥å‡½æ•°/å®(æˆ–æŸ¥çœ‹å…¶å¸®åŠ©æ–‡æ¡£)æ—¶æ‰å¼€å§‹åŠ è½½å¯¹åº”çš„æ–‡ä»¶.\næœ‰ä¸¤ç§æ–¹æ³•è®¾ç½®ä¸€ä¸ªautoloadå‡½æ•°:ä½¿ç”¨autoloadå‡½æ•°å’Œåœ¨æºä»£ç ä¸­ä½¿ç”¨ç‰¹å®šçš„æ³¨é‡Š\n (autoload function-or-macro filename \u0026optional docstring interactive type)  è¯¥å‡½æ•°æŒ‡å®šfunction-or-macroä¸ºautoloadå‡½æ•°/å®. å…¶æºä»£ç å®šä¹‰åœ¨filenameä¸­.\nè‹¥filenameä¸­ä¸åŒ…å«ç›®å½•åç§°æˆ–.el/.elcçš„åç¼€,è¯¥å‡½æ•°ä¼šè‡ªåŠ¨åœ¨åŠ è½½æ—¶æ·»åŠ åç¼€,å¹¶ä¸”è¯¥å‡½æ•°ä¸ä¼šåŠ è½½ä¸å¸¦åç¼€çš„æ–‡ä»¶.\nå‚æ•°doc-stringä½¿å¾—åœ¨ä¸åŠ è½½å®é™…æ–‡ä»¶å‰,ä¹Ÿèƒ½å¤ŸæŸ¥çœ‹function-or-macroçš„å¯¹åº”è¯´æ˜.\nå‚æ•°interactiveä¸ºénil,åˆ™è¡¨ç¤ºfunction-or-macroä¸ºå‘½ä»¤. è¿™ä½¿å¾—Emacsèƒ½å¤Ÿä¸ºM-xæä¾›è¯¥å‘½ä»¤çš„è¡¥å…¨è€Œä¸ç”¨åŠ è½½function-or-macroçš„çœŸå®å®šä¹‰.\nå½“å‚æ•°function-or-macroä¸ºmacro/keymapæ—¶,å¯ä»¥å°†typeå‚æ•°è®¾ç½®ä¸ºâ€™macroæˆ–â€™keymap\nè‹¥function-or-macroå·²ç»æœ‰ä¸€ä¸ªéautoloadçš„éç©ºå‡½æ•°,åˆ™autoloadä»€ä¹ˆä¹Ÿä¸åš,åªæ˜¯è¿”å›nil\n (autoloadp object)  åˆ¤æ–­objectæ˜¯å¦ä¸ºautoloadç±»å‹çš„å¯¹è±¡\n ä½¿ç”¨ç‰¹æ®Šæ³¨é‡Šå®šä¹‰autoloadå¯¹è±¡  åœ¨å®šä¹‰çœŸå®çš„å‡½æ•°å®šä¹‰å‰,åŠ ä¸Šæ³¨é‡Š`;;;###autoloadâ€™(è¿™ç§ç‰¹æ®Šçš„æ³¨é‡Š,è¢«ç§°ä¸ºautoload cookie)\néšåæ‰§è¡ŒM-x update-file-autoloads/update-directory-autoloadså‘½ä»¤,ä¼šå°†autoloadçš„è°ƒç”¨å‘½ä»¤å†™é“ç”Ÿæˆçš„loaddefs.elä¸­.\n å˜é‡generate-autoload-cookie  è¯¥å˜é‡æŒ‡å®šäº†å®šä¹‰autoloadå¯¹è±¡çš„ç‰¹æ®Šæ³¨é‡Šæ ¼å¼,é»˜è®¤ä¸º`;;;###autoloadâ€™\n å˜é‡generate-autoload-file  è¯¥å˜é‡å®šä¹‰äº†å°†ç”Ÿæˆçš„autoloadè¯­å¥æ”¾åˆ°å“ªä¸ªæ–‡ä»¶ä¸­,é»˜è®¤ä¸º`loaddefs.elâ€™\n (autoload-do-load autoload-object \u0026optional name macro-only)  åŠ è½½autoload-objectæ‰€åœ¨çš„æºä»£ç æ–‡ä»¶.\nå‚æ•°nameè‹¥ä¸ºénilåˆ™éœ€è¦æ—¶ä¸€ä¸ªè¡¨ç¤ºautoload-functionçš„symbol. è¿™æ—¶å®ƒçš„è¿”å›å€¼ä¸ºè¯¥symbolçš„å®é™…å®šä¹‰å‡½æ•°.\nè‹¥å‚æ•°macro-onlyä¸ºâ€™macro,åˆ™autoload-do-loadä¸åŠ è½½å‡½æ•°,åªåŠ è½½macro\nFeatures featuresæ˜¯é™¤autoloadå¤–æ¨è¿ŸåŠ è½½çš„å¦ä¸€ç§æ–¹å¼.\nä¸€ä¸ªfeatureæ˜¯ä¸€ä¸ªè¡¨ç¤ºå‡½æ•°ä¸å˜é‡çš„é›†åˆçš„symbol,å¯ä»¥åœ¨æ–‡ä»¶ä¸­ç”¨provideå£°æ˜ä¸€ä¸ªfeature,åŒæ—¶ä½¿ç”¨requireæ¥åŠ è½½ä¸€ä¸ªfeature\néœ€è¦æ³¨æ„çš„æ˜¯: ä¸è¦åœ¨letå†…ä½¿ç”¨require,å¦åˆ™å¯èƒ½ä¼šäº§ç”Ÿä¸å¯é¢„çŸ¥çš„åæœ.\nAlthough top-level calls to `requireâ€™ are evaluated during byte compilation, `provideâ€™ calls are not. Therefore, you can ensure that a file of definitions is loaded before it is byte-compiled by including a `provideâ€™ followed by a `requireâ€™ for the same feature, as in the following example.\n(provide 'my-feature) ; Ignored by byte compiler, ; evaluated by `load'. (require 'my-feature) ; Evaluated by byte compiler.  (provide feature \u0026optional subfeatures)  è¯¥å‡½æ•°å£°æ˜å·²ç»åŠ è½½äº†feature,ä¸‹æ¬¡å†requireè¯¥featureæ—¶,ä¸ä¼šå»é‡æ–°åŠ è½½è¯¥featureæ‰€åœ¨çš„æ–‡ä»¶\nè¿™é‡Œå‚æ•°subfeaturesåº”è¯¥è€Œæˆ‘ä¸€ä¸ªç”±symbolç»„æˆçš„list,è¡¨ç¤ºè¯¥ç‰ˆæœ¬çš„feature,æä¾›äº†ä¸€ç³»åˆ—çš„subfeatures\n (require feature \u0026optional filename noerror)  è¯¥å‡½æ•°æ£€æŸ¥è¯¥Emacs Sessionæ˜¯å¦å·²ç»åŠ è½½äº†feature,è‹¥æ²¡æœ‰,åˆ™ä½¿ç”¨loadåŠ è½½filename.\nè‹¥å‚æ•°filenameä¸ºnil,åˆ™ä½¿ç”¨featureçš„å­—ç¬¦ä¸²è¡¨ç¤ºä½œä¸ºloadçš„å‚æ•°. ä½†è¦æ³¨æ„çš„æ˜¯,è¿™ç§æƒ…å†µä¸‹,requireåªä¼šåŠ è½½å¸¦æœ‰.el/.elcä¸ºåç¼€çš„æ–‡ä»¶(auto comression modeä¹Ÿæœ‰æ•ˆæœ). ä¸€ä¸ªåä¸ºfeatureè€Œä¸å¸¦ä»»ä½•åç¼€çš„æ–‡ä»¶ä¸ä¼šè¢«åŠ è½½.\nè‹¥noerrorå‚æ•°ä¸ºénil,åˆ™å½“loadæ–‡ä»¶å¤±è´¥æ—¶,åªè¿”å›nil,è€Œä¸æŠ›å‡ºerror.å¦åˆ™è¿”å›å‚æ•°feature.\nè‹¥åŠ è½½filenameæˆåŠŸ,è€Œè¯¥æ–‡ä»¶æ²¡æœ‰provide feature,åˆ™requireæŠ›å‡ºerror:`Required feature FEATURE was not providedâ€™\nrequireè¯­å¥ä¼šåœ¨ç¼–è¯‘é˜¶æ®µå¾—åˆ°æ‰§è¡Œ.\n (featurep feature \u0026optional subfeature)  è‹¥featureå·²ç»åŠ è½½åˆ°è¯¥Emacs Session(å³featureæ˜¯å¦ä¸º`featuresâ€™ä¸­çš„member)åˆ™è¿”å›t.\nè‹¥subfeatureä¸ºénil,åˆ™åªæœ‰åœ¨subfeatureä¹Ÿè¢«providedäº†çš„æƒ…å†µä¸‹æ‰è¿”å›t\n å˜é‡features  è¯¥å˜é‡ä¸ºä¸€ä¸ªç”±symbolç»„æˆçš„list,æ¯ä¸ªsymboléƒ½æ˜¯åŠ è½½åˆ°è¯¥Emacs Sessionä¸­çš„feature\næŸ¥æ‰¾å®šä¹‰æ‰€åœ¨çš„æ–‡ä»¶  (symbol-file symbol \u0026optional type)  æŸ¥æ‰¾å®šä¹‰symbolçš„æ–‡ä»¶è·¯å¾„.\nå‚æ•°typeæŒ‡å®šäº†symbolçš„ç±»å‹,å¯ä»¥æ˜¯nil,â€˜defun,defvaræˆ–defface\nsymbol-fileå®é™…æ˜¯ä»`load-historyâ€™å˜é‡ä¸­æŸ¥æ‰¾symbolæ‰€åœ¨çš„æ–‡ä»¶çš„.\nUnloading  (unload-feature feature \u0026optional force)  å›æ”¶featureæ‰€å®šä¹‰çš„å‡½æ•°/å˜é‡,æ¢å¤ä¹‹å‰çš„symbolå®šä¹‰.\nè‹¥å˜é‡`FEATURE-unload-functionâ€™çš„å€¼ä¸ºæŸä¸ªå‡½æ•°,åˆ™unload-featureä¼šåœ¨æ‰§è¡Œæ¸…ç†å‰æ‰§è¡Œè¯¥å‡½æ•°. è‹¥è¯¥å‡½æ•°è¿”å›nil,åˆ™unload-featureæ¥ç€æ‰§è¡Œæ­£å¸¸çš„æ¸…ç†è¿‡ç¨‹,å¦åˆ™,unload-featureä¸å†è¿›è¡Œä¸‹ä¸€æ­¥çš„æ¸…ç†.\né»˜è®¤æƒ…å†µä¸‹,unload-featureä¸ä¼šunloadè¢«å…¶ä»–åº“ä¾èµ–çš„feature, ä½†è‹¥forceå‚æ•°ä¸ºénil,åˆ™unload-featureä¸ä¼šæ£€æŸ¥ä¾èµ–å…³ç³».\nunload-featureå‡½æ•°ä¹Ÿæ˜¯æ ¹æ®å˜é‡`load-historyâ€™çš„å†…å®¹æ¥è¡ŒåŠ¨çš„.\n å˜é‡unload-feature-special-hooks  è¯¥å˜é‡ä¸ºä¸€ä¸ªhooksåˆ—è¡¨,åœ¨æ‰§è¡Œunloadæ“ä½œå‰,ä¼šå…ˆåˆ é™¤è¿™äº›hooksä¸­çš„å®šä¹‰åœ¨libraryä¸­çš„å‡½æ•°.\nHooks  after-load-functions  loadå®ŒæŸä¸ªæ–‡ä»¶å,ä¼šæ‰§è¡Œè¯¥hook,æ¯ä¸ªhookå‡½æ•°ä¼šæ¥æ”¶ä¸€ä¸ªå‚æ•°:åˆšåŠ è½½æ–‡ä»¶çš„ç»å¯¹è·¯å¾„\n å®(with-eval-after-load library-or-feature bodysâ€¦)  è‹¥library-or-featureä¸ºlibrary,åˆ™åœ¨æ¯æ¬¡åŠ è½½å®Œlibraryæ–‡ä»¶å,éƒ½æ‰§è¡Œä¸€æ¬¡bodysä»£ç \nè‹¥åœ¨æ‰§è¡Œè¯¥å®çš„æ—¶å€™,libraryå·²ç»è¢«åŠ è½½è¿‡äº†,åˆ™è¯¥å®ä¼šç«‹åˆ»æ‰§è¡Œä¸€æ¬¡bodys\n(with-eval-after-load \"edebug\" (def-edebug-spec c-point t) è‹¥library-or-featureä¸ºfeature,åˆ™åœ¨æ‰§è¡Œ(provide feature)ä¹‹åæ‰å›æ‰§è¡Œbodysçš„å†…å®¹\nè‹¥æ‰§è¡Œbodysæ—¶æŠ›å‡ºerror,ä¸ä¼šunloadå·²åŠ è½½çš„æ–‡ä»¶,ä½†æ˜¯ä¼šé˜»æ­¢bodysä¸­çš„ä¸‹é¢è¯­å¥çš„æ‰§è¡Œ.\nä¸€èˆ¬è¯¥å®æ²¡ä»€ä¹ˆç”¨.\nByte Compilation Elispçš„Byte Compilationä¸ºä¼ªç¼–è¯‘,å®ƒå°†lispç¼–è¯‘ä¸ºå­—èŠ‚ç æ ¼å¼,ç”±ç‰¹å®šçš„å­—èŠ‚ç è§£é‡Šå™¨è§£é‡Š,è€Œä¸æ˜¯ç¼–è¯‘ä¸ºä¸ç¡¬ä»¶ç›¸å…³çš„ä»£ç . è¿™ä½¿å¾—å®ƒçš„é€Ÿåº¦ä¼šç¨å¾®æ…¢ç‚¹,ä½†åŒæ—¶ä¹Ÿä¿è¯äº†ä¸åŒç¡¬ä»¶å¹³å°ä¹‹é—´çš„å¯ç§»æ¤æ€§\nè‹¥å¸Œæœ›æŸä¸ªlisp fileä¸è¢«ç¼–è¯‘,è®¾ç½®file-localå˜é‡no-byte-compileçš„å€¼ä¸ºt æ ¼å¼ä¸º:`;; --no-byte-compile: t; --â€™\nå½“ç¼–è¯‘çš„æ–‡ä»¶ä¸­åŒ…å«å®æ—¶è¦ç‰¹åˆ«æ³¨æ„,å› ä¸ºåœ¨ç¼–è¯‘é˜¶æ®µ,å®ä¼šè¢«å±•å¼€,è¿™æ—¶å¯èƒ½å®çš„å®šä¹‰è¿˜æœªåŠ è½½åˆ°Emacsä¸­. ä¸ºäº†åº”ä»˜è¿™ç§æƒ…å†µ,ä¸€èˆ¬ä½¿ç”¨requireè¯­å¥æŒ‡å®šåŒ…å«æ‰€éœ€å®çš„æ–‡ä»¶(requireåœ¨ç¼–è¯‘é˜¶æ®µä¼šè¢«æ‰§è¡Œ). ä¸ºäº†é˜²æ­¢ç”¨æˆ·åœ¨æ‰§è¡Œç¼–è¯‘åç¨‹åºæ—¶ä¾ç„¶æ‰§è¡Œrequireè¯­å¥,å¯ä»¥ä½¿ç”¨`eval-when-compileâ€™åŒ…å«`requireâ€™è¯­å¥\nç›¸å…³å‡½æ•°  (byte-compile symbol)  ç¼–è¯‘symbolçš„å‡½æ•°å®šä¹‰æˆå­—èŠ‚ç æ ¼å¼.\nå‚æ•°symbolçš„å‡½æ•°å®šä¹‰å¿…é¡»æ˜¯å‡½æ•°çš„çœŸå®ä»£ç ,è€Œä¸èƒ½æ˜¯å¼•ç”¨å‡½æ•°.\nå‚æ•°symbolä¹Ÿå¯ä»¥æ˜¯lambdaè¡¨è¾¾å¼,ä½†è¿™ç§æƒ…å†µä¸‹,byte-compileåªæ˜¯è¿”å›å¯¹åº”çš„ç¼–è¯‘åä»£ç ,è€Œå¹¶ä¸å­˜å‚¨å®ƒ\nè‹¥symbolçš„å‡½æ•°å®šä¹‰æ˜¯ä¸€ä¸ªå·²ç»ç¼–è¯‘ä¸ºå­—èŠ‚ç æ ¼å¼çš„å‡½æ•°,åˆ™è¯¥å‡½æ•°ä»€ä¹ˆä¹Ÿä¸åš,åªæ˜¯è¿”å›nil\n å‘½ä»¤(copmile-defun \u0026optional arg)  ç¼–è¯‘å¹¶æ‰§è¡Œå½“å‰top-level form,å¹¶å°†ç»“æœè¾“å‡ºåˆ°echo areaä¸­.\nè‹¥å‚æ•°argä¸ºénil,åˆ™å°†ç»“æœæ’å…¥åˆ°å½“å‰bufferä¸­,æ‰§è¡Œçš„formä½ç½®å\n å‘½ä»¤(byte-compile-file filename \u0026optional load)  è¯¥å‘½ä»¤å°†lispæ ¼å¼çš„filenameç¼–è¯‘ä¸ºå­—èŠ‚ç æ ¼å¼çš„æ–‡ä»¶,ç”Ÿæˆçš„æ–‡ä»¶åç§°æ˜¯åŸfilenameçš„.elåç¼€æ”¹ä¸º.elcåç¼€,è‹¥filenameä¸å¸¦.elåç¼€,åˆ™ç”Ÿæˆçš„æ–‡ä»¶åä¸ºfilename.elc\nè‹¥loadå‚æ•°ä¸ºénil,åˆ™åœ¨ç¼–è¯‘å®Œfilenameå,è¿˜æ˜¯åŠ è½½ç¼–è¯‘åçš„æ–‡ä»¶.\nè‹¥byte-compile-fileä½œä¸ºå‘½ä»¤æ‰§è¡Œæ—¶,ä¼šæç¤ºè¾“å…¥è¦ç¼–è¯‘çš„æ–‡ä»¶,è¿™æ—¶å‚æ•°loadé¢å€¼ä¸ºprefix argument\n å‘½ä»¤(byte-recompile-directory directory \u0026optional flag force)  è¯¥å‘½ä»¤é‡æ–°ç¼–è¯‘directoryåŠå…¶å­ç›®å½•ä¸­çš„æ‰€æœ‰éœ€è¦é‡æ–°ç¼–è¯‘çš„.elæ–‡ä»¶(å­˜åœ¨.elcæ–‡ä»¶æ¯”.elæ–‡ä»¶æ—§çš„.elæ–‡ä»¶)\nè‹¥å­˜åœ¨æ²¡æœ‰å¯¹åº”.elcæ–‡ä»¶çš„.elæ–‡ä»¶,åˆ™ç”±å‚æ•°flagæ¥è¯´æ˜è¯¥å¦‚ä½•å¤„ç†,nilè¡¨ç¤ºä¸ç¼–è¯‘è¿™äº›æ–‡ä»¶,0è¡¨ç¤ºç¼–è¯‘ä»–ä»¬,å…¶ä»–å€¼è¡¨ç¤ºè¯¢é—®ç”¨æˆ·\nè‹¥å‚æ•°forceä¸ºénil,åˆ™å‘½ä»¤åœ¨é‡ç¼–è¯‘æ‰€æœ‰æœ‰å¯¹åº”.elcæ–‡ä»¶çš„.elæ–‡ä»¶.\n (batch-byte-compile \u0026optional noforce)  è¯¥å‡½æ•°è°ƒç”¨`byte-compile-fileâ€™ç¼–è¯‘å‘½ä»¤è¡Œä¸­æŒ‡å®šçš„æ–‡ä»¶.\nè¯¥å‡½æ•°å¿…é¡»å½“Emacså¤„äºbatchçŠ¶æ€æ—¶æ‰èƒ½ä½¿ç”¨,å› ä¸ºå½“ç¼–è¯‘å®Œæˆå,å®ƒä¼šå…³é—­Emacs.\nemacs -batch -f batch-byte-compile *.el ç¼–è¯‘ä¸€ä¸ªæ–‡ä»¶å‡ºé”™,ä¸ä¼šå¦¨ç¢å…¶ç¼–è¯‘ä¸‹ä¸€ä¸ªæ–‡ä»¶,ä½†è¿™æ—¶,Emacsé€€å‡ºæ—¶ä¼šè®¾ç½®é0çš„çŠ¶æ€ç .\nè‹¥å‚æ•°noforceä¸ºénil,åˆ™,è¯¥å‡½æ•°ä¸ä¼šç¼–è¯‘é‚£äº›å·²ç»æœ‰æ›´æ–°ç‰ˆæœ¬çš„.elcæ–‡ä»¶çš„.elæ–‡ä»¶\n é…ç½®é¡¹byte-compile-dynamic-docstrings  é»˜è®¤æƒ…å†µä¸‹,Emacsä»å­—èŠ‚ç æ–‡ä»¶ä¸­åŠ è½½å‡½æ•°å’Œå˜é‡æ—¶ä¸ä¼šåŠ è½½ ä»–ä»¬çš„doc-string,å½“éœ€è¦æ—¶æ‰åŠ¨æ€çš„ä»å­—èŠ‚ç æ–‡ä»¶ä¸­åŠ è½½è¿›æ¥. è¿™å°±äº§ç”Ÿäº†ä¸€ä¸ªåæœ:è‹¥æ­¤æ—¶å­—èŠ‚ç æ–‡ä»¶è¢«æ›´æ–°äº†,é‚£ä¹ˆåŸæ¥çš„doc-stringå°±è¢«è¦†ç›–äº†.\nè®¾ç½®è¯¥é…ç½®é¡¹ä¸ºnil,å¯ä»¥é™æ­¢EmacsåŠ¨æ€åŠ è½½doc-stringçš„è¡Œä¸º.\nå¯ä»¥åœ¨lispæ–‡ä»¶ä¸­æ·»åŠ ä¸€è¡Œâ€--byte-compile-dynamic-docstrings: nil;-\"\n å˜é‡byte-compile-dynamic  è‹¥ä¸ºénil,åˆ™è¡¨ç¤ºå¼€å¯\"dynamic function loading\"åŠŸèƒ½. è¿™æ—¶åŠ è½½è¯¥æ–‡ä»¶å¹¶ä¸ä¼šè¯»å–å…¶ä¸­å‡½æ•°çš„çœŸå®å®šä¹‰,åªæœ‰åœ¨æ­£åœ¨è°ƒç”¨è¯¥å‡½æ•°æ—¶é‡‡å–ä¸´æ—¶è¯»å–è¯¥å‡½æ•°çš„å®šä¹‰.\n (fetch-bytecode function)  è‹¥functionä¸ºbyte-code function object,åˆ™ç«‹å³ä»å­—èŠ‚ç æ–‡ä»¶ä¸­åŠ è½½functionçš„å­—èŠ‚ç .\nè¿”å›å‚æ•°function\nç¼–è¯‘æœŸæ‰§è¡Œè¯­å¥  (eval-and-compile bodysâ€¦)  åœ¨ç¼–è¯‘æœŸé—´å’Œæ‰§è¡ŒæœŸé—´éƒ½æ‰§è¡Œbodys\næƒ³è¿‡ç±»ä¼¼äºå°†bodysæ”¾å…¥fileä¸­,ç„¶å(require file)\nautoloadå’Œrequireåœ¨ç¼–è¯‘æœŸå’Œæ‰§è¡ŒæœŸéƒ½ä¼šæ‰§è¡Œ.\n (eval-when-compile bodysâ€¦)  åªåœ¨ç¼–è¯‘æœŸæ‰è®¡ç®—bodysçš„å€¼. è¿™æ—¶bodysçš„å€¼è¢«ä½œä¸ºå¸¸é‡å­˜å‚¨èµ·æ¥,å½“æ­£å¸¸æ‰§è¡Œè¯¥æ®µä»£ç æ—¶,ç›´æ¥è¿”å›è¯¥å¸¸é‡\n(defvar my-regexp (eval-when-compile (regexp-opt '(\"aaa\" \"aba\" \"abb\")))) Compiler Errors  (with-no-warning bodysâ€¦)  æ‰§è¡Œbodysæ—¶,ä¸å‡ºç°warnningè­¦å‘Š\n å˜é‡`byte-compile-warningsâ€™  æ§åˆ¶ç¼–è¯‘æ—¶ä»€ä¹ˆæ ·çš„è­¦å‘Šä¼šè¢«æŠ›å‡º\nDisassembly  (disassemble object \u0026optional buffer-or-name)  æ˜¾ç¤ºobjectçš„åç¼–è¯‘ä»£ç \nReading and Printing Lisp Objects Readingæ˜¯å°†æ–‡æœ¬è½¬æ¢ä¸ºlisp objectçš„è¿‡ç¨‹\nPrintingæ˜¯å°†lisp objectè½¬æ¢ä¸ºæ–‡æœ¬çš„è¿‡ç¨‹\nInput Stream è¾“å…¥æµå¯ä»¥æ˜¯ä»¥ä¸‹å‡ ç§ç±»å‹\n Buffer  ä»bufferä¸­å…‰æ ‡æ‰€å¤„ä½ç½®å¼€å§‹è¯»å–\n Maker  ä»bufferä¸­æŒ‡å®šMakerå¤„å¼€å§‹è¯»å–\n string  ä»stringçš„ç¬¬ä¸€ä¸ªå­—æ¯å¼€å§‹è¯»å–\n function  ç”±functionäº§ç”Ÿè¦è¯»å–çš„å­—ç¬¦. è¿™ç§å‡½æ•°å¿…é¡»æ”¯æŒä¸¤ç§è°ƒç”¨æ¨¡å¼:\n  å½“æ— å‚æ•°è°ƒç”¨æ—¶,è¿”å›ä¸‹ä¸€ä¸ªè¦è¯»å–çš„å­—ç¬¦\n  å½“å¸¦ä¸€ä¸ªå‚æ•°(é€šå¸¸æ˜¯ä¸€ä¸ªå­—ç¬¦)è°ƒç”¨æ—¶,ä¿å­˜è¯¥å‚æ•°,å¹¶åœ¨ä¸‹ä¸€æ¬¡æ— å‚æ•°è°ƒç”¨æ—¶è¿”å›å®ƒ,åŠå®ç°unreadingåŠŸèƒ½.\n  t\n  è¡¨ç¤ºä»minibufferä¸­è¯»å–,è‹¥Emacsè¿è¡Œåœ¨batch modeçŠ¶æ€ä¸‹,åˆ™ä½¿ç”¨stdin\n nil  è¡¨ç¤ºä½¿ç”¨`standard-inputâ€™çš„å€¼ä½œä¸ºè¾“å…¥æµ\n symbol  è¡¨ç¤ºä½¿ç”¨symbolçš„å‡½æ•°å®šä¹‰ä½œä¸ºè¾“å…¥,ç±»ä¼¼function\nInput Functions   (read \u0026optional stream)\nä»streamä¸­è¯»å–ä¸€ä¸ªSè¡¨è¾¾å¼,å¹¶è½¬æ¢ä¸ºLisp Objectè¿”å›\n  (read-from-string string \u0026optional start end)\nä»stringä¸­è¯»å–ä¸€ä¸ªSè¡¨è¾¾å¼,å¹¶è¿”å›â€™(lisp-object . postion)\nå…¶ä¸­lisp-objectä¸ºSè¯»åˆ°çš„è¡¨è¾¾å¼,postionæ˜¯stringä¸­å‰©ä½™å­—ç¬¦çš„ä½ç½®(ç¬¬ä¸€ä¸ªæœªè¯»å­—ç¬¦çš„ä½ç½®)\n(read-from-string \"(setq x 55) (setq y 5)\") ; = ((setq x 55) . 11) (read-from-string \"\\\"A short string\\\"\") ; = (\"A short string\" . 16) ;; Read starting at the first character. (read-from-string \"(list 112)\" 0) ; = ((list 112) . 10) ;; Read starting at the second character. (read-from-string \"(list 112)\" 1) ; = (list . 5) ;; Read starting at the seventh character, and stopping at the ninth. (read-from-string \"(list 112)\" 6 8) ; = (11 . 8)   å˜é‡standard-input\nå½“streamå‚æ•°ä¸ºnilæ—¶,ä½¿ç”¨è¯¥å˜é‡çš„å€¼ä½œä¸ºsteamå‚æ•°çš„å®å‚\n  å˜é‡read-circle\nè‹¥ä¸ºénil,åˆ™å…è®¸è¯»å–å¾ªç¯ç»“æœçš„Sè¡¨è¾¾å¼,é»˜è®¤ä¸ºt\n  Output Stream è¾“å‡ºæµå‚æ•°å¯ä»¥æ˜¯ä»¥ä¸‹ç±»å‹:\n buffer  è¾“å‡ºå­—ç¬¦æ’å…¥åˆ°Bufferä¸­çš„å…‰æ ‡å¤„,å…‰æ ‡ä¼šéšç€å­—ç¬¦çš„æ’å…¥è€Œå‘å‰ç§»åŠ¨.\n Maker  è¾“å‡ºå­—ç¬¦æ’å…¥Bufferä¸­Makerå¤„\n Function  Elispä½¿ç”¨è¾“å‡ºå­—ç¬¦ä½œä¸ºå‚æ•°è°ƒç”¨function,è¯¥functionåº”è¯¥å­˜å‚¨è¿™äº›è¾“å‡ºå­—ç¬¦\n t  è¾“å‡ºç»“æœåˆ°echo area\n nil  ä½¿ç”¨`standard-outputâ€™çš„å˜é‡å€¼\n symbol  ä½¿ç”¨symbolçš„functionå®šä¹‰\nOutput Functions   (print object \u0026optional stream)\nè¾“å‡ºobjectçš„æ–‡æœ¬è¡¨ç¤ºåˆ°streamä¸­.\nè¾“å‡ºæ—¶,åœ¨objectçš„å‰åéƒ½ä¼šå¢åŠ ä¸€ä¸ªå›è½¦. å¹¶ä¸”ä¼šè¾“å‡ºå¼•ç”¨å­—ç¬¦\n(progn (print 'The\\ cat\\ in) (print \"the hat\") (print \" came back\")) ;; -| ;; -| The\\ cat\\ in ;; -| ;; -| \"the hat\" ;; -| ;; -| \" came back\" ;; = \" came back\" è¯¥å‡½æ•°è¿”å›objectçš„æ–‡æœ¬è¡¨ç¤ºå­—ç¬¦ä¸²\n  (prin1 object \u0026optional stream)\nç±»ä¼¼print,ä½†æ˜¯ä¸ä¼šåœ¨objectçš„æ–‡æœ¬è¡¨ç¤ºå‰åæ·»åŠ å›è½¦\n(progn (prin1 'The\\ cat\\ in) (prin1 \"the hat\") (prin1 \" came back\")) ;; -| The\\ cat\\ in\"the hat\"\" came back\" ;; = \" came back\"   (princ object \u0026optional stream)\nè¯¥å‡½æ•°è¾“å‡ºobjectçš„æ–‡æœ¬è¡¨ç¤ºåˆ°streamä¸­,å¹¶è¿”å›å‚æ•°object.\nè¯¥å‡½æ•°ä¸€èˆ¬ç”¨æ¥è¾“å‡ºå¯¹äººå¯è¯»çš„ä¿¡æ¯(è€Œä¸æ˜¯å¯¹readå‡½æ•°å¯ä»¥è¯»),å› æ­¤è¯¥å‡½æ•°å¹¶ä¸ä¼šæ’å…¥å¼•ç”¨å­—ç¬¦,ä¹Ÿä¸ä¼šåœ¨å­—ç¬¦ä¸²ä¸¤è¾¹åŠ ä¸ŠåŒå¼•å·,æ›´ä¸ä¼šè‡ªåŠ¨æ’å…¥ç©ºæ ¼åˆ†éš”ä¸¤æ¬¡è°ƒç”¨é—´çš„å†…å®¹\n(progn (princ 'The\\ cat) (princ \" in the \\\"hat\\\"\")) ;; -| The cat in the \"hat\" ;; = \" in the \\\"hat\\\"\"   (terpri \u0026optional stream)\nè¾“å‡ºnewlineåˆ°streamä¸­\n  (write-char char \u0026optional stream)\nè¾“å‡ºcharåˆ°streamä¸­,è¿”å›å‚æ•°char\n  (prin1-to-string object \u0026optional noescape)\nè¯¥å‡½æ•°è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²,è¯¥å­—ç¬¦ä¸²çš„å†…å®¹å°±æ˜¯(prin1 object)çš„è¾“å‡º\n(prin1-to-string 'foo) ;; = \"foo\" (prin1-to-string (mark-marker)) ;; = \"#\" è‹¥å‚æ•°noescapeä¸ºénil,åˆ™è¾“å‡ºæ—¶ä¸ä½¿ç”¨å¼•ç”¨å­—ç¬¦\n(prin1-to-string \"foo\") ; = \"\\\"foo\\\"\" (prin1-to-string \"foo\" t) ; = \"foo\" ä¹Ÿå¯ä»¥ä½¿ç”¨formatå‡½æ•°å®ç°è¯¥åŠŸèƒ½\n  å®(with-output-to-string bodysâ€¦)\nè¯¥å®åœ¨å°†`standard-outputâ€™è®¾ç½®ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²çš„ç¯å¢ƒä¸‹æ‰§è¡Œbodys,ç„¶åè¿”å›è¯¥å­—ç¬¦ä¸²\n(with-output-to-string (princ \"The buffer is \") (princ (buffer-name))) ;=\"The buffer is foo\"   (pp object \u0026optional stream)\nç±»ä¼¼prin1,ä½†æ˜¯è¾“å‡ºçš„æ ¼å¼æ›´æ–¹ä¾¿é˜…è¯».\n  Output Variables   standard-output\nå½“å‚æ•°streamä¸ºnilæ—¶,ä½¿ç”¨è¯¥å˜é‡çš„å€¼\n  print-quoted\nè‹¥è¯¥å€¼ä¸ºénil,è¡¨ç¤ºä½¿ç”¨ç®€å†™å½¢å¼è¾“å‡ºquoted forms.ä¾‹å¦‚ (quote foo)è¾“å‡ºä¸ºâ€™foo, (function foo)è¾“å‡ºä¸º#â€˜foo\n  print-escape-newlines\nè‹¥è¯¥å€¼ä¸ºénil,åˆ™è¡¨ç¤ºå­—ç¬¦ä¸²ä¸­çš„newlineå­—ç¬¦,ä¼šè¢«è¾“å‡ºä¸º\\n,formfeedç¬¦ä¼šè¢«è¾“å‡ºä¸º\\f\nè¯¥å‚æ•°å½±å“prin1å’Œprintå‡½æ•°çš„è¾“å‡ºæ–¹å¼,ä½†æ˜¯ä¸èƒ½å½±å“prncçš„è¾“å‡º\n(prin1 \"a\\nb\") -| \"a -| b\" = \"a b\" (let ((print-escape-newlines t)) (prin1 \"a\\nb\")) -| \"a\\nb\" = \"a b\"   print-escape-nonascii\nè‹¥è¯¥å˜é‡å€¼ä¸ºénil,åˆ™å­—ç¬¦ä¸²ä¸­çš„unibyteæ ¼å¼éasciiå­—ç¬¦è¾“å‡ºä¸º\\XXXçš„æ ¼å¼.\nè¯¥å‚æ•°å½±å“prin1å’Œprintå‡½æ•°\n  print-escape-multibyte\nè‹¥è¯¥å˜é‡å€¼ä¸ºénil,åˆ™å­—ç¬¦ä¸²ä¸­çš„mutibyteæ ¼å¼éasciiå­—ç¬¦è¾“å‡ºä¸º\\XXXçš„æ ¼å¼.\nè¯¥å‚æ•°å½±å“prin1å’Œprintå‡½æ•°\n  print-length\nè¯¥å˜é‡æŒ‡æ˜äº†è¾“å‡ºlist,vectoræˆ–bool-vectoræ—¶,èƒ½è¾“å‡ºæœ€å¤šå¤šå°‘ä¸ªå…ƒç´ . è‹¥è¶…è¿‡è¿™ä¹ˆå¤šä¸ªå…ƒç´ ,åˆ™ä½¿ç”¨å¼•å·ç¼©å†™\n(setq print-length 2) ; = 2 (print '(1 2 3 4 5)) ; = (1 2 ...) -| (1 2 ...) nilè¡¨ç¤ºæ— é™åˆ¶\n  print-level\nè¯¥å˜é‡å€¼æŒ‡æ˜äº†è¾“å‡ºæ—¶()å’Œ[]èƒ½å¤ŸåµŒå¥—çš„æœ€å¤§æ·±åº¦,è¶…è¿‡è¿™ä¸ªæ·±åº¦ä¼šç”¨çœç•¥å·ä»£æ›¿,nilè¡¨ç¤ºæ— é™åˆ¶\n  é…ç½®é¡¹eval-expression-print-length/eval-expression-print-level\neval-expressionä¸­ä½¿ç”¨çš„print-length/print-levelç‰ˆæœ¬\n  print-circle\nè‹¥è¯¥å€¼ä¸ºénil,åˆ™åœ¨è¾“å‡ºæ—¶å¼€å¯æ¢æµ‹objectæ˜¯å¦æœ‰å¾ªç¯ç»“æ„\n  print-gensym\nè‹¥è¯¥å€¼ä¸ºénil,åˆ™è¾“å‡ºæ—¶å¼€å¯æ¢æµ‹symbolæ˜¯å¦æ˜¯uninterned.\nè¿™æ—¶,uninterned symbolè¾“å‡ºæ—¶ä¼šå¸¦æœ‰å‰ç¼€#:\n  print-continuous-numbering\nIf non-`nilâ€™, that means number continuously across print calls. This affects the numbers printed for `#N=â€™ labels and `#M#â€™ references. Donâ€™t set this variable with `setqâ€™; you should only bind it temporarily to `tâ€™ with `letâ€™. When you do that, you should also bind `print-number-tableâ€™ to `nilâ€™\n  print-number-table\nThis variable holds a vector used internally by printing to implement the `print-circleâ€™ feature. You should not use it except to bind it to `nilâ€™ when you bind `print-continuous-numberingâ€™.\n  float-output-format\nè¯¥å˜é‡æŒ‡æ˜äº†è¾“å‡ºfloatç±»å‹æ•°å­—æ—¶çš„æ ¼å¼. é»˜è®¤ä¸ºnil,è¡¨ç¤ºåœ¨ä¸ä¸¢å¤±ç²¾åº¦çš„æƒ…å†µä¸‹,ä½¿ç”¨æœ€çŸ­çš„æ ¼å¼è¾“å‡º.\n  Documentation è·å–doc-string  (documentation-property symbol property \u0026optional verbatim)  æŸ¥çœ‹symbolçš„propertyå±æ€§ä¸­å­˜å‚¨çš„doc-string,å®ƒä¼šè‡ªåŠ¨ä»DOCæ–‡ä»¶ä¸­æˆ–ç¼–è¯‘çš„å­—èŠ‚ç ä»£ç ä¸­æŠ½å–å‡ºå¯¹åº”çš„doc-string\nè‹¥å‚æ•°verbatimä¸ºnil,åˆ™,æ‰¾åˆ°çš„doc-stringä¼šä¼ å…¥å‡½æ•°`substitute-command-keysâ€™è¿›è¡Œé”®ç»‘å®šè¯´æ˜çš„è½¬æ¢\n(documentation-property 'command-line-processed 'variable-documentation) ; = \"Non-nil once command line has been processed\" (symbol-plist 'command-line-processed) ; = (variable-documentation 188902) (documentation-property 'emacs 'group-documentation) ; = \"Customization of the One True Editor.\"  (documentation function \u0026optional verbatim)  è¯¥å‡½æ•°è¿”å›functionçš„doc-string,å…¶ä¸­functionå¯ä»¥æ˜¯macro,named keyboard macro,special forms,oridnary function\nè‹¥å‚æ•°verbatimä¸ºnil,åˆ™,æ‰¾åˆ°çš„doc-stringä¼šä¼ å…¥å‡½æ•°`substitute-command-keysâ€™è¿›è¡Œé”®ç»‘å®šè¯´æ˜çš„è½¬æ¢\nè‹¥functionæ²¡æœ‰å‡½æ•°å®šä¹‰,åˆ™æŠ›å‡º`void-functionâ€™é”™è¯¯,è‹¥å‡½æ•°å®šä¹‰æ²¡æœ‰doc-string,åˆ™è¿”å›nil\n (face-documentation face)  è¿”å›faceçš„doc-string\n doc-directory  DOCæ–‡ä»¶çš„å­˜æ”¾è·¯å¾„,Emacså¯èƒ½è¦ä»DOCæ–‡ä»¶ä¸­è¯»å–doc-string\næ›¿æ¢doc-stringä¸­çš„key binding å½“doc-stringä¸­è¦å¼•ç”¨ç»‘å®šçš„é”®åºåˆ—æ—¶,ä½¿ç”¨ç‰¹æ®Šçš„å¼•ç”¨å½¢å¼å¯ä»¥é€šè¿‡å‡½æ•°`substitute-command-keysâ€™è½¬æ¢ä¸ºæŒ‡å®šå‘½ä»¤çœŸå®çš„ç»‘å®šé”®åºåˆ—.\n `\\[COMMAND]â€™  æ˜¾ç¤ºè°ƒç”¨COMMANDæ—¶çš„é”®åºåˆ—,è‹¥COMMANDæ²¡æœ‰ç»‘å®šé”®åºåˆ—,åˆ™æ˜¾ç¤ºä¸ºM-x COMMAND\n `\\{MAPVAR}â€™  ä½¿ç”¨å‡½æ•°`describe-bindingsâ€™æ˜¾ç¤ºMAPVARæ‰€è¡¨ç¤ºçš„keymapä¸­çš„summary\n `\\'  è½¬æ¢ä¸ºç©ºå€¼,è¯¥å½¢å¼çš„è¯´æ˜ä¼šäº§ç”Ÿä¸€ä¸ªå‰¯ä½œç”¨:it specifies MAPVARâ€™s value as the keymap for any following `\\[COMMAND]' sequences in this documentation string.\n `\\='  å¼•ç”¨æ¥ä¸‹æ¥çš„é‚£ä¸ªå­—ç¬¦;ä¾‹å¦‚`\\=\\[â€˜åœ¨æ˜¾ç¤ºæ—¶æ˜¾ç¤ºä¸º`\\[',è€Œ`\\=\\=â€˜æ˜¾ç¤ºä¸º`\\=â€™\nå°†é”®åºåˆ—è¾“å‡ºä¸ºæ–‡æœ¬æ ¼å¼  (key-description sequence \u0026optional prefix)  å°†sequenceä¸­çš„input eventè½¬æ¢ä¸ºæ–‡æœ¬æ ¼å¼\n(key-description [?\\M-3 delete]) ; = \"M-3 \" (key-description [delete] \"\\M-3\") ; = \"M-3 \"  (single-key-description event \u0026optinal no-angles)  å°†input eventè½¬æ¢ä¸ºæ–‡æœ¬å½¢å¼å­—ç¬¦ä¸².\nè‹¥å‚æ•°no-angleä¸ºénil,åˆ™åœ¨åŒ…å›´åœ¨function keyså’Œevent symolsçš„å°–æ‹¬å·ä¼šè¢«å¿½ç•¥,è¿™æ˜¯ä¸ºäº†ä¸æ—§ç‰ˆæœ¬çš„Emacså…¼å®¹.\n(single-key-description ?\\C-x) ; = \"C-x\" (key-description \"\\C-x \\M-y \\n \\t \\r \\f123\") ; = \"C-x SPC M-y SPC C-j SPC TAB SPC RET SPC C-l 1 2 3\" (single-key-description 'delete) ; = \"\" (single-key-description 'C-mouse-1) ; = \"\" (single-key-description 'C-mouse-1 t) ; = \"C-mouse-1\"  (text-char-description character)  è¿”å›æè¿°characterçš„å­—ç¬¦ä¸²,ç±»ä¼¼`single-key-descriptionâ€™çš„ä½œç”¨\n(text-char-description ?\\C-c) ; = \"^C\" (text-char-description ?\\M-m) ; = \"\\xed\" (text-char-description ?\\C-\\M-m) ; = \"\\x8d\" (text-char-description (+ 128 ?m)) ; = \"M-m\" (text-char-description (+ 128 ?\\C-m)) ; = \"M-^M\"  å‘½ä»¤(read-kbd-macro string \u0026optional need-vector)  `key-descriptionâ€™çš„é€†æ“ä½œ\nå‚æ•°stringä¸­åŒ…å«äº†ç”¨ç©ºæ ¼åˆ†éš”çš„key descriptions,è¯¥å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªstringæˆ–vector,åŒ…å«äº†å¯¹åº”çš„events.\nè‹¥å‚æ•°need-vector,åˆ™æ€»æ˜¯è¿”å›vector\nElispä¸­çš„å‡½æ•° Elispä¸­çš„å‡½æ•°,æ˜¯è·ŸC++ä¸åŒçš„. C++ä¸­çš„å‡½æ•°å¿…é¡»æœ‰ä¸€ä¸ªå‡½æ•°å,ç„¶è€ŒElispä¸­çš„å‡½æ•°æ²¡æœ‰å‡½æ•°å,åªæ˜¯ä½ å¯ä»¥æŠŠå®ƒä¸ä¸€ä¸ªsymbolç›¸è¿æ¥,è¿™æ ·è¿™ä¸ªsymbolçš„åå­—å°±æš‚æ—¶ä½œä¸ºè¯¥å‡½æ•°çš„å‡½æ•°åäº†.\næ­¤å¤–,Elispä¸­çš„å‡½æ•°å¯ä»¥é€šè¿‡ä¸å¤šä¸ªsymbolç›¸å…³è¿çš„æ–¹å¼è€Œä¸ºåŒä¸€ä¸ªå‡½æ•°æä¾›å¤šä¸ªåç§°,è€ŒC++ä¸­çš„å‡½æ•°åªæœ‰ä¸€ä¸ªå‡½æ•°åç§°.\nElispä¸­å‡½æ•°çš„åˆ†ç±» å‡½æ•°çš„ç‰¹æ€§åœ¨ä¸èƒ½å¤Ÿæ¥æ”¶å‚æ•°,ç„¶åè¿”å›è®¡ç®—ç»“æœ,å¹¶å¯èƒ½äº§ç”Ÿä¸€å®šçš„å‰¯ä½œç”¨. åœ¨Elispä¸­ç¬¦åˆè¿™äº›ç‰¹æ€§çš„ç±»å‡½æ•°å¯¹è±¡æœ‰ä»¥ä¸‹å‡ ç§ç±»å‹:\n lambda expression  åŒ¿åå‡½æ•°\n primitive  ä½¿ç”¨Cè¯­è¨€ç¼–å†™çš„å†…ç½®ç±»å‡½æ•°å¯¹è±¡,special forméƒ½è®¤ä¸ºæ˜¯primitiveçš„ä¸€ç§.\n special form  ç±»ä¼¼Cè¯­è¨€ä¸­çš„å›ºå®šè¯­æ³•çš„è¯­å¥\n macro  å®,è·Ÿfunctionç±»ä¼¼,ä½†å®ƒå¹¶ä¸å¯¹å‚æ•°è¿›è¡Œé¢„è¿ç®—ä¸”è¿”å›çš„ç»“æœå¿…é¡»æ˜¯ä¸€æ®µSè¡¨è¾¾å¼.\n command  å¯ä»¥é€šè¿‡`command-execute`è¿™ä¸ªprimitiveè°ƒç”¨çš„å¯¹è±¡,é€šå¸¸æ˜¯ä¸€ä¸ªå¸¦äº†interactiveå£°æ˜çš„å‡½æ•°(ä¹Ÿå¯èƒ½æ˜¯keyboard macro).\n closure  é—­åŒ…,å¸¦æœ‰é™æ€ä½œç”¨åŸŸä¸‹å˜é‡çš„å‡½æ•°.\n byte-code function  ç¼–è¯‘ä¸ºå­—èŠ‚ç çš„å‡½æ•°\n autoload object  å®ƒæŒ‡å‘ä¸€ä¸ªçœŸå®çš„å‡½æ•°çš„ä½ç½®. å½“çœŸæ­£è°ƒç”¨åˆ°autoload objectæ—¶,Emacsè½½å…¥åŒ…å«çœŸæ­£å‡½æ•°å®šä¹‰çš„é‚£ä¸ªæ–‡ä»¶,å¹¶ä¸”è°ƒç”¨é‚£ä¸ªçœŸæ­£çš„å‡½æ•°.\nè·å–å‡½æ•°ä¿¡æ¯  (functionp object)  åˆ¤æ–­objectæ˜¯å¦ä¸ºå‡½æ•°. è‹¥ä¸ºå‡½æ•°åˆ™è¿”å›t,ä½†macroå’Œspecial formä¼šè¿”å›nil\nobjectä¹Ÿå¯ä»¥ä¸ºsymbolç±»å‹,ä¼šè‡ªåŠ¨åˆ¤æ–­å®ƒæ‰€æŒ‡å‘çš„function.\n(functionp 'goto-line) ;=t  (subrp object)  åˆ¤æ–­objectæ˜¯å¦ä¸ºprimtive.\næ³¨æ„: ä¸functionpä¸åŒ.objectä¸ºsymbolçš„è¯,ä¼šè¿”å›nil.\n(subrp 'message) ; `message' is a symbol, = nil ; not a subr object. (subrp (symbol-function 'message)) = t  (byte-code-function-p object)  åˆ¤æ–­objectæ˜¯å¦ä¸ºbyte-code function. objectä¸ºsymbolç±»å‹åˆ™è¿”å›nil\n(byte-code-function-p 'next-line) ; = nil (byte-code-function-p (symbol-function 'next-line)) ; = t  (subr-arity subr)  è¿™é‡Œsubréœ€è¦ä¸ºä¸€ä¸ªprimitiveå¯¹è±¡(ä¸èƒ½ä¸ºsymbol),è¯¥å‡½æ•°è¿”å›subrçš„æœ€å°‘å‚æ•°ä¸ªæ•°å’Œæœ€å¤§å‚æ•°ä¸ªæ•°.\nè¿”å›æ ¼å¼ä¸ºâ€™(MIN . MAX).\nè‹¥å‚æ•°æœ‰\u0026rest,åˆ™MAXä¸ºmany.\nè‹¥subrä¸ºspecial form,åˆ™è¯¥å‡½æ•°è¿”å›â€™unevalled\n (interactive-form function)  è·å–functionçš„interactiveä¿¡æ¯\nåŒ¿åå‡½æ•° è·å–åŒ¿åå‡½æ•° è·å–åŒ¿åå‡½æ•°,ä¸»è¦æœ‰ä¸‰ç§æ–¹æ³•:\n  ä½¿ç”¨lambdaå®\n(lambda (å‚æ•°åˆ—è¡¨...) [å‡½æ•°æè¿°å­—ç¬¦ä¸²] [äº¤äº’æ¨¡å¼å£°æ˜] å‡½æ•°ä½“...)   ä½¿ç”¨functionå‡½æ•°\n(function function-object)\nç±»ä¼¼quoteå‡½æ•°,å®ƒç›´æ¥è¿”å› æœªè®¡ç®— çš„å‚æ•°function-object.\n(function 3) ;=3,functionçš„å‚æ•°å¯ä»¥ä¸ä¸ºlambdaè¡¨è¾¾å¼ (function (lambda add-1(x) (1+ x))) ;=(lambda add-1(x) (1+ x)),ä½†ä¸€èˆ¬functionçš„å‚æ•°éƒ½æ˜¯lambdaè¡¨è¾¾å¼ æ‰€ä¸åŒçš„æ˜¯,è¯¥å‡½æ•°å‘Šè¯‰Emacs evaluatorå’Œbyte-compiler,function-objectä¸ºå‡½æ•°.\nå…·ä½“æ¥è¯´,è‹¥function-objectä¸ºlambdaè¡¨è¾¾å¼,åˆ™æœ‰ä¸¤ä¸ªé™„åŠ æ•ˆæœ:\n  When the code is byte-compiled, FUNCTION-OBJECT is compiled into a byte-code function object\n  When lexical binding is enabled, FUNCTION-OBJECT is converted into a closure\n    ä½¿ç”¨`#'`æ ‡è¯†\n#â€˜fæ˜¯(function f)çš„ç¼©å†™å½¢å¼\n;; ä¸€ä¸‹ä¸‰ç§å†™æ³•æ˜¯ç­‰ä»·çš„ (lambda (x) (* x x)) (function (lambda (x) (* x x))) #'(lambda (x) (* x x))   å‚æ•°åˆ—è¡¨ å‚æ•°åˆ—è¡¨çš„æ ¼å¼ä¸º:(å¿…é¡»å‚æ•°åˆ—è¡¨â€¦[\u0026optional å¯é€‰å‚æ•°åˆ—è¡¨] [\u0026rest å‰©ä½™å‚æ•°])\nä½¿ç”¨\u0026optionalè¡¨ç¤ºä¹‹åçš„å‚æ•°æ˜¯å¯é€‰çš„.\nä½¿ç”¨\u0026restè¡¨ç¤ºä¹‹åçš„å‚æ•°ä¸ºä¸å®šå‚æ•°. å®ƒæ˜¯å®é™…å‚æ•°çš„ä¸€ä¸ªåˆ—è¡¨.\nè‹¥åœ¨å®é™…è°ƒç”¨å‡½æ•°æ—¶,æ²¡æœ‰ä¸ºå¯é€‰å‚æ•°å’Œå‰©ä½™å‚æ•°æä¾›å®é™…å‚æ•°å€¼,åˆ™è¿™äº›å‚æ•°å€¼ä¸ºnil.\nå‘½åå‡½æ•° ä½¿ç”¨fset/defaliaså°†åŒ¿åå‡½æ•°ä¸ä¸€ä¸ªsymbolæƒ³ç»“åˆ,å°±ä¸ºè¿™ä¸ªåŒ¿åå‡½æ•°åˆ†é…äº†ä¸€ä¸ªåç§°.\n (fset symbol lambdaå‡½æ•°)   (fset 'plus-one (lambda (x) (+ x 1))) (plus-one 10) ;11  (defalias alias-name lambda-function-or-symbol \u0026optional doc-string)  ä¸ºå‡½æ•°è®¾å®šåå­—æˆ–åˆ«å,ä¸€èˆ¬å¾ˆå°‘ç”¨åˆ°\n(defalias 'add-one '1+) (add-one 11) ;12 (defalias 'add-two (lambda (x) (+ x 2))) (add-two 11) ;13 å®é™…ä¸Š,æ›´å¸¸è§çš„å®šä¹‰å‘½åå‡½æ•°çš„æ–¹æ³•æ˜¯ä½¿ç”¨defunå®\n (defun å‡½æ•°å (å‚æ•°åˆ—è¡¨) [å‡½æ•°è¯´æ˜å­—ç¬¦ä¸²] [declare-form] [äº¤äº’æ¨¡å¼å£°æ˜] å‡½æ•°ä½“â€¦)  å®šä¹‰ä¸€ä¸ªå¸¦åå­—çš„å‡½æ•°.\n(defun add-one (x) \"return value after plus one\" (+ x 1)) (add-one 10) ;11 æ³¨æ„: å®ƒå¯ä»¥æ¯”lambdaå‡½æ•°å¤šä¸€ä¸ªdeclare-forméƒ¨åˆ†,è¿™ä¸ªdeclare-formé€šå¸¸ç”¨äºæä¾›Elispç¼–è¯‘å™¨ä¸€äº›å‡½æ•°çš„ä¿¡æ¯,ä»¥ä¾¿è¿›è¡Œä¼˜åŒ–.\n (fboundp symbol)  åˆ¤æ–­symbolæ˜¯å¦å¯ä»¥ä½œä¸ºå‡½æ•°ä½¿ç”¨\n (fmakunbound symbol)  åˆ é™¤å‡½æ•°,ä½¿symbolä¸å†ä½œä¸ºå‡½æ•°ä½¿ç”¨.\ndeclare form declare formå¸¸ç”¨æ¥ä¸ºå‡½æ•°æˆ–å®æ·»åŠ ä¸€äº›å…³äºå±æ€§çš„å…ƒæ ‡ç­¾. å®ƒçš„è¯­æ³•æ˜¯:\n  (declare specsâ€¦)\nå…¶ä¸­specçš„æ ¼å¼ä¸º(PROPERTY ARGSâ€¦),specå¯ä»¥æ˜¯ä»¥ä¸‹å‡ ç§è¯´æ˜\n (advertised-call-convention new-arg-list when)  new-arg-listä¸ºæ­£ç¡®çš„è°ƒç”¨å‡½æ•°çš„æ–¹æ³•,å…¶ä»–çš„è°ƒç”¨æ–¹æ³•éƒ½è¢«è®¤ä¸ºæ˜¯åºŸå¼ƒçš„.\nwhenä¸ºä¸€ä¸ªè¡¨ç¤ºä»€ä¹ˆæ—¶å€™åºŸå¼ƒçš„å­—ç¬¦ä¸².\n (debug EDEBUG-FORM-SPEC)  åªèƒ½åœ¨å®šä¹‰å®æ—¶ä½¿ç”¨. å½“ç”¨Edebugæ¥è°ƒè¯•è¯¥å®æ—¶,ä½¿ç”¨EDEBUG-FORM-SPEC\n (doc-string N)  This is used when defining a function or macro which itself will be used to define entities like functions, macros, or variables\nå®ƒè¡¨ç¤º,ç¬¬Nä¸ªå‚æ•°ä½œä¸ºdoc-stringæ¥çœ‹å¾…\n (ident indent-spec)  Indent calls to this function or macro according to INDENT-SPEC.\nè™½ç„¶å¯ä»¥ç”¨åœ¨å‡½æ•°ä¸Š,ä½†ä¸€èˆ¬è¿˜æ˜¯ç”¨åœ¨å®å®šä¹‰ä¸­\n (obsolete current-name when)  ç±»ä¼¼(make-obsolete),è¡¨ç¤ºè¯¥å‡½æ•°è¢«åºŸå¼ƒäº†\n (compiler-macro EXPANDER)  åªèƒ½ç”¨åœ¨å‡½æ•°å®šä¹‰æ—¶,å‘Šè¯‰ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶,ä½¿ç”¨EXPANDERä»£æ›¿è¯¥å‡½æ•°.\nè¿™æ ·çš„è¯,æ‰€æœ‰çš„(function argsâ€¦)éƒ½å®é™…ä¸Šè°ƒç”¨çš„æ˜¯(EXPANDER argsâ€¦)\n (gv-expander EXPANDER)  Declare EXPANDER to be the function to handle calls to the macro (or function) as a generalized variable, similarly to `gv-define-expanderâ€™.\nEXPANDER can be a symbol or it can be of the form `(lambda (ARG) BODY)' in which case that function will additionally have access to the macro (or function)â€™s arguments.\n (gv-setter SETTER)  Declare SETTER to be the function to handle calls to the macro (or function) as a generalized variable. SETTER can be a symbol in which case it will be passed to `gv-define-simple-setter', or it can be of the form `(lambda (ARG) BODY)' in which case that function will additionally have access to the macro (or function)â€™s arguments and it will passed to `gv-define-setter'.\n  è°ƒç”¨å‡½æ•° æœ€å¸¸ç”¨çš„è°ƒç”¨å‡½æ•°çš„æ–¹å¼æ˜¯å°†å‡½æ•°ä½œä¸ºä¸€ä¸ªlistçš„ç¬¬ä¸€ä¸ªå‚æ•°. è¿™æ ·å½“è®¡ç®—è¿™ä¸ªlistæ—¶,ä¼šæŠŠåœ°ä¸€ä¸ªå…ƒç´ ä½œä¸ºå‡½æ•°,å…¶ä»–ä½œä¸ºå‚æ•°æ¥è°ƒç”¨.\nä½†æ˜¯æœ‰çš„æ—¶å€™,éœ€è¦åœ¨è¿è¡ŒæœŸé—´å†³å®šè¦æ‰§è¡Œçš„å‡½æ•°,è¿™æ—¶å€™å°±éœ€è¦ä½¿ç”¨ä»¥ä¸‹å‡½æ•°çš„å¸®åŠ©:\n (funcall function \u0026rest argumentsâ€¦)  ä½¿ç”¨å‚æ•°argumentsè°ƒç”¨å‡½æ•°function.\n(setq f 'list) ; = list (funcall f 'x 'y 'z) ; = (x y z) (funcall f 'x 'y '(z)) ; = (x y (z)) å‚æ•°functionå¿…é¡»æ˜¯ä¸€ä¸ªlisp functionæˆ–primitive function,è€Œä¸èƒ½æ˜¯macroæˆ–special form\n (apply function \u0026rest argumentsâ€¦)  ç±»ä¼¼funcallå‡½æ•°,ä½†applyçš„argumentsä¸­,æœ€åä¸€ä¸ªå‚æ•° å¿…é¡» æ˜¯list. è€Œè¿™ä¸ªlistä¸­çš„å…ƒç´ ä¼šè¢«æ‰“æ•£ä¸ºç‹¬ç«‹çš„å‚æ•°æ¥ä½œä¸ºfunctionçš„å®å‚.\n(setq f 'list) ; = list (apply f 'x 'y 'z) ; error-- æœ€åä¸€ä¸ªå‚æ•°zä¸æ˜¯listç±»å‹ (apply '+ 1 2 '(3 4)) ; = 10 (apply '+ '(1 2 3 4)) ; = 10 (apply 'append '((a b c) nil (x y z) nil)) ; = (a b c x y z)  (apply-partially func \u0026rest args)  apply-partiallyä½¿ç”¨å‚æ•°argsç»‘å®šfuncä¸­çš„å‰(length args)ä¸ªå‚æ•°,å¹¶ç”±æ­¤äº§ç”Ÿä¸€ä¸ªæ–°çš„å‡½æ•°.\nè¿”å›çš„æ–°å‡½æ•°æ¥å—å‰©ä½™çš„å‚æ•°,å¹¶åœ¨å†…éƒ¨è°ƒç”¨åŸfuncå‡½æ•°.\n(defalias 'add-1 (apply-partially '+ 1) \"Increment argument by one.\") (add-1 10) ; = 11  (identity arg)  è¯¥å‡½æ•°è¿”å›å‚æ•°arg,æ²¡æœ‰ä»»ä½•å…¶ä»–å¤„ç†\n (ignore \u0026rest args)  è¯¥å‡½æ•°å¿½ç•¥args,ç›´æ¥è¿”å›nil\nè‹¥è¦å¯¹æŸä¸ªé›†åˆ(åŒ…æ‹¬list)ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨æŸä¸ªå‡½æ•°(æ³¨æ„,ä¸èƒ½æ˜¯å®å’Œspecial form),éœ€è¦ä½¿ç”¨åˆ°mapç³»åˆ—çš„å‡½æ•°.\néœ€è¦æ³¨æ„çš„æ˜¯,char-tableæ¯”è¾ƒç‰¹æ®Š,åªèƒ½ç”¨map-char-tableå‡½æ•°è°ƒç”¨.\n (mapcar function sequence)  mapcarå°†sequenceä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨ä¸€æ¬¡functionæ–¹æ³•,å¹¶å°†ç»“æœç»„æˆä¸€ä¸ªlistè¿”å›.\n(mapcar 'car '((a b) (c d) (e f))) ; = (a c e) (mapcar '1+ [1 2 3]) ; = (2 3 4) (mapcar 'string \"abc\") ; = (\"a\" \"b\" \"c\")  (mapc function sequence)  ç±»ä¼¼mapcar,ä½†ä¸æ”¶é›†ä¸ªå‡½æ•°çš„è¿ç®—ç»“æ„. mapcçš„è¿”å›å€¼ä¸ºå‚æ•°sequence\n (mapconcat function sequence separator)  å¯¹sequenceä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨functionæ–¹æ³•,å…¶functionæ–¹æ³•è®¡ç®—çš„ç»“æœå¿…é¡»ä¸ºstringç±»å‹. ç„¶åå°†è¿™ä¸ªstringç±»å‹çš„ç»“æœç”¨separatorç»“åˆèµ·æ¥.\n(mapconcat 'symbol-name '(The cat in the hat) \" \") ; = \"The cat in the hat\" (mapconcat (function (lambda (x) (format \"%c\" (1+ x)))) \"HAL-8000\" \"\") ; = \"IBM.9111\"  (cl-maplist function listâ€¦)  ç±»ä¼¼mapcar,ä½†è°ƒç”¨functionçš„å‚æ•°ä¸º(cdr list)\n(maplist #'(lambda (x) x) '(a b c)) ;; ((a b c) (b c) (c)) åºŸå¼ƒå‡½æ•° ç±»ä¼¼å˜é‡ä¸€æ ·,å‡½æ•°ä¹Ÿå¯ä»¥è¢«æ ‡æ³¨ä¸ºåºŸå¼ƒçš„.\n (make-obsolete obsolete-name current-name \u0026optional when)  è¯¥å‡½æ•°æ ‡æ³¨obsolete-nameä¸ºåºŸå¼ƒçš„. å…¶ä¸­\nobsolete-nameå¯ä»¥ä¸ºè¡¨ç¤ºå‡½æ•°æˆ–å®çš„symbol,ä¹Ÿå¯ä»¥ä¸ºå‡½æ•°æˆ–å®çš„åˆ«å.\ncurrent-nameå¯ä»¥æ˜¯ä¸€ä¸ªsymbol,è¡¨ç¤ºä½¿ç”¨current-nameä»£æ›¿obsolete-name. ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºåºŸå¼ƒçš„è­¦å‘Šè¯´æ˜. ä¹Ÿå¯æ˜¯nil.\nwhenåº”è¯¥æ˜¯ä¸€ä¸ªæ—¥æœŸæˆ–ç‰ˆæœ¬å·çš„å­—ç¬¦ä¸²,ç”¨äºè¡¨ç¤ºä»€ä¹ˆæ—¶å€™å¼€å§‹åºŸå¼ƒè¯¥å‡½æ•°.\n (define-obsolete-function-alias obsolete-name current-name \u0026optional when doc)  è¯¥å®å®šä¹‰obsolete-nameä¸ºå‡½æ•°current-nameçš„åˆ«å,åŒæ—¶æ ‡æ³¨obsolet-nameä¸ºåºŸå¼ƒçš„å‡½æ•°.\nè¯¥å®ç­‰ä»·äº:\n(defalias OBSOLETE-NAME CURRENT-NAME DOC) (make-obsolete OBSOLETE-NAME CURRENT-NAME WHEN)  (set-advertised-calling-convention function new-arg-list when)  è¯¥å‡½æ•°ä¸ä¸Šé¢ä¸¤ä¸ªå‡½æ•°ä¸åŒç‚¹åœ¨äº,å®ƒä¸æ˜¯æ ‡æ³¨æŸä¸ªå‡½æ•°ä¸ºåºŸå¼ƒçš„,å®ƒåªæ ‡æ³¨æŸä¸ªå‡½æ•°çš„æŸç§ç”¨æ³•ä¸ºåºŸå¼ƒçš„.\nä»»ä½•ä¸ä½¿ç”¨new-arg-listè¡¨ç¤ºçš„å®å‚è°ƒç”¨functionå‡½æ•°éƒ½ä¼šè¢«è­¦å‘Šä¸ºåºŸå¼ƒçš„.\nwhenè¡¨ç¤ºä»€ä¹ˆæ—¶å€™å¼€å§‹åºŸå¼ƒfunctionçš„åŸç”¨æ³•,ä¸€èˆ¬ä¸ºè¡¨ç¤ºç‰ˆæœ¬å·çš„å­—ç¬¦ä¸².\n;; åœ¨è€ç‰ˆæœ¬ä¸­sit-forå‡½æ•°å¯ä»¥æ¥å—ä¸‰ä¸ªå‚æ•° (sit-for seconds milliseconds nodisp) ;; ç„¶è€Œç”¨è¿™ç§è°ƒç”¨æ–¹æ³•åœ¨Emacs22.1ç‰ˆæœ¬ä¹‹åå°±è¢«åºŸå¼ƒæ‰äº†,å› æ­¤å¯ä»¥è¿™æ ·è®¾ç½® (set-advertised-calling-convention 'sit-for '(seconds \u0026optional nodisp) \"22.1\") ;è¡¨ç¤ºæ–°çš„sit-forå‡½æ•°ç­¾åä¸º(defun sit-for (seconds \u0026optional nodisp)) å†…è”å‡½æ•° è¦å®šä¹‰å†…è”å‡½æ•°,åªéœ€è¦å°†å®šä¹‰å‡½æ•°çš„defun,æ¢æˆdefsubstå³å¯\n(defsubst name (arg-list) [doc-string] [declare-form] [interactive] bodys) æ³¨æ„:è™½ç„¶å†…è”å‡½æ•°ä¼šåŠ å¿«å‡½æ•°çš„æ‰§è¡Œé€Ÿåº¦,ä½†å®ƒä¼šå¢åŠ æ–‡ä»¶å’Œå†…å­˜çš„æ¶ˆè€—é‡,è€Œä¸”å¯¹debugging,tracingå’Œasdisingæ”¯æŒä¸å¤Ÿå¥½,å› æ­¤é™¤éé€Ÿåº¦çœŸçš„å¾ˆé‡,å¦åˆ™ä¸è¦ç”¨å†…è”å‡½æ•°.\nå‡½æ•°å£°æ˜  (declare-function function file \u0026optional arglist fileonly)  è¯¥å®å‘Šè¯‰ç¼–è¯‘å™¨,functionå‡½æ•°åœ¨æ–‡ä»¶fileä¸­å®šä¹‰,ä¸”å‚æ•°ç­¾åä¸ºarglist.\nç¼–è¯‘å™¨ä¼šæ£€æŸ¥æ–‡ä»¶fileä¸­æ˜¯å¦åŒ…å«äº†functionå‡½æ•°,ä¸”å‚æ•°ç­¾åæ˜¯å¦ä¸ºarglist,è‹¥æƒ³è®©ç¼–è¯‘å™¨ä¸æ£€æŸ¥å‡½æ•°çš„å‚æ•°ç­¾å,éœ€è¦å°†arglistè®¾ç½®ä¸ºt\nè‹¥å‚æ•°fileonyä¸ºénil,è¡¨ç¤ºåªæ£€æŸ¥fileå­˜åœ¨,è€Œä¸æ£€æŸ¥æ–‡ä»¶ä¸­æ˜¯å¦å®šä¹‰äº†function.\nå‡½æ•°æè¿°å­—ç¬¦ä¸²(docstring)  ä¸€èˆ¬æ¥è¯´,å‡½æ•°æè¿°å­—ç¬¦ä¸²çš„ç¬¬ä¸€è¡Œä¸ºå¯¹è¯¥å‡½æ•°ä½œç”¨çš„æ€»ç»“.  docstringçš„ç¬¬ä¸€è¡Œæœ€å¥½ç‹¬ç«‹çš„,å› ä¸ºaproposå‘½ä»¤åªæ˜¾ç¤ºç¬¬ä¸€è¡Œçš„æ–‡æ¡£ docstringä¸­å‚æ•°æœ€å¥½ç”¨å¤§äº›å­—æ¯ docstringä»¥*å¼€å¤´çš„defvarå˜é‡è¢«è®¤ä¸ºæ˜¯ç”¨æˆ·é€‰é¡¹ï¼ˆuser optionï¼‰ ç”¨æˆ·é€‰é¡¹å¯ä»¥é€šè¿‡å‘½ä»¤set-variableäº¤äº’è®¾ç½® å¯ä»¥ä½¿ç”¨edit-optionså‘½ä»¤ç¼–è¾‘*scratch* `ç¬¦å·åâ€™ç”Ÿæˆä¸€ä¸ªé“¾æ¥ \\\\{major-mode-map}å¯ä»¥æ˜¾ç¤ºæ‰©å±•æˆæŒ‰é”®çš„è¯´æ˜ docstringæœ€åé‚£ä¸ªçš„\\[ command ]ä¼šè¢«commandçš„ç»‘å®šé”®æ‰€ä»£æ›¿ å¦‚æœä¸æƒ³è¦è¿™ç§ä»£æ›¿ï¼Œéœ€è¦ç”¨\\=è½¬ä¹‰ï¼Œå½“ç„¶ï¼Œåœ¨Emacsçš„docstringä¸­ï¼ŒçœŸæ­£çš„å†™æ³•åº”è¯¥æ˜¯ \"\\\\=\\\\{major-mode-map}\" \"\\\\=\\\\[command]\"    å°†`\\n(fn ARGLIST)`æ”¾åœ¨æœ€åä¸€è¡Œ,ä¼šè‡ªåŠ¨æ‰©å±•ä¸ºè¯¥å‡½æ•°çš„å®é™…å‚æ•°åˆ—è¡¨.  äº¤äº’æ¨¡å¼å£°æ˜ è‹¥ä¸€ä¸ªå‡½æ•°å¸¦äº†äº¤äº’æ¨¡å¼å£°æ˜,åˆ™å®ƒä¹Ÿå°±æ˜¯ä¸€ä¸ªå‘½ä»¤äº†,å³å¯ä»¥é€šè¿‡M-x(execute-command)æ¥è°ƒç”¨äº†.\näº¤äº’æ¨¡å¼å£°æ˜çš„æ ¼å¼ä¸º(interactive code-string),å…¶ä¸­:\n  è‹¥interactiveçš„å‚æ•°ä»¥*å¼€å¤´ï¼Œåˆ™æ„ä¹‰æ˜¯ï¼Œå¦‚æœå½“å‰bufferæ˜¯åªè¯»çš„ï¼Œåˆ™ä¸æ‰§è¡Œè¯¥å‡½æ•°\n  interactiveå¯ä»¥åæ¥å­—ç¬¦ä¸²,è¡¨ç¤ºè·å¾—å‚æ•°çš„æ–¹å¼\n  p æ¥æ”¶C-uçš„æ•°å­—å‚æ•°\nä¹Ÿå¯ä»¥ä¸ç”¨På‚æ•°,ç›´æ¥åœ¨ä»£ç ä¸­åˆ¤æ–­current-prefix-argçš„å€¼\n  r regionçš„å¼€å§‹/ç»“æŸä½ç½®\n  n æç¤ºç”¨æˆ·è¾“å…¥æ•°å­—å‚æ•°,nåé¢å¯ç”¨æ¥ç€æç¤ºç¬¦\n  s æç¤ºç”¨æˆ·è¾“å…¥å­—ç¬¦ä¸²å‚æ•°\n  è‹¥å‡½æ•°æ¥æ”¶å¤šä¸ªinput,éœ€è¦ç”¨\\næ¥åˆ†éš”\n  interactiveå¯ä»¥åæ¥ä¸€ä¸ªform,formçš„æ±‚å€¼ç»“æœåº”è¯¥æ˜¯ä¸€ä¸ªlist,è¿™ä¸ªlistçš„å€¼ä½œä¸ºå‚æ•°çš„å®å‚\n  åœ¨formä¸­ä¸€èˆ¬ä¼šç”¨åˆ°å¦‚ä¸‹å‡ ä¸ªå‡½æ•°ç”¨äºè·å–ç”¨æˆ·è¾“å…¥\n read-string read-file-name read-directory-name read-regexp y-or-n-p read-from-minibuffer ä½¿ç”¨å˜é‡`current-prefix-arg`æ¥åˆ¤æ–­æ˜¯å¦æœ‰universal-argument  declare-form ä½¿ç”¨`declareâ€™å®èƒ½å¤Ÿä¸ºå‡½æ•°æˆ–å®å¢åŠ å…ƒå±æ€§. å®ƒçš„è¯­æ³•ä¸º:\n(declare specs...) å…¶ä¸­specçš„æ ¼å¼ä¸º`(property argsâ€¦)'. ç›®å‰æ”¯æŒä»¥ä¸‹å‡ ç§spec\n  (advertised-calling-convention SIGNATURE WHEN)\nè¯¥specçš„åŠŸèƒ½ç±»ä¼¼è°ƒç”¨`set-advertised-calling-conventionâ€™å‡½æ•°\nå…¶ä¸­,SIGNATUREä¸ºå‚æ•°åˆ—è¡¨,æŒ‡å®šäº†è°ƒç”¨å‡½æ•°æˆ–å®çš„æ­£ç¡®ç”¨æ³•. WHENä¸ºä¸€ä¸ªå­—ç¬¦ä¸²æŒ‡æ˜äº†ä»€ä¹ˆæ—¶å€™å¼€å§‹åºŸé™¤åŸå‡½æ•°ç”¨æ³•.\n  (debug edebug-form-spec) è¯¥specåªå¯¹å®æœ‰æ•ˆ. å½“ä½¿ç”¨edebugè°ƒè¯•å®æ—¶,ä½¿ç”¨edebug-form-spec. å‚è§Instrumenting Macro Calls\n  (doc-string n) æŒ‡æ˜ç¬¬nä¸ªå‚æ•°ä¸ºdocumentation string\n  (indent indent-spec) å¯¹å½“å‰å‡½æ•°æˆ–å®ç¼©è¿›æ—¶,æ ¹æ®indent-specæ¥ç¼©è¿›. è¯¥åŠŸèƒ½é€šå¸¸ç”¨åœ¨å®ä¸­,ä½†ä¹Ÿå¯¹å‡½æ•°ç”Ÿæ•ˆ. å‚è§Indenting Macros\nindent-specå¯ä»¥æ˜¯:\n  nil ä½¿ç”¨æ ‡å‡†ç¼©è¿›æ¨¡å¼\n  defun å°†è¯¥å®çœ‹æˆæ˜¯ä¸€ä¸ª`defâ€™ç»“æ„: è¿™ç§ç»“æ„ä¸­ä¼šå°†ç¬¬äºŒè¡Œçœ‹æˆæ˜¯bodyçš„èµ·å§‹è¡Œ\n  an integer,number The firstnumberarguments of the function aredistinguishedarguments; the rest are considered the body of the expression. A line in the expression is indented according to whether the first argument on it is distinguished or not. If the argument is part of the body, the line is indented lisp-body-indent more columns than the open-parenthesis starting the containing expression. If the argument is distinguished and is either the first or second argument, it is indented twice that many extra columns. If the argument is distinguished and not the first or second argument, the line uses the standard pattern.\n  è¡¨ç¤ºå‡½æ•°åç§°çš„symbol è¯¥å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°`posâ€™å’Œ`state',å¹¶ä¸”åº”è¯¥è¿”å›ä¸€ä¸ªè¡¨ç¤ºåº”è¯¥ç¼©è¿›åˆ°å¤šå°‘åˆ—çš„æ•°å­—,æˆ–ä¸€ä¸ªcarè¡¨ç¤ºç¼©è¿›åˆ—çš„list. å…¶ä¸­\n  pos: å…‰æ ‡å½“å‰è¡Œç¼©è¿›çš„èµ·å§‹ä½ç½®(The position at which the line being indented begins.)\n  state: å‡½æ•°`parse-partial-sexpâ€™è§£æä»å…‰æ ‡å½“å‰ä½ç½®åˆ°å½“å‰è¡Œè¡Œé¦–ä¹‹é—´å†…å®¹çš„è¿”å›ç»“æœ\nThe difference between returning a number and returning a list is that a number says that all following lines at the same nesting level should be indented just like this one; a list says that following lines might call for different indentations. This makes a difference when the indentation is being computed byC-M-q; if the value is a number, C-M-qneed not recalculate indentation for the following lines until the end of the list\n         (obsolete current-name when) è¯¥specåŠŸèƒ½ç±»ä¼¼è°ƒç”¨`make-oboleteâ€™å‡½æ•°\ncurrent-nameä¸ºä¸€ä¸ªsymbol,æˆ–string,æˆ–nil\nwhenä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ç”¨æ¥æŒ‡å®šä»€ä¹ˆæ—¶å€™å¼€å§‹åºŸå¼ƒè¯¥å‡½æ•°/å®\n  åˆ¤æ–­functionæ˜¯å¦å®‰å…¨ ä½¿ç”¨unsafepæ¥åˆ¤æ–­ä¸€ä¸ªformæ˜¯å¦æ˜¯å®‰å…¨çš„\n (unsafep form \u0026optional unsafep-vars)  è‹¥åˆ¤æ–­formä¸ºå®‰å…¨çš„å¯ä»¥æ‰§è¡Œ,åˆ™è¿”å›nil. å¦åˆ™è¿”å›ä¸€ä¸ªlistæè¿°ä¸ºä»€ä¹ˆformæ˜¯ä¸å®‰å…¨çš„.\nThe argument UNSAFEP-VARS is a list of symbols known to have temporary bindings at this point;\nThe current buffer is an implicit argument, which provides a list of buffer-local bindings.\nAdvising Emacs Lisp Functions Emacsâ€™s advice system provides two sets of primitives for that: the core set, for function values held in variables and object fields (with the corresponding primitives being `add-function' and `remove-function') and another set layered on top of it for named functions (with the main primitives being `advice-add' and `advice-remove').\nCore Advising Primitives  (add-function where function-place advise-function \u0026optional props)  ä¸ºå­˜å‚¨functionçš„place(æ³›åŒ–å˜é‡)åŠ ä¸Šadvise-function,ä½¿ä¹‹ç§°ä¸ºä¸€ä¸ªç»„åˆäº†åŸå§‹å‡½æ•°å’Œadviseå‡½æ•°çš„ç»„åˆå‡½æ•°.\n  whereå‚æ•°æŒ‡æ˜äº†advise-functionä¸function-placeå¤„å‡½æ•°çš„æ•´åˆæ–¹å¼.\n  :before\n  åœ¨è°ƒç”¨åŸfunction(function-placeæ‰€å­˜æ”¾çš„function)å‰è°ƒç”¨advise-function.\nåŸfunctionä¸advise-functionæ¥æ”¶åŒæ ·çš„å‚æ•°è°ƒç”¨,å¹¶ä»¥åŸfunctionçš„è¿”å›ç»“æœä¸ºç»„åˆå‡½æ•°çš„è¿”å›ç»“æœ\n(add-function :before 'old-function 'advise-function) ;; ç­‰ä»·äº (lambda (r) (advise-function r) (old-function r))  :after  åœ¨åŸfunctionè°ƒç”¨ä¹‹åè°ƒç”¨advise-function.\nåŸfunctionä¸advise-functionæ¥æ”¶åŒæ ·çš„å‚æ•°è°ƒç”¨,å¹¶ä»¥åŸfunctionçš„è¿”å›ç»“æœä¸ºç»„åˆå‡½æ•°çš„è¿”å›ç»“æœ\n(add-function :after 'old-function 'advise-function) ;; ç­‰ä»·äº (lambda (r) (prog1(advise-function r) (old-function r)))  :override  ç”¨advise-functionä»£æ›¿åŸfunction\n :around  ä½¿ç”¨advise-functionä»£æ›¿åŸfunction,ä½†åŸfunctionä¼šä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’çµ¦advise-function. è¿™æ ·advise-functionå†…å¯ä»¥è°ƒç”¨åŸå‡½æ•°.\n(add-function :around 'old-function 'advise-function) ;; ç­‰ä»·äº (lambda (r) (apply 'advise-function 'old-function r))  :before-while  å…ˆæ‰§è¡Œadvise-function,è‹¥advise-functionè¿”å›nil,åˆ™ä¸å†è°ƒç”¨åŸfunction.\nadvise-functionä¸åŸfunctionå…¬ç”¨ä¸€æ ·çš„å‚æ•°,ä½¿ç”¨åŸfunctionçš„ç»“æœä½œä¸ºç»„åˆå‡½æ•°çš„è¿”å›å€¼\n(add-function :before-while 'old-function 'advise-function) ;; ç­‰ä»·äº (lambda (r) (and (apply 'old-function r) (appy 'advise-function r)))  :before-until  å…ˆæ‰§è¡Œadvise-function, åªæœ‰å½“advise-functionè¿”å›nil,æ‰è°ƒç”¨åŸfunction.\nadvise-functionä¸åŸfunctionå…±ç”¨ä¸€æ ·çš„å‚æ•°,ä½¿ç”¨åŸfunctionçš„ç»“æœä½œä¸ºç»„åˆå‡½æ•°çš„è¿”å›å€¼\n(add-function :before-while 'old-function 'advise-function) ;; ç­‰ä»·äº (lambda (r) (or (apply 'old-function r) (appy 'advise-function r)))  :after-while  å…ˆè°ƒç”¨åŸfunction,è‹¥functionè¿”å›nil,åˆ™ä¸è°ƒç”¨advise-function.\nåŸfunctionå’Œadvise-functionå…±ç”¨åŒæ ·çš„å‚æ•°. ç»„åˆå‡½æ•°çš„è¿”å›ç»“æœä¸º advise-function çš„è¿”å›ç»“æœ\n(add-function :after-while 'old-function 'advise-function) ;; ç­‰ä»·äº (lambda (rest r) (and (apply 'old-function r) (apply advise-function r)))  :after-until  å…ˆè°ƒç”¨åŸfunction,åªæœ‰å½“functionè¿”å›nilæ—¶,æ‰è°ƒç”¨advise-function.\nåŸfunctionå’Œadvise-functionå…±ç”¨åŒæ ·çš„å‚æ•°. ç»„åˆå‡½æ•°çš„è¿”å›ç»“æœä¸º advise-function çš„è¿”å›ç»“æœ\n(add-function :after-while 'old-function 'advise-function) ;; ç­‰ä»·äº (lambda (rest r) (or (apply 'old-function r) (apply advise-function r)))  :filter-args  å…ˆç”¨åŸå§‹å‚æ•°è°ƒç”¨advise-function,å†å°†advise-functionè¿”å›çš„ç»“æœ(advise-functionå¿…é¡»è¿”å›ä¸€ä¸ªlist)ä½œä¸ºå‚æ•°,æ¥è°ƒç”¨åŸfunction.\n(add-function :filter-args 'old-function 'advise-function) ;; ç­‰ä»·äº (lambda (reset\u0026 r) (apply 'old-function (funcall 'advise-function r)))  :filter-return  å…ˆè°ƒç”¨old-function,å°†ç»“æœä½œä¸ºå‚æ•°è°ƒç”¨advise-function.\n(add-function :filter-return 'old-function 'advise-function) ;; ç­‰ä»·äº (lambda(rest\u0026 r) (funcall 'advise-function (apply 'old-function r)))   function-placeä¸ºè¢«æ·»åŠ advise-functionçš„å‡½æ•°ä½ç½®. å®ƒåŒæ—¶ä¹Ÿå†³å®šäº†è¯¥adviseæ˜¯å…¨å±€éƒ½æœ‰ç”¨,è¿˜æ˜¯åªåœ¨å½“å‰bufferç”Ÿæ•ˆ.\nè‹¥function-placeæ˜¯ä¸€ä¸ªsymbol,åˆ™è¯¥adviseå…¨å±€ç”Ÿæ•ˆ\nè‹¥function-placeä¸º'(local SYMBOL-expression),è¿™é‡ŒSYMBOL-experssionè¡¨ç¤ºä¸€ä¸ªexpression,å®ƒçš„è®¡ç®—ç»“æœä¸ºä¸€ä¸ªè¡¨ç¤ºå˜é‡çš„symbol. åˆ™è¯¥adviseåªåœ¨å½“å‰bufferç”Ÿæ•ˆ\nè‹¥è¦å¯¹é™æ€ä½œç”¨åŸŸä¸‹çš„å˜é‡æå‡ºadvise,åˆ™function-placeçš„æ ¼å¼åº”ä¸º(var VARIABLE)\n propså‚æ•°ä¸ºä¸€ä¸ªä»£è¡¨å±æ€§çš„alist,ç›®å‰åªæ”¯æŒä¸¤ä¸ªå±æ€§:  nameå±æ€§,è¡¨ç¤ºè¯¥adviceçš„åå­—,å½“remove-functionæ—¶æœ‰ç”¨. å°¤å…¶æ˜¯å½“advise-functionä¸ºåŒ¿åå‡½æ•°æ—¶,ç‰¹åˆ«æœ‰ç”¨.\ndepthå±æ€§,è¡¨ç¤ºä¼˜å…ˆçº§,ç”¨äºå†³å®šå¤šä¸ªadvise-functionçš„æ‰§è¡Œé¡ºåº. ä»–çš„å–å€¼èŒƒå›´ä»-100(è¡¨ç¤ºæœ€æ¥è¿‘åŸå§‹å‡½æ•°çš„æ‰§è¡Œé¡ºåº)åˆ°100(è¡¨ç¤ºé‡ŒåŸå§‹å‡½æ•°çš„æ‰§è¡Œé¡ºåºæœ€è¿œ). é»˜è®¤ä¸º0 å½“ä¸¤ä¸ªadvise-functionç”¨äº†åŒä¸€ä¸ªä¼˜å…ˆçº§,åˆ™æœ€åæ·»åŠ çš„advise-functionä¼šè¦†ç›–å‰é¢çš„.\n advise-functionå‚æ•°  è‹¥advise-functionæ²¡æœ‰interactiveå£°æ˜,åˆ™adviseåçš„ç»„åˆå‡½æ•°ä¼šç»§æ‰¿åŸå§‹å‡½æ•°çš„interactiveå£°æ˜.\nè‹¥advise-functionæœ‰interactiveå£°æ˜,åˆ™adviseåçš„ç»„åˆå‡½æ•°ä½¿ç”¨advise-functionçš„interactiveå£°æ˜.\nä¸Šè¿°å…³äºadvisedåçš„ç»„åˆå‡½æ•°çš„interactiveå£°æ˜,åœ¨æŸä¸€ç§æƒ…å†µä¸‹ä¸æˆç«‹: if the interactive spec of FUNCTION is a function (rather than an expression or a string), then the interactive spec of the combined function will be a call to that function with as sole argument the interactive spec of the original function. To interpret the spec received as argument, use `advice-eval-interactive-spec'.\n  (remove-function function-place advise-function)\n  åˆ é™¤é€šè¿‡add-functionæ·»åŠ åˆ°function-placeçš„advise-function\n (advice-function-member-p advice-function function-def)  åˆ¤æ–­advice-functionæ˜¯å¦å·²ç»function-defçš„advice\n (advice-function-mapc f function-def)  ç”¨æ·»åŠ åˆ°function-defçš„æ¯ä¸ªadvicse-functionå’Œå¯¹åº”çš„proposä½œä¸ºå‚æ•°,éƒ½è°ƒç”¨ä¸€æ¬¡få‡½æ•°.\n (advice-eval-interactive-spec interactive-spec)  æ ¹æ®interactive-specæ‰€å£°æ˜çš„interactiveæ–¹å¼,è¿”å›å¯¹åº”çš„è·å–å€¼.\nAdvising Named Functions adviceçš„æœ€å¸¸ç”¨æ³•æ˜¯çµ¦å‘½åå‡½æ•°æˆ–å®æ·»åŠ advice\nè¿™ç§æ–¹æ³•ä¼šå¼•å…¥ä¸€äº›é—®é¢˜,æœ€å¥½åœ¨æ²¡æœ‰åŠæ³•çš„æ—¶å€™,ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•æ·»åŠ advice\n  (advice-add function-symbol where advice-function \u0026optional props)\nä¸ºfunction-symbolæ·»åŠ åä¸ºadvice-functionçš„advice. whereå’Œpropså‚æ•°ä¸add-functionä¸€è‡´\n  (advice-remove function-symbol advise-function)\n  åˆ é™¤function-symbolä¸Šçš„advise-function\n (advice-member-p advise-function function-symbol)  åˆ¤æ–­advise-functionæ˜¯å¦å·²ç»æ˜¯function-symbolçš„adviceäº†\n (advice-mapc f function-symbol)  ä½¿ç”¨function-symbolä¸­çš„æ¯ä¸ªadvise-functionåŠå…¶å¯¹åº”çš„propsä½œä¸ºå‚æ•°,ç”¨fæ¥è°ƒç”¨.\nå® å®ä¸å‡½æ•°çš„ä¸åŒ  å®çš„å‚æ•°åœ¨ä¼ é€’çµ¦å®å‰å¹¶ä¸ä¼šä½œè®¡ç®—å¤„ç†,ä¹Ÿå°±æ˜¯è¯´å®çœ‹åˆ°çš„æ˜¯ä¼ é€’ç»™å®ƒçš„åŸå§‹å‚æ•°. è€Œå‡½æ•°å‚æ•°ä¼ é€’çµ¦å‡½æ•°æ—¶æ˜¯å·²ç»ç»è¿‡è®¡ç®—çš„ç»“æœ,ä¹Ÿå°±æ˜¯è¯´å‡½æ•°çœ‹åˆ°çš„æ˜¯å‚æ•°çš„è®¡ç®—ç»“æœ. å®çš„è®¡ç®—ç»“æœéœ€è¦æ˜¯ä¸€ä¸ªSè¡¨è¾¾å¼(è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸ºå®æ‰©å±•),Elispä¼šå†è®¡ç®—è¿™ä¸ªè¿”å›çš„Sè¡¨è¾¾å¼ä»¥ç®—å‡ºæœ€ç»ˆç»“æœ.  å®šä¹‰å® å®šä¹‰å®çš„æ ¼å¼ä¸å®šä¹‰å‡½æ•°çš„æ ¼å¼ä¸€æ ·,åªæ˜¯ç”¨defmacroæ›¿ä»£defun\n(defmacro macro-name (å‚æ•°åˆ—è¡¨...) [å‡½æ•°æè¿°å­—ç¬¦ä¸²] [declare-form] [äº¤äº’æ¨¡å¼å£°æ˜] å‡½æ•°ä½“...) destructuring-bindå®æ¥å—ä¸€ä¸ªåŒ¹é…æ¨¡å¼,ä¸€ä¸ªæ±‚å€¼åˆ°åˆ—è¡¨çš„å®å‚,ä»¥åŠä¸€ä¸ªè¡¨è¾¾å¼ä½“ï¼Œç„¶ååœ¨æ±‚å€¼è¡¨è¾¾å¼æ—¶å°†æ¨¡å¼ä¸­çš„å‚æ•°ç»‘å®šåˆ°åˆ—è¡¨çš„å¯¹åº”å…ƒç´ ä¸Š.ä¾‹å¦‚\n(destructuring-bind (x (y) . z) '(a (b) c d) (list x y z)) (a b (c d))\ndefmacroå®å…è®¸ä»»æ„åˆ—è¡¨ç»“æ„ä½œä¸ºå‚æ•°åˆ—è¡¨.å½“å®è°ƒç”¨è¢«å±•å¼€æ—¶,å®è°ƒç”¨ä¸­çš„å„éƒ¨åˆ†å°†ä¼šä»¥ç±»ä¼¼destructuring-bindçš„æ–¹å¼è¢«èµ‹å€¼åˆ°å®çš„å‚æ•°ä¸Šé¢ ä¾‹å¦‚,å¯ä»¥è¿™æ ·å®šä¹‰dolistå®\n(defmacro our-dolist ((var list \u0026optional result) \u0026body body) `(progn (mapc #'(lambda (,var) ,@body) ,list) (let ((,var nil)) ,result))) å®æ‰©å±• è°ƒç”¨å®ä¼šå°†ä¼ é€’çµ¦å®çš„å‚æ•°æ‰©å±•æˆä¸€ä¸ªSè¡¨è¾¾å¼,è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºå®æ‰©å±•è¿‡ç¨‹.\n  (macroexpand macro-form \u0026optional environment)\né€’å½’æ‰©å±•macro-formç›´åˆ°ç»“æœä¸­ä¸å†ä¸ºå®è°ƒç”¨ä¸ºæ­¢(ä¸ä»£è¡¨ç»“æœä¸­å°±ä¸åŒ…å«å®äº†,åªæ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ä¸ºå®è€Œå·²). ç„¶åè¿”å›æ‰©å±•ç»“æœ.\n(defmacro inc (var) (list 'setq var (list '1+ var))) (macroexpand '(inc r)) ; = (setq r (1+ r)) (defmacro inc2 (var1 var2) (list 'progn (list 'inc var1) (list 'inc var2))) (macroexpand '(inc2 r s)) ; = (progn (inc r) (inc s)) ; `inc'å¹¶æ²¡æœ‰æ‰©å±• environmentå‚æ•°ä¸ºä¸€ä¸ªåŒ…å«å®å®šä¹‰çš„alist. macroexpandåœ¨æ‰©å±•å®æ—¶ä¼šä½¿ç”¨environmentä¸­çš„å®å®šä¹‰æ›¿ä»£å½“å‰ç¯å¢ƒä¸‹çš„å®å®šä¹‰.\n  (macroexpand-all macro-form \u0026optional environment)\nç±»ä¼¼macroexpand,ä½†ä¼šé€’å½’æ‰©å±•ç›´åˆ°ç»“æœä¸­ä¸å†åŒ…å«å®ä¸ºæ­¢.\n(defmacro inc (var) (list 'setq var (list '1+ var))) (macroexpand '(inc r)) ; = (setq r (1+ r)) (defmacro inc2 (var1 var2) (list 'progn (list 'inc var1) (list 'inc var2))) (macroexpand-all '(inc r s)) ; = (progn (setq r (1+ r)) (setq s (1+ s))) incä¹Ÿæ‰©å±•äº†   å½“å¯¹ç¨‹åºè¿›è¡Œç¼–è¯‘æ—¶,ç¼–è¯‘å™¨åœ¨é‡åˆ°å®è°ƒç”¨æ—¶,ä¼šå¯¹å®è¿›è¡Œæ‰©å±•,å› æ­¤:\n  è¦æ³¨æ„åˆ†æ¸…å“ªäº›æ“ä½œåº”è¯¥æ”¾åœ¨å®æ‰©å±•çš„è¿‡ç¨‹ä¸­å®Œæˆ,å“ªäº›æ“ä½œæ”¾åœ¨å®æ‰©å±•åçš„ç»“æœä¸­è¿›è¡Œ. ä¾‹å¦‚\n(defmacro my-set-buffer-multibyte (arg) (if (fboundp 'set-buffer-multibyte) (set-buffer-multibyte arg))) ;åœ¨ç¼–è¯‘æœŸæ‰§è¡Œè¯¥æ“ä½œå…¶å®æ˜¯æ²¡æœ‰æ„ä¹‰çš„,åº”è¯¥æ”¹ä¸º`(set-buffer-multibyte ,arg)   ä¸è¦åœ¨å®ä¸­å¯¹å®å‚æ•°è¿›è¡Œevalæ“ä½œ. å› ä¸ºè¿™æ—¶å€™å®å‚æ•°è¿˜å¹¶æœªç»‘å®šä»»ä½•å®é™…å‚æ•°.\n  ç”±äºç¼–è¯‘å™¨åªå¯¹å®è¿›è¡Œä¸€æ¬¡æ‰©å±•,åœ¨å…¶ä»–ä½¿ç”¨å®çš„åœ°æ–¹ä¸å†è¿›è¡Œæ‰©å±•åŠ¨ä½œ,è€Œåœ¨è§£é‡Šæ‰§è¡Œæ—¶ä¼šåœ¨æ¯æ¬¡å®è°ƒç”¨æ—¶éƒ½å¯¹å®è¿›è¡Œæ‰©å±•. å› æ­¤å®æ‰©å±•çš„è¿‡ç¨‹,ä¸èƒ½äº§ç”Ÿå‰¯ä½œç”¨,å¦åˆ™å°±ä¼šå‘ç”Ÿç¼–è¯‘å’Œè§£é‡Šæ‰§è¡Œç»“æœä¸ä¸€è‡´çš„æƒ…å†µ. ä¾‹å¦‚:\n(defmacro empty-object () (list 'quote (cons nil nil))) ;; ä¸Šé¢çš„å®åœ¨è§£é‡Šæ‰§è¡Œæ—¶,æ¯æ¬¡éƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„(nil). ;; ä½†åœ¨ç¼–è¯‘æ‰§è¡Œæ—¶,ä¼šåœ¨ç¼–è¯‘å™¨ç”Ÿæˆä¸€ä¸ª(nil),ç„¶åæ¯æ¬¡éƒ½ä½¿ç”¨å®ƒ   å¦‚æœæˆ‘ä»¬åœ¨ä¸»è°ƒå‡½æ•°ç¼–è¯‘ä»¥åï¼Œé‡å®šä¹‰é‚£ä¸ªå®. ç”±äºå¯¹æœ€åˆçš„å®è°ƒç”¨çš„æ— è¿¹å¯å¯»ï¼Œæ‰€ä»¥å‡½æ•°é‡Œçš„å±•å¼€å¼æ— æ³•æ›´æ–°ã€‚è¯¥å‡½æ•°çš„è¡Œä¸ºå°†ç»§ç»­åæ˜ å‡ºå®çš„åŸæ¥çš„å®šä¹‰\næ­¤å¤–,å¦‚æœåœ¨å®šä¹‰å®ä¹‹å‰ï¼Œå°±å·²ç»ç¼–è¯‘äº†å®çš„è°ƒç”¨ä»£ç ï¼Œä¹Ÿä¼šå‘ç”Ÿç±»ä¼¼çš„é—®é¢˜.\nä¸ºäº†é¿å…è¿™ç±»é—®é¢˜,æˆ‘ä»¬éœ€è¦\n  åœ¨è°ƒç”¨å®ä¹‹å‰ï¼Œå…ˆå®šä¹‰å®ƒã€‚\n  ä¸€æ—¦é‡å®šä¹‰ä¸€ä¸ªå®ï¼Œå°±é‡æ–°ç¼–è¯‘æ‰€æœ‰ç›´æ¥(æˆ–é€šè¿‡å®é—´æ¥)è°ƒç”¨å®ƒçš„å‡½æ•°(æˆ–å®)ã€‚\n    å®çš„å·¥ä½œæ¨¡å¼ ä¸‹é¢æ˜¯ä¸€ä¸ªå®çš„æ¨¡æ‹Ÿå®ç°\n(defmacro our-expander (name) `(get ,name 'expander)) (defmacro our-defmacro (name parms \u0026body body) (let ((g (gensym))) `(progn (setf (our-expander ',name) #'(lambda (,g) (block ,name (destructuring-bind ,parms (cdr ,g) ,@body)))) ',name))) (defun our-macroexpand-1 (expr) (if (and (consp expr) (our-expander (car expr))) (funcall (our-expander (car expr)) expr) expr)) è°ƒè¯•ELispç¨‹åº æœ‰ä»¥ä¸‹å‡ ç§è°ƒè¯•Elispç¨‹åºçš„æ–¹æ³•\n è‹¥è¿è¡Œç¨‹åºæ—¶æŠ›å‡ºå¼‚å¸¸,å¯ä»¥ä½¿ç”¨Emacså†…ç½®çš„debuggeræˆ–edebug é€šè¿‡æŸ¥çœ‹ç¼–è¯‘å™¨å®šä½é—®é¢˜. ä½¿ç”¨ERTåŒ…æ¥å†™å›å½’æµ‹è¯• ä½¿ç”¨profileæ¥å®šä¹‰æ€§èƒ½å…³æ³¨ç‚¹  debugger é…ç½®ä½•æ—¶è¿›å…¥debugger å½“Elispç¨‹åºè¿è¡Œæ—¶,è‹¥å‘ç”Ÿerror,åˆ™æ ¹æ®é…ç½®é¡¹`debug-on-error`å†³å®šæ˜¯å¦è¿›å…¥debugger.\n é…ç½®é¡¹debug-on-error  è‹¥å€¼ä¸ºt,åˆ™ä»»ä½•ç§ç±»çš„erroréƒ½ä¼šè¿›å…¥debugger.\nè‹¥å€¼ä¸ºnil,åˆ™ä»»ä½•ç§ç±»çš„erroréƒ½ä¸ä¼šè¿›å…¥debugger\nè‹¥å€¼ä¸ºerror conditonçš„åˆ—è¡¨,åˆ™åªæœ‰æŒ‡å®šç§ç±»çš„errorä¼šè¿›å…¥debugger\n é…ç½®é¡¹debug-ignored-errors  è¯¥å˜é‡åœ¨debug-on-errorçš„åŸºç¡€ä¸Š,å±è”½æŒ‡å®šç§ç±»çš„errorä¸è§¦å‘debugger.\nè¯¥å˜é‡çš„å€¼ä¸ºä¸€ä¸ªç”±error conditionå’Œæ­£åˆ™è¡¨è¾¾å¼ç»„æˆçš„list. ä»»ä½•ç¬¦åˆerror condtionçš„error,å’Œerror messageåŒ¹é…æŒ‡å®šæ­£åˆ™è¡¨è¾¾å¼çš„error,éƒ½ä¸ä¼šè§¦å‘debugger\n é…ç½®é¡¹eval-expression-debug-on-error  è¯¥é…ç½®é¡¹çš„å€¼ä¸ºtæ—¶,ä½¿ç”¨eval-expressionå‘½ä»¤æ—¶,ä¼šå°†debug-on-errorçš„å€¼ä¸´æ—¶æ”¹ä¸ºt.\nè‹¥è¯¥é…ç½®é¡¹ä¸ºnil,åˆ™ä¸ä¼šä¿®æ”¹debug-on-errorçš„å€¼.\n å˜é‡debug-on-signal  é»˜è®¤æƒ…å†µä¸‹,è‹¥errorè¢«condition-caseæ‰€æ•è·,åˆ™ä¸ä¼šè¿›å…¥debugger,ä½†è‹¥è¯¥å˜é‡ä¸ºénil,åˆ™ä¼šå…ˆè¿›å…¥debugger,å†è¢«condition-caseæ‰€æ•è·.\nå½“ç„¶,æ˜¯å¦è¿›å…¥debugger,è¿˜è¦çœ‹debug-on-errorå’Œdebug-ignored-errorsçš„å€¼\nä¸€èˆ¬ä¸ä¼šä½¿ç”¨è¯¥å˜é‡,è€Œä½¿ç”¨condition-case-unless-debugä»£æ›¿.\n debug-on-event  å½“Emacsæ•è·åˆ°æŒ‡å®ševentå‘ç”Ÿæ—¶,è¿›å…¥debugger\n debug-on-message  è¯¥å˜é‡ä¸ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼,å½“åœ¨echo areaæ˜¾ç¤ºäº†ç¬¦åˆè¯¥æ­£åˆ™çš„messageæ—¶,è¿›å…¥debugger.\nè¯¥å˜é‡å¸¸ç”¨äºå¯»æ‰¾å¼•èµ·ç‰¹å®šmessageçš„åŸå› .\n  é…ç½®é¡¹debug-on-quit\nå½“æŒ‰ä¸‹C-gæ—¶,ä¼šäº§ç”Ÿä¸€ä¸ªquit,quitå’Œerrorä¸æ˜¯ä¸€å›äº‹,å› æ­¤quité»˜è®¤æ˜¯ä¸è¿›å…¥debuggerçš„.\né€šè¿‡è®¾ç½®è¯¥å€¼ä¸ºénil,åˆ™å½“quitå‘ç”Ÿæ—¶,è¿›å…¥debugger\n  å‘½ä»¤(debug-on-entry function-symbol)\nè¯¥å‘½ä»¤æ ‡æ³¨å½“æŒ‡å®šçš„functionè¢«è°ƒç”¨æ—¶,ä¸»åŠ¨è¿›å…¥debugger(æ— è®ºæœ‰æ²¡æœ‰error/quitå‘ç”Ÿ)\n(defun fact (n) (if (zerop n) 1 (* n (fact (1- n))))) ; = fact (debug-on-entry 'fact) ; = fact (fact 3) ; = è¿›å…¥debugger   å‘½ä»¤(cancel-debug-on-entry \u0026optional function-symbol)\nè¯¥å‡½æ•°å–æ¶ˆdebug-on-entryå¯¹æŒ‡å®šfunctionçš„æ“ä½œ.\nè‹¥function-symbolä¸ºnil,åˆ™è¡¨ç¤ºdebug-on-entryå¯¹æ‰€æœ‰å‡½æ•°çš„æ“ä½œ.\n  (debug \u0026rest debugger-args)\næ˜¾å¼è°ƒç”¨debugger. ç¨‹åºæ‰§è¡Œåˆ°è¯¥è¯­å¥,ä¼šç«‹åˆ»è¿›å…¥debugger.\né€šå¸¸debuggeråªæ˜¯æŠŠdebugger-argsçš„å€¼æ˜¾ç¤ºåœ¨backtrace bufferçš„é¦–éƒ¨,ä»¥æ–¹ä¾¿ç”¨æˆ·å¯ä»¥çœ‹åˆ°å®ƒ.\nç„¶è€Œ,æœ‰äº›debugger-argæœ‰å…¶ç‰¹æ®Šçš„æ„ä¹‰:\n ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºlambda  å½“debuggeræ˜¯ç”±äºå‚æ•°`debug-on-next-call`è®¾ç½®ä¸ºénilçš„æƒ…å†µä¸‹è¿›å…¥äº†å‡½æ•°è€Œè§¦å‘çš„,åˆ™è¯¥å˜é‡ä¼šæ˜¾ç¤ºä¸º`Debugger enteredâ€“entering a function:`\n ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºdebug  å½“debuggeræ˜¯ç”±äºè®¾ç½®äº†å‚æ•°`debug-on-entry`çš„æƒ…å†µä¸‹è¿›å…¥äº†å‡½æ•°è€Œè§¦å‘çš„,åˆ™è¯¥å˜é‡ä¼šæ˜¾ç¤ºä¸º`Debugger enteredâ€“entering a function`\n ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºt  å½“debuggeræ˜¯ç”±äºå‚æ•°`debug-on-next-call`è®¾ç½®ä¸ºénilçš„æƒ…å†µä¸‹è¿›å…¥äº†å‡½æ•°è€Œè§¦å‘çš„,åˆ™è¯¥å˜é‡ä¼šæ˜¾ç¤ºä¸º`Debugger enteredâ€“beginning evaluation of function call form`\n ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºexit,ç¬¬äºŒä¸ªå‚æ•°ä¸ºdebug  å½“debuggeræ˜¯ç”±äºä¹‹å‰è¢«bæ ‡è®°è¿‡çš„stack frameé€€å‡ºè€Œè§¦å‘çš„æƒ…å†µä¸‹,ä¼šæ˜¾ç¤ºä¸º`Debugger enteredâ€“returning value:`åŠ ä¸Šè¿”å›çš„å€¼\n ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºerror  å½“debuggeræ˜¯ç”±äºerror/quitæœªæ•è·è€Œè§¦å‘æ—¶,ä¼šæ˜¾ç¤ºä¸º`Debugger enteredâ€“Lisp error:`åŠ ä¸Šerrorçš„ä¿¡æ¯\n å½“ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºnil  TODO ä¸çŸ¥é“ä»€ä¹ˆæ„æ€.\n  debuggerä½¿ç”¨è¯´æ˜ å½“è¿›å…¥debuggerå,ä¼šæœ‰ä¸€ä¸ªåä¸º*Backtrace*çš„bufferå‡ºç°.\nåœ¨è¯¥bufferçš„ç¬¬ä¸€è¡Œæ˜¾ç¤ºäº†è¿›å…¥debuggerçš„åŸå› ,ä¸‹é¢æ˜¯backtrace.\nbacktraceç”±ä¸€ç³»åˆ—çš„stack frameç»„æˆ,æ¯è¡Œä¸€ä¸ªstack frame. å…¶ä¸­\n å…‰æ ‡æ‰€åœ¨çš„stack frameä¸ºå½“å‰frame,æœ‰äº›debuggerå‘½ä»¤ä¼šå¯¹å½“å‰frameè¿›è¡Œæ“ä½œ è‹¥æŸstack frameä»¥*å¼€å¤´,è¡¨ç¤ºç¦»å¼€è¿™ä¸ªstack frameä¼šå†æ¬¡è°ƒç”¨debugger. è‹¥stack frameä¸­çš„å‡½æ•°åå¸¦äº†ä¸‹åˆ’çº¿,è¡¨ç¤ºdebuggerå¯ä»¥æ‰¾åˆ°è¯¥å‡½æ•°çš„æºä»£ç .  å½“è¿›å…¥debuggerå,ä¼šæ ¹æ®`eval-expression-debug-on-error`çš„å€¼æ¥ä¸´æ—¶æ›´æ”¹`debug-on-error`çš„å€¼.è‹¥`eval-expression-debug-on-error`çš„å€¼ä¸ºt,åˆ™ä¼šè®¾ç½®debug-on-errorçš„å€¼ä¸ºt. è¿™æ„å‘³ç€åœ¨debugä¸­è§¦å‘çš„ä»»æ„erroréƒ½ä¼šäº§ç”Ÿä¸€ä¸ªbacktrace. è‹¥ä¸æƒ³è¿™æ ·,å¯ä»¥è®¾ç½®`eval-expression-debug-on-error`ä¸ºnil,æˆ–åœ¨`debugger-mode-hook`ä¸­è®¾ç½®`debug-on-error`ä¸ºnil\nDebuggerä¸­çš„å‘½ä»¤:\n  c\ncontinue. é€€å‡ºdebugger,å¹¶ä¸”ç»§ç»­å‘ä¸‹æ‰§è¡Œ.\n  d\næ­¥è¿›ä¸€ä¸ªSè¡¨è¾¾å¼,ç„¶åçœ‹æ­¥è¿›çš„é‚£ä¸ªSè¡¨è¾¾å¼åšäº†ä»€ä¹ˆæ“ä½œ.\n  b\nä¸ºå½“å‰frameåŠ ä¸Šæ–­ç‚¹æ ‡è®°. åŠ äº†æ ‡å¿—çš„frame,åœ¨è¡Œå¤´ä¼šåŠ ä¸Šä¸€ä¸ª*\n  u\nå–æ¶ˆbå‘½ä»¤ä¸ºframeåŠ ä¸Šçš„æ–­ç‚¹æ ‡å¿—.\n  j\nåƒbå‘½ä»¤ä¸€æ ·ä¸ºå½“å‰frameåŠ ä¸Šæ ‡è®°,ç„¶ååƒå‘½ä»¤cä¸€æ ·ç»§ç»­æ‰§è¡Œç¨‹åº,ä½†æ˜¯åœ¨æ‰§è¡Œæ—¶ä¼šä¸´æ—¶å±è”½`debug-on-entry`æ ‡è®°\n  e\næ‰§è¡Œè¾“å…¥çš„Sè¡¨è¾¾å¼. é€šè¿‡è¯¥å‘½ä»¤,å¯ä»¥ä¿®æ”¹debuggerçš„å˜é‡.\n  R\nç±»ä¼¼e,ä½†æ˜¯ä¼šæŠŠæ‰§è¡ŒSè¡¨è¾¾å¼çš„ç»“æœ,ä¿å­˜åˆ°ä¸€ä¸ªåä¸º*Debugger-record*çš„bufferä¸­.\n  q\né€€å‡ºdebugger,é€€å‡ºç¨‹åºçš„æ‰§è¡Œè¿‡ç¨‹\n  r\nè¯»å–ä¸€ä¸ªSè¡¨è¾¾å¼,å¹¶å°†å…¶è®¡ç®—ç»“æœä½œä¸ºå½“å‰frameçš„è¿”å›å€¼.\nå½“debuggeræ˜¯ç”±äºæ•è·åˆ°å¼‚å¸¸è€Œè§¦å‘æ—¶,æ— æ³•ä½¿ç”¨è¯¥å‘½ä»¤.\n  l\nåˆ—å‡ºä¼šdebug-on-entryçš„å‡½æ•°åˆ—è¡¨. è¯¥åˆ—è¡¨æ ¹æ®`debug-on-entry`çš„å€¼æ¥è¿‡æ»¤å‡½æ•°.\n  v\næ˜¾ç¤º/ä¸ç°å®å½“å‰stack frameä¸­çš„å±€éƒ¨å˜é‡\n  debuggerå†…éƒ¨å®ç°ä½¿ç”¨åˆ°çš„å˜é‡ä¸å‡½æ•°   debugger\nè¯¥å˜é‡çš„å€¼éœ€è¦æ˜¯ä¸€ä¸ªå‡½æ•°,å½“è§¦å‘debuggeræ—¶,å®é™…ä¸Šæ˜¯é€šè¿‡è°ƒç”¨è¯¥å‡½æ•°æ¥å®ç°çš„.\nè¯¥å˜é‡é»˜è®¤å€¼ä¸º`debug`\n  (backtrace)\nThis function prints a trace of Lisp function calls currently active.\n(defun show-back-trace() (backtrace)) (show-back-trace) ;; ================== backtrace() show-back-trace() eval((show-back-trace) nil) eval-last-sexp-1(nil) eval-last-sexp(nil) call-interactively(eval-last-sexp nil nil) command-execute(eval-last-sexp)   å˜é‡debug-on-next-call\nè‹¥è¯¥å€¼ä¸ºnil,åˆ™åœ¨æ‰§è¡Œä¸‹ä¸€ä¸ªeval,applyæˆ–funcallä¹‹å‰,å…ˆä¼šè°ƒç”¨debugger.\nè¿›å…¥debuggerå,ä¼šå°†è¯¥å€¼è®¾ç½®ä¸ºnil,ä½†debuggerä¸­çš„då‘½ä»¤ä¼šå°†è¯¥å˜é‡è®¾ç½®ä¸ºt\n  (backtrace-debug level flag)\n  å˜é‡command-debug-status\nè¯¥å˜é‡è®°å½•äº†å½“å‰interctive commandçš„debugçŠ¶æ€.\n  (backtrace-frame frame-number)\n  edebug ä½¿ç”¨Edebugçš„ä¸€èˆ¬æ­¥éª¤   å¼•å…¥å‡½æ•°/å®åˆ°edebugä¸­æ¥è°ƒè¯•\nå°†å…‰æ ‡ç§»åŠ¨åˆ°è¦debugçš„å‡½æ•°/å®å®šä¹‰ä¸Š,æŒ‰ä¸‹C-u C-M-x(eval-defun)\nä¸€æ—¦å‡½æ•°/å®è¢«å¼•å…¥åˆ°edebugæ¥è°ƒè¯•,ä»»ä½•è°ƒç”¨è¯¥å‡½æ•°/å®çš„æ“ä½œéƒ½ä¼šè§¦å‘edebugæ‰§è¡Œ.\n  Edebugè·³è½¬åˆ°å®šä¹‰Elispæºä»£ç çš„buffer,ä¸”è¯¥bufferæš‚æ—¶å˜ä¸ºåªè¯»çš„.\n  ä½¿ç”¨Edebugå‘½ä»¤å¼€å§‹è°ƒè¯•,å¯ä»¥ä½¿ç”¨`?`æ¥æ˜¾ç¤ºEdebugå‘½ä»¤\n  è‹¥ä¸éœ€è¦åœ¨ç”¨Edebugè°ƒè¯•äº†,éœ€è¦å°†å‡½æ•°/å®å¼•å‡ºEdebug,æ–¹æ³•æ˜¯å†æ‰§è¡Œä¸€è¾¹å‡½æ•°/å®çš„å®šä¹‰å³å¯.\n  Edebugä¸­çš„å‘½ä»¤    Execution Mode\nEdebugåœ¨è°ƒè¯•ç¨‹åºæ—¶,ä¹Ÿæ”¯æŒå„ç§execution modes. ä½†å®ƒå¹¶ä¸æ˜¯å®é™…ä¸Šçš„major-modeæˆ–minor-mode\nexecution modeå†³å®šäº†Edebugä¸‹ä¸€æ¬¡åœ¨å“ªé‡Œæš‚åœ,ä»¥åŠåœ¨æš‚åœæ—¶æ˜¾ç¤ºå¤šå°‘æ‰§è¡Œçš„ä¿¡æ¯.\n   å‘½ä»¤ è¯´æ˜     S Stop:ä¸å†å¾€ä¸‹æ‰§è¡Œç¨‹åº,ç­‰å¾…ç”¨æˆ·è¾“å…¥æ›´å¤šçš„Edebugå‘½ä»¤(edebug-stop)    Step:æ­¥è¿›ä¸‹ä¸€ä¸ªè¯­å¥(edebug-step-mode)   n Next:è·³åˆ°ä¸‹ä¸€ä¸ªForm(edebug-next-mode)   t Trace:æ¯æ‰§è¡Œä¸€ä¸ªè¯­å¥(ä¼šåœ¨echo areaæ˜¾ç¤ºæ¯ä¸ªè¯­å¥æ‰§è¡Œçš„ç»“æœ)å°±æš‚åœä¸€æ®µæ—¶é—´(é»˜è®¤ä¸º1s,ç”±å‚æ•°`edebug-sit-for-seconds`ç¡®å®š)   T Rapid trace:ç±»ä¼¼t,ä½†å¹¶ä¸æš‚åœ(edebug-Trace-fast-mode)   g Go:ç»§ç»­æ‰§è¡Œç›´åˆ°ä¸‹ä¸€ä¸ªç«¯å£(edebug-go-mode)   c Continue:ç»§ç»­æ‰§è¡Œ,åœ¨æ¯ä¸ªæ–­ç‚¹å¤„éƒ½åœé¡¿ä¸€ä¸‹,ç„¶åç»§ç»­æ‰§è¡Œ(edebug-continue-mode)   C Rapid continue:ç±»ä¼¼c,ä½†åœ¨æ–­ç‚¹å¤„å¹¶ä¸åœé¡¿(edebug-continue-fast-mode)   G Go non-stop:å¿½ç•¥æ–­ç‚¹çš„å­˜åœ¨,ç»§ç»­æ‰§è¡Œç¨‹åº.    åœ¨ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­,å¯ä»¥ç”¨Sæˆ–å…¶ä»–å‘½ä»¤æš‚åœç¨‹åºçš„æ‰§è¡Œ\n     Jumpingå‘½ä»¤\nJumpingç³»åˆ—å‘½ä»¤å‘Šè¯‰Edebug,è®©ç¨‹åºæ‰§è¡Œç›´åˆ°æŒ‡å®šçš„ä½ç½®\n   å‘½ä»¤ è¯´æ˜     h æ‰§è¡Œåˆ°å…‰æ ‡æ‰€åœ¨ä½ç½®(edebug-goto-here)   f æ‰§è¡Œä¸€ä¸ªsexp(edebug-forward-sexp)   o æ‰§è¡Œå®Œ(è·³å‡º)å½“å‰çš„sexp(edebug-step-out)   i è¿›å…¥formæ‰€è°ƒç”¨çš„å‡½æ•°/å®å®šä¹‰(edebug-step-in)             Breaks\nåœ¨ä¸‰ç§æƒ…å†µä¸‹,Edebugä¼šæš‚åœç¨‹åºçš„æ‰§è¡Œ:\n  è®¾ç½®æ–­ç‚¹\n   å‘½ä»¤ è¯´æ˜     b è®¾ç½®æ–­ç‚¹(edebug-set-breakpoint),è‹¥å¸¦prefix argument,åˆ™è¯¥æ–­ç‚¹ä¸ºä¸´æ—¶æ–­ç‚¹   u å–æ¶ˆæ–­ç‚¹(edebug-unset-breakpoint)   x CONDITION-FORM  è®¾ç½®æ¡ä»¶æ–­ç‚¹,å½“è¿è¡ŒCONDITION-FORMçš„ç»“æœä¸ºénilæ—¶,æ–­ç‚¹ç”Ÿæ•ˆ(edebug-set-conditional-breakpoint). è‹¥å¸¦prefix argument,åˆ™æ–­ç‚¹ä¸ºé›¶æ—¶æ–­ç‚¹   B å…‰æ ‡è·³è½¬åˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹å¤„(edebug-next-breakpoint)    re-evaluting/reinstrumentingå‡½æ•°å®šä¹‰ä¼šç§»é™¤ä¹‹å‰çš„æ‰€æœ‰æ–­ç‚¹\nè®¾ç½®æ¡ä»¶æ–­ç‚¹æ—¶,CONDITION-FORMæŠ›å‡ºçš„errorä¼šè¢«å¿½ç•¥,å½“æˆè¿”å›nilæ¥çœ‹å¾….\nä¸€èˆ¬æƒ…å†µä¸‹,Edebugä¼šåœ¨æ–­ç‚¹å¤„æš‚åœç¨‹åºçš„æ‰§è¡Œ. ç„¶è€Œ,å½“Edebugå¤„äºGo-nonstop modeä¸‹æ—¶,ä¼šå®Œå…¨å¿½ç•¥æ–­ç‚¹.\n  å½“æŸä¸ªæ¡ä»¶(Global Condition)åŒ¹é…æ—¶\nè‹¥å˜é‡`edebug-global-break-condtion`çš„è®¡ç®—ç»“æœä¸ºénilåˆ™æš‚åœç¨‹åºçš„æ‰§è¡Œ. åŒæ ·çš„,è‹¥è®¡ç®—è¿‡ç¨‹ä¸­æŠ›å‡ºerror,åˆ™å½“è¿”å›nilå¤„ç†.\nå¯ä»¥åœ¨edebugæ¨¡å¼ä¸‹ä½¿ç”¨Xå‘½ä»¤æ¥è®¾ç½®è¯¥æ¡ä»¶. ä¹Ÿå¯ä»¥åœ¨ä»»ä½•bufferçš„ä»»ä½•æ—¶å€™,é€šè¿‡C-x X Xæ¥è°ƒç”¨(edebug-set-global-break-condition)è®¾ç½®è¯¥æ¡ä»¶\n  æ’å…¥æ–­ç‚¹ä»£ç \nä½¿ç”¨(edebug)ä¸»åŠ¨è°ƒç”¨edebug,è¿›å…¥æ–­ç‚¹æ¨¡å¼.\nè‹¥æ‰§è¡Œ(eedbug)æ—¶,è¯¥å‡½æ•°å¹¶æœªå¼•å…¥åˆ°edebugä¸­,åˆ™è¯¥å‡½æ•°å…¶å®è°ƒç”¨çš„æ˜¯(debug)\n      Evaluation    å‘½ä»¤ è¯´æ˜     e EXP  åœ¨Edebugçš„å¤–éƒ¨ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­è®¡ç®—EXP(edebug-eval-expression)   M-: EXP  åœ¨Edebugçš„ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­è®¡ç®—EXP(eval-expression)   C-x C-e åœ¨Edebugçš„å¤–éƒ¨ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­è®¡ç®—å…‰æ ‡å‰çš„expression(edebug-eval-last-sexp)         Evalution List Buffer\nåœ¨Edebugä¸­å¯ä»¥æŒ‰Eå‘½ä»¤,è¿›å…¥åä¸º*edebug*çš„\"evaluation list buffer\".\nåœ¨è¯¥bufferä¸­å¯ä»¥äº¤äº’å¼çš„è¿è¡ŒSEXP,ä¸”åœ¨è¯¥bufferä¸­è®¡ç®—çš„SEXP,å¤„äºEdebugå¤–éƒ¨çš„ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­.\nå¯ä»¥åœ¨è¯¥bufferä¸­ä½¿ç”¨Lisp Interaction modeä¸­çš„å‘½ä»¤. è¿˜å¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤:\n  C-j (edebug-eval-print-last-sexp)\nåœ¨edebugçš„å¤–éƒ¨ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­,è®¡ç®—å…‰æ ‡å‰çš„expression,å¹¶å°†ç»“æœæ’å…¥åˆ°å½“å‰buffer\n  C-x C-e (edebug-eval-last-sexp)\nåœ¨edebugçš„å¤–éƒ¨ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­,è®¡ç®—å…‰æ ‡å‰çš„expression\n  C-c C-u (edebug-update-eval-list)\nåŸºäºå½“å‰bufferçš„å†…å®¹,åˆ›å»ºæ–°çš„evaluation list\nevalution listç”±å¤šä¸ªevalutation list groupsç»„æˆ. æ¯ä¸ªgroupsç”±å¤šä¸ªLisp expressionç»„æˆ,groupä¹‹é—´ä½¿ç”¨æ³¨é‡Šè¡Œæ¥åŒºåˆ†.\nå½“edebugæ¯æ¬¡æš‚åœç¨‹åºæ‰§è¡Œæ—¶,æ¯ä¸ªevaluation list groupä¸­çš„åœ°ä¸€ä¸ªLisp expressionéƒ½ä¼šè‡ªåŠ¨æ‰§è¡Œä¸€é.\n(current-buffer) # ;--------------------------------------------------------------- (selected-window) #16 on *scratch* ;--------------------------------------------------------------- (point) 196 ;--------------------------------------------------------------- bad-var \"Symbol's value as variable is void: bad-var\" ;--------------------------------------------------------------- (recursion-depth) 0 ;--------------------------------------------------------------- this-command eval-last-sexp ;---------------------------------------------------------------   C-c C-d (edebug-delete-eval-list)\nä»evalution listä¸­åˆ é™¤å…‰æ ‡æ‰€åœ¨çš„group\n  C-c C-w (edebug-where)\nåˆ‡æ¢å›å½“å‰æš‚åœç‚¹çš„åŸä»£ç bufferå¤„\n      å…¶ä»–å‘½ä»¤    å‘½ä»¤ è¯´æ˜     ? æ˜¾ç¤ºEdebugçš„å¸®åŠ©ä¿¡æ¯(edebug-help)   C-] Abort one level back to the previous command level(`abort-recursive-edit')   q ç»ˆæ­¢ç¨‹åºè¿è¡Œå¹¶é€€å‡ºedebug,ä½†`unwind-protect`å’Œ`condition-case`ä¸­çš„ä»£ç è¿˜æ˜¯ä¼šæ‰§è¡Œ   Q ç±»ä¼¼q,ä½†`unwind-protect`å’Œ`condition-case`ä¸­çš„ä»£ç ä¸ä¼šæ‰§è¡Œ(edebug-top-level-nonstop)   r é‡æ–°åœ¨echo areaä¸­æ˜¾ç¤ºä¸Šæ¬¡expressionçš„è¿ç®—ç»“æœ(edebug-previous-result)   d æ˜¾ç¤ºbacktrace(ä½†æ˜¯ä¸æ˜¾ç¤ºEdebugè‡ªå·±çš„function,å¹¶ä¸”æ­¤æ—¶å¤„äºæ ‡å‡†debuggeræ¨¡å¼ä¸‹),(edebug-backtrace)             æ•è·Errors\né»˜è®¤æƒ…å†µä¸‹,è‹¥æŸå‡½æ•°è¢«å¼•å…¥edebugä¸­,åˆ™å½“è¯¥å‡½æ•°æŠ›å‡ºerroræ—¶,ä¼šè‡ªåŠ¨æ¿€æ´»edebug.\nä½†å¯ä»¥é€šè¿‡é…ç½®å˜é‡`edebug-on-error`å’Œ`edebug-on-quit`æ¥æ”¹å˜è¿™ä¸€æƒ…å†µ.\n    Edebug Views  Edebugä¸­çš„è¾“å‡ºæ ¼å¼ å½“Edebugè¾“å‡ºå¾ªç¯listç»“æ„æ—¶,å¯èƒ½ä¼šå‡ºé”™,è¿™æ—¶éœ€è¦è®¾ç½®ä¸€ä¸‹å‡ ä¸ªå˜é‡\n  é…ç½®é¡¹edebug-print-length\n  é…ç½®é¡¹edebug-print-level\n  é…ç½®é¡¹edebug-print-circle\n  Trace Buffer é€šè¿‡è®¾ç½®å˜é‡`edebug-trace`çš„å€¼ä¸ºénil,å¯ä»¥ä½¿å¾—Edebugå°†æ¯æ¬¡æ‰§è¡Œçš„è¿‡ç¨‹éƒ½è®°å½•ä¸‹æ¥.\nè®°å½•å­˜å‚¨åœ¨åä¸º`*edebug-trace*`çš„bufferä¸­. å®ƒè®°å½•äº†ä½¿ç”¨ä»€ä¹ˆå‚æ•°è°ƒç”¨é‚£ä¸ªå‡½æ•°,è¿”å›å€¼æ˜¯ä»€ä¹ˆ.\ntest coverage ä½¿ç”¨æ­¥éª¤ é€šè¿‡testcoveråº“,èƒ½å¤Ÿå¯¹ä»£ç è¿›è¡Œé“ºç›–é¢æµ‹è¯•. æ–¹æ³•æ˜¯:\n  è½½å…¥testcoveråº“\n(require â€˜testcover)\n  æ‰§è¡Œå‘½ä»¤testcover-start\nM-x testcover-start  FILE \n  ç„¶åå¯¹ä½ çš„ä»£ç è¿›è¡Œæµ‹è¯•\n  æµ‹è¯•å®Œæˆåæ‰§è¡Œå‘½ä»¤testcover-mark-allå‘½ä»¤ä¼šé«˜äº®å‡ºè¦†ç›–é¢ä¸å®Œå…¨çš„åœ°æ–¹\nM-x testcover-mark-all\n  ä½¿ç”¨å‘½ä»¤testcover-next-markè·³è½¬åˆ°ä¸‹ä¸€ä¸ªé«˜äº®ç‚¹\n  é«˜äº®è¯´æ˜ ä¸€èˆ¬æ¥è¯´,çº¢è‰²çš„é«˜äº®è¡¨ç¤ºè¿™ä¸ªåœ°æ–¹ä»æ¥æ²¡æœ‰æµ‹è¯•è¿‡.\næ£•è‰²çš„é«˜äº®è¡¨ç¤ºè¿™ä¸ªåœ°æ–¹çš„è®¡ç®—ç»“æœæ¯æ¬¡éƒ½ä¸€æ ·çš„,è€Œè¿™å¾€å¾€æ„å‘³ç€æµ‹è¯•å¾—è¿˜ä¸å¤Ÿå……åˆ†.\ngive advice to the test coverage too å¯ä»¥é€šè¿‡å°†ä»£ç åŒ…è£¹è¿›ä¸€äº›å®(è¿™äº›å®æœ¬èº«ä¸ä¼šæ”¹å˜ä»£ç çš„æ‰§è¡Œç»“æœ)ä¸­,æ¥å‘Šè¯‰testcoverä¸€äº›ä¿¡æ¯.\n  (1value form)\nè¯¥å®å‘Šè¯‰testcover,formçš„è®¡ç®—ç»“æœæ¯æ¬¡éƒ½åº”è¯¥ä¸€æ ·çš„.\n  (noreturn form)\nè¯¥å®å‘Šè¯‰testcover,formä¸åº”è¯¥è¿”å›. è‹¥formè¿”å›äº†,ä¼šæ”¶åˆ°ä¸€ä¸ªrun-time error\n  Profiling   ä½¿ç”¨M-x profiler-startå¼€å¯æ€§èƒ½ç›‘æ§,ç„¶åé€‰æ‹©ç›‘æ§cpuè¿˜æ˜¯memè¿˜æ˜¯ä¸¤è€…éƒ½ç›‘æ§.\n  æ‰§è¡Œæ“ä½œ,è¿è¡Œå¾…æµ‹è¯•çš„å‡½æ•°\n  æ‰§è¡ŒM-x profiler-reportæ˜¾ç¤ºæ€§èƒ½æ£€æµ‹ç»“æœ.\n  åœ¨æŠ¥å‘Šä¸­\n æŒ‰jå¯ä»¥è·³è½¬åˆ°å‡½æ•°å®šä¹‰å¤„.     æŒ‰då¯ä»¥æ˜¾ç¤ºå‡½æ•°çš„documentation\n  å¯ä»¥ä½¿ç”¨C-x C-wä¿å­˜æ£€æµ‹æŠ¥å‘Š\n  ä½¿ç”¨=æ¯”è¾ƒä¸¤ä¸ªæ£€æµ‹ç»“æœ\n  æ‰§è¡ŒM-x profiler-stopç»“æŸç›‘æ§è¿‡ç¨‹\n  Trace (trace-function FUNCTION \u0026optional BUFFER CONTEXT) å¯ä»¥è¿½è¸ªå‡½æ•°FUNCTIONçš„æ‰§è¡Œè¿‡ç¨‹. å½“è°ƒç”¨åˆ°FUNCTIONå‡½æ•°æ—¶,ä¼šåœ¨trace bufferä¸­è¾“å‡ºFUNCTIONçš„å‚æ•°ä»¥åŠè¿”å›å€¼.\nå‚æ•°BUFFER,æŒ‡æ˜äº†åœ¨å“ªä¸ªbufferä¸­è¾“å‡ºtraceä¿¡æ¯. é»˜è®¤bufferåç”±å˜é‡`trace-bufferâ€™å†³å®š\nä½¿ç”¨è¯¥å‡½æ•°è¿½è¸ªFUNCTIONæ—¶,æ€»ä¼šå¼¹å‡º`trace-bufferâ€™ buffer.å› æ­¤ä¸è¦ç”¨è¯¥å‡½æ•°è¿½è¸ªå“ªäº›ä¼šåˆ‡æ¢bufferçš„å‡½æ•°,å¯¹äºè¿™ç§å‡½æ•°ä½¿ç”¨`trace-function-backgroundâ€™ä»£æ›¿\nä½¿ç”¨`untrace-functionâ€™æˆ–`untrace-allâ€™åœæ­¢å¯¹FUNCTIONçš„è¿½è¸ª.\n(trace-function-background FUNCTION \u0026optional BUFFERCONTEXT) ç±»ä¼¼`trace-function',ä½†è¿½è¸ªå‡½æ•°FUNCTIONæ—¶,ä¸ä¼šå¼¹å‡ºbufferä¹Ÿä¸ä¼šæ”¹å˜window configuration\n(untrace-function FUNCTION) å–æ¶ˆå¯¹FUNCTIONçš„è¿½è¸ª\n(untrace-all) å–æ¶ˆå¯¹æ‰€æœ‰çš„å‡½æ•°çš„è¿½è¸ª\nCommand Loop å½“è¿›å…¥Emacså,Emacsä¼šå¾ªç¯è¯»å–key sequences,è¯»å–å¯¹åº”çš„å‘½ä»¤,å¹¶æ˜¾ç¤ºç»“æœ. è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºCommand Loop.\nCommand Loopæ¦‚è¿°   command loopç¬¬ä¸€æ­¥æ˜¯è°ƒç”¨å‡½æ•°`read-key-sequenceâ€™æ¥è¯»å–key sequence,å¹¶è½¬æ¢ä¸ºä¸€ä¸ªcommandæˆ–keyboard macro.\n  åœ¨æ‰§è¡Œcommandå‰,è°ƒç”¨`undo-boundaryâ€™æ¥ä¿å­˜undoä¿¡æ¯\n  æ‰§è¡Œ`pre-command-hookâ€™ä¸­çš„å‡½æ•°\nåœ¨æ‰§è¡Œcommandå‰,ä¼šè§¦å‘`pre-command-hook',è¿™æ—¶å˜é‡`this-commandâ€™çš„å€¼ä¸ºå°†è¦è¿è¡Œçš„command,è€Œ`last-commandâ€™çš„å€¼ä¸ºä¸Šä¸€æ¬¡è¿è¡Œçš„command\næ‰§è¡Œè¯¥hookå‚æ•°æ—¶,ä¸æŠ›å‡ºquitting,ä¹Ÿä¸æŠ›å‡ºerror,ä½†ä¼šæŠŠæŠ›å‡ºerrorçš„å‡½æ•°ç§»é™¤è¯¥hook\n  Emacsé€šè¿‡è°ƒç”¨`command-executeâ€™æ¥è¯»å–ä¼ é€’çµ¦commandçš„å‚æ•°åˆ—è¡¨\n  è‹¥commandä¸ºkeyboard macro,åˆ™Emacsé€šè¿‡`execute-kbd-macroâ€™æ¥æ‰§è¡Œcommand\n  è‹¥commandä¸ºå‘½ä»¤(interactively callable function),åˆ™é€šè¿‡`call-interactivelyâ€™æ¥è¯»å–å‚æ•°å¹¶æ‰§è¡Œcommand\n    æ‰§è¡Œ`post-command-hookâ€™ä¸­çš„å‡½æ•°\nåœ¨æ‰§è¡Œcommandå,ä¼šè§¦å‘`post-command-hook',è¿™æ—¶å˜é‡`this-commandâ€™çš„å€¼ä¸ºåˆšè¿è¡Œçš„command,è€Œ`last-commandâ€™çš„å€¼ä¸ºå†ä¸Šä¸€æ¬¡è¿è¡Œçš„command\næ‰§è¡Œè¯¥hookå‚æ•°æ—¶,ä¸æŠ›å‡ºquitting,ä¹Ÿä¸æŠ›å‡ºerror,ä½†ä¼šæŠŠæŠ›å‡ºerrorçš„å‡½æ•°ç§»é™¤è¯¥hook\n  Command æ‰€è°“Command,ä¸ä»…ä»…æŒ‡çš„å¸¦æœ‰top-level `interactive' formçš„å‡½æ•°. è¿˜å¯ä»¥æ˜¯å£°æ˜ä¸ºinteractiveçš„autoload object,æŸäº›primitive functions,ä»¥åŠstringså’Œvectors(è¢«å½“æˆæ˜¯keyboard macroæ¥çœ‹å¾…),\n (commandp object \u0026optional for-call-interactively)  åˆ¤æ–­objectæ˜¯å¦ä¸ºcommand\nè‹¥å‚æ•°for-call-interactivelyä¸ºénil,åˆ™åªæœ‰åœ¨objectèƒ½è¢«`call-interactivelyâ€™è°ƒç”¨æ—¶æ‰è¿”å›t,è¿™æ—¶keyboard macroè¿”å›nil\n (command-execute command \u0026optional record-flag keys special)  æ‰§è¡Œcommand\nè‹¥commandä¸ºstringæˆ–vector,åˆ™è¢«è®¤ä¸ºæ˜¯keyboard macro,ä¼šä½¿ç”¨`execute-kbd-macroâ€™æ‰§è¡Œcommand. å¦åˆ™è¿åŒå‚æ•°keyså’Œrecord-flagä¸€èµ·ä¼ é€’çµ¦`call-interactivelyâ€™ä¸€èµ·è°ƒç”¨\nå‚æ•°special,è‹¥ä¸ºénil,åˆ™è¡¨ç¤ºå¿½ç•¥preifix argumentä½†æ˜¯ä¸clearå®ƒ. å¸¸ç”¨æ¥æ‰§è¡Œç‰¹æ®Ševent\n å‘½ä»¤(execute-extended-command prefix-argument)  è¯¥å‘½ä»¤ä½¿ç”¨`completing-readâ€™ä»minibufferä¸­è¯»å–å‘½ä»¤,å¹¶ç”¨`command-executeâ€™æ‰§è¡Œè¯¥å‘½ä»¤,å¹¶è¿”å›æ‰§è¡Œç»“æœ\nè‹¥è¯»å–çš„å‘½ä»¤éœ€è¦prefix argument,åˆ™ä¼šå°†å‚æ•°prefix-argumentä¼ é€’çµ¦å®ƒ.\nå½“ç”¨interactivelyçš„æ–¹å¼è¿è¡Œè¯¥å‘½ä»¤æ—¶,å‚æ•°prefix-argumentçš„å€¼å°±æ˜¯ä¼ é€’çµ¦`execute-extended-commandâ€™çš„prefix-argument\né»˜è®¤æƒ…å†µä¸‹,M-xæ‰§è¡Œçš„å°±æ˜¯è¯¥å‘½ä»¤\nDisabling Commands â€œDisabling a Command\"çµ¦ä¸€ä¸ªcommandåŠ ä¸Šæ ‡è®°,è¿è¡Œcommandæ—¶å®é™…ä¸Šä¼šè°ƒç”¨`disabled-command-functionâ€™æ‰€æŒ‡å‘çš„å‡½æ•°,é»˜è®¤çš„è¡Œä¸ºæ˜¯ä¼šè¦æ±‚ç”¨æˆ·ç¡®è®¤æ˜¯å¦æ‰§è¡Œè¯¥å‡½æ•°.\nè¢«disableçš„command,å…¶symbolçš„`disabledâ€™å±æ€§è¢«è®¾ç½®ä¸ºénil,è‹¥`disabledâ€™å±æ€§ä¸ºä¸€ä¸ªstring,åˆ™è­¦å‘Šä¿¡æ¯ä¸­ä¼šåŒ…å«è¯¥string\n (enable-command command)  å…è®¸command(symbolæ ¼å¼)ä¸ç»ç¡®è®¤å°±æ‰§è¡Œè¯¥command\nè¯¥å‘½ä»¤ä¼šåŒæ—¶ä¿®æ”¹initæ–‡ä»¶,ä½¿ä¹‹åœ¨ä»¥åçš„sessionä¸­ä¹Ÿç”Ÿæ•ˆ\n (disable-command command)  ä½¿å¾—commandåœ¨ä¹‹å‰,éœ€è¦ç»è¿‡ç¡®è®¤.\nè¯¥å‘½ä»¤ä¼šåŒæ—¶ä¿®æ”¹initæ–‡ä»¶,ä½¿ä¹‹åœ¨ä»¥åçš„sessionä¸­ä¹Ÿç”Ÿæ•ˆ\n å˜é‡disabled-command-function  è¯¥å˜é‡çš„å€¼ä¸ºä¸€ä¸ªfunction. å½“ç”¨æˆ·äº¤äº’å¼çš„è°ƒç”¨ä¸€ä¸ªdisabled commandæ—¶,å®é™…ä¸Šè°ƒç”¨çš„æ˜¯è¯¥å‡½æ•°.\nåœ¨è¯¥functionä¸­å¯ä»¥ä½¿ç”¨`this-command-keysâ€™æ¥æ¢æµ‹ç”¨æˆ·å®é™…çš„è¾“å…¥çš„key sequence,å¹¶ä»¥æ­¤æ¥æ‰¾åˆ°éœ€è¦æ‰§è¡Œçš„å‡½æ•°.\nè‹¥å€¼ä¸ºnil,åˆ™disabled functionè·Ÿæ™®é€šfunctionä¸€æ ·æ‰§è¡Œ.\nCommand History command loopä¼šè®°å½•æ‰§è¡Œè¿‡çš„complex commandçš„å†å²è®°å½•.\næ‰€è°“complex commandæŒ‡çš„æ˜¯å…¶ interactive argument ä¼šä»minibufferä¸­è¯»å–å‚æ•°å€¼çš„command.(åœ¨æ‰§è¡Œcommandçš„è¿‡ç¨‹ä¸­æ˜ç¡®ä½¿ç”¨åˆ°minibufferçš„,ä¸ç®—)\n command-history  è®°å½•äº†æœ€è¿‘æ‰§è¡Œè¿‡çš„complex commandçš„list\n å‘½ä»¤(repeat-complex-command N)  ç¼–è¾‘å¹¶é‡æ–°æ‰§è¡Œæœ€åæ‰§è¡Œè¿‡çš„/å€’æ•°ç¬¬Nä¸ªcomplex command\n å‘½ä»¤(list-command-history)  åˆ—å‡ºåœ¨minibufferä¸­è¾“å…¥è¿‡çš„commandçš„å†å²\nå¦‚ä½•åˆ†è¾¨Commandæ˜¯å¦é€šè¿‡Interactiveæ–¹å¼è°ƒç”¨ ä¸€ä¸ªæ¯”è¾ƒå¥½çš„æ–¹æ³•æ˜¯åœ¨interactive formä¸­è®¾ç½®æŸä¸ªæ ‡è¯†ä¸ºénil. ä¾‹å¦‚\n(defun foo (\u0026optional print-message) (interactive \"p\") (when print-message (message \"foo\"))) å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨å‡½æ•°`called-interactively-p'\n (called-interactively-p kind)  è‹¥æ­£åœ¨æ‰§è¡Œçš„functionæ˜¯é€šè¿‡`call-interactivelyâ€™è°ƒç”¨çš„,åˆ™è¿”å›t\nå‚æ•°kindåªèƒ½æ˜¯â€™interactiveæˆ–â€™any\nè‹¥å‚æ•°kindä¸ºâ€™interactive,åˆ™åªæœ‰å½“functionæ˜¯ç›´æ¥ç”±ç”¨æˆ·è°ƒç”¨çš„æƒ…å†µä¸‹,æ‰è¿”å›t(ä¾‹å¦‚if the user typed a key sequence bound to the calling function, but not if the user ran a keyboard macro that called the function)\n(defun foo () (interactive) (when (called-interactively-p 'any) (message \"Interactive!\") 'foo-called-interactively)) ;; Type `M-x foo'. -| Interactive! (foo) = ni è‹¥å‚æ•°kindä¸ºâ€™any,åˆ™åŒ…æ‹¬keyboard macroåœ¨å†…,ä¹Ÿè¿”å›t\n(defun bar () (interactive) (message \"%s\" (list (foo) (called-interactively-p 'any)))) ;; Type `M-x bar'. -| (nil t) generic command ç¬¬ä¸€æ¬¡æ‰§è¡Œç”¨M-x COMMANDæ¥æ‰§è¡Œgeneric command,Emacsä¼šæç¤ºä½ é€‰æ‹©å“ªä¸€ç§å…·ä½“å®ç°,å¹¶ä¿å­˜é€‰æ‹©ä¿¡æ¯,ä¸‹ä¸€æ¬¡å°±ä¸ä¼šè¯¢é—®äº†. è‹¥æ‰§è¡Œæ—¶å¸¦äº†prefix argument,åˆ™åˆä¼šé‡å¤è¯¥è¿‡ç¨‹.\nCOMMANDçš„ä¸åŒå®ç°å­˜å‚¨åœ¨å˜é‡`COMMAND-alternativesâ€™ä¸­,åªæœ‰åœ¨è¯¥å˜é‡å­˜åœ¨æ—¶,æ‰èƒ½ä½¿ç”¨å®`define-alternativesâ€™å®šä¹‰COMMANDçš„å¦ä¸€ä¸ªå®ç°æ–¹å¼.\nIf CUSTOMIZATIONS is non-`nil', it should consist of alternating `defcustom' keywords (typically `:group' and `:version') and values to add to the declaration of `COMMAND-alternatives'.\n å®(define-alternatvies comand \u0026rest customizations)  å®šä¹‰æ–°å‘½ä»¤COMMAND,å‚æ•°COMMANDä¸ºä¸€ä¸ªsymbol\nè·å–Command Loopä¸­çš„ä¿¡æ¯  last-command  ä¸Šæ¬¡è¿è¡Œçš„commandåç§°\nå½“ä¸€ä¸ªcommandä»command loopä¸­é€€å‡ºæ—¶,ä¼šä»`this-commandâ€™ä¸­å¤åˆ¶è¯¥å€¼\n real-last-command  ç±»ä¼¼`last-command',ä½†ä¸ä¼šè¢«Lispç¨‹åºæ‰€ä¿®æ”¹\n last-repeatable-command  ç±»ä¼¼`last-commandâ€™ä½†ä¸ä¿å­˜input event. è¿™é‡Œé¢ä¿å­˜çš„æ˜¯`repeatâ€™å‘½ä»¤ä¼šé‡å¤æ‰§è¡Œçš„command\n this-command  æ­£åœ¨æ‰§è¡Œçš„å‘½ä»¤åç§°,ä½†æœ‰äº›å‘½ä»¤ä¼šåœ¨æ‰§è¡Œæ—¶äººå·¥ä¿®æ”¹è¯¥å€¼\n this-original-command  ç±»ä¼¼this-command,ä½†å½“command remappingå‘ç”Ÿæ—¶,`this-commandâ€™å­˜å‚¨çš„æ˜¯å®é™…è¿è¡Œçš„commandåç§°,è€Œ`this-original-commandâ€™å­˜å‚¨çš„æ˜¯è§¦å‘çš„åŸå§‹commandçš„åç§°\n (this-command-keys)  è¿”å›è°ƒç”¨commandçš„key sequence,è¿”å›ç±»å‹ä¸ºstringæˆ–vector\nä½†è‹¥commandè°ƒç”¨äº†`read-key-sequence',åˆ™è¿”å›çš„æ˜¯æœ€åè¯»å–åˆ°çš„key sequence\n(this-command-keys) ;; Now use `C-u C-x C-e' to evaluate that. = \"^U^X^E\"  (this-command-keys-vector)  ç±»ä¼¼`this-command-keys',åªæ˜¯è¿”å›çš„å€¼æ€»æ˜¯vector\n (clear-this-command-keys \u0026optional keep-record)  This function empties out the table of events for `this-command-keys' to return.\nUnless KEEP-RECORD is non-`nil', it also empties the records that the function `recent-keys' will subsequently return.\nä¸€èˆ¬å¸¸ç”¨äºè¯»å–ä¸€ä¸ªå¯†ç å\n last-nomenu-event  è¯¥å˜é‡æ–¥å€™æœ€åå‘ç”Ÿçš„input event(ä¸åŒ…æ‹¬mouse menu event)\nä½¿ç”¨è¯¥å˜é‡çš„ä¸€ä¸ªåœºæ™¯æ˜¯ç”¨æ¥å‘Šè¯‰`x-popup-menuâ€™åœ¨å“ªé‡Œå¼¹å‡ºä¸€ä¸ªmenu. åœ¨`y-or-n-pâ€™å†…ä¹Ÿç”¨åˆ°äº†è¯¥å˜é‡å€¼\n last-command-event  This variable is set to the last input event that was read by the command loop as part of a command\nåœ¨`self-insert-commandâ€™ä¸­ç”¨åˆ°è¯¥å˜é‡æ¥å†³å®šæ’å…¥å“ªä¸ªcharacter\nlast-command-event ;; Now use `C-u C-x C-e' to evaluate that. = 5 ;; The value is 5 because that is the ASCII code for `C-e'.  last-event-frame  è¯¥å˜é‡è®°å½•äº†æœ€åçš„input eventæ˜¯åœ¨å“ªä¸ªframeä¸­è°ƒç”¨çš„.\nUsually this is the frame that was selected when the event was generated, but if that frame has redirected input focus to another frame, the value is the frame to which the event was redirected.\nCommandçš„prefix argument prefix argumentæœ‰ä¸¤ç§è¡¨ç°å½¢å¼:â€œraw\"å’Œ\"numericâ€. coomand loopå†…éƒ¨,å’Œlispå˜é‡ä½¿ç”¨rawè¡¨ç°å½¢å¼\nHere are the possible values of a raw prefix argument:\n  `nil', meaning there is no prefix argument. Its numeric value is 1, but numerous commands make a distinction between `nil' and the integer 1.\n  An integer, which stands for itself.\n  A list of one element, which is an integer. This form of prefix argument results from one or a succession of `C-uâ€™s with no digits. The numeric value is the integer in the list, but some commands make a distinction between such a list and an integer alone.\n  The symbol `-'. This indicates that `Mâ€“' or `C-u -' was typed, without following digits. The equivalent numeric value is -1, but some commands make a distinction between the integer -1 and the symbol `-'.\n  (prefix-numeric-value arg)\n  è¿™é‡Œçš„argä¸ºrawæ ¼å¼çš„prefix argument. è¯¥å‡½æ•°å°†argè½¬æ¢ä¸ºå¯¹åº”çš„numericæ ¼å¼.\nè‹¥argä¸ºnil,åˆ™è¿”å›1\nè‹¥argä¸º-,åˆ™è¿”å›-1\nè‹¥argä¸ºæ•°å­—,åˆ™è¿”å›è¯¥æ•°å­—\nè‹¥argä¸ºlist,åˆ™è¿”å›(car arg)\n current-prefix-arg  è¯¥å˜é‡å­˜å‚¨çš„æ˜¯å½“å‰å‘½ä»¤çš„raw prefix argument.\ncommandå¯ä»¥ç›´æ¥æ£€æŸ¥è¯¥å˜é‡çš„å€¼,ä½†å¤§å¤šæ•°æ˜¯ä½¿ç”¨`(interactive â€œPâ€)â€˜æ¥è·å–è¯¥å‚æ•°çš„å€¼\n prefix-arg  ä¸‹ä¸€ä¸ªå‘½ä»¤ä½¿ç”¨çš„raw prefix argument.\nç±»ä¼¼`universal-argumentâ€™è¿™æ ·çš„å‡½æ•°,é€šè¿‡è®¾ç½®è¯¥å˜é‡æ¥ä¸ºæ¥ä¸‹æ¥è¦æ‰§è¡Œçš„å‘½ä»¤è®¾ç½®prefix argument\n last-prefix-arg  ä¸Šä¸€ä¸ªcommandçš„raw prefix argument\n (universal-argument)  è¯¥å‘½ä»¤è¯»å–ç”¨æˆ·çš„è¾“å…¥,å¹¶å°†ç”¨æˆ·çš„è¾“å…¥å€¼è®¾ç½®ä¸ºå˜é‡`prefix-argâ€™çš„å€¼,è¿™æ ·å°±ä¸ºä¸‹ä¸€ä¸ªå¾…æ‰§è¡Œçš„commandè®¾ç½®äº†prefix argument\nå°å¿ƒä½¿ç”¨è¯¥å‡½æ•°\n (digit-argument arg)  This command adds to the prefix argument for the following command. The argument ARG is the raw prefix argument as it was before this command; it is used to compute the updated prefix argument.\n (negative-argument arg)  This command adds to the numeric argument for the next command. The argument ARG is the raw prefix argument as it was before this command; its value is negated to form the new prefix argument\nQuitting å½“Lispå‡½æ•°æ­£åœ¨è¿è¡Œæ—¶,å¯ä»¥æŒ‰ä¸‹`C-gâ€™,è®©Emacsé€€å‡ºå½“å‰çš„å·¥ä½œ.\nç„¶è€Œå½“command loopåœ¨ç­‰å¾…keyboard inputæ—¶,æŒ‰ä¸‹C-gå¹¶ä¸ä¼šå¼•å‘quitting,Emacsåªæ˜¯æŠŠå®ƒå½“æˆä¸€ä¸ªæ™®é€šçš„input character.\nwhen `C-g' follows a prefix key, they combine to form an undefined key. The effect is to cancel the prefix key as well as any prefix argument.\nè€Œå½“åœ¨minibufferä¸­è¾“å…¥æ—¶,`C-gâ€™çš„æ„ä¹‰åˆä¸ä¸€æ ·,å®ƒä¸­æ–­å¹¶é€€å‡ºminibuffer\n`C-gâ€™é€šè¿‡è®¾ç½®å˜é‡`quit-flagâ€™ä¸ºtæ¥è¡¨ç¤ºè¦quit,Emacsæ£€æŸ¥è¯¥å˜é‡çš„å€¼å¹¶äº§ç”Ÿquitting\nè‹¥æƒ³åœ¨æ‰§è¡ŒLispå‡½æ•°æ—¶é˜»æ­¢quittingçš„äº§ç”Ÿ,åªéœ€è¦å°†å˜é‡`inhibit-quitâ€™ç»‘å®šä¸ºénilå€¼å³å¯.è¿™æ—¶,å³ä½¿`quit-falgâ€™è®¾ç½®ä¸ºt,ä¾ç„¶ä¸ä¼šäº§ç”Ÿquitting\n quit-flag  è¯¥å€¼ä¸ºénil,é™¤é`inhibit-quitâ€™è¢«è®¾ç½®ä¸ºénil,å¦åˆ™Emacsç«‹å³é€€å‡ºå½“å‰æ‰§è¡Œçš„ä»»åŠ¡.\n inhibit-quit  å½“`quit-flagâ€™è®¾ç½®ä¸ºénilæ—¶,è¯¥å˜é‡å†³å®šEmacsæ˜¯å¦æ‰§è¡Œé€€å‡º\n å®(with-local-quit bodyâ€¦)  è¯¥å®æ‰§è¡Œbody,æ‰§è¡Œè¿‡ç¨‹ä¸­,å³ä½¿`inhibit-quitâ€™è®¾ç½®ä¸ºénil,ä¹Ÿè¿è¡Œäº§ç”Ÿquitting.\nè‹¥bodyè¿è¡Œè¿‡ç¨‹ä¸­,è¢«quittingä¸­æ–­,åˆ™è¿”å›nil,å¦åˆ™è¿”å›æœ€åè¯­å¥çš„æ‰§è¡Œç»“æœ.\nè‹¥è¿›å…¥`with-local-quitâ€™æ—¶,`inhibit-quitâ€™ä¸ºnil,åˆ™æ‰§è¡Œbodyæ—¶è‹¥äº§ç”Ÿquitting,åˆ™Emacsè®¾ç½®`quit-flagâ€™å¹¶äº§ç”Ÿä¸€ä¸ªæ™®é€šquit.\nè‹¥è¿›å…¥`with-local-quitâ€™æ˜¯,`inhibit-quitâ€™ä¸ºénil,è¿™æ—¶æ™®é€šçš„quittingè¢«æ¨è¿Ÿ. énilçš„`quit-flagâ€™ä¼šè§¦å‘ä¸€ç§ç‰¹æ®Šçš„quitâ€“local quit. å®ƒä¼šç»ˆæ­¢bodyçš„æ‰§è¡Œå¹¶é€€å‡º`with-local-quit'. é€€å‡º`with-local-quitâ€™åçš„`quit-flagâ€™ä¾ç„¶ä¸ºénil.\n (keyboard-quit)  è¯¥å‡½æ•°è®¾ç½®äº§ç”Ÿquitçš„æ¡ä»¶,é»˜è®¤ç»‘å®šåˆ°C-g\nKeyboard Macro ä¸€ä¸ª\"keyboard macro\"æŒ‡çš„æ˜¯ä¸€ç³»åˆ—çš„input event,è¿™ä¸€ç³»åˆ—çš„input eventå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªcommand.(A â€œkeyboard macroâ€ is a canned sequence of input events that can be considered a command and made the definition of a key)\nkeyboard macroçš„lispè¡¨ç°å½¢å¼ä¸ºä¸€ä¸ªstringæˆ–ç”±eventç»„æˆçš„vector\n (execute-kbd-macro kbdmacro \u0026optional count loopfunc)  æŠŠkbdmacroå½“ä½œä¸€ç³»åˆ—çš„eventæ¥æ‰§è¡Œ.\nè‹¥kbdmacroä¸ºstringæˆ–vector,åˆ™å°±å¥½åƒç”¨æˆ·ç›´æ¥è¾“å…¥ä¸€æ ·. The sequence is not expected to be a single key sequence\nè‹¥kbdmacroä¸ºsymbol,åˆ™æ‰§è¡Œè¯¥symbolçš„å‡½æ•°å®šä¹‰,è‹¥è¯¥symbolçš„å‡½æ•°å®šä¹‰è¿˜æ˜¯ä¸€ä¸ªsymbol,åˆ™ä¸æ–­çš„é€’å½’ä¸‹å». æœ€ç»ˆ,å…¶å‡½æ•°å®šä¹‰åº”è¯¥æ˜¯ä¸€ä¸ªstringæˆ–vector,å¦åˆ™ä¼šæŠ›å‡ºerror\nå‚æ•°countè¡¨ç¤ºé‡å¤æ‰§è¡Œå¤šå°‘æ¬¡kdbmacro,è‹¥countä¸ºnil,åˆ™æ‰§è¡Œä¸€æ¬¡,è‹¥countä¸º0,è¡¨ç¤ºæ‰§è¡Œæ— ç©·å¤šæ¬¡\nè‹¥loopfuncä¸ºénil,åˆ™é…æ¬¡å¾ªç¯éƒ½ä¼šä¸å¸¦å‚æ•°è°ƒç”¨è¯¥å‡½æ•°,æˆ–å‡½æ•°è¿”å›nil,åˆ™åœæ­¢æ‰§è¡Œè¯¥macro\n executing-kbd-macro  å½“å‰æ­£åœ¨æ‰§è¡Œçš„kbd-macro,nilè¡¨ç¤ºæ²¡æœ‰åœ¨æ‰§è¡Œkbd-macro\n defining-kbd-macro  åªæœ‰å½“æ­£åœ¨å®šä¹‰çš„kbd-macroçš„æƒ…å†µä¸‹,è¯¥å€¼æ‰ä¸ºénil.\nè¯¥å€¼ä¸ºâ€™appendè¡¨ç¤ºæ­£åœ¨ä¸ºç°æœ‰çš„macroæ·»åŠ å®šä¹‰( The value is `append' while appending to the definition of an existing macro)\nå‘½ä»¤`start-kbd-macro',`kmacro-start-macroâ€™å’Œ`end-kbd-macroâ€™ä¼šè®¾ç½®è¯¥å€¼â€“å°½é‡ä¸è¦è‡ªå·±å»è®¾ç½®è¯¥å€¼\nThe variable is always local to the current terminal and cannot be buffer-local\n last-kbd-macro  æœ€è¿‘æ‰€å®šä¹‰çš„kbd-macro\n kbd-macro-termination-hook  å½“keyboard macroæ‰§è¡Œå®Œæˆåè§¦å‘è¯¥hook(ä¸ç®¡æ˜¯æ­£å¸¸ç»“æŸè¿˜æ˜¯å¼‚å¸¸ç»“æŸéƒ½è§¦å‘)\nInputEvent Emacs Command Loopè¯»å–ä¸€ç³»åˆ—çš„\"input event\"æ¥è¡¨ç¤ºé”®ç›˜/é¼ æ ‡çš„åŠ¨ä½œ,æˆ–å‘é€ç»™Emacsçš„ç³»ç»Ÿäº‹ä»¶.\nè¡¨ç¤ºé”®ç›˜åŠ¨ä½œçš„event,ç”¨charæˆ–symbolçš„æ ¼å¼è¡¨ç¤º. å…¶ä»–ç±»å‹çš„eventç»Ÿä¸€ç”¨listæ¥è¡¨ç¤º.\n (eventp object)  è‹¥objectä¸ºinput eventæˆ–event type,åˆ™è¿”å›énil\néœ€è¦æ³¨æ„çš„æ˜¯,ä»»ä½•symbolæ—¢å¯ä»¥ç”¨æ¥ä½œä¸ºevent,ä¹Ÿå¯ä»¥ä½œä¸ºevent type,å› æ­¤eventpä¸èƒ½åŒºåˆ†ä¸€ä¸ªsymbolæ˜¯è¢«ç”¨äºä½œä¸ºevent,è¿˜æ˜¯event type.\nKeyboard Event é”®ç›˜è¾“å…¥å¯ä»¥åˆ†ä¸ºä¸¤ç±»:æ™®é€šçš„æŒ‰é”®å’ŒåŠŸèƒ½é”®.\næ™®é€šæŒ‰é”®äº‹ä»¶ æ™®é€šæŒ‰é”®äº§ç”Ÿçš„event,åœ¨lispä¸­ç”¨characteræ¥è¡¨ç¤º.\nThe event type of a character event is the character itself (an integer)\nä¸€ä¸ªinput character eventç”±\"basic codeâ€(å–å€¼èŒƒå›´ä»0åˆ°524287)åŠ ä¸Š\"modifier bits\"ç»„æˆ\nmodifier bitsåŒ…æ‹¬:\n   è¯´æ˜ å€¼ è¯´æ˜     meta 2**27    control 2**26 C-aè¿™æ ·çš„å·²ç»å®šä¹‰åœ¨ASCIIä¸­çš„æ§åˆ¶å­—ç¬¦,ç”±äºå·²ç»æœ‰äº†ç‰¹å®šçš„basic codeäº†,å› æ­¤Emacsä¸éœ€è¦ä½¿ç”¨special bitæ¥æŒ‡ç¤ºå®ƒ   shift 2**25 å¯¹äºå­—ç¬¦,æ•°å­—å’Œæ ‡ç‚¹æ¥è¯´,basic codeä¸­å·²ç»å®šä¹‰ç›¸å…³çš„shift keyæŒ‰ä¸‹åçš„å¯¹åº”é”®å€¼,å¯¹äºè¿™äº›æŒ‰é”®,Emacsä¸ä½¿ç”¨special bit   hyper 2**24    super 2**23    alt 2**22     æœ€å¥½ä¸è¦ç›´æ¥åœ¨ç¨‹åºä¸­ä½¿ç”¨specific bit(å› ä¸ºè¿™äº›bitçš„ä½ç½®å¯èƒ½ä¼šæ”¹å˜)\nåº”è¯¥ä½¿ç”¨`event-modifiersâ€™å‡½æ•°æ¥æµ‹è¯•specific bitæ˜¯å¦è¢«è®¾ç½®\n   ç®€å†™å½¢å¼ è¯´æ˜     A- alt   C- control   H hyper   M- meta   S- shift   s- super    åŠŸèƒ½é”®äº‹ä»¶ åŠŸèƒ½é”®eventåœ¨elispä¸­ç”¨symbolæ¥è¡¨ç¤º. ä¸€èˆ¬æ¥è¯´,symbolçš„åç§°å°±æ˜¯åŠŸèƒ½é”®çš„label(å…¨å°äº›å½¢å¼). ä¾‹å¦‚äº§ç”Ÿçš„input eventè¡¨ç¤ºä¸ºç¬¦å·â€™f1\nThe event type of a function key event is the event symbol itself\nè¿˜æœ‰ä¸€äº›åŠŸèƒ½é”®eventçš„è¡¨ç¤ºä¸åŠŸèƒ½é”®çš„labelä¸ä¸€è‡´çš„æƒ…å†µ:\n  `backspace',`tab',`newline',`return',`delete'\n  `left',`up',`right',`down'\nå…‰æ ‡ç®­å¤´æŒ‰é”®\n  `kp-add',`kp-decimal',`kp-divide',â€¦\nå³è¾¹å°é”®ç›˜çš„åŠ å‡ä¹˜é™¤\n  `kp-0',`kp-1',â€¦\nå³è¾¹å°é”®ç›˜çš„æ•°å­—é”®\n  `kp-f1',`kp-f2'â€¦\nå³è¾¹å°é”®ç›˜çš„fn\n  `kp-hoome',`kp-left',`kp-up',`kp-right',`kp-down'\nå³è¾¹å°é”®ç›˜çš„å¯¹åº”åŠŸèƒ½é”®\n  `kp-prior',`kp-next',`kp-end',`kp-begin',`kp-insert',`kp-delete'\nå³è¾¹å°é”®ç›˜çš„å¯¹åº”åŠŸèƒ½é”®\n  ä»¥å­—ç¬¦ä¸²è¡¨ç¤ºkeyboard event ç°åœ¨ä¸€èˆ¬ä¸å»ºè®®ä½¿ç”¨stringæ¥è¡¨ç¤ºkeyboard event,æœ€å¥½ä½¿ç”¨vectorä»£æ›¿.\nå¯ä»¥ä½¿ç”¨å‡½æ•°`listify-key-sequenceâ€™æ¥è®²stringæ ¼å¼çš„keyboard eventè½¬æ¢ä¸ºlist,æ–¹ä¾¿è§£æå‡ºå…¶ä¸­çš„å†…å®¹.\néœ€è¦æ³¨æ„:å½“ä½¿ç”¨å­—ç¬¦ä¸²æ¥è¡¨ç¤ºkeyboard eventæ—¶,åªæœ‰Meta modifieræ‰èƒ½ä»¥'\\M-â€˜çš„æ ¼å¼è¡¨ç¤ºåœ¨stringä¸­,å…¶ä»–modifieréƒ½æ— æ³•è¡¨ç¤º.\nä¸‹é¢æ˜¯ä¸€äº›è½¬æ¢è§„åˆ™:\n è‹¥keyboard characterçš„å€¼èŒƒå›´ä¸º0åˆ°127,åˆ™å¯ä»¥ç›´æ¥å†™è¿›string è‹¥ä¸Šé¢çš„keyboard characteråŒæ—¶æŒ‰ä¸‹äº†metaé”®(å³2**27 åˆ° 2**27+127),åˆ™éœ€è¦è½¬æ¢ä¸º(2**7åˆ°2**7+127) è‹¥æ˜¯å¤§äº256çš„éASCIIå­—ç¬¦,å¯ä»¥åŒ…å«è¿›multibyte stringä¸­ å…¶ä»–å­—ç¬¦(128-255èŒƒå›´çš„å­—ç¬¦)æ— æ³•ç”¨stringè¡¨ç¤º.  Mouse Events Emacsæ”¯æŒ4ç§é¼ æ ‡äº‹ä»¶:click event,drag event,button-down eventå’Œmotion event.\næ‰€æœ‰çš„é¼ æ ‡äº‹ä»¶éƒ½ç”¨listæ¥è¡¨ç¤º,ä¸”(car list)ä¸ºevent type(æä¾›äº†æŒ‰ä¸‹çš„æ˜¯å“ªä¸ªé¼ æ ‡æŒ‰é”®,åŒæ—¶æœ‰å“ªä¸ªmodifier keyè¢«æŒ‰ä¸‹äº†,è¿™äº›ä¿¡æ¯). (cdr list)åˆ™æä¾›äº†ä½ç½®ä¸æ—¶é—´çš„ä¿¡æ¯\néœ€è¦æ³¨æ„çš„æ˜¯,é¼ æ ‡äº‹ä»¶æ˜¯ç”±é¼ æ ‡æ‰€åœ¨bufferçš„keymapæ¥å¤„ç†çš„,è€Œä¸æ˜¯å…‰æ ‡æ‰€åœ¨çš„bufferçš„keymapæ¥å¤„ç†.\nç‚¹å‡»äº‹ä»¶ ç‚¹å‡»äº‹ä»¶çš„ç»“æœä¸ºâ€™(EVENT-TYPE PSITIION CLICK_COUNT)\nå…¶ä¸­:\n  EVENT-TYPE\nè¯¥symbolæ ‡è¯†é¼ æ ‡çš„å“ªä¸ªæŒ‰é”®è¢«ç‚¹å‡»,å¯é€‰å€¼ä¸ºâ€™mouse-1,â€˜mouse-2,â€˜mouse-3\nå½“ç„¶,ä¹Ÿå¯ä»¥é€šè¿‡æ·»åŠ å‰ç¼€`A-â€™,`C-â€™,`H-',`M-',`S-â€˜å’Œ`s-â€˜æ¥æ ‡è¯†ç‚¹å‡»æ—¶åŒæ—¶æŒ‰ä¸‹äº†å“ªä¸ªmodifier key\nè¯¥symbolåŒæ—¶ä¹Ÿä½œæ¥æ ‡è¯†eventçš„event type\n  POSTION\nPOSTIONå…·ä½“çš„æ ¼å¼,æ ¹æ®ç‚¹å‡»çš„ä½ç½®è€Œä¸åŒ.\nå½“ç‚¹å‡»åœ¨text area,mode-line,header-lineæˆ–areaçš„è¾¹ç•Œæ—¶,POSTIONçš„æ ¼å¼ä¸º:\n(WINDOW POS-OR-AREA (X . Y) TIMESTAMP OBJECT TEXT-POS (COL . ROW) IMAGE (DX . DY) (WIDTH . HEIGHT)) å…¶ä¸­:\n  WINDOW\nè¡¨ç¤ºç‚¹å‡»çš„é‚£ä¸ªwindow\n  POS-OR-AREA\n  è‹¥ç‚¹å‡»çš„ä½ç½®åœ¨text areaå†…,åˆ™è¡¨ç¤ºç‚¹å‡»å¤„çš„buffer postion\nå¦åˆ™,å®ƒçš„å€¼ä¸ºè¡¨ç¤ºwindow areaçš„symbol:â€˜mode-line,â€˜header-line,â€˜vertical-line,â€˜left-margin,â€˜right-margin,â€˜left-fringe,â€˜right-fringe\n X,Y  ç‚¹å‡»çš„ä½ç½®ç›¸å¯¹text areaå·¦ä¸Šè§’çš„åæ ‡\n TIMESTAMP  äº‹ä»¶å‘ç”Ÿçš„æ—¶é—´\n OBJECT  è‹¥ç‚¹å‡»çš„ä½ç½®æ²¡æœ‰stringç±»å‹çš„text property,åˆ™ä¸ºnil.\nå¦åˆ™ä¸ºâ€™(ç‚¹å‡»ä½ç½®çš„å¸¦å±æ€§string . stringçš„ä½ç½®)\n TEXT-POS  å¯¹äºç‚¹å‡»åœ¨marginal areaæˆ–fringeä¸Šæ—¶,è¯¥å€¼ä¸ºå¯¹åº”è¡Œç¬¬ä¸€ä¸ªå­—ç¬¦çš„buffer postion.\nå…¶ä»–æƒ…å†µä¸‹,åˆ™å°±æ˜¯å½“å‰buffer position\n COL,ROW  ç‚¹å‡»ä½ç½®ç›¸å¯¹text areaå·¦ä¸Šè§’çš„è¡Œåˆ—æ•°\n IMAGE  è‹¥ç‚¹å‡»çš„ä½ç½®æ˜¯ä¸€ä¸ªIMAGE,åˆ™è¯¥å€¼ä¸º`find-imageâ€™è¿”å›çš„image object\nå¦åˆ™ä¸ºnil\n DX,DY  è‹¥OBJECTä¸ºnil,ä¸ºç‚¹å‡»çš„ä½ç½®ç›¸å¯¹ç‚¹å‡»åˆ°çš„å­—ç¬¦å·¦ä¸Šè§’çš„åæ ‡\nå¦åˆ™,ä¸ºç‚¹å‡»çš„ä½ç½®ç›¸å¯¹OBJECTå·¦ä¸Šè§’çš„åæ ‡\n WIDTH,HEIGTH  OBJECTçš„å®½åº¦ä¸é«˜åº¦,è‹¥OBJECTä¸ºnil,åˆ™ä¸ºç‚¹å‡»å¤„æ–‡æœ¬çš„å®½åº¦ä¸é«˜åº¦\nè‹¥ç‚¹å‡»çš„åœ°æ–¹ä¸ºscroll bar,åˆ™POSTIONçš„æ ¼å¼ä¸º\n(WINDOW AREA (PORTION . WHOLE) TIMESTAMP PART å…¶ä¸­:\n WINDOW  ç‚¹å‡»åˆ°çš„scroll baræ‰€å±çš„window\n AREA  ä¸ºâ€™vertical-scroll-bar\n PORTION  ä»scrollbarçš„æœ€é¡¶ç«¯åˆ°ç‚¹å‡»ä½ç½®çš„é•¿åº¦,ä»¥åƒç´ ä¸ºå•ä½\nOn some toolkits, including GTK+, Emacs cannot extract this data, so the value is always `0â€™.\n WHOLE  scrollbarçš„æ•´ä¸ªé•¿åº¦,ä»¥åƒç´ ä¸ºå•ä½\nOn some toolkits, including GTK+, Emacs cannot extract this data, so the value is always `0â€™.\n TIMESTAMP  äº‹ä»¶å‘ç”Ÿçš„æ—¶é—´\n PART  ç‚¹å‡»åœ¨äº†scrollbarçš„å“ªä¸ªä½ç½®,å¯ä»¥ä¸ºâ€™handle,â€˜above-handle,â€˜below-handle,â€˜up,â€˜down\n  CLICK-COUNT\nå¿«é€Ÿç‚¹å‡»çš„æ¬¡æ•°\n  æ‹–æ‹½äº‹ä»¶ æ‹–æ‹½äº‹ä»¶çš„æ ¼å¼ä¸º:\n(EVENT-TYPE (WINDOW1 START-POSITION) (WINDOW2 END-POSITION)) EVENT-TYPEä»¥`drag-â€˜ä¸ºå‰ç¼€,ä¾‹å¦‚`drag-mouse-1â€™è¡¨ç¤ºæŒ‰ä¸‹mouse button 1æ¥æ‹–åŠ¨\næ ¹æ®æ˜¯å¦æŒ‰ä¸‹äº†Modifier Key,è¿˜å¯ä»¥åœ¨`drag-â€˜å‰æ·»åŠ `C-â€™,`M-â€™â€¦ç­‰å‰ç¼€.\nWINDOWå’ŒPOSTIONçš„å€¼,åˆ™è·Ÿç‚¹å‡»äº‹ä»¶å®šä¹‰ä¸€æ ·\nè‹¥`read-key-sequenceâ€™æ¥æ”¶åˆ°ä¸€ä¸ªæ‹–æ‹½äº‹ä»¶,ä½†å‘ç°å¹¶æ²¡æœ‰ç›¸åº”çš„key bindingç»‘å®šåˆ°è¿™ä¸ªäº‹ä»¶ä¸Š,è€Œç›¸åº”çš„ç‚¹å‡»äº‹ä»¶æœ‰binding. åˆ™ä¼šè‡ªåŠ¨å°†æ‹–æ‹½äº‹ä»¶è½¬æ¢ä¸ºç‚¹å‡»äº‹ä»¶.\nButton-Downäº‹ä»¶ Button-Downäº‹ä»¶çš„æ ¼å¼ä¸Clickäº‹ä»¶æ ¼å¼ä¸€æ ·,éƒ½æ˜¯\n(EVENT-TYPE PSITIION CLICK_COUNT) ä¸åŒç‚¹åœ¨äºEVENT-TYPEæ˜¯ä»¥`down-â€˜ä½œä¸ºå‰ç¼€çš„,æ ¹æ®æ˜¯å¦æŒ‰ä¸‹Modifier key,åœ¨`down-â€˜å‰è¿˜æœ‰`C-â€˜å’Œ`M-â€˜å‰ç¼€\n`read-key-sequenceâ€™å¿½ç•¥ä»»ä½•æ²¡æœ‰command bindingçš„buton-down event.\nRepeat Event è‹¥å¿«é€Ÿç‚¹å‡»åŒä¸€ä¸ªmouse bottonè€Œä¸ç§»åŠ¨mouseä½ç½®çš„è¯,åˆ™Emacsäº§ç”Ÿ\"repeat event\"\næœ€å¸¸è§çš„\"repeat event\"å°±æ˜¯\"double-click\" event(åŒå‡»äº‹ä»¶)\nåŒå‡»äº‹ä»¶çš„EVENT-TYPEä»¥`double-â€˜ä¸ºå‰ç¼€,æ ¹æ®modifier keyæ˜¯å¦æŒ‰ä¸‹,å¯èƒ½åœ¨`double-â€˜å‰æ·»åŠ `M-â€™,`S-â€˜ç­‰å‰ç¼€\nå½“ç”¨æˆ·æ‰§è¡ŒåŒå‡»æ—¶,å…¶å®äº§ç”Ÿäº†ä¸¤ä¸ªäº‹ä»¶,ç¬¬ä¸€ä¸ªæ˜¯æ™®é€šçš„å•å‡»äº‹ä»¶,ç¬¬äºŒä¸ªä¸ºåŒå‡»äº‹ä»¶. å› æ­¤åœ¨å¤„ç†åŒå‡»äº‹ä»¶å‰å•å‡»äº‹ä»¶çš„ç›¸å…³å‘½ä»¤å·²ç»æ‰§è¡Œäº†.\nåŒç†,è‹¥ç‚¹å‡»ä¸€æ¬¡é¼ æ ‡ä¹‹åç«‹å³æŒ‰ä¸‹é¼ æ ‡å¹¶æ‹–åŠ¨é¼ æ ‡,åˆ™äº§ç”Ÿäº†`double-dragâ€™ event.\nè€Œ,åœ¨`double-clickâ€™ eventå’Œ`double-dragâ€™ eventäº§ç”Ÿå‰,Emacsè¿˜ä¼šäº§ç”Ÿ`double-downâ€™ event.\næ€»ç»“èµ·æ¥,ä¸€æ¬¡åŒå‡»åŠ¨ä½œä¼šäº§ç”Ÿ4ä¸ªäº‹ä»¶ :down event-click event-double-down event-double-click event.\nä¸€æ¬¡double-dragåŠ¨ä½œä¹Ÿä¼šäº§ç”Ÿ4ä¸ªäº‹ä»¶ :down event-click event-double-down event-double-drag event.\nåŒç†,è¿˜æœ‰`triple-downâ€™,`triple-clickâ€™å’Œ`triple-dragâ€™\nEmacsæœ€å¤šåªäº§ç”Ÿtriple-click event.\nè‹¥æƒ³çŸ¥é“ç²¾ç¡®çš„ç‚¹å‡»å‡ æ¬¡button,ä½¿ç”¨å‡½æ•°`event-click-countâ€™\n  (event-click-count event)\nè·å–eventä¸­é¼ æ ‡ç‚¹å‡»çš„æ¬¡æ•°\n  é…ç½®é¡¹double-click-fuzz\nå®šä¹‰äº†ä¸¤æ¬¡åŒå‡»ä¹‹é—´,ä½ç½®ä¸èƒ½è¶…è¿‡çš„åƒç´ æ•°\n  é…ç½®é¡¹double-click-time\nå®šä¹‰äº†ä¸¤æ¬¡åŒå‡»ä¹‹é—´,ä¸è¶…è¿‡çš„æ—¶é—´,ä»¥æ¯«ç§’ä¸ºå•ä½\nnilè¡¨ç¤ºç›´æ¥ä¸æ¢æµ‹multi-click\ntè¡¨ç¤ºæ— é™æ—¶é—´.\n  Motion Events åœ¨è¿è¡Œ`trace-mouseâ€™çš„bodyæ—¶,ä¸æŒ‰mouse bottonçš„æƒ…å†µä¸‹ç§»åŠ¨mouse,ä¼šäº§ç”Ÿ\"mouse motion\" event,å®ƒçš„æ ¼å¼ä¸º:\n'(mouse-movement POSITION) è¿™é‡Œçš„POSITIONè·Ÿç‚¹å‡»äº‹ä»¶ä¸­çš„POSITIONä¸€æ ·\nåœ¨trace-mouseä¹‹å¤–çš„æƒ…å†µä¸‹,emacsä¸äº§ç”Ÿmouse motion event\nFocus Events å½“åˆ‡æ¢frameæ—¶,ä¼šäº§ç”ŸFocus Event. å®ƒçš„æ ¼å¼ä¸º:\n'(switch-frame NEW-FRAME) è¿™é‡ŒNEW-FRAMEä¸ºæ–°åˆ‡æ¢åˆ°çš„frame\nç”±äºåœ¨ä¸€ç³»åˆ—æŒ‰é”®åºåˆ—ä¸­é—´äº§ç”Ÿä¸€ä¸ªfocus eventä¼šæ‰°ä¹±åŸæŒ‰é”®åºåˆ—çš„æ‰§è¡Œ,å› æ­¤Emacsä¸ä¼šåœ¨key sequenceä¸­é—´äº§ç”Ÿfocus event.\nè‹¥ç”¨æˆ·åœ¨key sequenceä¸­é—´æ›´æ”¹äº†focus,åˆ™Emacsä¼šé‡æ–°æ’åˆ—event,å°†focus eventæ”¾åœ¨multi-event key sequenceçš„æœ€å‰é¢æˆ–æœ€åé¢.\nå…¶ä»–System Event è‹¥ç”¨æˆ·åœ¨key sequenceä¸­é—´å‘ç”Ÿäº†ä¸‹é¢çš„é‚£äº›system event,åˆ™Emacsä¼šé‡æ–°æ’åˆ—event,å°†è¿™äº›system eventæ”¾åœ¨multi-event key sequenceçš„æœ€å‰é¢æˆ–æœ€åé¢.\n  â€˜(delete-frame (FRAME))\nè¡¨ç¤ºç”¨æˆ·å¯¹FRAMEå‘é€äº†å…³é—­å‘½ä»¤\n  â€˜(iconify-frame (FRAME))\niconifyæŸä¸ªFRAME,é»˜è®¤çš„å®šä¹‰ä¸º`ignoreâ€™\n  â€˜(make-frame-visible (FRAME))\nè¡¨ç¤ºç”¨æˆ·deiconified FRAME,é»˜è®¤ä¸º`ignoreâ€™\n  â€˜(wheel-up POSITION) / â€˜(wheel-down POSITION)\næ»šåŠ¨é¼ æ ‡wheelæ—¶äº§ç”Ÿçš„event.\nPOSITIONçš„ç»“æ„è·ŸClick Eventçš„POSITIONä¸€æ ·,æ ‡è¯†äº†eventå‘ç”Ÿæ—¶çš„é¼ æ ‡ä½ç½®\nè¿™ç§eventåªåœ¨æŸäº›æ“ä½œç³»ç»Ÿä¸Šä¼šäº§ç”Ÿ,æœ‰äº›æ“ä½œç³»ç»Ÿä¸Šäº§ç”Ÿçš„æ˜¯`mouse-4â€™å’Œ`mouse-5â€™ event.\nå› æ­¤,ä¸ºäº†å¯ç§»æ¤æ€§,å»ºè®®ä½¿ç”¨å®šä¹‰åœ¨`mwheel.elâ€™ä¸­çš„å˜é‡`mouse-wheel-up-eventâ€™å’Œ`mouse-wheel-down-eventâ€™æ¥ä»£æ›¿\n  â€˜(drag-n-drop POSITION FILES)\nå½“ä»Emacså¤–é€‰æ‹©äº†ä¸€äº›æ–‡ä»¶,å¹¶æ‹–åˆ°Emacs frameä¸­æ—¶äº§ç”Ÿ`drag-n-dropâ€™ event\nè¿™é‡ŒPOSITIONçš„æ ¼å¼è·Ÿclick eventä¸­çš„POSITIONä¸€æ ·.\nFILESä¸ºæ–‡ä»¶åç§°çš„åˆ—è¡¨.\n  â€˜(help-echo FRAME HELP WINDOW OBJECT POS)\nä½†å…‰æ ‡ç§»åŠ¨åˆ°bufferä¸­å¸¦æœ‰`help-echoâ€™ text propertyçš„æ–‡æœ¬æ—¶,äº§ç”Ÿè¯¥event\n  â€˜sigusr1 / â€˜sigusr2\nå½“Emacsæ”¶åˆ°ä¿¡å·`SIGUSR1â€™å’Œ`SIGUSR2â€™æ—¶è§¦å‘è¯¥event. ä¸€èˆ¬ç”¨äºè°ƒè¯•æ—¶ä½¿ç”¨\nè¦æ•è·user signal,ç»‘å®šç›¸åº”çš„eventåˆ°`special-event-mapâ€™ä¸­çš„å‘½ä»¤. è¿™æ—¶ä¼šä¸å¸¦å‚æ•°åœ°æ‰§è¡Œè¯¥å‘½ä»¤,è€Œsignal eventå¯ä»¥é€šè¿‡å˜é‡`last-input-eventâ€™æ¥è·å¾—. ä¾‹å¦‚\n(defun sigusr-handler () (interactive) (message \"Caught signal %S\" last-input-event)) (define-key special-event-map [sigusr1] 'sigusr-handler)   â€˜(language-change FRAME CODEPAGE LANGUAGE-ID)\nåœ¨MS-Windowsä¸‹æ‰æ›´æ”¹input languageä¼šäº§ç”Ÿè¯¥event.\nè¿™é‡ŒFRAMEè¡¨ç¤ºæ”¹å˜input languageæ—¶çš„å½“å‰frame.\nCODEPAGEä¸ºæ›´æ”¹ä¸ºçš„æ–°codepage number\nLANGUAGE-IDä¸ºæ–°input languageçš„æ•°å­—id\nä¾‹å¦‚:\n;; Get the abbreviated language name, such as \"ENU\" for English (w32-get-locale-info language-id) ;; Get the full English name of the language, ;; such as \"English (United States)\" (w32-get-locale-info language-id 4097) ;; Get the full localized name of the language (w32-get-locale-info language-id t)   ç‰¹æ®ŠEvents ç‰¹æ®ŠEventåœ¨éå¸¸åº•å±‚çš„åœ°æ–¹è¢«å¤„ç†â€“as soon as they are read.\n`read-eventâ€™å‡½æ•°å†…éƒ¨å°±ä¼šæ¶ˆåŒ–æ‰è¿™äº›event,è€Œä¸ä¼šè¿”å›è¿™ç§event. äº‹å®ä¸Š,`read-eventâ€™ä¼šä¸€ç›´ç­‰å¾…å¹¶è¿”å›åœ°ä¸€ä¸ªéç‰¹æ®Ševent\nç‰¹æ®Ševentä¸ä¼šè¢«æ˜¾ç¤ºå‡ºæ¥,ä¸ä¼šè¢«çº³å…¥key sequenceä¸­,ä¸ä¼šå­˜å…¥`last-command-eventâ€™å’Œ`(this-command-keys)â€™. ç‰¹æ®Ševent They do not discard a numeric argument, they cannot be unread with `unread-command-eventsâ€™, they may not appear in a keyboard macro, and they are not recorded in a keyboard macro while you are defining one.\nç„¶è€Œåœ¨è¯»å–åˆ°ç‰¹æ®Ševentæ—¶,ä¼šè®°å½•åœ¨`last-input-eventâ€™ä¸­,and this is the way for the eventâ€™s definition to find the actual event.\nå¸¸è§çš„ç‰¹æ®Ševent typeæœ‰`iconify-frameâ€™,`make-frame-visibleâ€™,`delete-frameâ€™,`drag-n-dropâ€™,`language-changeâ€™ä»¥åŠç”¨æˆ·ä¿¡å·`sigusr1â€™,`sigusr2â€™â€¦\nå®šä¹‰å¦‚ä½•å¤„ç†ç‰¹æ®Ševentçš„keymapä¸ºå˜é‡`special-event-mapâ€™\nåŒºåˆ†Events æ¯ä¸ªeventéƒ½æœ‰ä¸€ä¸ª\"event type\",ç”¨äºåŒºåˆ†event.\nå¯¹äºkeyboard event,event typeå°±æ˜¯event value\nå¯¹äºlistæ ¼å¼çš„event,event typeä¸º(car list)\nç›¸åŒçš„event typeè¿è¡Œç›¸åŒçš„å‘½ä»¤. é”®åºåˆ—ä¸event typeç»‘å®š\n (event-modifiers event)  è¿”å›ä¸€ä¸ªlist,åŒ…å«äº†è¯¥eventä¸­æ‰€æœ‰çš„modifiers,modifierçš„ç±»å‹ä¸ºsymbol, å®ƒçš„å€¼å¯èƒ½æ˜¯â€™shift,â€˜control,â€˜meta,â€˜alt,â€˜hyperå’Œâ€™super å¯¹äºmouse eventæ¥è¯´,è¿˜å¯èƒ½åŒ…æ‹¬â€™click,â€˜drag,â€˜down,â€˜double,â€˜triple\nå‚æ•°eventå¯ä»¥æ˜¯ä¸€ä¸ªeventå¯¹è±¡,ä¹Ÿå¯ä»¥æ˜¯ä¸ªevent type.\nIf EVENT is a symbol that has never been used in an event that has been read as input in the current Emacs session, then `event-modifiersâ€™ can return `nilâ€™, even when EVENT actually has modifiers.\n(event-modifiers ?a) ; = nil (event-modifiers ?A) ; = (shift) (event-modifiers ?\\C-a) ; = (control) (event-modifiers ?\\C-%) ; = (control) (event-modifiers ?\\C-\\S-a) ; = (control shift) (event-modifiers 'f5) ; = nil (event-modifiers 's-f5) ; = (super) (event-modifiers 'M-S-f5) ; = (meta shift) (event-modifiers 'mouse-1) ; = (click) (event-modifiers 'down-mouse-1) ; = (down)  (event-basic-type event)  è¿”å›å»æ‰modifieræ ‡å¿—ä¹‹åçš„eventæè¿°. ä¾‹å¦‚\n(event-basic-type ?a) ; = 97 (event-basic-type ?A) ; = 97 (event-basic-type ?\\C-a) ; = 97 (event-basic-type ?\\C-\\S-a) ; = 97 (event-basic-type 'f5) ; = f5 (event-basic-type 's-f5) ; = f5 (event-basic-type 'M-S-f5) ; = f5 (event-basic-type 'down-mouse-1) ; = mouse-1   (mouse-movement-p object)\nobjectæ˜¯å¦ä¸ºmouse movent event\n  (event-convert-list list)\nThis function converts a list of modifier names and a basic event type to an event type which specifies all of them. The basic event type must be the last element of the list. ä¾‹å¦‚:\n(event-convert-list '(control ?a)) ; = 1,C-a (event-convert-list '(control meta ?a)) ; = -134217727 (event-convert-list '(control super f1)) ; = C-s-f1   è·å–Mouse Eventsä¸­çš„ä¿¡æ¯ è¦æƒ³è·å¾—mouse eventä¸­çš„position list,å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸¤ä¸ªå‡½æ•°\n (event-start event)  è‹¥ä¸ºdrag event,åˆ™è¿”å›start-postion\nè‹¥ä¸ºclickæˆ–button-down event,åˆ™è¿”å›å”¯ä¸€çš„é‚£ä¸ªpostion\n (event-end event)  è‹¥ä¸ºdrag event,åˆ™è¿”å›end-postion\nè‹¥ä¸ºclickæˆ–button-down event,åˆ™è¿”å›å”¯ä¸€çš„é‚£ä¸ªpostion\n (posnp object)  åˆ¤æ–­objectæ˜¯å¦ä¸ºmouse position\nä¸‹é¢çš„å‡½æ•°,ä¸€mouse postion listä¸ºå‚æ•°,è¿”å›ç›¸åº”éƒ¨åˆ†çš„å€¼\n (posn-window postion)  è¿”å›postion listä¸­çš„window\n (posn-area position)  è¿”å›positionä¸­çš„window areaæ ‡å¿—\nè‹¥eventå‘ç”Ÿåœ¨text-areaåˆ™è¿”å›nil,å¦åˆ™è¿”å›è¡¨ç¤ºareaçš„symbol\n (posn-point position)  è¿”å›positionä¸­çš„bufferä½ç½®ä¿¡æ¯.\nå½“eventå‘ç”Ÿåœ¨text-area,marginal areaæˆ–fringeä¸Šæ—¶,è¿”å›ä¸€ä¸ªè¡¨ç¤ºbufferä½ç½®çš„æ•´æ•°\nå…¶ä»–æƒ…å†µä¸‹,è¿”å›å€¼æ„ä¹‰ä¸æ˜ç¡®\n (posn-x-y position)  ä»¥â€™(X . Y)çš„å½¢å¼è¿”å›ç›¸å¯¹(posn-window postion)çš„åæ ‡,å•ä½ä¸ºåƒç´ .\nä¸‹é¢çš„ä¾‹å­,æ¼”ç¤ºäº†å¦‚ä½•å°†ç›¸å¯¹windowçš„åæ ‡è½¬æ¢ä¸ºç›¸å¯¹frameçš„åæ ‡\n(defun frame-relative-coordinates (position) \"Return frame-relative coordinates from POSITION. POSITION is assumed to lie in a window text area.\" (let* ((x-y (posn-x-y position)) (window (posn-window position)) (edges (window-inside-pixel-edges window))) (cons (+ (car x-y) (car edges)) (+ (cdr x-y) (cadr edges)))))  (posn-col-row postion)  ä»¥â€™(COL . ROW)çš„æ ¼å¼è¿”å›buffer postionåœ¨text areaä¸­çš„åˆ—ä¸è¡Œ\nå®ƒæ˜¯æ ¹æ®(postion-x-y postion)çš„ä¿¡æ¯ä¸frameçš„é»˜è®¤å­—ç¬¦çš„å®½åº¦å’Œé»˜è®¤è¡Œçš„é«˜åº¦,è®¡ç®—å‡ºæ¥çš„.\néœ€è¦æ³¨æ„çš„æ˜¯,ROWæ˜¯ä»text areaçš„æœ€é¡¶ç«¯å¼€å§‹è®¡ç®—çš„,ä¹Ÿå°±æ˜¯è¯´,å¦‚æœ(position-window positon)æ‹¥æœ‰header line,åˆ™å®ƒä¸ä¼šè®¡ç®—å¦‚ROWä¸­\n (posn-actual-col-row postion)  ä»¥â€™(COL . ROW)çš„å½¢å¼è¿”å›çœŸæ­£çš„ç›¸å¯¹(posn-window postion)çš„åˆ—æ•°ä¸è¡Œæ•°\n (posn-string positiion)  è¿”å›positionä¸­çš„string object,å¯èƒ½ä¸ºnilæˆ–â€™(STRING . STRING-POS)\n (posn-image position)  è·å¾—positionä¸­çš„image object,å¯èƒ½ä¸ºnilæˆ–â€™(imageâ€¦)\n (posn-object position)  è¿”å›positionä¸­çš„string objectæˆ–image object,å¯èƒ½ä¸ºnilæˆ–â€™(STRING . STRING-POS)æˆ–â€™(imageâ€¦)\n (posn-object-x-y position)  è·å–ç›¸å¯¹POSITION listä¸­çš„â€™(DX . DY). å³ä½ç½®ç›¸å¯¹(posn-object position)çš„åæ ‡. å•ä½ä¸ºåƒç´ \nè‹¥positionä¸ºbuffer position,åˆ™è¿”å›ç›¸å¯¹è¯¥å¤„å­—ç¬¦å·¦ä¸Šè§’çš„åæ ‡.\n (posn-object-width-height position)  ä»¥â€™(WIDTH. HEIGHT)æ ¼å¼,è¿”å›(posn-object position)çš„å®½åº¦å’Œé«˜åº¦,å•ä½ä¸ºåƒç´ \nè‹¥positionä¸ºbuffer position,åˆ™è¿”å›ä½ç½®å¤„å­—ç¬¦çš„å®½åº¦å’Œé«˜åº¦\n (posn-timestamp position)  è¿”å›positionä¸­çš„timestampä¿¡æ¯,è¡¨ç¤ºäº‹ä»¶å‘ç”Ÿçš„æ—¶é—´æˆ³,ä»¥æ¯«ç§’ä¸ºå•ä½\nä»¥ä¸‹å‡½æ•°æ ¹æ®buffer positionæˆ–screen position,è®¡ç®—å‡ºposition list\n (posn-at-point \u0026optional pos window)  è¯¥å‡½æ•°è¿”å›position listç”¨äºè¡¨ç¤ºå‚æ•°posåœ¨å‚æ•°windowä¸­çš„ä½ç½®. è‹¥posåœ¨windowä¸­ä¸å¯è§,åˆ™è¿”å›nil\nå‚æ•°posé»˜è®¤ä¸ºå‚æ•°windowä¸­å…‰æ ‡çš„ä½ç½®\nå‚æ•°windowé»˜è®¤ä¸ºé€‰ä¸­çš„window\n (posn-at-x-y x y \u0026optional frame-or-window whole)  è¯¥å‡½æ•°è¿”å›position listç”¨äºè¡¨ç¤º(x . y)åœ¨å‚æ•°frame-or-windowä¸­çš„ç›¸å¯¹åæ ‡,\nå‚æ•°x,yæ˜¯ç›¸å¯¹frame-or-windowçš„ä»¥åƒç´ ä¸ºå•ä½çš„ä½ç½®.\nå‚æ•°frame-or-window,é»˜è®¤ä¸ºå½“å‰window\nè‹¥å‚æ•°ä¸ºnil,åˆ™åæ ‡æ˜¯ç›¸å½“ä¸window text areaæ¥è®¡ç®—çš„. å¦åˆ™è®¡ç®—åŒ…æ‹¬æ•´ä¸ªwindow area(text-rea+scroll bar+margin+fringe)\nè·å–scroll bar eventä¸­çš„ä¿¡æ¯  (scroll-bar-event-ratio event)  ä»¥æ ¼å¼â€™(PORTION .WHOLE)è¿”å›eventåœ¨scroll-barä¸­çš„ä½ç½®.\n (scroll-bar-scale ratio total)  è¯¥å‡½æ•°äº‹å®ä¸Šå°†å‚æ•°ratioä¸totalç›¸ä¹˜,å¹¶å°†ç»“æœçº¦ä¸ºæ•´æ•°.\nè¿™é‡Œå‚æ•°rationä¸æ˜¯æ•°å­—,è€Œæ˜¯æ ¼å¼ä¸ºâ€™(NUM . DENOM)çš„cons ceil. ä¸€èˆ¬è¯¥å€¼ç”±å‡½æ•°scroll-bar-event-rationè¿”å›.\nè¯¥å‡½æ•°ç”¨äºå°†scroll bar positionè½¬æ¢ä¸ºbuffer postionæ˜¯å¾ˆæ–¹ä¾¿:\n(+ (point-min) (scroll-bar-scale (posn-x-y (event-start event)) (- (point-max) (point-min)))) æ•è·Input Event  (read-key-sequence prompt \u0026optional continue-echo dont-downcase-last switch-frame-ok command-loop)  è¯¥å‡½æ•°è¯»å–key sequenceå¹¶ä»¥stringæˆ–vectorçš„å½¢å¼è¿”å›.\nè¯¥å‡½æ•°ä¼šä¸€ç›´è¯»å–key sequenceç›´åˆ°è·å–åˆ°ä¸€ä¸ªå®Œæ•´çš„key sequenceä¸ºæ­¢(å³åœ¨å½“å‰keymapä¸‹èƒ½å®šä½åˆ°æŸä¸ªcommand)\néœ€è¦æ³¨æ„çš„æ˜¯: ä»¥mouse eventå¼€å¤´çš„key sequence,æ˜¯åœ¨mouseæ‰€åœ¨çš„windowä¸­keymapä¸­æŸ¥æ‰¾å¯¹åº”commandçš„\nå‚æ•°promptä¸ºæç¤ºä¿¡æ¯,nilè¡¨ç¤ºæ²¡æœ‰æç¤º\nå‚æ•°continue-echoè¡¨ç¤ºå½“key sequenceä¸å®Œæ•´æ—¶,æ˜¯å¦æ˜¾ç¤ºå·²ç»è¾“å…¥çš„key sequence\né»˜è®¤æƒ…å†µä¸‹,ä»»ä½•upper case eventåœ¨æ‰¾ä¸åˆ°å¯¹åº”commandæ—¶,ä¼šè½¬æ¢ä¸ºlower case eventå†å»æŸ¥æ‰¾ä¸€é(è¿™æ˜¯ä¼šè®¾ç½®å˜é‡`this-command-keys-shift-translatedâ€™ä¸ºt),å‚æ•°dont-downcase-lastç¦æ­¢è¿™ç§è½¬æ¢\nå‚æ•°swith-frame-okè¡¨ç¤ºåœ¨è¾“å…¥key sequenceçš„è¿‡ç¨‹ä¸­,æ˜¯å¦èƒ½åˆ‡æ¢frame\nå‚æ•°command-loopè‹¥ä¸ºénil,åˆ™è¡¨ç¤ºå¯ä»¥ä¸€æ¬¡è¾“å…¥å¤šä¸ªkey sequence(ä¸€ä¸ªkey sequenceä¸commandæƒ³å¯¹åº”). nilè¡¨ç¤ºåªè¯»å–è¡¨ç¤ºä¸€ä¸ªkey sequence\n`read-key-sequenceâ€™ä¼šå‹æŠ‘ä½quitting,ä¹Ÿå°±æ˜¯è¯´,åœ¨è¾“å…¥`C-gâ€™æ—¶,å°±å¥½åƒå…¶ä»–æ™®é€šçš„å­—ç¬¦ä¸€æ ·,ä¸ä¼šå»è®¾ç½®quit-flag\nå½“ä½¿ç”¨`read-key-sequenceâ€™è¯»å–mouse eventæ—¶,è‹¥mouse eventå‘ç”Ÿåœ¨windowçš„étext areaä¸­,åˆ™ä¼šæ·»åŠ prefix-keyæ¥è¡¨ç¤ºè¯¥area:â€˜header-line,â€˜horizontal-scroll-bar,â€˜menu-bar,â€˜mode-line,â€˜vertical-line,â€˜vertical-scroll-bar\n(read-key-sequence \"Click on the mode line: \") = [mode-line (mouse-1 (#6 on NEWS mode-line (40 . 63) 5959987))]  (read-key-sequence-vector prompt \u0026optional continue-echo dont-downcase-last switch-frame-ok command-loop)  ä¸`read-key-sequenceâ€™ç±»ä¼¼,åªæ˜¯è‚¯å®šä»¥vectorç±»å‹è¿”å›\n num-input-keys  å½“å‰Emacs sessionç›®å‰ä¸ºæ­¢å¤„ç†è¿‡çš„key sequenceçš„æ•°é‡.\n (read-event \u0026optional prompt inherit-input-method seconds)  è¯¥å‡½æ•°åªè¯»å–ä¸€ä¸ªevent,è€Œä¸åƒ`read-key-sequenceâ€™ä¸€æ ·å¯èƒ½è¯»å–å¤šä¸ªevent.\nThe returned event may come directly from the user, or from a keyboard macro. It is not decoded by the keyboardâ€™s input coding system\nå‚æ•°promptä¸ºæå‡ä¿¡æ¯\nè‹¥å‚æ•°inherit-input-methodä¸ºénil,åˆ™æ”¯æŒç”¨å½“å‰è¾“å…¥æ³•è¾“å…¥non-ASCIIå­—ç¬¦. å¦åˆ™ä¼šç¦ç”¨è¾“å…¥æ³•\nå‚æ•°secondsè¡¨ç¤ºç­‰å¾…è¾“å…¥çš„è¶…æ—¶ç§’æ•°,è‹¥è¶…æ—¶è¿˜æœªæœ‰eventå‘ç”Ÿ,åˆ™è¿”å›nil. è‹¥å‚æ•°secondsä¸ºnil,åˆ™Emacsåœ¨ç­‰å¾…ç”¨æˆ·è¾“å…¥æ—¶è¢«è®¤ä¸ºå¤„äºidleçŠ¶æ€,è‹¥è®¾ç½®äº†å€¼,åˆ™ç­‰å¾…æœŸé—´ä¸ä¼šè®¤ä¸ºå¤„äºidleçŠ¶æ€.\nIf `read-eventâ€™ gets an event that is defined as a help character, then in some cases `read-eventâ€™ processes the event directly without returning.\nCertain other events, called â€œspecial eventsâ€, are also processed directly within `read-eventâ€™\n (read-char \u0026optional prompt inherit-input-method seconds)  è¯»å–å¹¶è¿”å›è¾“å…¥çš„character. è‹¥ç”¨æˆ·äº§ç”Ÿçš„eventä¸æ˜¯character(ä¾‹å¦‚ç‚¹å‡»äº‹ä»¶æˆ–åŠŸèƒ½é”®äº‹ä»¶),åˆ™`read-charâ€™ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯\n (read-char-exclusive \u0026optional prompt inherit-input-method seconds)  ç±»ä¼¼`read-charâ€™,åªæ˜¯å½“è¯»åˆ°çš„eventä¸æ˜¯characteræ—¶,ä¼šå¿½ç•¥è¿™ä¸ªevent,æ¥ç€è¯»å–ä¸‹ä¸€ä¸ªevent,è€Œä¸æ˜¯æŠ›å‡ºé”™è¯¯\n num-nonmacro-input-events  è¯¥å˜é‡å­˜å‚¨äº†åˆ°ç›®å‰ä¸ºæ­¢ä»terminalè¯»å–åˆ°çš„input eventsæ€»æ•°(é‚£äº›ç”±keyboard macro)äº§ç”Ÿçš„ä¸ç®—.\n (read-key \u0026optional prompt)  è¯¥å‡½æ•°è¯»å–single key. å®ƒå¤„äº`read-key-sequenceâ€™å’Œ`read-eventâ€™ä¹‹é—´.\nè·Ÿ`read-key-sequenceâ€™ä¸åŒä¹‹å¤„åœ¨äº,å®ƒè¯»å–single keyè€Œä¸æ˜¯å®Œæ•´çš„key sequence\nè·Ÿ`read-eventâ€™ä¸åŒä¹‹å¤„åœ¨äº,å®ƒä¼šæ ¹æ®`input-decode-mapâ€™,`local-function-key-mapâ€™å’Œ`key-translation-mapâ€™è§£ç å¹¶è½¬æ¢ç”¨æˆ·çš„è¾“å…¥.\n (read-char-choice prompt chars \u0026optional inhibit-quit)  è¯¥å‡½æ•°ä½¿ç”¨`read-keyâ€™è¯»å–å¹¶è¿”å›ä¸€ä¸ªcharacter. å®ƒä¼šå¿½ç•¥ä»»ä½•ä¸æ˜¯å‚æ•°charsä¸­çš„memberçš„character.\ncharsä¸ºä¸€ä¸ªç”±charactersç»„æˆçš„list. è¡¨ç¤ºå¯æ¥å—çš„characterèŒƒå›´.\n (read-quoted-char \u0026optional prompt)  ç±»ä¼¼`read-charâ€™,åªæ˜¯å½“è¯»å–çš„åœ°ä¸€ä¸ªcharacteræ˜¯ä¸€ä¸ª8è¿›åˆ¶æ•°æ—¶(0-7),å®ƒä¼šè¯»å–æ¥ä¸‹æ¥è¾“å…¥çš„æ‰€æœ‰8è¿›åˆ¶æ•°,å¹¶è¿”å›ç”±è¿™äº›8è¿›åˆ¶numeric character codeæ‰€è¡¨ç¤ºçš„character.\n(read-quoted-char \"What character\") ---------- Echo Area ---------- What character 1 7 7- ---------- Echo Area ---------- = 127 Modifying and Translating Input Events åœ¨ä½¿ç”¨`read-eventâ€™æ—¶,Emacsä¼šæ ¹æ®`extra-keyboard-modifiersâ€™çš„å€¼å¯¹è¯»å–åˆ°åˆ°çš„eventåšæ”¹å˜(modify),ç„¶åæ ¹æ®`keyboard-translate-tableâ€™çš„å€¼åšè½¬æ¢(translate)\n extra-keyboard-modifiers  è¯¥å˜é‡å…è®¸Lispç¨‹åºæ¨¡æ‹ŸæŒ‰ä¸‹é”®ç›˜ä¸Šçš„modifier key.\nè¯¥å˜é‡çš„è‡³å¿…é¡»ä¸ºä¸€ä¸ªè®¾ç½®äº†modifier bitä½çš„character(ä¾‹å¦‚'?\\C-\\M-a'). çœŸæ­£å…¶ä½œç”¨çš„æ˜¯å…¶ä¸­çš„modifier bit(?\\C-\\M-).\nè‹¥å˜é‡çš„å€¼ä¸º`?\\C-@',ä¸ä¼šè®¾ç½®Ctrlè¢«æŒ‰ä¸‹,ç›¸å, è¿™ä¸ªå€¼è¡¨ç¤ºå–æ¶ˆæ‰€æœ‰çš„modification\nå¦å¤–,éœ€è¦æ³¨æ„çš„æ˜¯, è¯¥å˜é‡åªä¼šä¿®æ”¹ä»keyboardè¯»å–åˆ°çš„event,è€Œå¯¹mouse eventæˆ–å…¶ä»–ç±»å‹çš„eventæ— æ•ˆ\n keyboard-translate-table  è¯¥å˜é‡ä¸ºterminal-local variable. å®ƒå…è®¸ä½ å°†ä¸€ä¸ªkeyboard eventé‡æ–°æ˜ å°„æˆå¦ä¸€ä¸ªkeyboard event\nä¸€èˆ¬æƒ…å†µä¸‹,å®ƒçš„å€¼ä¸ºä¸€ä¸ªchar-tableæˆ–nil.\nNote that this translation is the first thing that happens to a character after it is read from the terminal. Record-keeping features such as `recent-keys' and dribble files record the characters after translation.\n (keyboard-translate from to)  è¯¥å‡½æ•°é€šè¿‡ä¿®æ”¹`keyboard-translate-tableâ€™çš„å€¼æ¥è¾¾åˆ°å°†character code FROMè½¬æ¢ä¸ºcharacter code TOçš„ç›®çš„.\nEvent Inputçš„å…¶ä»–ç‰¹æ€§  unread-command-events  è¯¥å˜é‡å­˜å‚¨çš„å€¼ä¸ºä¸€ä¸ªç”±eventç»„æˆçš„list,è¡¨ç¤ºå¾…è¯»å–çš„event.\nè¯¥listä¸­çš„event,ä»¥æ˜¾ç¤ºçš„é¡ºåº(å³æœ€å‰é¢çš„æœ€å…ˆè¢«ä½¿ç”¨)è¢«è¯»å–,å¹¶ä¸”åœ¨ä½¿ç”¨åè¢«åˆ é™¤\nä¸€èˆ¬æƒ…å†µä¸‹,ä»è¯¥listä¸­è¯»å–çš„eventä¸ä¼šæ·»åŠ åˆ°å½“å‰å‘½ä»¤çš„key sequenceä¸­(å³ä¸ä¼šè¢«`this-command-keys'),å› ä¸ºè¯¥eventåœ¨ç¬¬ä¸€æ¬¡è¯»å–æ—¶å·²ç»æ·»åŠ è¿‡ä¸€æ¬¡äº†. ä½†è‹¥listä¸­çš„elementæ ¼å¼ä¸º'(t . EVENT)åˆ™è¡¨ç¤ºå¼ºåˆ¶å°†è¯¥eventæ”¾å…¥å½“å‰commandçš„key sequenceä¸­\n (listify-key-sequence key)  è¯¥å‡½æ•°å°†key(stringæˆ–vector)è½¬æ¢ä¸ºç”±å•ç‹¬eventç»„æˆçš„list,å¯ä»¥å¾ˆå®¹æ˜“çš„å°†è¿™ä¸ªlistæ”¾å…¥`unread-command-eventsâ€™ä¸­\n (input-pending-p \u0026optional check-timers)  è¯¥å‡½æ•°æ£€æŸ¥æ˜¯å¦æœ‰command inputå¯ä»¥è¢«è¯»å–äº†.\nè‹¥å‚æ•°check-timersä¸ºénil,åˆ™è‹¥æ²¡æœ‰inputå¯ä»¥è¢«è¯»å–æ—¶,è¿è¡ŒEmacsè¿è¡Œå·²ç»readyçš„timers\n last-input-event  è¯¥å˜é‡å­˜å‚¨æœ€åçš„terminal input event. whether as part of a command or explicitly by a Lisp program.\nåœ¨ä¸‹é¢çš„ä¾‹å­ä¸­,è¿™æ®µLispç¨‹åºè¯»å–å­—ç¬¦'1'(ASCIIç ä¸º49). å‡è®¾æˆ‘ä»¬ç”¨C-x C-eæ¥æ‰§è¡Œè¿™æ®µä»£ç ,åˆ™ä¼šå‘ç°`last-input-eventâ€™çš„å€¼ä¸º'1'(49),è€Œ`last-command-eventâ€™åªä¸º?\\C-e(5)\n(progn (print (read-char)) (print last-command-event) last-input-event) -| 49 -| 5 = 49  å®(while-no-input bodyâ€¦)  å½“è¿è¡Œbodyçš„è¿‡ç¨‹ä¸­æ²¡æœ‰è¾“å…¥æ—¶,æ­£å¸¸æ‰§è¡Œbodyå¹¶è¿”å›bodyçš„å€¼.\nä½†è‹¥æ‰§è¡Œbodyçš„è¿‡ç¨‹ä¸­æœ‰è¾“å…¥åˆ°æ¥,åˆ™ä¼šä¸­æ–­bodyçš„æ‰§è¡Œ(ç±»ä¼¼quit),å¹¶è¿”å›t\nè‹¥æ‰§è¡Œbodyçš„è¿‡ç¨‹ä¸­,è¢«çœŸæ­£çš„quitæ‰€æ‰“æ–­,åˆ™è¿”å›nil\nè‹¥BODYä¸­æŸéƒ¨åˆ†ç»‘å®š`inhibit-quitâ€™ä¸ºénil,åˆ™å³ä½¿æœ‰è¾“å…¥åˆ°æ¥,ä¹Ÿä¸ä¼šä¸­æ–­è¯¥éƒ¨åˆ†ä»£ç çš„æ‰§è¡Œ,ç›´åˆ°è¯¥éƒ¨åˆ†ä»£ç è¢«æ‰§è¡Œå®Œæ¯•.\n (discard-input)  è¯¥å‡½æ•°ä¸¢å¼ƒterminal input bufferçš„å†…å®¹å¹¶å–æ¶ˆæ­£åœ¨å¤„ç†çš„keyboard macro,å¹¶è¿”å›nil\nä¾‹å¦‚:\n(progn (sleep-for 2) ;åœ¨ç­‰å¾…æœŸé—´,ç”¨æˆ·å¯èƒ½è¾“å…¥äº†ä¸€äº›ä¸œè¥¿ (discard-input)) ;ä¼šä¸¢å¼ƒç”¨æˆ·åœ¨ç­‰å¾…æœŸé—´æ‰€è¾“å…¥çš„ä¸œè¥¿ = nil å…³äºè¾“å…¥æ³• è¯»å–eventçš„å‡½æ•°ä¼šè°ƒç”¨å½“å‰ä½¿ç”¨çš„è¾“å…¥æ³•. ä½†`read-eventâ€™è¯»å–ä¸€ä¸ªprint character(åŒ…æ‹¬)æ—¶,ä¼šä»¥è¯¥characterä½œä¸ºå‚æ•°,è°ƒç”¨`input-method-functionâ€™æ‰€è¡¨ç¤ºçš„å‡½æ•°\n input-method-function `read-eventâ€™è¯»å–ä¸€ä¸ªprint character(åŒ…æ‹¬)æ—¶,ä¼šä»¥è¯¥characterä½œä¸ºå‚æ•°,è°ƒç”¨`input-method-functionâ€™æ‰€è¡¨ç¤ºçš„å‡½æ•°  è¯¥input-method-functionçš„è¿”å›å€¼åº”è¯¥æ˜¯ä¸€ç³»åˆ—ç”±eventç»„æˆçš„list. è‹¥è¿”å›nilè¡¨ç¤ºæ²¡æœ‰è¾“å…¥,è¿™æ ·`read-eventâ€™ä¼šç­‰å¾…ä¸‹ä¸€ä¸ªeventäº§ç”Ÿ.\nè‹¥input-method-functionä¸­åˆè°ƒç”¨äº†`read-eventâ€™æˆ–`read-key-sequence',åˆ™éœ€è¦è®°ä½æŠŠ`input-method-functionâ€™çš„å€¼ç»‘å®šä¸ºnil,å¦åˆ™ä¼šå‘ç”Ÿæ— é™é€’å½’.\nThe input method function is not called when reading the second and subsequent events of a key sequence. Thus, these characters are not subject to input method processing. The input method function should test the values of `overriding-local-map' and `overriding-terminal-local-map'; if either of these variables is non-`nil', the input method should put its argument into a list and return that list with no further processing.\nKeymaps input eventä¸commandçš„å¯¹åº”å…³ç³»è¢«è®°å½•åœ¨åä¸º\"keymaps\"çš„ç»“æ„ä½“ä¸­. æ¯ä¸ªevent typeå¯¹åº”ä¸€ä¸ªcommandæˆ–å¦ä¸€ä¸ªkeymap.\nå½“ä¸€ä¸ªevent typeç»‘å®šåˆ°å¦ä¸€ä¸ªkeymapæ—¶,è¿™ä¸ªkeymapè¢«ç”¨äºæŸ¥æ‰¾ä¸‹ä¸€ä¸ªinput eventçš„å¯¹åº”å…³ç³».\nè‹¥æŸä¸ªevent sequenceæ‰¾åˆ°çš„æ˜¯ä¸€ä¸ªkeymap,åˆ™æˆ‘ä»¬ç§°è¯¥key sequenceä¸º\"prefix key\". å¦åˆ™åˆ™ä¸º\"complete key\".\nè¿™ä¸ªä»event sequenceä¸€ç›´æ‰¾åˆ°æŸä¸ªcommandçš„è¿‡ç¨‹,è¢«æˆä¸º\"key lookup\"\nEmacsä¸­æœ‰ä¸‰ç±»keymap:\n global map  ç”±æ‰€æœ‰bufferæ‰€å…±äº«\n local keymap  ç”±bufferæŒ‡å®šçš„major modeæ‰€å†³å®š,ä¼šè¦†ç›–global mapçš„key sequence\n minor mode keymaps  ç”±bufferæ‰€å¼€å¯çš„minor modeæ‰€å†³å®š,ä¼šè¦†ç›–global mapå’Œlocal keymapçš„key sequence\nKey Sequences â€œKey sequenceâ€,ç®€ç§°ä¸º\"key\",æ˜¯æŒ‡ä¸€ä¸ªæˆ–å¤šä¸ªinput eventåšç»„æˆçš„åºåˆ—é›†åˆ. input eventåŒ…æ‹¬characters,function keys,mouse actionsæˆ–system events\nå½“ç”¨vectoræ¥è¡¨ç¤ºkey sequencesæ—¶,æ¯ä¸ªvectorçš„å…ƒç´ éƒ½æ˜¯character,æ¯ä¸ªcharacterè¡¨ç¤ºä¸€ä¸ªinput event. ä¾‹å¦‚`[?\\C-x ?l]â€˜è¡¨ç¤ºkey sequence `C-x lâ€™\n (kbd keyseq-text)  å°†stringç±»å‹çš„keyseq-textè½¬æ¢ä¸ºkey sequence.\n(kbd \"C-x\") = \"\\C-x\" (kbd \"C-x C-f\") = \"\\C-x\\C-f\" (kbd \"C-x 4 C-f\") = \"\\C-x4\\C-f\" (kbd \"X\") = \"X\" (kbd \"RET\") = \"\\^M\" (kbd \"C-c SPC\") = \"\\C-c \" (kbd \" SPC\") = [f1 32] (kbd \"C-M-\") = [C-M-down] Keymapsçš„å†…éƒ¨ç»“æ„ keymapæ˜¯ä¸€ä¸ªlist,å®ƒçš„carä¸ºâ€™keymap. å‰©ä¸‹çš„å…ƒç´ å¯ä»¥æ˜¯å¦‚ä¸‹æ ¼å¼:\n â€˜(EVENT-TYPE . BINDING)  è¯¥EVENT-TYPEå¯¹åº”ç€BINDING\n â€˜(EVENT-TYPE ITEM-NAME . BINDING)  è¯¥event-typeå¯¹åº”ç€binding,åŒæ—¶è¯¥bindingä¹Ÿæ˜¯ä¸€ä¸ªåä¸ºITEM-NAMEçš„simple menu item\n â€˜(EVENT-TYPE ITEM-NAME HELP-STRING . BINDING)  è¯¥event-typeå¯¹åº”ç€binding,åŒæ—¶è¯¥bingdingä¹Ÿæ˜¯ä¸€ä¸ªåä¸ºITEM-NAMEçš„èœå•é¡¹,è€Œå¸¦æœ‰help string\n â€˜(EVENT-TYPE menu-item . DETAILS)  EVENT-TYPEå¯¹åº”ç€çš„ç»‘å®š,åŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªextended menu item\n â€˜([t] . BINDING)  è®¾ç½®BINDINGä¸º\"default key binding\". ä»»ä½•ä¸èƒ½æ‰¾åˆ°å¯¹åº”é¡¹çš„event-typeéƒ½æ‰§è¡Œè¯¥binding\n  æŸchar-table\n  æŸstring\n  æŸparent-keymap\n  è‹¥å…ƒç´ ä¸ºkeymap,åˆ™è¡¨ç¤ºè¯¥keymapæ‰€å®šä¹‰çš„ç»‘å®šå…³ç³»éƒ½åµŒå…¥åˆ°åŒ…å«è¯¥keymapçš„keymapä¸­æ¥.\næœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„:key `M-aâ€™åœ¨keymapä¸­è¢«åˆ†æ‹†è¡¨ç¤ºä¸º` aâ€™(åªæœ‰åœ¨metaä¸å¦ä¸€ä¸ªæ™®é€šå­—ç¬¦å…³è”æ—¶,æ‰è¢«åˆ†æ‹†),è€Œ`M-â€˜ç›´æ¥å­˜å‚¨ä¸º`M-â€™\n (keymapp object)  åˆ¤æ–­objectæ˜¯å¦ä¸ºkeymap,è‹¥objectä¸ºsymbol,åˆ™åˆ¤æ–­è¯¥symbolå¯¹åº”çš„function definitionæ˜¯å¦ä¸ºkeymap\n(keymapp '(keymap)) ; = t (fset 'foo '(keymap)) (keymapp 'foo) ; = t (keymapp (current-global-map)) ; = t åˆ›å»ºkeymap  (make-sparse-keymap \u0026optional prompt)  åˆ›å»ºä¸€ä¸ªç©ºçš„keymap\nè‹¥ä¼ é€’äº†å‚æ•°prompt,åˆ™å…¶ç§°ä¸ºkeymapçš„overall prompt string. ä½ åªèƒ½ä¸ºmenu keymapè®¾ç½®è¯¥å€¼,å› ä¸ºä»»ä½•è¢«è®¾äº†overall prompt stringçš„keymapéƒ½è¢«è®¤ä¸ºæ˜¯menu\n (make-keymap \u0026optional prompt)  ç±»ä¼¼(make-spare-keymap),ä½†æ˜¯å®ƒæ‰€åˆ›å»ºçš„ä¸æ˜¯ç©ºkeymap,è€Œæ˜¯åŒ…å«äº†ä¸€ä¸ªchar-table,è¿™ä¸ªchar-tableåŒ…å«äº†æ‰€æœ‰çš„ä¸å¸¦modifierçš„characters\næ–°äº§ç”Ÿçš„keymapç»‘å®šæ‰€æœ‰è¿™äº›charactersåˆ°nil\n (copy-keymap keymap)  æ·±æ‹·è´keymap. However, recursive copying does not take place when the definition of a character is a symbol whose function definition is a keymap; the same symbol appears in the new copy.\n(setq map (copy-keymap (current-local-map))) = (keymap ;; (This implements meta characters.) (27 keymap (83 . center-paragraph) (115 . center-line)) (9 . tab-to-tab-stop)) (eq map (current-local-map)) = nil (equal map (current-local-map)) = t keymapçš„ç»§æ‰¿ è‹¥keymapä¸­çš„elementä¸ºæŸkeymap,åˆ™è¯¥è¢«åŒ…å«çš„keymapçš„å†…å®¹ä¼šè¢«å†…åµŒåˆ°åŒ…å«çš„keymapä¸­,å³å®ç°äº†keymapçš„ç»§æ‰¿æœºåˆ¶.\næˆ‘ä»¬ç§°è¢«åŒ…å«çš„keymapä¸ºparent-keymap\nå¦‚æœparent-keymapä¸­çš„ç»‘å®šå…³ç³»è¢«æ›´æ”¹äº†,åˆ™è¿™äº›æ”¹å˜ä¹Ÿä¼šå½±å“åˆ°ç»§æ‰¿keymap(å› ä¸ºkeymapä¸­çš„å…ƒç´ ä¸ºæŒ‡å‘parent-keymapçš„å¼•ç”¨). åè¿‡æ¥åˆ™ä¸ä¼šå½±å“parent-keymap,è¿™æ˜¯å› ä¸ºä½¿ç”¨define-keyæ›´æ”¹çš„ç»‘å®šæ˜¯ç›´æ¥è®°å½•åœ¨ç»§æ‰¿çš„keymapä¸­çš„\n (keymap-parent keymap)  è·å–keymapä¸­çš„parent-keymap\n (set-keymap-parent keymap parent-keymap)  è®¾ç½®å‚æ•°parent-keymapä¸ºkeymapçš„parent keymap,è‹¥å‚æ•°parent-keymapä¸ºnil,åˆ™æ¸…ç©ºkeymapçš„æ‰€æœ‰parent keymap\nè¯¥å‡½æ•°è¿”å›å‚æ•°parent-keymap\nè‹¥keymapæœ¬èº«ä¸ºå…¶ä»–sub-keymapçš„parent keymap,åˆ™è¯¥æ“ä½œä¹Ÿä¼šå½±å“åˆ°sub-keymap\n (make-composed-keymap maps \u0026optional parent)  è‹¥å¸Œæœ›åˆ›å»ºä¸€ä¸ªkeymap,è¿™ä¸ªkeymapç»§æ‰¿äºå¤šä¸ªkeymap, åˆ™éœ€è¦ä½¿ç”¨è¯¥å‡½æ•°\nè¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ªkeymap,è¯¥keymapé›†åˆäº†mapsä¸­çš„æ‰€æœ‰keymapçš„ç»‘å®šä¿¡æ¯. è¿˜å¯ä»¥ä¸ºå®ƒè®¾ç½®ä¸€ä¸ªparent keymap\nå‚æ•°mapså¯ä»¥æ˜¯å•ä¸ªçš„keymap,æˆ–è€…ä¸€ä¸ªç”±keymapç»„æˆçš„list.\nå½“Emacsåœ¨åˆ›å»ºçš„è¿™ä¸ªkeymapä¸­æœç´¢event typeçš„ç»‘å®šä¿¡æ¯æ—¶,Emacsä¼šæŒ‰é¡ºåºæœç´¢mapsä¸­çš„keymap,æœ€åæœç´¢parent. ä»¥æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„ç»‘å®šä¸ºå‡†.\néœ€è¦æ³¨æ„çš„æ˜¯: mapsä¸­çš„nilç»‘å®šä¼šè¦†ç›–parentä¸­çš„ç»‘å®šä¿¡æ¯,ä½†æ˜¯ä¸ä¼šè¦†ç›–mapsä¸­çš„å…¶ä»–keymapçš„ç»‘å®šä¿¡æ¯\n(defvar help-mode-map (let ((map (make-sparse-keymap))) (set-keymap-parent map (make-composed-keymap button-buffer-map special-mode-map)) ... map) ... ) æ ‡å‡†Emacs prefix key keymap  esc-map  global keymap. é»˜è®¤ç»‘å®šåˆ°\n help-map  global keymap. é»˜è®¤ç»‘å®šåˆ°C-h\n mode-specific-map  global keymap. é»˜è®¤ç»‘å®šåˆ°C-c\n ctl-x-map  global keymap. é»˜è®¤ç»‘å®šåˆ°C-x\n mule-keymap  global keymap. é»˜è®¤ç»‘å®šåˆ°C-x \n ctl-x-4-map  global keymap. é»˜è®¤ç»‘å®šåˆ°C-x 4\n ctl-x-5-map  global keymap. é»˜è®¤ç»‘å®šåˆ°C-x 5\n 2C-mode-map  global keymap. é»˜è®¤ç»‘å®šåˆ°C-x 6\n vc-prefix-map  global keymap. é»˜è®¤ç»‘å®šåˆ°C-x v\n goto-map  global keymap. é»˜è®¤ç»‘å®šåˆ°M-g\n search-map  global keymap. é»˜è®¤ç»‘å®šåˆ°M-s\n facemenu-keymap  global keymap. é»˜è®¤ç»‘å®šåˆ°M-o\n (define-prefix-command symbol \u0026optioinal mapvar prompt)  è¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ªsparse keymapå¹¶å­˜å‚¨åœ¨symbolçš„function definitionä¸­, è¿™æ ·ç»‘å®šåˆ°è¯¥symbolçš„key sequenceå°±ç§°ä¸ºäº†\"prefix key\"\nè¯¥å‡½æ•°è¿”å›symbol\nè¯¥å‡½æ•°åŒæ—¶ä¹Ÿä¼šè®¾ç½®symbolçš„valueä¸ºè¯¥keymap,ä½†è‹¥å‚æ•°mapvarä¸ºénil,åˆ™symbolçš„å€¼ä¸ºmapvar\nè‹¥å‚æ•°promptä¸ºénil,åˆ™å®ƒç§°ä¸ºè¯¥keymapçš„overall prompt string. åŒæ ·çš„,è¯·åªæœ‰å½“è¯¥keymapä¸ºmenuæ—¶æ‰è¿™ä¹ˆåš\nActive Keymaps active keymapsæŒ‰ç…§ä¼˜å…ˆçº§ä»é«˜åˆ°åº•ä»¥æ­¤ä¸º:\n  ç”±å…‰æ ‡/é¼ æ ‡ç‚¹æ‰€åœ¨çš„stringçš„keymap propertyæŒ‡å®šçš„keymap\n  minor modeå¼€å¯çš„keymap\nç”±å˜é‡`emulation-mode-map-alistsâ€™,`minor-mode-overriding-map-alistâ€™å’Œ`minor-mode-map-alistâ€™å†³å®š\n  å½“å‰bufferçš„local keymap\nä¸€èˆ¬ç”±bufferçš„major modeå†³å®š\n  global keymap\nç”±å˜é‡`global-mapâ€™å†³å®š\n  é™¤äº†ä¸Šé¢çš„å¸¸è§keymapså¤–,Emacsè¿˜æä¾›äº†ä¸€äº›æ–¹æ³•è®©ç¨‹åºå‘˜æ¿€æ´»å…¶ä»–çš„keymaps.\n  å˜é‡`overriding-local-mapâ€™æŒ‡å®šçš„keymapä¼šæ›¿ä»£é™¤äº†globa keymapä¹‹å¤–çš„å…¶ä»–ä¸‰ç§å¸¸è§keymap\n  `overriding-terminal-local-mapâ€™æŒ‡å®šçš„keymapçš„ä¼˜å…ˆçº§é«˜è¿‡å…¶ä»–ä»»ä½•keymaps(åŒ…æ‹¬`overriding-local-mapâ€™æŒ‡å®šçš„keymap), å¸¸ç”¨äºä¸´æ—¶ä¿®æ”¹keybinding(å‚è§å‡½æ•°`set-transient-mapâ€™)\n  æ€»ç»“æ¥è¯´,æœç´¢active keymapçš„é¡ºåºä¸º:\n(or (if overriding-terminal-local-map (FIND-IN overriding-terminal-local-map)) (if overriding-local-map (FIND-IN overriding-local-map) (or (FIND-IN (get-char-property (point) 'keymap)) (FIND-IN-ANY emulation-mode-map-alists) (FIND-IN-ANY minor-mode-overriding-map-alist) (FIND-IN-ANY minor-mode-map-alist) (if (get-text-property (point) 'local-map) (FIND-IN (get-char-property (point) 'local-map)) (FIND-IN (current-local-map))))) (FIND-IN (current-global-map))) ;; In the above pseudo-code, if a key sequence starts with a mouse event (*note Mouse Events::), that event's position is used instead of point, and the event's buffer is used instead of the current buffer. ä¸‹é¢æ˜¯ä¸€äº›ç›¸å…³å‡½æ•°ä¸å˜é‡:\n (current-active-maps \u0026optional olp position)  å½“å‰ç¯å¢ƒä¸‹å¤„äºæ¿€æ´»çŠ¶æ€çš„keymapçš„list.\næ­£å¸¸æƒ…å†µä¸‹,è¯¥å‡½æ•°çš„è¿”å›å€¼ä¼šå¿½ç•¥æ‰`overriding-local-mapâ€™å’Œ`overriding-terminal-local-mapâ€™çš„å€¼,ä½†è‹¥å‚æ•°olpä¸ºénil,åˆ™ä¸ä¼šå¿½ç•¥æ‰è¿™ä¿©ä¸ªå˜é‡çš„å€¼.\nå‚æ•°positionå¯ä»¥æ˜¯`event-startâ€™å‡½æ•°è¿”å›çš„event positionæˆ–buffer position,è¡¨ç¤ºä½¿ç”¨positionæ‰€åœ¨çš„stringçš„keymap propertyæŒ‡å®šçš„keymapä»£æ›¿å…‰æ ‡æˆ–é¼ æ ‡ç‚¹æ‰€åœ¨çš„stirngçš„keymap property\n (key-binding key \u0026optional accept-defaults no-remap position)  è¯¥å‡½æ•°æ ¹æ®keyåœ¨å½“å‰active çš„keymapsä¸­æŸ¥æ‰¾å¯¹åº”çš„binding.\nå‚æ•°accept-defaultæ§åˆ¶æ˜¯å¦æ£€æŸ¥default binding,å³keymapä¸­æ ¼å¼ä¸º(t . binding)çš„å…ƒç´ \nå½“commandè¢«é‡æ˜ å°„è¿‡,key-bindingé»˜è®¤ä¼šæŸ¥æ‰¾è¢«é‡æ–°æ˜ å°„è¿‡çš„binding,ä½†è‹¥å‚æ•°no-remapä¸ºénil,åˆ™`key-bindingâ€™ä¼šå¿½ç•¥é‡æ˜ å°„\nå‚æ•°positionå¯ä»¥æ˜¯`event-startâ€™å‡½æ•°è¿”å›çš„event positionæˆ–buffer position,è¡¨ç¤ºä½¿ç”¨positionæ‰€åœ¨çš„stringçš„keymap propertyæŒ‡å®šçš„keymapä»£æ›¿å…‰æ ‡æˆ–é¼ æ ‡ç‚¹æ‰€åœ¨çš„stirngçš„keymap property\n(key-binding \"\\C-x\\C-f\") ; = find-file  global-map  æ”¹å˜é‡é¢å€¼ä¸ºé»˜è®¤çš„global keymap\n (current-global-map)  è¿”å›å½“å‰global keymapçš„ å¼•ç”¨è€Œä¸æ˜¯æ‹·è´.\n (current-local-map)  è¯¥å‡½æ•°è¿”å›å½“å‰bufferçš„local keymapçš„ å¼•ç”¨è€Œä¸æ˜¯æ‹·è´\n (current-minor-mode-maps)  è¿”å›å½“å‰minor modeå¼€å¯çš„keymapsçš„list\n (use-global-map keymap)  è®¾ç½®keymapä¸ºglobal keymap\n (use-local-map keymap)  è®¾ç½®keymapä¸ºå½“å‰bufferçš„local keymap(å¤§å¤šæ•°major modeå‘½ä»¤éƒ½ä½¿ç”¨è¯¥å‡½æ•°æ¥è®¾ç½®local keymap)\nå‚æ•°keymapå¯ä»¥ä¸ºnil,è¡¨ç¤ºä¸è®¾ç½®local keymap\n minor-mode-map-alist  è¯¥å˜é‡æ˜¯ä¸€ä¸ªç”±å…ƒç´ â€™(variable . keymap)ç»„æˆçš„alist.\nå®ƒè¡¨ç¤º,å½“å˜é‡variableçš„å€¼ä¸ºénilæ—¶,å¯¹åº”çš„keymapå¤„äºæ¿€æ´»çŠ¶æ€,å¦åˆ™è‹¥å˜é‡variableçš„å€¼ä¸ºnil,åˆ™keymapè¢«ç¦ç”¨. è¿™é‡Œkeymapå¯ä»¥æ˜¯ä¸€ä¸ªkeymapæˆ–è€…ä¸€ä¸ªfunction definitionä¸ºkeymapçš„symbol\né€šå¸¸æƒ…å†µä¸‹å˜é‡variableè¢«ç”¨äºæ§åˆ¶æ˜¯å¦å¯ç”¨æŸä¸ªminor mode\n minor-mode-overriding-map-alist  è¯¥å˜é‡è¿è¡Œmajor modeè¦†ç›–ç‰¹å®šminor modeçš„key binding.\nè¯¥alistçš„å…ƒç´ è·Ÿ`minor-mode-map-alistâ€™ç±»ä¼¼,ä¹Ÿæ˜¯(VARIABLE . KEYMAP)\nè‹¥ç»Ÿä¸€å˜é‡variable,åŒæ—¶åœ¨`minor-mode-overriding-map-alistâ€™å’Œ`minor-mode-map-alistâ€™ä¸­å‡ºç°,åˆ™ä½¿ç”¨`minor-mode-overriding-map-alistâ€™ä¸­çš„å¯¹åº”keymapè¦†ç›–`minor-mode-map-alistâ€™ä¸­çš„keymap\n overriding-local-map  è¯¥å€¼è‹¥ä¸ºnil,åˆ™è¯¥å€¼æ‰€æŒ‡å®šçš„keymapä¼šè¦†ç›–é™¤äº†global mapå¤–çš„æ‰€æœ‰keymap\n overriding-terminal-local-map  è‹¥ä¸ºénil,åˆ™è¯¥å˜é‡æ‰€è¡¨ç¤ºçš„keymap,ä¼šä¼˜å…ˆäº`overriding-local-mapâ€™,bufferçš„local keymap,text propertyæˆ–overlay keymapå’Œå…¶ä»–æ‰€æœ‰çš„minor mode keymap\næ”¹å˜äº†ä¸ºterminal local variable,ä¸èƒ½è®¾ç½®ä¸ºbuffer-local\n overriding-local-map-menu-flag  è‹¥è¯¥å€¼ä¸ºénil,åˆ™è¡¨ç¤º`overriding-local-mapâ€™å’Œ`overriding-terminal-local-mapâ€™çš„å€¼å¯ä»¥å½±å“åˆ°menu barçš„æ˜¾ç¤º, é»˜è®¤ä¸ºnil\néœ€è¦æ³¨æ„çš„æ˜¯,æ— è®ºæ˜¯å¦å½±å“menu barçš„æ˜¾ç¤º,`overriding-local-mapâ€™å’Œ`overriding-terminal-local-mapâ€™ä¾ç„¶ä¼šå½±å“åˆ°é€šè¿‡menu baräº§ç”Ÿçš„key sequenceçš„æ‰§è¡Œæƒ…å†µ\n special-event-map  å­˜æ”¾special eventä¸commandå¯¹åº”å…³ç³»çš„keymap.\nè‹¥æŸevent typeåœ¨è¯¥keymapä¸­æœ‰binding,åˆ™è¯¥event typeè¢«è®¤ä¸ºæ˜¯ç‰¹æ®Šçš„,å¹¶ä¸”è¯¥eventæ‰€å¯¹åº”çš„ç»‘å®šcommandä¼šç›´æ¥è¢«å‡½æ•°`read-eventâ€™æ‰€æ‰§è¡Œ\n emulation-mode-map-alist  This variable holds a list of keymap alists to use for emulation modes. It is intended for modes or packages using multiple minor-mode keymaps. Each element is a keymap alist which has the same format and meaning as `minor-mode-map-alist', or a symbol with a variable binding which is such an alist. The â€œactiveâ€ keymaps in each alist are used before `minor-mode-map-alist' and `minor-mode-overriding-map-alist'.\n (set-transient-map keymap \u0026optional keep-pred on-exit)  è¯¥å‡½æ•°ä¸´æ—¶å¢åŠ keymapä½œä¸ºä¼˜å…ˆçº§æœ€é«˜çš„keymap\næ­£å¸¸æƒ…å†µä¸‹,keymapåªä¼šè¢«ä½¿ç”¨ä¸€æ¬¡,æ¥æŸ¥æ‰¾ç´§æ¥ç€çš„ä¸‹ä¸€ä¸ªkey sequenceçš„binding. ä½†è‹¥å‚æ•°keep-predä¸ºtåˆ™keymapä¸€ç›´æœ‰æ•ˆ,ç›´åˆ°æŸä¸ªkey sequenceåœ¨keymapä¸­æ‰¾ä¸åˆ°bindingä¸ºæ­¢.\n å‚æ•°on-exit,è‹¥ä¸ºénil,åˆ™éœ€è¦æ˜¯ä¸€ä¸ªä¸å¸¦å‚æ•°çš„å›è°ƒå‡½æ•°,ä¼šåœ¨mapå¤±æ•ˆæ—¶è°ƒç”¨è¯¥å‡½æ•°.  .\nKey Lookup æ ¹æ®key sequenceåœ¨æŒ‡å®škeymapä¸­æŸ¥æ‰¾bindingçš„è¿‡ç¨‹,ç§°ä¸º\"Key lookup\"\nkey lookupçš„è¿‡ç¨‹åªä½¿ç”¨key sequenceä¸­å„eventçš„event typeä½œä¸ºæŸ¥æ‰¾çš„æ¡ä»¶,è€Œå¿½ç•¥eventçš„å…¶ä»–éƒ¨åˆ†. å½“eventä¸ºmouse eventæ—¶,ç”šè‡³å¯ä»¥ä½¿ç”¨symbolç±»å‹çš„mouse event typeæ¥ä»£æ›¿listç±»å‹çš„æ•´ä¸ªevent.\né€šè¿‡key lookupæ‰¾åˆ°çš„binding,æˆ‘ä»¬ç§°ä¹‹ä¸º\"keymap entry\".\nè¿™é‡Œçš„BINDINGå¯ä»¥æ˜¯ä»¥ä¸‹å‡ ç§ç±»å‹çš„å¯¹è±¡\n  nil\n  command/lambdaè¡¨è¾¾å¼\n  string/vector\n  bingdingä¸ºkeyboard macro\n  keymap\n  list\n  è¿™æ—¶listçš„æ ¼å¼åº”è¯¥ä¸º'(other-keymap . other-event-type),è¡¨ç¤ºä¸º\"indirect entry\"\nå³,å®ƒä¼šåœ¨other-keymapä¸­æœç´¢other-event-typeè¡¨ç¤ºçš„binding\nè¯¥åŠŸèƒ½é‡ç”¨ä¸ä¸ºæŸä¸ªkeyåˆ›å»ºå…¶ä»–keyçš„å¼•ç”¨.\n symbol  ä½¿ç”¨symbolçš„function definition\n å…¶ä»–ç±»å‹  ä¸Šé¢å‡ ç§ç±»å‹çš„bindingæ‰¾åˆ°å›,éƒ½ä¼šå½“æˆcommandè¢«execute-commandæ‰§è¡Œ.\nä½†è‹¥ä¸æ˜¯ä¸Šé¢å‡ ç§ç±»å‹çš„å…¶ä»–ç±»å‹,åˆ™ä¸ä¼šè¢«å½“æˆcommandçœ‹å¾…\nç›¸å…³å‡½æ•°   (lookup-key keymap key \u0026optional accept-defaults)\nè¿”å›keyåœ¨keymapä¸­çš„binding\n(lookup-key (current-global-map) \"\\C-x\\C-f\") ; = find-file (lookup-key (current-global-map) (kbd \"C-x C-f\")) ; = find-file (lookup-key (current-global-map) \"\\C-x\\C-f12345\") ; = 2 If the string or vector KEY is not a valid key sequence according to the prefix keys specified in KEYMAP, it must be â€œtoo longâ€ and have extra events at the end that do not fit into a single key sequence. Then the value is a number, the number of events at the front of KEY that compose a complete key.\nè‹¥å‚æ•°accept-defaultsä¸ä¸ºnil,åˆ™`lookup-keyâ€™åœ¨æ‰¾ä¸åˆ°keyçš„bindingæ˜¯,ä¼šä½¿ç”¨default binding\nè‹¥keyä¸ºmeta character+æ™®é€šcharacteråˆ™ä¼šè¢«åˆ†æ‹†ä¸ºä¸€ä¸ªç”±ä¸¤ä¸ªcharacterç»„æˆçš„sequence:`meta-prefix-charâ€™è¡¨ç¤ºçš„å€¼+æ™®é€šcharacter\n(lookup-key (current-global-map) \"\\M-f\") ; = forward-word (lookup-key (current-global-map) \"\\ef\") ; = forward-word Unlike `read-key-sequence', this function does not modify the specified events in ways that discard information . In particular, it does not convert letters to lower case and it does not change drag events to clicks.\n  (undefined)\nè¯¥å‡½æ•°å¸¸ç”¨äºkeymapä¸­ç”¨äºundefineæŸä¸ªkey.\nå®ƒè°ƒç”¨`ding',ä½†æ˜¯ä¸ä¼šå¼•å‘error\n  (local-key-binding key \u0026optional accept-default)\nè¯¥å‡½æ•°åœ¨å½“å‰çš„local keymap(ç”±major-modeå†³å®šçš„)ä¸­æŸ¥æ‰¾keyçš„binding\nå‚æ•°accept-defaultså†³å®šäº†æ˜¯å¦æ£€æŸ¥default binding\n  (global-key-binding key \u0026optional accept-defaults)\nè¯¥å‡½æ•°åœ¨global keymapä¸­æŸ¥æ‰¾keyçš„binding\nå‚æ•°accept-defaultså†³å®šäº†æ˜¯å¦æ£€æŸ¥default binding\n  (minor-mode-key-binding key \u0026optional accept-defaults)\nè¯¥å‡½æ•°è¿”å›æ‰€æœ‰active minor modeä¸­keyæ‰€å¯¹åº”çš„binding.\nè¿”å›çš„å€¼ä¸ºç”±'(MODENAME . BINDING)ç»„æˆçš„alist\nè‹¥ç¬¬ä¸€ä¸ªæ‰¾åˆ°çš„bindingä¸æ˜¯prefix definition(å³bindingä¸ä¸ºkeymapæˆ–function definitionä¸ä¸ºkeymapçš„symbol),åˆ™æ¥ä¸‹æ¥çš„å…¶ä»–minor modeä¸­çš„bindingéƒ½ä¼šå¿½ç•¥æ‰,å› ä¸ºä»–ä»¬éƒ½ä¼šè¢«æ‰¾åˆ°çš„è¯¥bindingæ‰€å±è”½æ‰. Similarly, the list omits non-prefix bindings that follow prefix bindings.\nå‚æ•°accept-defaultså†³å®šäº†æ˜¯å¦æ£€æŸ¥default binding\n  é…ç½®é¡¹meta-prefix-char\nè¯¥å˜é‡ä¸ºmetaä½œä¸ºprefixæ—¶çš„character code,ç”¨äºå°†ä»£metaçš„characterè½¬æ¢ä¸ºä¸€ä¸ªç”±ä¸¤ä¸ªcharacterç»„æˆçš„sequence. é»˜è®¤ä¸º27,è¡¨ç¤ºçš„character code\nmeta-prefix-char ; The default value. = 27 (key-binding \"\\M-b\") = backward-word ?\\C-x ; The print representation = 24 ; of a character. (setq meta-prefix-char 24) = 24 (key-binding \"\\M-b\") = switch-to-buffer ; Now, typing `M-b' is ; like typing `C-x b'. (setq meta-prefix-char 27) ; Avoid confusion! = 27 ; Restore the default value!   Changing Key Binding  (define-key keymap key binding)  è¯¥å‡½æ•°è®¾ç½®keymapä¸­çš„keyçš„å¯¹åº”binding.\nè‹¥å‚æ•°keyä¸º`[t]',åˆ™è¡¨ç¤ºè®¾ç½®default binding\n (substitute-key-definition olddef newdef keymap \u0026optional oldmap)  è¯¥å‡½æ•°æ‰«ækeymapä¸­çš„æ‰€æœ‰bindingä¸ºolddefçš„key,å¹¶rebindè¿™äº›keyåˆ°newdef. è¯¥å‡½æ•°è¿”å›nil\nè‹¥å‚æ•°oldmapä¸ºénil,åˆ™è¡¨ç¤º åªæœ‰åœ¨oldmapä¸­åŒ…å«çš„keyæ‰å‚ä¸æ›¿æ¢.\n (suppress-keymap keymap \u0026optional nodigits)  è¯¥å‡½æ•°å°†keymapä¸­çš„æ‰€æœ‰bindingä¸º`self-insert-commandâ€™çš„keyéƒ½é‡æ˜ å°„åˆ°`undefinedâ€™ä¸Š,ä½¿å¾—æ’å…¥æ–‡æœ¬å˜å¾—ä¸å¯èƒ½.\nè‹¥nodigitsä¸ºnil,åˆ™`suppress-keymapâ€™é‡æ–°æ˜ å°„æ•°å­—çš„bindingä¸º`dgit-argument',é‡æ–°æ˜ å°„`-â€˜ä¸º`negative-argumentâ€™\nè‹¥nodigitsä¸ºénil,åˆ™æ•°å­—å’Œ`-â€˜éƒ½è·Ÿå­—ç¬¦ä¸€æ ·æ˜ å°„ä¸º`undefinedâ€™\nç”±äºè¯¥å‡½æ•°ä¼šæ›´æ”¹keymapçš„ç»“æ„,å› æ­¤å½“è¯¥keymapè¢«å…¶ä»–keymapå¼•ç”¨æ—¶,å¾ˆå®¹æ˜“äº§ç”Ÿé—®é¢˜,å› æ­¤,ä¸€èˆ¬å‚æ•°keymapéƒ½ä¸ºæ–°åˆ›å»ºçš„keymap\n (global-set-key key binding)  è®¾ç½®global keymapä¸­keyçš„ç»‘å®š\n(global-set-key KEY BINDING) ;; == (define-key (current-global-map) KEY BINDING)  (global-unset-key key)  åˆ é™¤global-keymapä¸­keyçš„ç»‘å®š\n(global-unset-key KEY) ;; == (define-key (current-global-map) KEY nil)  (local-set-key key binding)  è®¾ç½®local keymapä¸­keyçš„ç»‘å®š\n(local-set-key KEY BINDING) ;; == (define-key (current-local-map) KEY BINDING)  (local-unset-key key)  å–æ¶ˆlocal keymapä¸­keyçš„ç»‘å®š\n(local-unset-key KEY) ;; == (define-key (current-local-map) KEY nil) Remapping Commands A special kind of key binding can be used to â€œremapâ€ one command to another, without having to refer to the key sequence(s) bound to the original command.\nTo use this feature, make a key binding for a key sequence that starts with the dummy event `remap', followed by the command name you want to remap;\nä¾‹å¦‚,è¦ç”¨`my-kill-lineâ€™æ›¿ä»£`kill-line',å¯ä»¥è¿™æ ·:\n(define-key my-mode-map [remap kill-line] 'my-kill-line) éœ€è¦æ³¨æ„çš„æ˜¯: remapåªå¯¹active keymapæ‰ç”Ÿæ•ˆ å¦å¤–, ä¸èƒ½å¯¹å·²ç»remapçš„bindingå†åšremap. ä¾‹å¦‚\n(define-key my-mode-map [remap kill-line] 'my-kill-line) (define-key my-mode-map [remap my-kill-line] 'my-other-kill-line) ;ä¸ä¼šç”Ÿæ•ˆ è¦å–æ¶ˆremap,åªéœ€è¦remapåˆ°nilå³å¯\n(define-key my-mode-map [remap kill-line] nil)  (command-remapping command \u0026optional position keymap)  è¯¥å‘½ä»¤è¿”å›å½“å‰active-keymapä¸­è¢«remapçš„command(a symbol)è¢«remapåˆ°ä»€ä¹ˆbinding\nè‹¥commandæ²¡æœ‰è¢«remap,æˆ–è€…ä¸æ˜¯symbolç±»å‹,åˆ™è¯¥å‡½æ•°è¿”å›nil.\nå‚æ•°positionå¯ä»¥é€šè¿‡æŒ‡å®šbuffer positionæˆ–mouse event positionæ¥å†³å®šå½“å‰activeçš„keymap\nè‹¥æŒ‡å®šäº†å‚æ•°keymaps,åˆ™ä½¿ç”¨å‚æ•°keymapsä¸­çš„keymapä»£æ›¿ä½†é’±active keymaps. è¯¥å‚æ•°åœ¨positionä¸ºénilæ—¶è¢«å¿½ç•¥\nç”¨äºè½¬æ¢event sequenceçš„keymap å½“`read-key-sequenceâ€™å‡½æ•°è¯»å–key sequenceæ—¶,å®ƒä½¿ç”¨\"translation keymaps\"æ¥è½¬æ¢ç‰¹å®šçš„event sequenceä¸ºå…¶ä»–çš„event sequence.\nè¿™äº›translation keymapæŒ‰ä¼˜å…ˆçº§æ’åˆ—åˆ†åˆ«ä¸º:`input-decode-map',`local-function-key-mapâ€™å’Œ`key-translation-map'\nå½“è¯»å–key sequenceæ—¶,Emacsä¼šé’ˆå¯¹å…¶ä¸­çš„æ¯ä¸ªeventä½œä¸€æ¬¡æ£€æŸ¥,è‹¥åœ¨translation keymapä¸­å‘ç°æœ‰å¯¹åº”çš„binding,åˆ™å°†è¯¥eventè½¬æ¢ä¸ºç»‘å®šçš„event\n For example, VT100 terminals send ` O P' when the keypad key  is pressed. On such terminals, Emacs must translate that sequence of events into a single event `pf1'. This is done by â€œbindingâ€ ` O P' to `[pf1]' in `input-decode-map'. Thus, when you type `C-c ' on the terminal, the terminal emits the character sequence `C-c  O P', and `read-key-sequence' translates this back into `C-c ' and returns it as the vector `[?\\C-c pf1]'.\n Translation keymaps take effect only after Emacs has decoded the keyboard input (via the input coding system specified by `keyboard-coding-system').\n input-decode-map  è¯¥å˜é‡çš„keymapè½¬æ¢çš„æ˜¯ç”±åŠŸèƒ½é”®äº§ç”Ÿçš„key sequence(This variable holds a keymap that describes the character sequences sent by function keys on an ordinary character terminal.)\n local-function-key-map  This variable holds a keymap similar to `input-decode-map' except that it describes key sequences which should be translated to alternative interpretations that are usually preferred. It applies after `input-decode-map' and before `key-translation-map'.\næ³¨æ„: è‹¥`local-function-key-mapâ€™ä¸­çš„æŸä¸ªkeyä¸minior mode keymap,local keymapæˆ–global keymapæœ‰å†²çª,åˆ™è¯¥keyä¼šè¢«å¿½ç•¥è€Œä¸ä¼šä½œè½¬æ¢\n key-translation-map  ç±»ä¼¼`input-decode-map'. åŒºåˆ«åœ¨äºå®ƒçš„ä¼˜å…ˆçº§æ¯”è¾ƒä½.\nä¸`input-decode-mapâ€™ç±»ä¼¼,ä¸`local-function-key-mapâ€™ä¸åŒ,è¯¥keymapä¸å­˜åœ¨ä¸å…¶ä»–æ™®é€škeymapå†²çªå°±ä¸ç”Ÿæ•ˆçš„æƒ…å†µ.\nYou can use `input-decode-map', `local-function-key-map', and `key-translation-map' for more than simple aliases, by using a function, instead of a key sequence, as the â€œtranslationâ€ of a key. Then this function is called to compute the translation of that key.\nThe key translation function receives one argument, which is the prompt that was specified in `read-key-sequence'â€“or `nil' if the key sequence is being read by the editor command loop. In most cases you can ignore the prompt value.\nScanning keymaps  (accessible-keymaps keymap \u0026optional prefix)  è¯¥å‡½æ•°è¿”å›æŒ‡å®škeymapä¸­æ‰€æœ‰å¯ä»¥åˆ°è¾¾çš„'(key . binding)çš„alist\n (map-keymap function keymap)  è¯¥å‡½æ•°å¯¹keymapä¸­çš„æ¯ä¸ªbindingéƒ½è°ƒç”¨functionæ‰§è¡Œä¸€æ¬¡. functionæ¥æ”¶ä¸¤ä¸ªå‚æ•°:event typeå’Œbinding\nè‹¥keymapåŒ…å«parent-keymap,è¯¥parent-keymapä¸­çš„bindingä¹Ÿè¢«æ‰§è¡Œ,è¿™è¯ä¼¼ä¸€ä¸ªä¸æ–­é€’å½’çš„è¿‡ç¨‹.\n (where-is-internal comand \u0026optional keymap firstonly noindirect no-remap)  è¯¥å‡½æ•°è¿”å›ä¸€ä¸ªlist,åŒ…å«äº†åœ¨keymapsä¸­ç»‘å®šåˆ°commandçš„æ‰€æœ‰key sequence.\nå‚æ•°commandå¯ä»¥ä»»æ„object,è¯¥å‡½æ•°ä½¿ç”¨`eqâ€™ä¸keymapçš„bindingè¿›è¡Œæ¯”è¾ƒ\nè‹¥å‚æ•°keymapä¸ºnil,åˆ™æœç´¢èŒƒå›´ä¸ºå½“å‰activeçš„keymaps(ä¸ç®¡`overriding-local-mapâ€™çš„å€¼).\nè‹¥å‚æ•°keymapä¸ºkeymap,åˆ™æœç´¢èŒƒå›´ä¸ºå‚æ•°keymapå’Œglobal keymap\nè‹¥å‚æ•°keymapä¸ºkeymapç»„æˆçš„list,åˆ™æœç´¢èŒƒå›´ä»…ä»…æ˜¯æŒ‡å®šçš„è¿™äº›keymaps\n å‘½ä»¤(describe-binding \u0026optional prefix buffer-or-name)  è¯¥å‘½ä»¤åˆ—å‡ºå½“å‰key bindingå¹¶æ˜¾ç¤ºåœ¨*Help*\nè‹¥å‚æ•°prefixä¸ºénil,åˆ™åªåˆ—å‡ºä»¥prefixä¸ºprefix keyçš„key sequence\né»˜è®¤ç»‘å®šä¸º`C-h b'\nMenu Keymaps Defining Menus ä¸€ä¸ªmenuå…¶å®å°±æ˜¯å¸¦æœ‰prompt-stringçš„keymap. è¿™ä¸ªprompt-stringæ˜¯`make-keymap',`make-sparse-keymapâ€™å’Œ`define-prefix-commandâ€™å‡½æ•°çš„æœ€åä¸€ä¸ªå‚æ•°.\néœ€è¦æ³¨æ„çš„æ˜¯,ä½¿ç”¨define-keyä¸ºmenuåˆ›å»ºæ–°ç»‘å®šæ—¶,ä¼šå°†æ–°ç»‘å®šæ”¾åœ¨æœ€å‰é¢,å› æ­¤è‹¥å…³å¿ƒmenué¡¹çš„é¡ºåºçš„è¯,è¦æ³¨æ„ä»æœ€åé¡¹å¼€å§‹å‘æœ€å‰é¡¹å®šä¹‰.\nå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨`define-key-afterâ€™æ¥æŒ‡å®šæ–°ç»‘å®šçš„ä½ç½®.\n  (keymap-prompt keymap)\nè·å–keymapä¸­çš„prompt-string\n     Simple Menu Items\nå®šä¹‰menu itemçš„åŸå§‹æ–¹æ³•æ˜¯ç»‘å®ševent type(å…·ä½“æ˜¯ä»€ä¹ˆevent typeæ— æ‰€è°“)åˆ°å¦‚ä¸‹æ ¼å¼çš„list\n (ITEM-STRING . REAL-BINDING) (ITEM-STRING HELP-STRING . REAL-BINDING)  ä¾‹å¦‚:\n(defvar menu-lancher-keymap (make-sparse-keymap \"menu-lancher\")) (define-key menu-lancher-keymap \"C-c C-a\" '(\"menu-item\" \"menu-item-help\" (lambda () (message \"show menu-item\")))) éœ€è¦æ³¨æ„çš„æ˜¯, ä½¿ç”¨lookup-keyæ¥æŸ¥æ‰¾é”®ç»‘å®šæ—¶,åªä¼šè¿”å›real-bindingè¿™éƒ¨åˆ†å†…å®¹.\n(lookup-key menu-lancher-keymap \"C-c C-a\") ;; = ((lambda nil (message \"show menu-item\"))) è‹¥real-bindingä¸ºnil,åˆ™menu-itemæ— æ³•è¢«é€‰ä¸­.\nè‹¥real-bindingä¸ºsymbol,ä¸”è¯¥symbolå…·æœ‰énilçš„menu-enableå±æ€§(è¯¥å±æ€§éœ€ä¸ºä¸€ä¸ªS-è¡¨è¾¾å¼),åˆ™æ¯æ¬¡æ˜¾ç¤ºmenuéƒ½ä¼šæ‰§è¡Œè¯¥S-è¡¨è¾¾å¼ä»¥å†³å®šè¯¥itemæ˜¯å¦å¯é€‰.\n     Extended Menu Item\nå®šä¹‰Extended menu itemçš„æ–¹æ³•æ˜¯ç»‘å®ševent type(å…·ä½“æ˜¯ä»€ä¹ˆevent typeæ— æ‰€è°“)åˆ°å¦‚ä¸‹æ ¼å¼çš„list(è¿™äº›listçš„caréƒ½æ˜¯menu-item)\n  (menu-item ITEM-NAME)\nå®šä¹‰ä¸å¯é€‰ä¸­çš„menu item.\n  (menu-item ITEM-NAME REAL-BINDING . ITEM-PROPERTY-LIST)\nå®šä¹‰å¯é€‰ä¸­çš„menu item. å…¶ä¸­\n  ITEM-NAMEä¸ºä¸€ä¸ªè¡¨è¾¾å¼,è¯¥è¡¨è¾¾å¼çš„è¿è¡Œç»“æœå¿…é¡»è¿”å›ä¸€ä¸ªstring.\n  REAL-BINDINGä¸ºè¦æ‰§è¡Œçš„command\n  ITEM-PROPERTY-LISTå®šä¹‰äº†menu itemçš„å…¶ä»–ä¿¡æ¯\n   :enable FORM FORMçš„è®¡ç®—ç»“æœå†³å®šäº†è¯¥menu itemæ˜¯å¦æœ‰ç”¨     :visible FORM FORMçš„è®¡ç®—ç»“æœå†³å®šäº†æ˜¯å¦æ˜¾ç¤ºè¯¥menu item   :helper HELP-STR HELP-STRä¸ºå›ºå®šå­—ç¬¦ä¸²,å…¶æŒ‡å®šäº†help-echoçš„æ˜¾ç¤ºå†…å®¹   :button (TYPE . SELECTED) è¯¥å±æ€§æä¾›äº†ä¸€ç§å®šä¹‰radio buttonæˆ–toggle buttonçš„æ–¹å¼    TYPEè¡¨ç¤ºbuttonçš„ç±»å‹,å¯ä»¥æ˜¯:toggleæˆ–:radio    SELECTEDéœ€è¦ä¸ºä¸€ä¸ªFORM,è¯¥FORMçš„è®¡ç®—ç»“æœå†³å®šäº†æ˜¯å¦é€‰ä¸­è¯¥button    å¯¹äºtoggle buttonæ¥è¯´,SELECTEDçš„è¿”å›å€¼å†³å®šäº†è¯¥buttonä¸ºonè¿˜æ˜¯off    å¯¹äºradio buttonæ¥è¯´,The SELECTED form for each radio button in the group should check whether the variable has the right value for selecting that button. Clicking on the button should set the variable so that the button you clicked on becomes selected.   :key-sequence KEY-SEQUENCE è¯¥å±æ€§æŒ‡å®šè¯¥menu itemå¯¹åº”çš„commandå¯èƒ½è¢«åˆ†é…åˆ°å“ªä¸ªé”®åºåˆ—ä¸Š.    è‹¥åˆ†é…çš„é”®åºåˆ—ä¸è¯¥commandå®é™…åˆ†é…çš„é”®åºåˆ—ç›¸åŒ,åˆ™èƒ½å¤ŸåŠ å¿«menuçš„æ˜¾ç¤ºé€Ÿåº¦    è‹¥åˆ†é…çš„é”®åºåˆ—ä¸å®é™…åˆ†é…çš„é”®åºåˆ—ä¸åŒ,åˆ™æ— æ•ˆæœ   :key-sequence nil è¡¨ç¤ºè¯¥menu itemå¯¹åº”çš„commandå¯èƒ½æ²¡æœ‰å¯¹åº”çš„é”®ç»‘å®š,è¿™ä½¿å¾—Emacsä¸ç”¨å»æœç´¢å¯¹åº”çš„é”®åºåˆ—,ä»è€ŒåŠ å¿«menuçš„æ˜¾ç¤ºé€Ÿåº¦   :keys STRING STRINGè¢«æ˜¾ç¤ºä¸ºè§¦å‘è¯¥menu itemçš„é”®åºåˆ—,å¯ä»¥åœ¨STRINGä¸­ä½¿ç”¨\\\\[â€¦]æ ¼å¼   :filter FILTER-FN è¯¥å±æ€§æä¾›äº†ä¸€ç§åŠ¨æ€äº§ç”Ÿmenu itemçš„é€”å¾„.    FILTER-FNä¸ºä¸€ä¸ªå‡½æ•°,è¯¥å‡½æ•°æ¥æ”¶REAL-BINDINGä½œä¸ºå”¯ä¸€çš„å‚æ•°,è¯¥å‡½æ•°çš„è¿”å›å€¼ä¼šä½œä¸ºè¯¥menu itemçš„çœŸæ­£READL-BINDING.             Menu Separator\næ‰€è°“menu separatoræ˜¯ä¸€ç§ç‰¹æ®Šçš„menu item. å®ƒè¢«æ˜¾ç¤ºä¸ºä¸€ä¸ªæ¨ªçº¿,å› æ­¤è¢«ç”¨æ¥å°†menuåˆ†éš”æˆå‡ ä¸ªéƒ¨åˆ†.\nmenu separatorä¹Ÿæ˜¯ä¸€ä¸ªä»¥symbol menu-itemå¼€å¤´çš„list. å®ƒçš„æ ¼å¼å¦‚ä¸‹:\n  (menu-item SEPARATOR-TYPE)\n(menu-item \"--\")   (menu-item SEPARATOR-TYPE nil . ITEM-PROPERTY-LIST)\n(menu-item \"--\" nil :visible (boundp 'foo))   è¿™é‡ŒSEPARATOR-TYPEä¸ºä¸€ä¸ªä»¥\"â€“â€œå¼€å¤´çš„å­—ç¬¦ä¸². å®ƒæœ‰å¦‚ä¸‹å‡ ç§ç±»å‹\n  \"â€ / â€œ-â€ / â€œâ€“â€\né»˜è®¤çš„sepratoré£æ ¼\n  â€œâ€“no-lineâ€ / â€œâ€“spaceâ€\nä»¥ç©ºæ ¼åˆ†éš”\n  â€œâ€“single-lineâ€\nä»¥menuå‰æ™¯è‰²ç€è‰²çš„å•è¡Œçº¿\n  â€œâ€“double-lineâ€\nä»¥menuå‰æ™¯è‰²ç€è‰²çš„åŒè¡Œçº¿\n  â€œâ€“single-dashed-lineâ€\nä»¥menuå‰æ™¯è‰²ç€è‰²çš„å•è¡Œé—´æ–­çº¿\n  â€œâ€“double-dashed-lineâ€\nä»¥menuå‰æ™¯è‰²ç€è‰²çš„åŒè¡Œé—´æ–­çº¿\n  â€œâ€“shadow-etched-inâ€\n3Dçš„å‡¹å…¥çº¿\n  â€œâ€“shadow-etched-outâ€\n3Dçš„å‡¸å‡ºçº¿\n  â€œâ€“shadow-etched-in-dashâ€\n3Dçš„å‡¹å…¥é—´æ–­çº¿\n  â€œâ€“shadow-etched-out-dashâ€\n3Dçš„å‡¸å‡ºé—´æ–­çº¿\n  â€œâ€“shadow-double-etched-inâ€\n3Dçš„å‡¹å…¥åŒè¡Œçº¿\n  â€œâ€“shadow-double-etched-outâ€\n3Dçš„å‡¸å‡ºåŒè¡Œçº¿\n  â€œâ€“shadow-double-etched-in-dashâ€\n3Dçš„å‡¹å…¥åŒè¡Œé—´æ–­çº¿\n  â€œâ€“shadow-double-etched-out-dashâ€\n3Dçš„å‡¸å‡ºåŒè¡Œé—´æ–­çº¿\n    Menu and the Mouse è‹¥ä¸€ä¸ªmenu keymapæ˜¯ç”±é¼ æ ‡äº‹ä»¶è§¦å‘çš„,åˆ™ä¼šå¼¹å‡ºä¸€ä¸ªmenu,ä½¿å¾—ç”¨æˆ·å¯ä»¥é€šè¿‡é¼ æ ‡æ¥é€‰æ‹©èœå•é¡¹.\nthe event generated is whatever character or symbol has the binding that brought about that menu item.\næ¯”è¾ƒå¸¸è§çš„æ–¹å¼æ˜¯ä½¿ç”¨button-downäº‹ä»¶æ¥è§¦å‘menu,è¿™æ ·ä¸€é‡Šæ”¾é¼ æ ‡å°±èƒ½è§¦å‘menu itemäº†\nä¸€èˆ¬æƒ…å†µä¸‹,è‹¥menu keymapçš„bindingä¸­æœ‰å¦ä¸€ä¸ªkeymap,åˆ™è¯¥keymapè¢«è®¤ä¸ºæ˜¯submenu. ä½†è‹¥è¢«åŒ…å«çš„keymapä¸­æ— å…¶ä»–menu item,åˆ™ä¼šç›´æ¥æ˜¾ç¤ºè¯¥keymapçš„å†…å®¹,è€Œä¸æ˜¯ä½œä¸ºsubmenu\nHowever, if Emacs is compiled without X toolkit support, or on text terminals, submenus are not supported. Each nested keymap is shown as a menu item, but clicking on it does not automatically pop up the submenu. If you wish to imitate the effect of submenus, you can do that by giving a nested keymap an item string which starts with â€˜@â€™. This causes Emacs to display the nested keymap using a separate â€œmenu paneâ€; the rest of the item string after the â€˜@â€™ is the pane label. If Emacs is compiled without X toolkit support, or if a menu is displayed on a text terminal, menu panes are not used; in that case, a â€˜@â€™ at the beginning of an item string is omitted when the menu label is displayed, and has no other effect.\nMenus and the Keyboard è‹¥menuæ˜¯ç”±é”®ç›˜äº‹ä»¶è§¦å‘çš„,åˆ™æˆ‘ä»¬ç§°è¿™ç§menuä¸ºkeyboard menu.\nEmacsä½¿ç”¨æ–‡æœ¬çš„æ–¹å¼,åœ¨echo areaä¸­æ˜¾ç¤ºèœå•. è‹¥åœ¨ä¸€æ¬¡æ— æ³•æ˜¾ç¤ºå®Œæ•´çš„èœå•,å¯ä»¥é€šè¿‡æŒ‰(ç”±å˜é‡`menu-prompt-more-charâ€™å†³å®š)æ¥æ˜¾ç¤ºä¸‹ä¸€å±èœå•.\nThe Menu Bar è¦æ·»åŠ itemåˆ°menu barä¸Š,éœ€è¦å…ˆåˆ›å»ºè‡ªå·±çš„\"function key\"(ä¾‹å¦‚KEY),ç„¶åä¸º [menu-bar KEY] è¿™æ ·ä¸€ä¸ªé”®åºåˆ—æ·»åŠ ç»‘å®š.\nè‹¥ä¸ºåŒä¸€ä¸ª [menu-bar KEY] ç»‘å®šäº†å¤šä¸ªä¸åŒçš„menu item,åˆ™åªä¼šåˆ›å»ºä¸€ä¸ªmenu,ä½†åŒ…å«äº†å¤šä¸ªmenu itemçš„å†…å®¹.\nä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­:\n;; Make a menu keymap (with a prompt string) ;; and make it the menu bar itemâ€™s definition. (define-key global-map [menu-bar words] (cons \"Words\" (make-sparse-keymap \"Words\"))) ;; Define specific subcommands in this menu. (define-key global-map [menu-bar words forward] '(\"Forward word\" . forward-word)) (define-key global-map [menu-bar words backward] '(\"Backward word\" . backward-word)) local keymapå¯ä»¥å–æ¶ˆglobal keymapåˆ›å»ºçš„menu bar item. æ–¹æ³•æ˜¯é‡æ–°ç»‘å®šè¯¥itemçš„keyä¸ºâ€™undefined. ä¾‹å¦‚:\n(define-key dired-mode-map [menu-bar edit] 'undefined)   menu-bar-final-items\né»˜è®¤æƒ…å†µä¸‹,menu barå…ˆæ˜¾ç¤ºglobal-mapä¸­å®šä¹‰çš„menu item,å†æ˜¾ç¤ºlocal-mapä¸­å®šä¹‰çš„menu item.\nè€Œè¯¥å˜é‡ä¸­åŒ…å«ç€çš„å¤šä¸ªitemå¯¹åº”çš„fake function key. è¿™äº›itemä¼šæ˜¾ç¤ºåœ¨menubarçš„æœ€åé¢.\n  menu-bar-update-hook\nåœ¨é‡æ–°åˆ·æ–°menu barä¹‹å‰ä¼šè§¦å‘è¯¥hook.\n  Tool bars Tool-barçš„å®šä¹‰ä¸menu-barçš„å®šä¹‰åŠå…¶ç±»ä¼¼,åªæ˜¯fake â€œfunction key\"ç”±\"menu-bar\"å˜ä¸ºäº†\"tool-barâ€. ä¾‹å¦‚:\n(define-key global-map [tool-bar KEY] ITEM) åŒæ ·,ä¹Ÿå¯ä»¥é€šè¿‡ä¸ºmajor modeçš„local mapæ·»åŠ `[tool-bar FOO]â€˜ç»‘å®šæ¥è®¾ç½®ç‰¹å®šmajor-modeçš„tool-bar\nä½ è¿˜å¯ä»¥ä¸ºModifier-key(shift,control,metaâ€¦)+é¼ æ ‡ç‚¹å‡»å®šä¹‰ä¸åŒçš„æ„ä¹‰. ä¾‹å¦‚:\n;; if the original item was defined this way, (define-key global-map [tool-bar shell] '(menu-item \"Shell\" shell :image (image :type xpm :file \"shell.xpm\"))) ;; here is how you can define clicking on the same tool bar image with the shift modifier: (define-key global-map [tool-bar S-shell] 'some-command) ä½†æ˜¯ITEMä¸­çš„REAL-BINDINGå¿…é¡»æ˜¯ä¸€ä¸ªcommand,è€Œä¸èƒ½æ˜¯keymap\nITEMä¸­é™¤äº†èƒ½ä½¿ç”¨ä¸€èˆ¬çš„extended menu itemä¸­çš„å±æ€§å¤–,è¿˜èƒ½ä½¿ç”¨`:imageâ€™å±æ€§æ¥æŒ‡å®šæ˜¾ç¤ºçš„å›¾æ ‡.\n  `:image IMAGEâ€™\nè¿™é‡ŒIMAGEå¯ä»¥æ˜¯ä¸€ä¸ªimageå¯¹è±¡,æˆ–ä¸€ä¸ªç”±4ä¸ªimageå¯¹è±¡ç»„æˆçš„vector.\nè‹¥IMAGEæ˜¯ä¸€ä¸ªç”±4ä¸ªimageå¯¹è±¡ç»„æˆçš„vector,åˆ™åœ¨ä¸åŒçš„æ¡ä»¶ä¸‹ä¼šå±•ç¤ºä¸åŒçš„imageå¯¹è±¡:\n   item 0 Used when the item is enabled and selected.     item 1 Used when the item is enabled and deselected.   item 2 Used when the item is disabled and selected.   item 3 Used when the item is disabled and deselected.    è‹¥IMAGEä¸ºå•ä¸ªçš„imageå¯¹è±¡,åˆ™å½“è¯¥menu item disableæ—¶,Emacsè‡ªåŠ¨ä½¿ç”¨edge-detectionç®—æ³•ä¿®æ”¹imageçš„æ˜¾ç¤º\n  `:rtl IMAGE'\nè¡¨ç¤ºå½“ä½¿ç”¨right-to-leftè¯­è¨€æ—¶,æ˜¾ç¤ºçš„å›¾åƒå†…å®¹.\n  ç›¸å…³å‡½æ•°ä¸å˜é‡\n  tool-bar-map\né»˜è®¤æƒ…å†µä¸‹,`[tool-bar]â€˜çš„å®šä¹‰æ˜¯é€šè¿‡å¦‚ä¸‹ä»£ç å®ç°çš„:\n(global-set-key [tool-bar] `(menu-item ,(purecopy \"tool bar\") ignore :filter tool-bar-make-keymap)) è¿™é‡Œå‡½æ•°`tool-bar-make-keymapâ€™ä¼šä»å˜é‡`tool-bar-mapâ€™ä¸­åŠ¨æ€æ´¾ç”Ÿå‡ºå®é™…çš„tool-bar map. å› æ­¤å¯ä»¥é€šè¿‡ä¿®æ”¹è¯¥å˜é‡çš„å€¼æ¥ä¿®æ”¹é»˜è®¤çš„global tool-bar. åœ¨æŸäº›Major modeä¸­(ä¾‹å¦‚Info mode)æ˜¯é€šè¿‡å°†`tool-bar-mapâ€™è®¾ä¸ºbuffer-local,å†è®¾ç½®è¯¥å€¼çš„æ–¹å¼æ¥ä»£æ›¿global tool barçš„.\n  (tool-bar-add-item icon def key \u0026rest props)\né€šè¿‡ä¿®æ”¹`tool-bar-mapâ€™çš„æ–¹å¼,æ·»åŠ itemåˆ°tool barä¸­. å…¶ä¸­\nICONä¸ºXPM,XBMæˆ–PBMæ–‡ä»¶çš„ base name. ä¾‹å¦‚è‹¥ICONä¸º\"exit\",åˆ™emacsä¼šä¾æ¬¡æŸ¥æ‰¾exit.xpm,exit.pbmå’Œexit.xbm\nDEFä¸ºå®é™…è°ƒç”¨çš„å‘½ä»¤\nKEYä¸ºthe fake function key symbol in the prefix keymap.\nPROPSåˆ™ä¸ºtool bar menu itemçš„å…¶ä»–å±æ€§.\nTo define items in some local map, bind â€˜tool-bar-mapâ€™ with â€˜letâ€™ around calls of this function:\n(defvar foo-tool-bar-map (let ((tool-bar-map (make-sparse-keymap))) (tool-bar-add-item â€¦) â€¦ tool-bar-map))   (tool-bar-add-item-from-menu command icon \u0026optional map \u0026rest props)\nç”¨è¯¥å‡½æ•°å¯ä»¥å°†menu barä¸­çš„ç»‘å®šæ·»åŠ åˆ°tool barä¸­æ¥.\nå„å‚æ•°è¯´æ˜ä¸tool-bar-add-item iconç±»ä¼¼.\nThe binding of COMMAND is looked up in the menu bar in MAP (default â€˜global-mapâ€™)\nMAP must contain an appropriate keymap bound to â€˜[menu-bar]â€™.\nè¯¥å‡½æ•°ä¼šä¿®æ”¹`tool-bar-mapâ€™,å› æ­¤æœ€å¥½åªåœ¨ä¿®æ”¹global tool bar itemæ—¶æ‰ä½¿ç”¨è¯¥å‡½æ•°\n  (tool-bar-local-item-from-menu command icon in-map \u0026optional from-map \u0026rest prop)\nè¯¥å‡½æ•°å¯ä»¥ç”¨æ¥åˆ›å»ºéå…¨å±€çš„tool bar items.\nä½¿ç”¨æ–¹å¼ç±»ä¼¼`tool-baar-add-item-from-menu',åªæ˜¯å¤šäº†ä¸ªIN-MAPå‚æ•°ç”¨æ¥æŒ‡æ˜æ–°åŠ çš„tool bar itemæ”¾åœ¨å“ªä¸ªkeymapä¸­.\n  auto-resize-tool-bars\nè‹¥è¯¥å˜é‡å€¼ä¸ºénil,åˆ™tool barä¼šè‡ªåŠ¨æ”¹å˜å¤§å°ä»¥ä¾¿åœ¨ä¸€ä¸ªframeä¸­èƒ½æ˜¾ç¤ºå‡ºæ‰€æœ‰çš„tool bar item\nè‹¥å˜é‡å€¼ä¸ºâ€™grow-only,åˆ™tool baråªè‡ªåŠ¨å¢å¤§,è€Œä¸è‡ªåŠ¨ç¼©å°. è¦æƒ³ç¼©å°tool bar,å¿…é¡»ç”¨æˆ·æ‰‹å·¥è¾“å…¥`C-l'\n  auto-raise-tool-bar-buttons\nè‹¥è¯¥å˜é‡ä¸ºénil,åˆ™å½“é¼ æ ‡ç§»åˆ°itemä¸Šæ—¶,è¯¥itemä¼šå‡¸èµ·\n  tool-bar-button-margin\næŒ‡å®šäº†tool bar itemçš„extra margin. å•ä½ä¸ºåƒç´ \n  tool-bar-button-relief\nè¯¥å˜é‡å€¼æŒ‡å®šäº†tool bar itemçš„é˜´å½±å®½åº¦,å•ä½ä¸ºåƒç´ \n  tool-bar-border\nThis variable specifies the height of the border drawn below the tool bar area. An integer specifies height as a number of pixels.\nIf the value is one of â€˜internal-border-widthâ€™ (the default) or â€˜border-widthâ€™, the tool bar border height corresponds to the corresponding frame parameter.\n  Modifying Menus å½“ä½¿ç”¨`define-keyâ€™å¾€menuä¸­æ·»åŠ itemæ—¶,ä¼šæŠŠæ–°åŠ çš„itemæ”¾åˆ°menuçš„ç¬¬ä¸€é¡¹çš„ä½ç½®.\nè‹¥æƒ³æŒ‡å®šæ–°åŠ itemçš„ä½ç½®,éœ€è¦ä½¿ç”¨`define-key-after'\n  (define-key-after map key binding \u0026optional after)\nä¸`define-keyâ€™ç±»ä¼¼,åœ¨MAPä¸­å°†KEYç»‘å®šåˆ°BINDING. ä½†æ˜¯ä½ç½®ç”±AFTERå†³å®š.\nThe argument KEY should be of length oneâ€”a vector or string with just one element.\nBut AFTER should be a single event typeâ€”a symbol or a character, not a sequence.\nå…ˆåŠ å…¥çš„itemä½ç½®åœ¨AFTERä¹‹å,è‹¥AFTERä¸ºtæˆ–nil,åˆ™è¡¨ç¤ºæ–°itemä¼šæ”¾åœ¨æœ€åçš„ä½ç½®.\nä¸‹é¢æ˜¯ä¸€äº›ä¾‹å­\n;; makes a binding for the fake function key  and puts it right after the binding for . (define-key-after my-menu [drink] '(\"Drink\" . drink-command) 'eat) ;; Here is how to insert an item called â€˜Workâ€™ in the â€˜Signalsâ€™ menu ;; of Shell mode, after the item â€˜breakâ€™: (define-key-after (lookup-key shell-mode-map [menu-bar signals]) [work] '(\"Work\" . work-command) 'break)   Easy Menu ä½¿ç”¨å®`easy-menu-define symbol maps doc menuâ€™å¯ä»¥å¾ˆå®¹æ˜“çš„å®šä¹‰pop-up-menu / menu-bar-menu\n  (easy-menu-define symbol maps doc menu)\nè¯¥å®å®šä¹‰ä¸€ä¸ªpop-up-menu / menu-bar-menu,å…¶å†…å®¹ç”±MENUå†³å®š.\nè‹¥å‚æ•°SYMBOLéç©º,åˆ™ä¼šç”Ÿæˆä¸€ä¸ªåä¸ºSYMBOLçš„å‡½æ•°,è¯¥å‡½æ•°ç”¨æ¥å¼¹å‡ºè¯¥menu. ä¸”è¯¥å‡½æ•°ä½¿ç”¨DOCä½œä¸ºå…¶çš„doc-string.\nå‚æ•°SYMBOLä¸éœ€è¦è¢«å¼•ç”¨.\nMAPSå¯ä»¥ä¸ºä¸€ä¸ªkeymap,ä¹Ÿå¯ä»¥ä¸ºä¸€ä¸ªç”±keymapç»„æˆçš„list.\n if MAPS is a keymap, the menu is added to that keymap, as a top-level menu for the menu bar It can also be a list of keymaps, in which case the menu is added separately to each of those keymaps.  MENUå‚æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¿…é¡»ä¸ºå­—ç¬¦ä¸²,è¯¥å­—ç¬¦ä¸²è¢«ä½œä¸ºmenu label.\nMENUå‚æ•°ä¸­ç´§è·Ÿç€çš„æ˜¯ä»¥ä¸‹çš„é”®å€¼å¯¹çš„ä»»æ„ç»„åˆ:\n  :filter FUNCTION\nFUNCTIONä¼šæ¥æ”¶å”¯ä¸€çš„ä¸€ä¸ªå‡½æ•°:å…¶ä»–menu itemç»„æˆçš„åˆ—è¡¨. å…¶è¿”å›å€¼ä½œä¸ºmenuä¸­æ˜¾ç¤ºçš„çœŸå®item\n  :visible VISIBLE-FORM\nVISIBLE-FORMçš„æ‰§è¡Œç»“æœå†³å®šäº†è¯¥itemæ˜¯å¦å¯è§\n  :active ENABLE-FORM\nENABLE-FORMçš„æ‰§è¡Œç»“æœå†³å®šäº†è¯¥itemæ˜¯å¦å¯é€‰.\n  å‚æ•°MENUå¯ä»¥æ˜¯å¦‚ä¸‹å‡ ç§å½¢å¼:\n  [NAME CALLBACK ENABLE]\nNAMEä¸ºä¸€ä¸ªå­—ç¬¦ä¸²,è¡¨ç¤ºmenu itemçš„åå­—\nCALLBACKä¸ºç‚¹å‡»è¯¥itemæ—¶è¦è¿è¡Œçš„å‘½ä»¤æˆ–S-è¡¨è¾¾å¼\nENABLEä¸ºä¸€ä¸ªS-è¡¨è¾¾å¼,å…¶æ‰§è¡Œç»“æœå†³å®šäº†è¯¥itemæ˜¯å¦å¯ç”¨.\n  [MENU CALLBACK [KEYWORD ARG]â€¦]\nè¿™é‡ŒKEYWORDä¸ARGå¯¹å¿…é¡»æ˜¯å¦‚ä¸‹å‡ ç§:\n  :keys KEYS\nKEYSä¸ºä¸menu itemç­‰ä»·çš„keyboardé”®åºåˆ—,å®ƒéœ€ä¸ºå­—ç¬¦ä¸²æ ¼å¼\n  :key-sequence KEYS\nè¯¥KEYSç”¨æ¥åŠ é€ŸEmacsç¬¬ä¸€æ¬¡æ˜¾ç¤ºmenu.\nè‹¥ä½ çŸ¥é“è¯¥menu itemæ²¡æœ‰å¯¹åº”çš„keyboardé”®åºåˆ—,åˆ™KEYSåº”è¯¥è®¾æˆnil,å¦åˆ™å®ƒåº”è¯¥æ˜¯è¡¨ç¤ºè¯¥é”®åºåˆ—çš„stringæˆ–vector\n  :active ENABLE\nENABLEä¸ºä¸€ä¸ªSè¡¨è¾¾å¼,å…¶è®¡ç®—ç»“æœå†³å®šäº†è¯¥itemæ˜¯å¦å¯ç”¨\n  :visible INCLUDE\nINCLUDEä¸ºä¸€ä¸ªSè¡¨è¾¾å¼,å…¶è®¡ç®—ç»“æœå†³å®šäº†è¯¥itemæ˜¯å¦å¯è§\n  :label FORM\nFORMæ˜¯ä¸€ä¸ªSè¡¨è¾¾å¼,å…¶è®¡ç®—ç»“æœä½œä¸ºè¯¥menu itemçš„æ ‡ç­¾(é»˜è®¤ä¸ºå‚æ•°NAME)\n  :suffix FORM\nFORMæ˜¯ä¸€ä¸ªSè¡¨è¾¾å¼,å…¶è®¡ç®—ç»“æœä¼šä½œä¸ºåç¼€è‡ªåŠ¨åŠ åˆ°menu itemæ ‡ç­¾å\n  :style STYLE\nSTYLEä¸ºä¸€ä¸ªsymbol,å®ƒå†³å®šäº†è¯¥itemçš„ç±»å‹.\nå®ƒå¯ä»¥æ˜¯ä»¥ä¸‹å‡ ä¸ªå€¼:\n   â€˜toggle checkbox     â€˜radio radio button   å…¶ä»– ordinary menu item      :selected SELECTED\nSELECTEDä¸ºä¸€ä¸ªSè¡¨è¾¾å¼,å…¶è®¡ç®—ç»“æœå†³å®šäº†è¯¥checkbox itemæˆ–radio button itemæ˜¯å¦è¢«é€‰ä¸­\n  :help HELP\nHELPä¸ºä¸€ä¸ªå­—ç¬¦ä¸²,æè¿°äº†menu item\n    menu-string\nMENUä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²,åˆ™è¯¥å­—ç¬¦ä¸²åœ¨menuä¸­æ˜¾ç¤ºä¸ºä¸€æ®µä¸å¯ç”¨çš„æ–‡æœ¬.\nè‹¥å­—ç¬¦ä¸²ä»¥`-â€˜å¼€å¤´,åˆ™è§£é‡Šä¸ºmenu-separator\n  (MENU1 MENU2 â€¦)\nMENUè¿˜å¯ä»¥ä½¿ä¸Šè¿°MENUæ ¼å¼ç»„æˆçš„list,åˆ™è¡¨ç¤ºä¸ºsubmenu\n    ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­:\n(easy-menu-define words-menu global-map \"Menu for word navigation commands.\" '(\"Words\" [\"Forward word\" forward-word] [\"Backward word\" backward-word])) Major Mode and Minor Mode Hooks Emacsä¸­å¤§å¤šæ•°çš„hookä¸º\"normal hooks\",è¿™è¡¨ç¤ºè¯¥hookä¸­çš„å‡½æ•°ä¼šè¢«ä¸å¸¦å‚æ•°è°ƒç”¨,ä¸”ä»–ä»¬çš„è¿”å›å€¼ä¼šè¢«å¿½ç•¥. ä»¥`-hookâ€™ç»“å°¾çš„hookéƒ½æ˜¯\"normal hook\".\né`-hookâ€™ç»“å°¾çš„hookå¯èƒ½ä¸º\"abnormal hook\",è¿™è¡¨ç¤ºè¯¥hookä¸­çš„å‡½æ•°ä¼šè¢«å¸¦å‚æ•°è°ƒç”¨,æˆ–è€…ä»–ä»¬çš„è¿”å›å€¼ä¼šè¢«ä½¿ç”¨. ä¸€èˆ¬è¿™ç§`abormal hookâ€™çš„åç§°æ˜¯ä»¥`-functionsâ€™ç»“å°¾çš„.\nä»¥`-functionâ€™ç»“å°¾çš„hookè¡¨ç¤ºå®ƒçš„å€¼ä¸ºå•ä¸ªçš„å‡½æ•°,è€Œä¸æ˜¯å‡½æ•°åˆ—è¡¨,æ­¤æ—¶ ä¸èƒ½ç”¨`add-hookâ€™æ¥æ·»åŠ hookå‡½æ•°,è€Œéœ€è¦ä½¿ç”¨`add-functionâ€™ä»£æ›¿\nhookè§¦å‘å¼,æ’åœ¨å‰é¢çš„hookå‡½æ•°ä¼˜å…ˆè¢«è°ƒç”¨\nè°ƒç”¨Hookä¸­çš„å‡½æ•°   (run-hooks \u0026rest hookvars) è¯¥å‡½æ•°ä¾æ¬¡è°ƒç”¨hookvarsä¸­çš„hookå‡½æ•°. æ¯ä¸ªhookvaréƒ½æ˜¯ä¸€ä¸ª ç¬¦å·. ä¸”æ¯ä¸ªhookéƒ½éœ€ä¸ºä¸€ä¸ª\"normal hook\"\nè‹¥hookvarä¸ºbuffer-localå˜é‡,åˆ™è°ƒç”¨çš„hookå‡½æ•°ä»¥hookvarçš„buffer-localçš„å€¼ä¸ºå‡†,ä½† è‹¥æ­¤æ—¶hookå€¼ä¸­æœ‰å…ƒç´ t,åˆ™è¡¨ç¤ºå…¨å±€çš„hookå€¼ä¸­å®šä¹‰çš„å‡½æ•°ä¹Ÿä¼šè¢«è°ƒç”¨\n  (run-hook-with-args hook \u0026rest args) è¯¥å‡½æ•°ä»¥å‚æ•°argsè°ƒç”¨hookä¸­çš„å‡½æ•°,æ­¤æ—¶hookä¸º\"abnormal hook\"\n  (run-hook-with-args-until-failure hook \u0026rest args) ä»¥å‚æ•°argsä¾æ¬¡è°ƒç”¨abnormal hookä¸­çš„å‡½æ•°,ç›´åˆ°æŸä¸ªå‡½æ•°è¿”å›nilä¸ºæ­¢\nè¯¥å‡½æ•°è¿”å›æœ€åé‚£æ¬¡è°ƒç”¨å‡½æ•°çš„è¿”å›å€¼. å³è‹¥ç”±äºhookä¸­æŸä¸ªå‡½æ•°è¿”å›nilè€Œé€€å‡ºæ—¶ä¹Ÿè¿”å›nil,å¦åˆ™è¿”å›énilå€¼\n  (run-hook-with-args-until-success hook \u0026rest args) ä»¥å‚æ•°argsä¾æ¬¡è°ƒç”¨abnormal hookä¸­çš„å‡½æ•°,ç›´åˆ°æŸä¸ªå‡½æ•°è¿”å›énilä¸ºæ­¢\nè¯¥å‡½æ•°è¿”å›æœ€åé‚£æ¬¡è°ƒç”¨å‡½æ•°çš„è¿”å›å€¼. å³è‹¥ç”±äºhookä¸­æŸä¸ªå‡½æ•°è¿”å›énilè€Œé€€å‡ºæ—¶åˆ™è¿”å›è¯¥å€¼,å¦åˆ™è¿”å›nilå€¼\n  è®¾ç½®Hookå˜é‡   (add-hook hook function \u0026optional append local) ä¸ºhookæ·»åŠ functionä¸ºhookå‡½æ•°\nè‹¥functionå·²ç»å­˜åœ¨(ä½¿ç”¨equalè¿›è¡Œæ¯”è¾ƒ),åˆ™ä¸å†é‡å¤æ·»åŠ \nè‹¥functionçš„`permanent-local-hookâ€™å±æ€§énil,åˆ™ `kill-all-local-variablesâ€™æˆ–æ›´æ”¹major modeéƒ½ä¸ä¼šå°†è¯¥å‡½æ•°ä»hookçš„å½“å‰å€¼ä¸­è¢«åˆ é™¤\né»˜è®¤æƒ…å†µä¸‹,functionä¼šè¢«æ”¾åœ¨hookçš„æœ€å‰æ–¹ä¼˜å…ˆè°ƒç”¨,ä½†`appendâ€™å‚æ•°å¯ä»¥è®©functionæ·»åŠ åˆ°hookçš„æœ€åæ–¹,æœ€åè¢«è°ƒç”¨\nå‚æ•°`localâ€™è¡¨ç¤ºå°†functionåŠ å…¥buffer-local hookä¸­,è¯¥æ ‡å¿—ä¼šä½¿hookå˜ä¸ºbuffer-localå˜é‡,å¹¶åœ¨buffer-localå˜é‡å€¼ä¸­æ·»åŠ å…ƒç´ `tâ€™(è¡¨ç¤ºåŒæ—¶ä¹Ÿæ‰§è¡Œè¯¥hookçš„global value)\n  (remove-hook hook function \u0026optional local) è¯¥å‡½æ•°ä»hookä¸­ç§»é™¤function\nè‹¥å‚æ•°`localâ€™ä¸ºénil,åˆ™è¡¨ç¤ºå°†è¯¥hookå˜ä¸ºbuffer-local hook,ç„¶åç§»é™¤function\n  Major Modes æ¯ä¸ªMajor Modeéƒ½éœ€è¦æœ‰ä¸€ä¸ª\"mode hook\". Major Modeåœ¨å®Œæˆåˆå§‹åŒ–è¿‡ç¨‹çš„æœ€åä¸€ä¸ªæ­¥éª¤éƒ½åº”è¯¥æ˜¯è°ƒç”¨\"mode hook\"\næ¯ä¸ªMajor Modeéƒ½éœ€è¦ä¸€ä¸ªä»¥`-modeâ€™ç»“å°¾çš„å‘½ä»¤ç”¨æ¥è¿›å…¥è¯¥Major Mode\n  å‘½ä»¤(fundamental-mode) fundamental-modeä¸åŒ…å«ä»»æ„çš„ä¸è¯¥modeç›¸å…³çš„å‡½æ•°å®šä¹‰å’Œå˜é‡è®¾ç½®. å®ƒ ç”šè‡³æ²¡æœ‰mode hook\n  é…ç½®é¡¹major-mode è¯¥å˜é‡ä¸ºbuffer-localå˜é‡,å…¶å€¼ä¸ºä¸€ä¸ªsymbol,æ ‡è¯†äº†å½“å‰å¤„äºå“ªä¸ªmajor mode. å…¶æ ‡å‡†çš„é»˜è®¤å€¼ä¸º`fundamental-modeâ€™\nè‹¥é»˜è®¤å€¼ä¸ºnil,åˆ™å½“Emacsä½¿ç”¨å‘½ä»¤(ä¾‹å¦‚`switch-to-bufferâ€™)åˆ›å»ºæ–°buffer(??æ˜¯åˆ›å»ºå—??)æ—¶, æ–°bufferçš„major modeä¸ä¹‹å‰bufferä¿æŒä¸å˜ ä½†æ˜¯ä½œä¸ºä¸€ä¸ªç‰¹ä¾‹,è‹¥å‰ä¸€ä¸ªbufferçš„major-modeçš„`mode-classâ€™å±æ€§ä¸º`special',åˆ™ æ–°bufferçš„Major Modeä¸ºFundamental mode (å…·ä½“å‚è§Major Mode Conventions)\n  Major Mode Conventions å®šä¹‰Major Modeæ—¶,æœ‰å¾ˆå¤šæƒ¯ä¾‹éœ€è¦éµå®ˆ,å› æ­¤æ¨èä½¿ç”¨`define-derived-modeâ€™ä»ä¸€ä¸ªç°æˆçš„Major Modeä¸­ç»§æ‰¿æ–°Major Mode. è¯¥å®ä¼šè‡ªåŠ¨ç»´æŠ¤è¿™äº›æƒ¯ä¾‹.\nä¸‹é¢æ˜¯ä¸€äº›å¸¸è§çš„æƒ¯ä¾‹\n  è¿›å…¥Major Modeçš„å‘½ä»¤ä»¥`-modeâ€™ç»“å°¾\nä¸”å½“ä¸å¸¦å‚æ•°è°ƒç”¨æ—¶,è¯¥å‘½ä»¤é€šè¿‡è®¾ç½® keymap,syntax tableå’Œbuffer-localå˜é‡ å°†å½“å‰bufferåˆ‡æ¢åˆ°æ–°çš„Major Mode.\nè¯¥å‘½ä»¤ä¸èƒ½ä¿®æ”¹bufferçš„å†…å®¹\n  ä¸ºè¿›å…¥Major Modeçš„å‘½ä»¤æ·»å†™doc-string,ç®€è¦æè¿°ä¸€ä¸‹è¯¥modeæœ‰å“ªäº›ç‰¹æ®Šå‘½ä»¤\ndoc-stringä¸­å¯ä»¥ä½¿ç”¨`\\[COMMAND]',`\\[KEYMAP]â€˜å’Œ`\\â€˜æ¥è‡ªåŠ¨æ˜¾ç¤ºç”¨æˆ·è‡ªå®šä¹‰çš„é”®ç»‘å®š.\n  è¿›å…¥Major Modeçš„å‘½ä»¤çš„ç¬¬ä¸€ä¸ªåŠ¨ä½œåº”è¯¥æ˜¯è°ƒç”¨`kill-all-local-variablesâ€™\n`kill-all-local-variablesâ€™ä¼šå…ˆè§¦å‘`change-major-mode-hookâ€™,ç„¶åæ¸…ç†ä¹‹å‰çš„Major Modeè®¾ç½®çš„buffer-localå˜é‡\n  Major Mode Commandéœ€è¦è®¾ç½®buffer-localå˜é‡`major-modeâ€™çš„å€¼ä¸ºmajor mode commandçš„symbol.\nå‘½ä»¤`describe-modeâ€™ä¼šæ ¹æ®è¯¥å˜é‡è¾“å‡ºå¸®åŠ©æ–‡æ¡£\n  Major Mode Commandéœ€è¦è®¾ç½®buffer-localå˜é‡`major-nameâ€™çš„å€¼ä¸ºè¯¥major modeçš„\"pretty\" name.\n`major-nameâ€™é€šå¸¸ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²,ä¸”å®ƒçš„å€¼ç”¨æ¥ä¼šæ˜¾ç¤ºåœ¨mode lineä¸Š\n  ç”±äºEmacsåªæœ‰ä¸€ä¸ªå‘½åç©ºé—´,å› æ­¤æ‰€æœ‰ä¸Major Modeç›¸å…³çš„å˜é‡,å¸¸é‡å’Œå‡½æ•°,åº”è¯¥ä»¥è¯¥major modeåç§°ä¸ºå‰ç¼€\n  å½“Major Modeæ˜¯ç”¨æ¥ç¼–è¾‘ç‰¹å®šç»“æ„çš„æ–‡æœ¬æˆ–ç¼–ç¨‹è¯­è¨€æ—¶,å…·å¤‡æ ¹æ®ç»“æ„è‡ªåŠ¨ç¼©è¿›æ–‡æœ¬æ˜¯å¾ˆæœ‰ç”¨çš„ä¸€é¡¹åŠŸèƒ½,å› æ­¤è¿™ç±»major modeä¸€èˆ¬éƒ½ä¼šæœ‰ç¼©è¿›å‡½æ•°,å¹¶å°†å…¶è®¾ç½®ä¸ºå˜é‡`indent-line-functionâ€™çš„å€¼. åŒæ—¶ä¹Ÿå¯èƒ½è®¾ç½®å…¶ä»–ä¸€äº›å…³äºç¼©è¿›çš„å˜é‡çš„å€¼\n  Major Modeé€šå¸¸æœ‰å…¶è‡ªå·±çš„keymap,è¯¥keymapçš„åå­—ä¸€èˆ¬ä¸º`modeåç§°-mode-map'\nMajor Mode Commandåº”è¯¥è°ƒç”¨`use-local-mapâ€™å‡½æ•°æ¥å®‰è£…è‡ªå·±çš„keymap\n  Major Mode Keymapä¸­çš„é”®ç»‘å®š,ä¸€èˆ¬ä»¥`C-c'+æ§åˆ¶å­—ç¬¦æˆ–æ•°å­—æˆ–`{}:;â€˜ä¸ºå‰ç¼€.\n`C-câ€™+æ ‡ç‚¹ç¬¦å·æ˜¯ç•™ç»™minor modeä½¿ç”¨çš„.\n`C-c'+æ™®é€šå­—æ¯ç•™ç»™ç”¨æˆ·ä½¿ç”¨çš„\nmajor modeä¹Ÿå¯ä»¥é‡æ–°ç»‘å®š`M-n',`M-pâ€™ä½†åº”è¯¥è¡¨ç¤ºæŸç§å‘å‰å‘åç§»åŠ¨çš„å‘½ä»¤\n  ç¼–è¾‘æ–‡æœ¬çš„major modeä¸åº”è¯¥é‡å®šä¹‰ä¸ºä»»ä½•éæ¢è¡Œçš„å‘½ä»¤.\néç¼–è¾‘æ–‡æœ¬çš„major modeæ— æ­¤æ˜¾ç¤º\n  Major modeä¸åº”è¯¥ä¿®æ”¹å“ªäº›ä¼šä¸¥é‡å½±å“ç”¨æˆ·æ€§èƒ½çš„é…ç½®é¡¹(ä¾‹å¦‚æ˜¯å¦å¼€å¯Auto-Fill mode)\n  è‹¥major modeæœ‰è‡ªå·±çš„syntax table,åˆ™è¯¥syntax tableå˜é‡çš„åç§°è§„èŒƒä¸º`modeåç§°-mode-syntax-table'\n  è‹¥major modeå¸Œæœ›æ”¯æŒæŸç§ç¼–ç¨‹è¯­è¨€çš„æ³¨é‡Šè¯­æ³•,åˆ™éœ€è¦è®¾ç½®ä¸æ³¨é‡Šè¯­æ³•ç›¸å…³çš„å˜é‡.\nå…·ä½“å‚è§`comment-column',`comment-start-skip',`comment-start',`comment-end'\n  è‹¥major modeæœ‰è‡ªå·±çš„ç¼©å†™è¡¨,åˆ™éœ€è¦å­˜æ”¾åˆ°åä¸º`MODENAME-mode-abbrev-tableâ€™çš„å˜é‡ä¸­.\nIf the major mode command defines any abbrevs itself, it should pass â€˜tâ€™for the SYSTEM-FLAG argument to â€˜define-abbrevâ€™. è¯¦æƒ…å‚è§Defining Abbrevs\n  major modeé€šè¿‡è®¾ç½®buffer-localå˜é‡`font-lock-defaultsâ€™æ¥è®¾ç½®é«˜äº®\n  major modeä¸­ç”¨åˆ°çš„æ¯ä¸ªfaceéƒ½åº”è¯¥å°½å¯èƒ½çš„ä»å·²æœ‰çš„Emacs faceä¸­ç»§æ‰¿\n  major modeåº”è¯¥å‘Šè¯‰Imenuå¦‚ä½•æ‰¾å‡ºbufferä¸­çš„å„ä¸ªå®šä¹‰å’Œç« èŠ‚çš„ä½ç½®.\næ–¹æ³•æ˜¯é€šè¿‡è®¾ç½®`imeu-generic-expression',`imenu-prev-index-position-function',`imenu-extract-index-name-function',`imenu-create-index-function'. å…·ä½“å‚è§Imenu\n  major modeå¯ä»¥å®šä¹‰buffer localå˜é‡`eldoc-documentation-functionâ€™ä»¥ä¾¿eldocèƒ½æ”¯æŒè¯¥mode\n  major modeå¯ä»¥é€šè¿‡è®¾ç½®`completion-at-point-functionsâ€™æ¥æŒ‡å®šå¦‚ä½•å®ç°è¡¥å…¨. å…·ä½“å‚è§Completion in Buffers\n  åœ¨major mode commandä¸­ä½¿ç”¨`make-local-variableâ€™æ¥åˆ›å»ºbuffer-localå˜é‡.\nä¸è¦ä½¿ç”¨`make-variable-buffer-localâ€™æ¥åˆ›å»ºbuffer localå˜é‡ ,å› ä¸ºè¯¥å‡½æ•°ä¼šæ˜¯çš„å³ä½¿ä¸æ˜¯è¯¥modeçš„bufferä¸­çš„å˜é‡ä¹Ÿå˜æˆbuffer-localå˜é‡.\n  æ¯ä¸ªmajor modeéƒ½åº”è¯¥æœ‰ä¸€ä¸ªåä¸º`MODENAME-mode-hookâ€™çš„normal hook.\nmajor mode commandçš„æœ€åæ­¥éª¤åº”è¯¥æ˜¯ ä½¿ç”¨`run-mode-hooksâ€™ä¾æ¬¡è°ƒç”¨`change-major-mode-after-body-hook',`MODENAME-mode-hookâ€™å’Œ`after-change-major-mode-hookâ€™è¿™ä¸‰ä¸ªhook\n  è‹¥major modeä¸ºå­mode,åˆ™åœ¨major mode commandå¼€å§‹æ—¶è¿˜éœ€è¦è°ƒç”¨çˆ¶modeçš„major mode command\né€šè¿‡å®`define-derived-modeâ€™å®šä¹‰çš„modeä¼šè‡ªåŠ¨å®Œæˆè¿™ç§è®¾è®¡,ä½†è‹¥æ²¡æœ‰ä½¿ç”¨`define-derived-modeâ€™å®,åˆ™éœ€è¦æ‰‹å·¥è°ƒç”¨`delay-mode-hooksâ€™ä¸­çš„çˆ¶mode command\n  è‹¥ä»major modeåˆ‡æ¢æˆå…¶ä»–major mode,åˆ™ä¼šè§¦å‘`change-major-mode-hook',å¯ä»¥è¿›è¡Œä¸€äº›ç‰¹æ®Šå¤„ç†\n  è‹¥è¯¥major modeä»…ç”¨æ¥ç®¡ç†ç”±major modeè‡ªå·±äº§ç”Ÿçš„æ–‡æœ¬(è€Œä¸æ˜¯ç”¨æˆ·è¾“å…¥çš„å†…å®¹),åˆ™è¯¥major command symbolçš„`mode-classâ€™å±æ€§åº”è¯¥ä¸º`special',åƒä¸‹é¢æ‰€ç¤º:\n(put 'funny-mode 'mode-class 'special) é»˜è®¤æƒ…å†µä¸‹,è‹¥`major-modeâ€™çš„é»˜è®¤å€¼ä¸º`nil',åˆ™æ–°åˆ›å»ºçš„bufferä¼šç»§æ‰¿å½“å‰bufferçš„major mode. ä½†å¯¹äºå±æ€§`mode-classâ€™ä¸º`specialâ€™çš„major modeæ¥è¯´, æ–°åˆ›å»ºçš„bufferä½¿ç”¨Fundamental Modeä»£æ›¿,åƒDired,Rmail,Buffer Listè¿™äº›Major Modeéƒ½å¼€å¯äº†è¯¥ç‰¹æ€§\nåŒæ—¶,åœ¨è¿™äº›special major modeä¸­è°ƒç”¨`view-bufferâ€™å‡½æ•°å¹¶ä¸èƒ½å¯ç”¨`view-mode' minor mode,å› ä¸ºè¿™ç±»çš„modeé€šå¸¸éƒ½æä¾›äº†ä»–ä»¬è‡ªå·±çš„ç±»ä¼¼view-modeçš„é”®ç»‘å®š\nè¿™ç±»major mode,æ¨èä½¿ç”¨`define-derived-modeâ€™ç›´æ¥ä»`special-modeâ€™ä¸­ç»§æ‰¿\n  é€šè¿‡é…ç½®`auto-mode-alistâ€™å˜é‡,å¯ä»¥è®©Emacsæ‰“å¼€ç‰¹å®šè§„åˆ™çš„æ–‡ä»¶åæ—¶è‡ªåŠ¨é€‰ä¸­Major Mode.\nIf you define the mode command to autoload, you should add this element in the same file that calls â€˜autoloadâ€™.\nIf you use an autoload cookie for the mode command, you can also use an autoload cookie for the form that adds the element (å‚è§autoload cookie)\n  å®šä¹‰modeçš„ä»£ç å¯èƒ½ä¼šè¢«é‡å¤æ‰§è¡Œ\nå› æ­¤åœ¨å®šä¹‰ä¸modeç›¸å…³çš„å˜é‡æ—¶,æ¨èä½¿ç”¨`defvarâ€™å’Œ`defcustom'\n  How Emacs Chooses a Major Mode å½“Emacsæ‰“å¼€æ–‡ä»¶æ—¶,ä¼šè‡ªåŠ¨æ ¹æ®æ–‡ä»¶åç§°å’Œæ–‡ä»¶å†…å®¹é€‰æ‹©åˆé€‚çš„major mode\n  å‘½ä»¤(normal-mode \u0026optional find-file)\nè®©Emacsä¸ºå½“å‰bufferé€‰æ‹©åˆé€‚çš„major-mode\nè¯¥å‡½æ•°å…ˆè°ƒç”¨`set-auto-modeâ€™å‡½æ•°,ç„¶åè¿è¡Œ`hack-local-variablesâ€™æ¥ä½¿file localå˜é‡ç”Ÿæ•ˆ. å‚è§Local Variables in Files å’ŒFile Local Variables\nè‹¥å‚æ•°`find-fileâ€™ä¸ºénil,åˆ™normal-modeå‡è®¾æ˜¯è¢«`find-fileâ€™å‡½æ•°è°ƒç”¨çš„,è¿™ç§æƒ…å†µä¸‹,å®ƒä¼šæ ¹æ®`enable-local-variablesâ€™çš„å€¼æ¥å†³å®šæ˜¯å¦åº”ç”¨file localå˜é‡çš„å€¼.\nè‹¥å‚æ•°`find-fileâ€™ä¸ºnil,åˆ™æ— æ¡ä»¶åº”ç”¨file localå˜é‡å€¼\nè¯¥å‡½æ•°å†…éƒ¨è°ƒç”¨`set-auto-modeâ€™æ¥é€‰æ‹©major mode,è‹¥é€‰æ‹©å¤±è´¥,åˆ™æ ¹æ®`major-modeâ€™çš„é»˜è®¤å€¼æ¥å†³å®šåº”ç”¨major mode\n  å‡½æ•°(set-auto-mode \u0026optional keep-mode-if-same)\nè¯¥å‡½æ•°ä¸ºå½“å‰bufferé€‰æ‹©åˆé€‚çš„major-mode,å…¶é€‰æ‹©çš„ä¾æ®ä¾æ¬¡ä¸º\n  æ ¹æ®`_*_â€˜è¡Œæˆ–æ–‡ä»¶ç»“å°¾å¤„çš„`mode:â€™ file localå˜é‡å€¼.\næ³¨æ„: è‹¥`enable-local-variablesâ€™ä¸ºnil,æˆ–æ–‡ä»¶åç§°åŒ¹é…`inhibit-local-variables-regexpsâ€™ä¸­çš„å…ƒç´ ,åˆ™Emacsä¸ä½¿ç”¨file localå˜é‡\n  æ ¹æ®`interpreter-mode-alistâ€™å˜é‡å€¼å’Œ`#!â€˜è¡Œæ¨æµ‹\n  æ ¹æ®`magic-mode-alistâ€™å˜é‡å€¼å’Œbufferå¼€å¤´çš„å†…å®¹æ¨æµ‹\n  æ ¹æ®`auto-mode-alistâ€™å˜é‡å€¼å’Œæ–‡ä»¶åç§°æ¨æµ‹\n  è‹¥å‚æ•°keep-mode-if-sameä¸ºénil,åˆ™è‹¥è¯¥bufferå·²ç»å¤„äºåˆé€‚çš„modeçŠ¶æ€æ—¶,å¹¶ä¸å†æ­¤è°ƒç”¨major mode coomand. è¿™æ ·æ˜¯ä¸ºäº†é˜²æ­¢ç”¨æˆ·è‡ªå®šä¹‰çš„buffer loal å˜é‡å€¼è¢«é‡è®¾\n  (set-buffer-major-mode buffer) è®¾ç½®æŒ‡å®šbufferçš„major modeä¸º`major-modeâ€™çš„é»˜è®¤å€¼.\nè‹¥é»˜è®¤å€¼ä¸ºnil,åˆ™è¡¨ç¤ºä½¿ç”¨å½“å‰bufferçš„major mode.\nä½œä¸ºç‰¹ä¾‹,`*scratchâ€™ bufferçš„å€¼ä¼šè¢«è®¾ç½®ä¸º`initial-major-mode'\nä½å±‚çš„åŸå§‹åˆ›å»ºbufferçš„å‡½æ•°ä¸ä¼šè°ƒç”¨è¯¥å‡½æ•°,ä½†ä¸­å±‚çš„åˆ›å»ºbufferçš„å‡½æ•°(ä¾‹å¦‚`switch-to-bufferâ€™å’Œ`find-file-noselect')åœ¨åˆ›å»ºbufferæ—¶ä¼šä½¿ç”¨è¯¥å‡½æ•°\n  é…ç½®é¡¹initial-major-mode\nè¯¥å€¼å†³å®šäº†åˆå§‹çš„`*scratch*' bufferçš„major mode. è¯¥å˜é‡çš„å€¼åº”è¯¥ä¸ºmajor mode commandçš„symbol\n  å˜é‡interpreter-mode-alist\nè¯¥å˜é‡å‘Šè¯‰Emacså¦‚ä½•æ ¹æ®`#!â€˜è¡Œçš„å†…å®¹åˆ¤æ–­major mode\nå®ƒä¸€ä¸ªalist,å…¶å…ƒç´ æ ¼å¼ä¸º`(REGEXP . MODE)â€™ è¡¨ç¤º`#!â€˜è¡Œå†…å®¹åŒ¹é…REGEXPçš„å…¶Major Modeä¸ºMODE\n  å˜é‡majic-mode-alist\nè¯¥å˜é‡å‘Šè¯‰Emacså¦‚ä½•æ ¹æ®bufferå†…å®¹åˆ¤æ–­major mode\nè¯¥å€¼ä¸ºä¸€ä¸ªalist,å…¶å…ƒç´ æ ¼å¼ä¸º`(REGEXP . FUNCTION)â€™, è‹¥bufferå¼€å¤´éƒ¨åˆ†çš„å†…å®¹åŒ¹é…REGEXP,ä¸”FUNCTIONä¸ºénil,åˆ™Emacsä¼šé€šè¿‡è°ƒç”¨è¯¥FUNCTIONåˆ‡æ¢Major Mode\nè‹¥FUNCTIONä¸ºnil,åˆ™é€šè¿‡å˜é‡`auto-mode-alistâ€™åˆ¤æ–­Major Mode\n  å˜é‡`majic-fallback-mode-alist' è¯¥å˜é‡ç±»ä¼¼`magic-mode-alist',ä½† åªæœ‰åœ¨`auto-mode-alistâ€™ä¸­æ²¡æœ‰ç›¸åº”é…ç½®æ—¶æ‰ç”Ÿæ•ˆ\n  å˜é‡`auto-mode-alist' è¯¥å˜é‡å‘Šè¯‰Emacså¦‚ä½•æ ¹æ®æ–‡ä»¶åç§°åˆ¤æ–­major mode\nè¯¥å€¼ä¸ºä¸€ä¸ªalist,å…¶å…ƒç´ æ ¼å¼ ä¸€èˆ¬ ä¸º`(REGEXP . MODE-FUNCTOIN)â€˜è¡¨ç¤ºæ–‡ä»¶åç§°åŒ¹é…REGEXPçš„è¯,è°ƒç”¨MODE-FUNCTIONæ¥é€‰æ‹©Major Mode(è‹¥è®¿é—®çš„æ–‡ä»¶æ˜¯æ‰©å±•è¿‡çš„æ–‡ä»¶å ,åˆ™æ–‡ä»¶åä¼šå…ˆç»è¿‡`file-name-sans-versionsâ€™è¿‡æ»¤æ‰ç‰ˆæœ¬å·æˆ–å¤‡ä»½æ ‡å¿—)\nå…ƒç´ è¿˜å¯èƒ½ä¸ºæ ¼å¼`(REGEXP FUNCTION t)',è¡¨ç¤ºè°ƒç”¨FUNCTIONå,Emacsç»§ç»­æœç´¢`auto_mode-alistâ€™å¹¶é€‰æ‹©åˆé€‚çš„Major Mode. è¯¥åŠŸèƒ½åœ¨å¤„ç†å‹ç¼©çš„æ–‡ä»¶æ—¶ç‰¹åˆ«æœ‰ç”¨.\n  Mode Help   å‘½ä»¤(describe-mode \u0026optional buffer)\nè¯¥å‘½ä»¤æ˜¾ç¤ºæŒ‡å®šbuffer(é»˜è®¤ä¸ºå½“å‰buffer)çš„major modeå’Œminior modeçš„ç›¸å…³æ–‡æ¡£.\nè¯¥å‡½æ•°ä½¿ç”¨`documentationâ€™å‡½æ•°ä»major mode commandå’Œminior mode commandä¸­è·å–doc-string\n  Derived Modes åˆ›å»ºä¸€ä¸ªæ–°çš„major modeçš„æ¨èæ–¹æ³•æ˜¯ä½¿ç”¨`define-derived-modeâ€™ä»ä¸€ä¸ªç°æœ‰çš„major modeä¸­ç»§æ‰¿å‡ºæ¥.\nå³ä½¿æ²¡æœ‰æ¥è¿‘çš„major mode,é‚£ä¹Ÿåº”è¯¥ä»`text-modeâ€™,`special-modeâ€™æˆ–`prog-modeâ€™è¿™ä¸‰å¤§åŸºæœ¬major modeä¸­é€‰ä¸€ä¸ªæ¥ç»§æ‰¿.\nå®åœ¨ä¸è¡Œ,é‚£å°±ä»`fundamental-modeâ€™ä¸­ç»§æ‰¿\n  å®(define-derived-mode VARIANT PARENT NAME DOCSTRING KEYWORD-ARGSâ€¦ BODYâ€¦)\nè¯¥å®å®šä¹‰VARIANTä¸ºæ–°Major Mode Command,è¯¥Major Mode,ç»§æ‰¿è‡ªPARENT,ä¸”ä»¥NAMEä¸ºMode Name\nå‚æ•°VARIANTå’ŒPARENTä¸ºä¸è¢«å¼•ç”¨çš„symbol\næ–°çš„Major Modeè¦†ç›–äº†PARENT Modeçš„ä»¥ä¸‹å‡ ä¸ªæ–¹é¢:\n  æ–°Major Modeæ‹¥æœ‰è‡ªå·±çš„keymap,åä¸º`VARIANT-map'. é™¤é`VARIANT-mapâ€™åœ¨è°ƒç”¨`define-derived-modeâ€™å‰å·²ç»è¢«è®¾ç½®å¹¶ä¸”å®šä¹‰äº†çˆ¶keymap,å¦åˆ™PARENT modeçš„keymapä¸º`VARIANT-mapâ€™çš„çˆ¶keymap\n  æ–°Major Modeæ‹¥æœ‰è‡ªå·±çš„syntax table,åä¸º`VARIANT-syntax-table',ä½†è¯¥åå­—å¯ä»¥é€šè¿‡`:syntax-table' keywordå…³é”®å­—ä¿®æ”¹ é™¤é`VARIANT-syntax-tableåœ¨è°ƒç”¨`define-derived-modeâ€™å‰å·²ç»è¢«è®¾ç½®å¹¶ä¸”å®šä¹‰äº†çˆ¶syntax-table,å¦åˆ™PARENT modeçš„syntax-tableä¸º`VARIANT-syntax-tableçš„çˆ¶syntax-table\n  æ–°Major Modeæ‹¥æœ‰è‡ªå·±çš„abbrev table,å­˜åœ¨åä¸º`VARIANT-abbrev-tableâ€™çš„å˜é‡ä¸­,ä½†è¯¥å˜é‡åå¯ä»¥é€šè¿‡`:abbrev-table' keywordå…³é”®å­—ä¿®æ”¹\n  æ–°Major Modeæœ‰è‡ªå·±çš„mode hook,åä¸º`VARIANT-hook'. è¯¥hookä¼šåœ¨è¿è¡Œå®Œå…¶ç¥–å…ˆçš„mode hookå,é€šè¿‡`run-mode-hooksâ€™è°ƒç”¨\n  å¯ä»¥åœ¨å‚æ•°BODYæŒ‡å®šäº†å¦‚ä½•è¦†ç›–PARENT modeçš„å…¶ä»–è®¾ç½®. æ³¨æ„ä¸è¦åŠ `interactiveâ€™è¯­å¥,`define-derived-modeâ€™ä¼šè‡ªåŠ¨æ·»åŠ è¯¥è¯­å¥\nè‹¥PARENTæœ‰ä¸€ä¸ªénilçš„`mode-classâ€™å±æ€§,åˆ™`define-derived-modeâ€™ä¼šè®¾ç½®VARIANTçš„`mode-classâ€™å±æ€§ä¸ºç›¸åŒçš„å€¼.\nå‚æ•°PARENTä¹Ÿå¯ä»¥ä¸ºnil,è¡¨ç¤ºæ–°Major Modeæ²¡æœ‰çˆ¶mode\nå‚æ•°DOCSTRINGä¸ºå¯¹æ–°Major Modeçš„è¯´æ˜,`define-derived-modeâ€™ä¼šåœ¨æ­¤åŸºç¡€ä¸Šå¢æ·»ä¸€äº›å…³äºmode hook,mode keymapçš„ä¿¡æ¯,è¯¥å‚æ•°å¯ä»¥çœç•¥\n`define-drived-modeâ€™æ”¯æŒä»¥ä¸‹å‡ ç§KEYWORD-ARG\n  `:syntax-table'\nä¸ºæ–°Major ModeæŒ‡å®šsyntax tableå˜é‡.\nè‹¥å‚æ•°ä¸ºnil,åˆ™è¡¨ç¤ºä½¿ç”¨PARENT modeçš„syntax tableå˜é‡,è‹¥å‚æ•°PARENTä¸ºnil,åˆ™ä½¿ç”¨æ ‡å‡†syntax-table\n  `:abbrev-table'\nä¸ºæ–°Major ModeæŒ‡å®šabbrev-tableå˜é‡.\nè‹¥å‚æ•°ä¸ºnil,è¡¨ç¤ºä½¿ç”¨PARENT modeçš„abbrev-tableå˜é‡,è‹¥å‚æ•°PARENTä¸ºnil,åˆ™ä½¿ç”¨`fundamental-mode-abbrev-table'\n  `:group'\næŒ‡å®šäº†è¯¥modeæ‰€å±çš„customization group.\n    å‡½æ•°(derived-mode-p \u0026rest modes)\nå½“å‰Major Modeæ˜¯å¦ç»§æ‰¿è‡ªmodesä¸­çš„ä»»æ„ä¸€ä¸ªmode, modesä¸ºsymbolåˆ—è¡¨\n  Basic Major Modes é™¤äº†Fundamental modeå¤–,è¿˜æœ‰ä¸‰ä¸ªæ™®éè¢«ç»§æ‰¿çš„mode:Text mode,Prog modeå’ŒSpecial mode\n  å‘½ä»¤(text-mode)\nText-modeç”¨äºç¼–è¾‘è‡ªç„¶è¯­è¨€.\nIt defines the â€˜\"â€™ and â€˜\\â€™ characters as having punctuation syntax (å‚è§ Syntax Class Table)\nè¯¥modeä¸‹ç»‘å®š`M-â€˜ä¸º`ispell-complete-wordâ€™\n  Prog-mode\nProg-modeç”¨äºç¼–è¾‘ç¼–ç¨‹è¯­è¨€. å¤§uå¶æ•°çš„ç¼–ç¨‹è¯­è¨€major modeéƒ½ç»§æ‰¿è‡ªè¯¥mode\nProg-modeè®¾ç½®`parse-sexp-ignore-commentsâ€™ä¸º`t',è®¾ç½®`bidi-paragraph-directionâ€™ä¸º`left-to-right'\n  Special-mode\nSpecial-modeå¸¸ç”¨äºé‚£äº›å†…å®¹ç”±Emacsè‡ªåŠ¨äº§ç”Ÿ(è€Œä¸æ˜¯äººå·¥è¾“å…¥æˆ–ä»æ–‡ä»¶è¯»å–)çš„bufferä¸­.\nä»Special modeç»§æ‰¿çš„modeä¼šè®¾ç½®`mode-classâ€™å±æ€§ä¸º`special'\nSpecial modeè®¾ç½®modeä¸ºåªè¯»çš„.ä¸”ä¼šé‡æ–°ç»‘å®šå¾ˆå¤šé€šç”¨ç»‘å®š,ä¾‹å¦‚`qâ€™ç»‘å®šä¸º`quit-window',`gâ€™ç»‘å®šä¸º`revert-buffer'\n  Mode Hooks æ¯ä¸ªMajor Mode Commandæœ€åä¸‰æ¡æŒ‡ä»¤åº”è¯¥æ˜¯è°ƒç”¨`change-major-mode-after-body-hook',è‡ªå·±çš„`MODE-hook',å’Œ`after-change-major-mode-hook'. é€šå¸¸æ˜¯é€šè¿‡è°ƒç”¨å‡½æ•°`run-mode-hooksâ€™æ¥è‡ªåŠ¨å®Œæˆä¸Šé¢çš„ä¸‰ä¸ªæ­¥éª¤.\nå½“major modeä¸ºæŸä¸ªçˆ¶modeçš„å­mode,åˆ™åœ¨bodyä¸­è°ƒç”¨çˆ¶mode commandæ—¶,åº”è¯¥æ”¾å…¥`delay-mode-hooksâ€™ç»“æ„å†…,è¿™æ ·æ‰èƒ½ä¿è¯çˆ¶modeçš„hookä¸ä¼šç«‹å³è¢«è§¦å‘,è€Œç»Ÿä¸€ç­‰åˆ°å­modeè°ƒç”¨`run-mode-hooksâ€™æ—¶å†è§¦å‘.\nè‹¥ä¸ä½¿ç”¨`define-derived-modeâ€™å®,è€Œé€‰æ‹©æ‰‹å·¥å®šä¹‰Major Mode,åˆ™å¯èƒ½ä¼šéœ€è¦ç”¨åˆ°ä¸‹åˆ—å‡½æ•°\n  å‡½æ•°(run-mode-hooks \u0026rest hookvars)\nMajor Modeåº”è¯¥ä½¿ç”¨è¯¥å‡½æ•°æ¥è¿è¡Œè‡ªå·±çš„mode hook.\nè¯¥å‡½æ•°ç±»ä¼¼`run-hooks',ä½†å®ƒè¿˜ä¼šè°ƒç”¨`change-major-mode-after-body-hookâ€™å’Œ`after-change-major-mode-hook'.\nè‹¥åœ¨`delay-mode-hooksâ€™å®çš„bodyä¸­è°ƒç”¨è¯¥å‡½æ•°,å®ƒä¸ä¼šç«‹å³æ‰§è¡Œè¿™äº›hook,è€Œæ˜¯æ¨è¿Ÿåˆ°ä¸‹ä¸€æ¬¡è°ƒç”¨`run-mode-hooksâ€™æ—¶å†æ‰§è¡Œ\n  å®(delay-mode-hooks \u0026rest body) è¯¥å®æ‰§è¡ŒBODYä¸­çš„è¯­å¥,ä½†BODYä¸­çš„æ‰€æœ‰`run-mode-hooksâ€™è°ƒç”¨éƒ½ä¼šå»¶è¿Ÿè¿è¡Œä»–ä»¬çš„hook,ç›´åˆ°ä¸‹æ¬¡ä¸åœ¨`delay-mode-hooksâ€™ç»“æ„ä¸­çš„è°ƒç”¨`run-mode-hooksâ€™æ‰è¿è¡Œ.\n  å˜é‡`change-major-mode-after-body-hook' è§¦å‘çš„æ—¶æœºåœ¨major mode hookä¹‹å‰\n  å˜é‡`after-change-major-mode-hook' è§¦å‘æ—¶æœºæ­£å¸¸åº”è¯¥ä¸ºmajor mode commandçš„æœ€åä¸€æ­¥!\n  Generic Modes â€œGeneric Modes\"æ˜¯æŒ‡çš„é‚£äº›åªæ”¯æŒåŸºæœ¬çš„æ³¨é‡Šè¯­æ³•å’ŒFont Lock Modeçš„ç®€å•Major Mode.\nä½¿ç”¨å®`define-generic-modeâ€™æ¥å®šä¹‰generic mode,æ›´å¤šä¾‹å­å‚è§`generic-x.elâ€™ä¸­çš„å†…å®¹\n  (define-generic-mode mode comment-list keyword-list font-lock-list auto-mode-list function-list \u0026optional docstring)\nè‹¥å‚æ•°docstringä¸ºnil,åˆ™`define-generic-modeâ€™ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª\n  Minor Modes â€œminor mode\"æä¾›äº†ä¸€ç³»åˆ—çš„ä¸major modeæ— å…³çš„ç‰¹æ€§.\n å˜é‡minor-mode-list è¯¥å˜é‡å­˜å‚¨äº†æ‰€æœ‰çš„minor mode commands  Minor Mode Conventions å®šä¹‰minor modeä¹Ÿæœ‰ä¸€äº›æƒ¯ä¾‹è¦éµå¾ª,è¿™äº›æƒ¯ä¾‹æœ‰:\n  æ¯ä¸ªminor modeéƒ½åº”è¯¥æœ‰ä¸€ä¸ªä»¥`-modeâ€™ç»“å°¾çš„æŒ‡ç¤ºå˜é‡,ç”¨äºåˆ¤æ–­è¯¥minor modeæ˜¯å¦å¯ç”¨.\nè‹¥minor modeæ˜¯buffer-localçš„,åˆ™è¯¥æŒ‡ç¤ºå˜é‡ä¹Ÿåº”è¯¥æ˜¯buffer-localçš„\nè¯¥æŒ‡ç¤ºå˜é‡å¸¸ä¸å˜é‡`minor-mode-alistâ€™ç»“åˆæ¥åœ¨mode lineä¸Šæ˜¾ç¤ºminor mode name.\nè¯¥æŒ‡ç¤ºå˜é‡è¿˜ä¸å˜é‡`minor-mode-map-alistâ€™ç»“åˆæ¥åˆ¤æ–­æ˜¯å¦æ¿€æ´»minor mode keymap.\n  å®šä¹‰ä¸€ä¸ªä¸ä¸Šé¢çš„æŒ‡ç¤ºå˜é‡åŒåçš„å‘½ä»¤,è¯¥å‘½ä»¤ç”¨äºå¼€å¯/å…³é—­minor mde\nè¯¥å‘½ä»¤éœ€è¦èƒ½å¤Ÿæ¥æ”¶ä¸€ä¸ªå¯é€‰å‚æ•°.\n  å½“ä»¥interactiveæ–¹å¼è°ƒç”¨è¯¥å‘½ä»¤æ—¶,è‹¥ä¸å¸¦å‚æ•°è°ƒç”¨è¯¥å‘½ä»¤,åˆ™åˆ‡æ¢minor-modeçš„çŠ¶æ€,è‹¥å‚æ•°ä¸ºæ­£æ•°,åˆ™å¼€å¯minor-mode,è‹¥ä¸ºè´Ÿæ•°åˆ™å…³é—­minor-mode\n  å½“åœ¨lispä¸­è°ƒç”¨è¯¥å‘½ä»¤æ—¶,è‹¥å‚æ•°ä¸ºnilæˆ–æ­£æ•°,åˆ™å¼€å¯minor mode,å‚æ•°è‹¥ä¸ºâ€™toggle,åˆ™åˆ‡æ¢minor-mode,å‚æ•°ä¸ºè´Ÿæ•°åˆ™å…³é—­minor-mode\n  ä¸‹é¢æ˜¯ä¸€ä¸ªå®ç°æ¨¡æ¿\n(interactive (list (or current-prefix-arg 'toggle))) (let ((enable (if (eq arg 'toggle) (not foo-mode) ; this modeâ€™s mode variable ( (prefix-numeric-value arg) 0)))) (if enable DO-ENABLE DO-DISABLE))   è‹¥æƒ³åœ¨mode lineæ˜¾ç¤ºè¯¥minor mode,åˆ™éœ€è¦å¾€å˜é‡ä¸­`minor-mode-alistâ€™ä¸­æ·»åŠ ç›¸åº”çš„å…ƒç´ .\n`minor-mode-alistâ€™ä¸­çš„å…ƒç´ æ ¼å¼åº”è¯¥ä¸º`(MODE-VARIABLE STRING)'. å…¶ä¸­\n  `MODE-VARIABLEâ€™ä¸ºæŒ‡ç¤ºminor-modeæ˜¯å¦å¼€å¯çš„å“ªä¸ªå˜é‡åç§°\n  `STRINGâ€™ä¸ºåœ¨mode lineä¸Šçš„æ˜¾ç¤ºæ–‡æœ¬.\n  è¦æ³¨æ„ minor-mode-alistä¸­ä¸è¦å‡ºç°é‡å¤çš„MODE-VARIABLE\n    è¿˜æœ‰ä¸€äº›ç±»ä¼¼Major Modeçš„æƒ¯ä¾‹\n  those regarding the names of global symbols\n  the use of a hook at the end of the initialization function\n  the use of keymaps\n  other\n    å¦å¤–,å°½å¯èƒ½å…è®¸ç”¨æˆ·é€šè¿‡`customizationâ€™æ¥å¼€é—­minor mode.\nå› æ­¤åº”è¯¥å°½é‡ä½¿ç”¨`defcustomâ€™æ¥å®šä¹‰minor modeçš„æ ‡è¯†å˜é‡. å¹¶ä¸”è¦è®°å¾— çµ¦è¯¥æ ‡è¯†å˜é‡åŠ ä¸Šautoload cookieå¹¶æŒ‡å®š`:requireâ€™å®šä¹‰minor modeçš„åº“:\n;;;###autoload (defcustom msb-mode nil \"Toggle msb-mode. Setting this variable directly does not take effect; use either \\\\[customize] or the function `msb-mode'.\" :set 'custom-set-minor-mode :initialize 'custom-initialize-default :version \"20.4\" :type 'boolean :group 'msb :require 'msb)   Keymaps and Minor Modes æ¯ä¸ªminor modeéƒ½å¯ä»¥æœ‰è‡ªå·±çš„keymap. è¦ä¸ºminor modeè®¾ç½®è‡ªå·±çš„keymap,éœ€è¦å¾€å˜é‡`minor-mode-map-alistâ€™ä¸­æ·»åŠ å…ƒç´ . å…·ä½“å‚è§Definition of minor-mode-map-alist\nDefining Minor Modes   (define-minor-mode MODE DOC [INIT-VALUE [LIGHTER [KEYMAP]]] KEYWORD-ARGSâ€¦ \u0026rest BODY)\nè¯¥å®å®šä¹‰ä¸€ä¸ªæ–°çš„åä¸ºMODEçš„minor mode,å¹¶ç”Ÿæˆä¸€ä¸ªåä¸ºMODEçš„minor mode command. å‚æ•°DOCä¸ºè¯¥minor modeçš„è¯´æ˜æ–‡æ¡£\nè¯¥å®è¿˜å®šä¹‰äº†ä¸€ä¸ªåä¸ºMODEçš„æŒ‡ç¤ºå˜é‡,é€šè¿‡è®¾ç½®è¯¥å˜é‡ä¸ºtæˆ–nilå¯ä»¥å¼€å¯/å…³é—­è¯¥minor mode. è¯¥å˜é‡çš„é»˜è®¤å€¼ä¸ºINIT-VALUE.\nå‚æ•°LIGHTERä¸ºä¸€ä¸ªå­—ç¬¦ä¸²æˆ–nil,å½“å¼€å¯äº†è¯¥minor modeåå°±ä¼šåœ¨mode-lineä¸­æ˜¾ç¤ºè¯¥å­—ç¬¦ä¸², è‹¥ä¸ºnilåˆ™è¡¨ç¤ºä¸æ˜¾ç¤ºåœ¨mode-lineä¸Š\nå‚æ•°KEYMAPä¸ºnil,å€¼ä¸ºkeymapçš„å˜é‡å,keymap,æˆ–å…ƒç´ ä¸º`(KEY-SEQUENCE . DEFINITION)â€˜çš„alist. å®ƒæŒ‡å®šäº†è¯¥minor modeæ‰€ä½¿ç”¨çš„keymap,å¹¶ç”Ÿæˆåä¸º`MODE-mapâ€™çš„å˜é‡ç”¨äºå­˜æ”¾keymap è¿™é‡Œçš„KEY-SEQUENCEå’ŒDEFINITIONå‚æ•°æ ¼å¼è¦åŒ¹é…`define-keyâ€™å‡½æ•°çš„å‚æ•°æ ¼å¼.\nç›®å‰å‚æ•°KEYWORD-ARGSæ”¯æŒå¦‚ä½•keywordå‚æ•°:\n  `:group GROUPâ€™\næŒ‡å®šBODYä¸­çš„`defcustomâ€™è¯­å¥å®šä¹‰é…ç½®é¡¹æ—¶æ‰€å±çš„é»˜è®¤ç»„ä¸ºGROUP, è‹¥ä¸æŒ‡å®šè¯¥å‚æ•°,åˆ™æ‰€å±çš„é»˜è®¤ç»„ä¸ºå‚æ•°MODE\nä½¿ç”¨è¯¥å‚æ•°å‰,è¯·ç¡®ä¿å·²ç»é¢„å…ˆç”¨`defgroupâ€™å®šä¹‰äº†åˆ†ç»„\n  `:global GLOBAL-P'\næŒ‡æ˜è¯¥minor-modeä½œç”¨äºä¸ºglobalè¿˜æ˜¯buffer-local, é»˜è®¤ä¸ºnilå³ä¸ºbuffer-localçš„.\nå°†ä¸€ä¸ªminor-modeå˜ä¸ºglobalçš„,æ„å‘³ç€å®ƒçš„æŒ‡ç¤ºå˜é‡`MODEâ€™è¢«å®šä¹‰ä¸ºç”¨æˆ·é…ç½®é¡¹, é€šè¿‡é…ç½®é¡¹ç•Œé¢æ”¹å˜è¯¥å˜é‡çš„å€¼ä¼šåŒæ—¶å…³é—­/å¼€å¯è¯¥minor mode.\nè¿™ç§æƒ…å†µä¸‹,éœ€è¦ ä¿è¯åœ¨é…ç½®è¯¥é…ç½®é¡¹æ—¶æœ‰è¿è¡Œç›¸åº”çš„minor modeä»£ç ,æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨`:requireâ€™å…³é”®å­—\n  `:init-value INIT-VALUE'\nè®¾ç½®æŒ‡ç¤ºå˜é‡`MODEâ€™çš„åˆå§‹å€¼\n  `:lighter LIGHTER'\nè®¾ç½®æ˜¾ç¤ºåœ¨mode-lineä¸Šçš„å†…å®¹\n  `:keymap KEYMAP'\nè®¾ç½®minor modeçš„KEYMAP\n  `:variable PLACE'\nä½¿ç”¨PLACEä½œä¸ºminor modeçš„æŒ‡ç¤ºå˜é‡(é»˜è®¤ä¸ºå‚æ•°MODE).\nè¿™é‡ŒPLACEå¯ä»¥æ˜¯ä¸€ä¸ªå˜é‡åç§°,æˆ–è€…å¯ä»¥è¢«`setfâ€™èµ‹å€¼çš„æ³›å‹å˜é‡(å‚è§Generalized Variables).\nPLACEè¿˜å¯ä»¥æ˜¯æ ¼å¼ä¸º`(GET . SET)â€˜çš„cons cell. å…¶ä¸­GETä¸ºè·å–minor modeçŠ¶æ€çš„è¡¨è¾¾å¼, SETä¸ºæ¥æ”¶ä¸€ä¸ªå‚æ•°å¹¶è®¾ç½®minor modeçš„å‡½æ•°\n  `:after-hook AFTER-HOOK-FORMâ€™\nAFTER-HOOK-FORMä¸ºä¸€ä¸ªSè¡¨è¾¾å¼(ä¸éœ€è¦è¢«å¼•ç”¨), å®ƒä¼šåœ¨minor mode hookè§¦å‘åè¿è¡Œ.\n  å…¶ä»–ä»»æ„çš„keywordå‚æ•°\nè¿™äº›keywordå‚æ•°ç›´æ¥è¢«ä¼ é€’çµ¦`defcustomâ€™ç”¨æ¥ä½œä¸ºç”Ÿæˆminor modeæŒ‡ç¤ºå˜é‡æ—¶çš„å‚æ•°. æ¯”è¾ƒå¸¸è§çš„æœ‰`:requireâ€™å‚æ•°.\n  ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨`define-minor-modeâ€™çš„ä¾‹å­\n(define-minor-mode hungry-mode \"Toggle Hungry mode. Interactively with no argument, this command toggles the mode. A positive prefix argument enables the mode, any other prefix argument disables it. From Lisp, argument omitted or nil enables the mode, `toggle'toggles the state. When Hungry mode is enabled, the control delete key gobbles all preceding whitespace except the last. See the command \\\\[hungry-electric-delete].\" ;; The initial value. nil ;; The indicator for the mode line. \" Hungry\" ;; The minor mode bindings. '(([C-backspace] . hungry-electric-delete)) :group 'hunger)   å®(define-globalized-minor-mode GLOBAL-MODE MODE TURN-ON KEYWORD-ARGS) åˆ›å»ºä¸€ä¸ªä¸MODEå¯¹åº”çš„åä¸ºGLOBAL-MODEçš„minor mode.\n`GLOBAL-MODEâ€™çš„æ„ä¹‰åœ¨äºåŒæ—¶å¯ç”¨/å…³é—­æ‰€æœ‰bufferä¸­çš„åä¸º`MODEâ€™çš„minor mode\nå®ƒä¼šä½¿ç”¨å‡½æ•°`TURN-ONâ€™æ¥å¼€å¯bufferä¸­çš„minor mode,ä½¿ç”¨`(MODE -1)â€˜æ¥å…³é—­bufferä¸­çš„minor mode\nè¯¥å®ä¼šå®šä¹‰ä¸€ä¸ªåä¸º`GLOBAL-MODEâ€™çš„é…ç½®é¡¹,ç”¨æˆ·å¯ä»¥é€šè¿‡customizeé€šè¿‡æ›´æ”¹è¯¥é…ç½®é¡¹çš„å€¼æ¥å¼€å¯/å…³é—­è¯¥minor mode. å½“æ›´æ”¹è¯¥é…ç½®é¡¹æ—¶,è¯·ä¿è¯å·²ç»æ‰§è¡Œäº†è¯¥`define-globalized-minor-modeâ€™ä»£ç ,æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨`:requireâ€™å…³é”®å­—å‚æ•°\nä½¿ç”¨`:group GROUPâ€™ keyword å‚æ•°æŒ‡å®šäº†`GLOBAL-MODEâ€™æ‰€å±çš„ç»„åˆ«.\nä¸€èˆ¬æƒ…å†µä¸‹,å®šä¹‰äº†ä¸€ä¸ªglobal minor modeçš„åŒæ—¶,éœ€è¦å®šä¹‰ä¸€ä¸ªbuffer local minor buffer,è¿™æ ·æ‰èƒ½å…è®¸æŸäº›bufferä¸å¼€å¯è¯¥minor mode\n  Mode Line Format æ¯ä¸ªEmacs windowçš„åº•éƒ¨ä¸€èˆ¬éƒ½ä¼šæœ‰ä¸€ä¸ªmode line,ç”¨æ¥æ˜¾ç¤ºbufferçš„ä¿¡æ¯.\næ¯ä¸ªEmacs Windowçš„é¡¶éƒ¨ä¹Ÿå¯ä»¥æœ‰ä¸€ä¸ªheader line,å…¶ä½œç”¨ä¸mode lineç±»ä¼¼.\nMode LineåŸºç¡€è¯´æ˜ mode lineæ˜¾ç¤ºä»€ä¹ˆå†…å®¹ç”±buffer localå˜é‡`mode-line-formatâ€™å†³å®š.\nheader lineæ˜¾ç¤ºä»€ä¹ˆå†…å®¹åˆ™ç”±buffer localå˜é‡`header-line-formatâ€™å†³å®š\nå½“å‰é€‰ä¸­çš„windowçš„mode lineä½¿ç”¨åä¸º`mode-lineâ€™çš„faceæ˜¾ç¤º, å…¶ä»–ä¸ºé€‰ä¸­çš„mode lineä½¿ç”¨åä¸º`mode-line-inactiveâ€™çš„faceæ˜¾ç¤º\nå‡ºäºæ•ˆç‡è€ƒè™‘,Emacsä¸ä¼šä¸åœåœ°æ›´æ–°mode lineå’Œheader line. åªæœ‰å½“ä½ è¿›è¡Œå¦‚ä¸‹æ“ä½œæ—¶æ‰å›å»æ›´æ–°mode-lineå’Œheader-line\n  æ›´æ”¹window configuration\n  åˆ‡æ¢buffer\n  narrowæˆ–widen buffer\n  scroll buffer\n  ä¿®æ”¹äº†bufferå†…å®¹\n  è°ƒç”¨äº†å‡½æ•°`force-mode-line-update'\n  (force-mode-line-update \u0026optional all) è¯¥å‡½æ•°å¼ºåˆ¶æ›´æ–°å½“å‰bufferçš„mode-lineå’Œheader-line\nä½†è‹¥å‚æ•°allä¸ºénil,åˆ™è¡¨ç¤ºå¼ºåˆ¶æ›´æ–°æ‰€æœ‰bufferçš„mode-lineå’Œheader-line\n  mode-line-format,header-line-formatå’Œframe-title-formatçš„æ ¼å¼ mode-line-format,header-line-formatå’Œframe-title-formatçš„æ ¼å¼å¯èƒ½æ˜¯ä»¥ä¸‹å‡ ç§ç±»å‹:\n  å­—ç¬¦ä¸² ç±»ä¼¼`formatâ€™å‡½æ•°ä¸­çš„æ ¼å¼è¯´æ˜ç¬¦.\né™¤äº†å­—ç¬¦ä¸²ä¸­çš„â€%-Constructs\"ä¼šè¢«æ›¿æ¢ä¸ºå…¶ä»–æ•°æ®å¤–,å…¶ä»–çš„å†…å®¹åŸæ ·æ˜¾ç¤º\nè‹¥éƒ¨åˆ†å­ä¸²åŒ…å«`faceâ€™å±æ€§,åˆ™è¯¥éƒ¨åˆ†å­—ä¸²æ˜¾ç¤ºæ—¶ä½¿ç”¨`faceâ€™å±æ€§æŒ‡å®šçš„faceæ¥æ˜¾ç¤º, å…¶ä»–æ²¡æœ‰`faceâ€™å±æ€§çš„å­—ä¸²,ä½¿ç”¨`mode-lineâ€™æˆ–`mode-line-inactiveâ€™æ¥æ˜¾ç¤º.\nå­—ä¸²ä¸­çš„`help-echoâ€™å’Œ`keymapâ€™å±æ€§å…·æœ‰ç‰¹æ®Šçš„æ„ä¹‰,å…·ä½“å‚è§Properties in Mode\n  SYMBOLç±»å‹çš„å˜é‡\næ˜¾ç¤ºä¸ºsymbolçš„å€¼.\nä½† å³ä½¿symbolçš„å€¼ä¸ºå¸¦â€%-constructs\"çš„å­—ç¬¦ä¸²,å…¶ä¸­çš„\"%-constructs\"ä¹Ÿä¸ä¼šè¢«è½¬ä¹‰!!\næ­¤å¤–,è‹¥symbolçš„å€¼ä¸ºtæˆ–nil,æˆ–è€…è¯¥symbolè¢«æ ‡è®°ä¸º\"risky\"(è¯¥symbolçš„`risky-local-variableâ€™å±æ€§énil),åˆ™è¿™äº›symbolçš„å€¼ä¼šè¢«å¿½ç•¥\n  (å­—ç¬¦ä¸² å…¶ä»–æ•°æ®â€¦) / (åˆ—è¡¨ å…¶ä»–æ•°æ®â€¦)\nè‹¥æ•°æ®ä¸ºä¸€ä¸ªlist,ä¸”è¯¥listçš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºå­—ç¬¦ä¸²ç±»å‹æˆ–listç±»å‹,åˆ™è¡¨ç¤ºé€’å½’å¤„ç†æ‰€æœ‰çš„åˆ—è¡¨å…ƒç´ ,å¹¶å°†ç»“æœåˆå¹¶æ˜¾ç¤º.\n  (:eval FORM)\nè‹¥æ•°æ®ä¸ºä¸€ä¸ªlist,ä¸”ç¬¬ä¸€ä¸ªå…ƒç´ ä¸º`:eval',åˆ™è¡¨ç¤ºè¿è¡Œ`FORM',å¹¶å°†ç»“æœä½œä¸ºæ˜¾ç¤ºå†…å®¹\næ³¨æ„ FORMä¸­ä¸è¦loadä»»ä½•æ–‡ä»¶,å› ä¸ºè¿™æ ·å¯èƒ½å¯¼è‡´æ— ç©·å¾ªç¯\n  (:propertize ELT PROPSâ€¦)\nè‹¥æ•°æ®ä¸ºä¸€ä¸ªlist,ä¸”ç¬¬ä¸€ä¸ªå…ƒç´ ä¸º`:propertize',åˆ™è¡¨ç¤ºé€’å½’å¤„ç†ELT,å¹¶ä¸ºç»“æœåŠ ä¸ŠPROPSæä¾›çš„å­—ç¬¦ä¸²å±æ€§.\nå‚æ•°PROPSåº”è¯¥ç”±0åˆ°å¤šä¸ª\"TEXT-PROPERTY\" â€œVALUE\"ç»„æˆ\n  (SYMBOL THEN ELSE)\nè‹¥æ•°æ®ä¸ºä¸€ä¸ªlist,ä¸”ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºéæ¡ä»¶è¯­å¥çš„å…³é”®å­—,åˆ™è¡¨ç¤ºè‹¥SYMBOLçš„å€¼ä¸ºénilåˆ™æ˜¾ç¤ºé€’å½’å¤„ç†THENçš„å¤„ç†ç»“æœ,å¦åˆ™æ˜¾ç¤ºELSEçš„å¤„ç†è®°è¿‡.\nELSEå¯ä»¥çœç•¥,åˆ™è¡¨ç¤ºè‹¥symbolå€¼ä¸ºnil,ä»€ä¹ˆä¹Ÿä¸æ˜¾ç¤º\n  (WIDTH RESTâ€¦)\nè‹¥æ•°æ®ä¸ºä¸€ä¸ªlist,ä¸”ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºæ•´æ•°,åˆ™è¡¨ç¤ºé™å®šRESTçš„ç»“æœæ˜¾ç¤ºå®½åº¦ä¸ºWIDTH.\nè‹¥WIDTHä¸ºæ­£æ•°,è¡¨ç¤ºå‘å·¦å¯¹é½,WIDTHä¸ºè´Ÿæ•°,è¡¨ç¤ºå‘å³å¯¹é½.\n  Mode-line-formatä¸­å¸¸ç”¨åˆ°çš„å˜é‡ ä¸‹é¢æ‰€åˆ—ä¸¾çš„å˜é‡,éƒ½æ˜¯mode-line-formatçš„ç»„æˆéƒ¨åˆ†\n  mode-line-mule-info\nè¯¥å˜é‡åœ¨mode-line-formatä¸­å¯ä»¥æ˜¾ç¤ºè¯­è¨€ç¯å¢ƒ,bufferçš„å­—èŠ‚ç¼–ç ,å½“å‰çš„è¾“å…¥æ³•\n  mode-line-modified\nè¯¥å˜é‡ä¼šæ˜¾ç¤ºå½“å‰bufferæ˜¯å¦è¢«ä¿®æ”¹. é»˜è®¤æƒ…å†µä¸‹:\n  è‹¥bufferè¢«ä¿®æ”¹æ˜¾ç¤º'**'\n  è‹¥bufferæœªè¢«ä¿®æ”¹æ˜¾ç¤ºä¸º'â€“'\n  è‹¥bufferåªè¯»æ˜¾ç¤ºä¸º'%%'\n  è‹¥bufferåªè¯»å•è¢«ä¿®æ”¹,æ˜¾ç¤ºä¸º'%*'\n    mode-line-frame-identification\nè¯¥å˜é‡å¯ä»¥ç”¨æ¥æ ‡è¯†å½“å‰frame\nåœ¨å›¾å½¢ç•Œé¢ä¸‹,è¯¥å˜é‡é»˜è®¤ä¸ºâ€ â€œ. åœ¨å­—ç¬¦ç•Œé¢ä¸‹,è¯¥å˜é‡é»˜è®¤ä¸ºâ€-%F \"\n  mode-line-buffer-identification\nè¯¥å˜é‡å¯ä»¥ç”¨æ¥æ ‡è¯†å½“å‰buffer.\nå®ƒçš„é»˜è®¤å€¼ä¸º\"%12b\",é™„å¸¦ä¸€äº›text properties\n  mode-line-position\nè¯¥å˜é‡æ ‡è¯†å…‰æ ‡æ‰€åœ¨å½“å‰bufferçš„ä½ç½®.\nå®ƒé»˜è®¤ä¸º\"%p\",æ˜¾ç¤ºå½“å‰æ‰€åœ¨ä½ç½®æ˜¯æ•´ä¸ªbufferçš„ç™¾åˆ†ä¹‹å¤šå°‘å¤„.\nä½†ä¹Ÿå¯ä»¥ç»™å®ƒæ·»åŠ æ³¨å…¥bufferå¤§å°,è¡Œå·,åˆ—å·ç­‰ä¿¡æ¯\n  vc-mode\nè¯¥å˜é‡æŒ‡ç¤ºbufferæ‰€å…³è”çš„æ–‡ä»¶çº³å…¥çš„ç‰ˆæœ¬æ§åˆ¶ä¿¡æ¯.\nè‹¥æ–‡ä»¶æœªçº³å…¥ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸­,åˆ™è¯¥å˜é‡å€¼ä¸ºnil\n  mode-line-modes\nè¯¥å˜é‡æ˜¾ç¤ºbufferæ‰€å¼€å¯çš„major mode,minor mode,é€’å½’ç¼–è¾‘å±‚æ¬¡,bufferæ‰€å…³è”è¿›ç¨‹çš„çŠ¶æ€,æ˜¯å¦å‡ºäºnarrowçŠ¶æ€\nè¯¥å˜é‡å€¼ä¸­åˆåŒ…å«äº†ä¸‰ä¸ªå˜é‡:\n  mode-name\nMajor Modeçš„åç§°\n  mode-line-process\nä¸å½“å‰bufferç›¸å…³çš„processçš„çŠ¶æ€.\nè¯¥å˜é‡ç´§æŒ¨ç€major-nameæ˜¾ç¤º. é»˜ä¸ºnil\n  minor-mode-alist\nè¯¥å˜é‡æ˜¯ä¸€ä¸ªbuffer localå˜é‡,å®ƒæŒ‡ç¤ºäº†å¦‚ä½•æ˜¾ç¤ºminor-mode.\nè¯¥å˜é‡çš„å…ƒç´ ç»„æˆæ ¼å¼ä¸º`(MINOR-MODE-VARIABLE MODE-LINE-STRING)'\nå½“MINOR-MODE-VARIABLEçš„å€¼ä¸ºénilæ—¶,åˆ™æ˜¾ç¤ºMODE-LINE-STRING,å¦åˆ™ä»€ä¹ˆä¹Ÿä¸æ˜¾ç¤º\n       mode-line-remote\nè¯¥å˜é‡ç”¨æ¥æ˜¾ç¤ºå½“å‰bufferçš„`default-directoryâ€™æ˜¯å¦æ˜¯è¿œç¨‹ç›®å½•\n  mode-line-client\nè¯¥å˜é‡ç”¨æ¥æ ‡è¯†å“ªäº›frameä¸º`emacsclientâ€™çš„frame\n  global-mode-string\nè‹¥å¼€å¯äº†è¯¥minor modeçš„è¯,è¯¥å˜é‡çš„å†…å®¹ä¼šæ˜¾ç¤ºåœ¨`which-func-mode' minor modeå,å¦åˆ™ä¼šæ˜¾ç¤ºåœ¨`mode-line-modesâ€™å\n  %-constructsè¯´æ˜ ç±»ä¼¼formatå‡½æ•°ä¸­çš„æ ¼å¼å­—ç¬¦ä¸²,%-constructsçš„æ ¼å¼ä¸º`%[æ•´æ•°]æ ‡è¯†',è¿™é‡Œçš„æ•´æ•°æŒ‡å®šäº†æœ€å°çš„é•¿åº¦,æ ‡è¯†æŒ‡å®šäº†æ›¿æ¢ä¸ºä½•å€¼\n   %% %å­—ç¬¦     %b å½“å‰bufferåç§°   %c å½“å‰å…‰æ ‡æ‰€åœ¨çš„åˆ—æ•°   %e å½“Emacsæ¥è¿‘å†…å­˜è€—å°½æ—¶,æ˜¾ç¤ºè­¦å‘Šä¿¡æ¯,å¦åˆ™ä¸ºç©º   %f å½“å‰bufferè®¿é—®çš„æ–‡ä»¶åç§°   %F å½“å‰frameçš„titleæˆ–name   %i å½“å‰bufferå¯è®¿é—®éƒ¨åˆ†çš„size,å•ä½ä¸ºå­—èŠ‚   %I ç±»ä¼¼%i,ä½†ä»¥æ›´äººæ€§åŒ–çš„æ–¹å¼æ˜¾ç¤º,ä¾‹å¦‚ä¼šè½¬æ¢ä¸ºå¤šå°‘k,M,G   %l å½“å‰å…‰æ ‡æ‰€åœ¨çš„è¡Œæ•°   %n è‹¥å½“å‰bufferå‡ºäºnarrowçŠ¶æ€,åˆ™æ˜¾ç¤º\"Narrow\",å¦åˆ™æ˜¾ç¤ºç©º   %P The percentage of the buffer text above the top of window, or â€˜Topâ€™, â€˜Bottomâ€™ or â€˜Allâ€™. Note that the default mode line construct truncates this to three characters.   %p The percentage of the buffer text that is above the bottom of the window (which includes the text visible in the window, as well as the text above the top), plus â€˜Topâ€™ if the top of the buffer is visible on screen; or â€˜Bottomâ€™ or â€˜Allâ€™.   %s ä¸å½“å‰bufferç›¸å…³çš„processçš„çŠ¶æ€   %z é”®ç›˜,ä¸­æ–­,bufferç¼–ç æ ¼å¼çš„ä¿¡æ¯   %Z ç±»ä¼¼%z,ä½†è¿˜åŒ…æ‹¬æ¢è¡Œç¬¦çš„ä¿¡æ¯   %* è‹¥bufferåªè¯»,æ˜¾ç¤º\"%\",è‹¥bufferè¢«ä¿®æ”¹è¿‡,æ˜¾ç¤º\"*\",å¦åˆ™æ˜¾ç¤º\"-\"   %+ ç±»ä¼¼%*,ä½†è‹¥ä¸€ä¸ªread-only bufferè¢«ä¿®æ”¹äº†,å®ƒæ˜¾ç¤º\"*\",è€Œ%*ä¼šæ˜¾ç¤º\"%\"   %\u0026 è‹¥bufferè¢«ä¿®æ”¹åˆ™æ˜¾ç¤º\"*\",å¦åˆ™æ˜¾ç¤º\"-\"   %[ æ˜¾ç¤ºé€’å½’ç¼–è¾‘çš„å±‚æ¬¡,å¤šå°‘å±‚å°±æœ‰å¤šå°‘ä¸ª\"[\"   %] æ˜¾ç¤ºé€’å½’ç¼–è¾‘çš„å±‚æ¬¡,å¤šå°‘å±‚å°±æœ‰å¤šå°‘ä¸ª\"]\"   %- ä½¿ç”¨\"-â€œå¡«å……å‰©ä½™çš„mode line    Mode Lineä¸­çš„text properties æŸäº›text propertiesåœ¨mode lineä¸­æœ‰å…¶ç‰¹æ®Šçš„æ„ä¹‰:\n `faceâ€™å±æ€§å½±å“textçš„æ˜¾ç¤º `help-echoâ€™å±æ€§æä¾›äº†å…‰æ ‡æŒ‡å‘ä»–textåå¼¹å‡ºçš„å¸®åŠ©å†…å®¹ `keymapâ€™å±æ€§æ˜¯çš„textèƒ½å¤„ç†é¼ æ ‡ç‚¹å‡»äº‹ä»¶  æ¨¡æ‹Ÿmode lineçš„æ˜¾ç¤ºç»“æœ   (format-mode-line format \u0026optional face window buffer) è¯¥å‡½æ•°,å°†formatå½“æˆæ˜¯`mode-line-formatâ€™çš„å€¼,æ¨¡æ‹Ÿå½“æŒ‡å®šçš„WINDOWæ˜¾ç¤ºæŒ‡å®šBUFFERæ—¶ä¼šæ˜¾ç¤ºæ€æ ·çš„mode-line.\nå‚æ•°faceæŒ‡å®šäº†é‚£äº›æ²¡æœ‰æŒ‡å®š`faceâ€™å±æ€§çš„textåº”è¯¥å¦‚ä½•æ˜¾ç¤º\n  Window Header Line head-lineä¸mode-lineæå…¶ç±»ä¼¼,å®ƒçš„æ˜¾ç¤ºæ˜¯ç”±å˜é‡`header-line-formatâ€™æŒ‡å®šçš„. ä¸”`header-line-formatâ€™çš„æ ¼å¼ä¸`mode-line-formatâ€™çš„æ ¼å¼ä¸€æ ·\nå½“ä¸€ä¸ªWindowåªèƒ½æ˜¾ç¤ºä¸€è¡Œå†…å®¹æ—¶,åˆ™å®ƒä¸ä¼šæ˜¾ç¤ºheader line.\nè‹¥ä¸€ä¸ªwindowåªèƒ½æ˜¾ç¤ºä¸¤è¡Œå†…å®¹æ—¶,å®ƒæ— æ³•åŒæ—¶æ˜¾ç¤ºmode-lineå’Œheader-line. è¿™æ—¶è‹¥mode-lineä¸ä¸ºnil,åˆ™ä¼šæ˜¾ç¤ºmode-lineè€Œä¸æ˜¯header-line\n (window-header-line-height \u0026optional window) è¯¥å‡½æ•°è¿”å›æŒ‡å®šWINDOWçš„header lineçš„é«˜åº¦,å•ä½ä¸ºåƒç´   Imenu Imenuä¼šåœ¨imenuèœå•(å‚è§Imenu)ä¸­åˆ—å‡ºbufferä¸­çš„è¯­æ³•å®šä¹‰åç§°æˆ–ç« èŠ‚åç§°,ç„¶åé€šè¿‡ç‚¹å‡»èœå•ä¸­çš„å®šä¹‰åç§°æˆ–ç« èŠ‚åç§°å°±èƒ½ç›´æ¥è·³è½¬åˆ°ç›¸åº”ä½ç½®ä¸Šäº†.\n  å‘½ä»¤(imenu-add-to-enubar NAME)\nè¯¥å‘½ä»¤ä¼šäº§ç”Ÿä¸€ä¸ªåä¸ºNAMEçš„imenuèœå•\n  å½“ç„¶,ä½¿ç”¨Imenuçš„å‰ææ˜¯,èƒ½å¤Ÿäº§ç”Ÿä¸€ä¸ªå®šä¹‰/ç« èŠ‚åç§°ä¸bufferä½ç½®ä¹‹é—´å…³ç³»çš„ç´¢å¼•.\né€šè¿‡è®¾ç½®`imenu-generic-expressionâ€™å®šä¹‰Imenu é€šè¿‡è®¾ç½®`imenu-generic-expressionâ€™å®šä¹‰Imenu,æ˜¯æœ€å¸¸ç”¨çš„æ–¹å¼\n  imenu-generic-expression\nè¯¥å˜é‡ä¸ºä¸€ä¸ªlist,å®ƒæŒ‡å®šäº†ä½¿ç”¨é‚£ç§æ­£åˆ™è¡¨è¾¾å¼æ¥å®šä½å®šä¹‰/ç« èŠ‚çš„ä½ç½®. å®ƒçš„å…ƒç´ å¯ä»¥æ˜¯ä»¥ä¸‹ä¸¤ç§æ ¼å¼\n  (SUB-MENU-TITLE REGEXP INDEX)\nè¿™é‡ŒSUB-MENU-TITLEè¡¨ç¤ºé€šè¿‡REGXPæ‰¾åˆ°çš„é¡¹ç›®åº”è¯¥æ”¾åˆ°åä¸º`SUB-MENU-TITLEâ€™çš„å­èœå•ä¸­. è‹¥å…¶å€¼ä¸ºnil,åˆ™è¡¨ç¤ºæ‰¾åˆ°çš„é¡¹ç›®ç›´æ¥æ”¾åˆ°Imenuèœå•ä¸­.\nå‚æ•°REGEXPåˆ™è¡¨ç¤ºbufferä¸­ä»»ä½•åŒ¹é…REGEXPçš„å†…å®¹éƒ½è¢«è®¤ä¸ºæ˜¯å®šä¹‰/ç« èŠ‚.\nå‚æ•°INDEXåˆ™è¯´æ˜äº†,REGEXPä¸­å“ªä¸ªåŒ¹é…çš„å­ç»„ä¸ºå®šä¹‰/ç« èŠ‚çš„åç§°\n  (SUB-MENU-TITLE REGEXP INDEX FUNCTION ARGUMENTSâ€¦)\nè¿™ç§æ ¼å¼çš„`SUB-MENU-TITLE',`REGEXPâ€™å’Œ`INDEXâ€™ä¸ä¸Šé¢æ ¼å¼çš„æ„ä¹‰ç›¸åŒ.\nä¸åŒä¹‹å¤„åœ¨äº,å½“ç‚¹å‡»Imenuä¸­çš„ç›¸å…³é¡¹æ˜¯,ä¼šè°ƒç”¨`FUNCTIONâ€™å‡½æ•°,ä¸”ä¼ å…¥å‚æ•°ä¸º:èœå•é¡¹çš„åç§°,å®šä¹‰çš„ä½ç½®å’Œå‚æ•°ARGUMENTS\n    imenu-case-fold-search\nè¯¥å˜é‡å†³å®šäº†ä½¿ç”¨`imenu-generic-expressionâ€™ä¸­çš„æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…bufferå†…å®¹æ—¶,æ˜¯å¦å¤§å°å†™æ•æ„Ÿ.\né»˜è®¤ä¸ºt,è¡¨ç¤ºå¤§å°å†™æ•æ„Ÿ.\n  imenu-syntax-alist\nè¯¥å˜é‡æ˜¯ä¸€ä¸ªå…ƒç´ ä¸º'(CHARACTER-OR-STRING . SYNTAX-DESCRIPTION)çš„alist.\nå½“Imenuå¤„ç†`imenu-generic-expressionâ€™æ—¶,ä¼šä½¿ç”¨è¯¥å˜é‡æ¥ä¿®æ”¹å½“å‰bufferçš„syntax table(é€šè¿‡è°ƒç”¨`modfy-syntax-entryâ€™æ¥å®ç°,å…·ä½“å‚è§Syntax Table Functions).\n  é€šè¿‡è®¾ç½®`imenu-prev-index-position-functionâ€™å’Œ`imenu-extract-index-name-functionâ€™æ¥å®šä¹‰Imenu   imenu-prev-index-position-function\nè¯¥å˜é‡çš„å‡½æ•°,éœ€è¦ä»å…‰æ ‡å¼€å§‹å¤„å‘å‰æ‰«æ,å¹¶å°†å…‰æ ‡å®šä½åˆ°å‘ç°å®šä¹‰/ç« èŠ‚çš„ä½ç½®,ç„¶åè¿”å›énilå€¼.\nè‹¥å‘å‰å†æ‰¾ä¸åˆ°ä»»ä½•å®šä¹‰/ç« èŠ‚äº†,åˆ™è¯¥å‡½æ•°éœ€è¦è¿”å›nil\n  imenu-extract-index-name-function\nè¯¥å˜é‡çš„å‡½æ•°,éœ€è¦ä»å…‰æ ‡æ‰€åœ¨ä½ç½®å‡ºæŠ½å–å‡ºå®šä¹‰/ç« èŠ‚çš„åå­—\n  é€šè¿‡è®¾ç½®`imenu-create-index-functionâ€™æ¥å®šä¹‰Imenu è¯¥å˜é‡çš„å‡½æ•°ä¸æ¥å—å‚æ•°,å¹¶ä¸”è¿”å›å½“å‰bufferçš„index alist.\nè¯¥å˜é‡çš„é»˜è®¤å€¼ä¸º`imenu-default-create-index-function',è¯¥å‡½æ•°é€šè¿‡è°ƒç”¨`imenu-prev-index-position-functionâ€™å’Œ`imenu-extract-index-name-functionâ€™çš„å€¼æ¥äº§ç”Ÿindex alist. ä½†è‹¥è¿™ä¸¤ä¸ªå‚æ•°æœ‰ä¸€ä¸ªä¸ºnil,åˆ™æ ¹æ®`imenu-generic-expressionâ€™æ¥äº§ç”Ÿindex alist\nè¿™é‡Œindex alistçš„å…ƒç´ æœ‰ä¸‰ç§æ ¼å¼\n  â€˜(INDEX-NAME . INDEX-POSITION)\nè¡¨ç¤ºé€‰æ‹©INDEX-NAMEé¡¹,åˆ™è·³è½¬åˆ°INDEX-POSITIONä½ç½®\n  â€˜(INDEX-NAME INDEX-POSITION FUNCTION ARGUMENTSâ€¦)\nè¡¨ç¤ºé€‰æ‹©INDEX-NAMEé¡¹,åˆ™æ‰§è¡Œ`(funcall FUNCTION INDEX-NAME INDEX-POSITION ARGUMENTSâ€¦)â€™\n  â€˜(SUB-MENU-TITLE . SUB-INDEX-ALIST)\nè¡¨ç¤ºæ ¹æ®SUB-INDEX-ALISTåˆ›å»ºå­èœå•SUB-MENU-TITLE\n  Font Lock Mode Font Lock Modeæ ¹æ®Major Modeçš„è¯­æ³•è§„åˆ™æ¥å¯¹bufferå†…å®¹è¿›è¡Œä½œè‰².\nFont Lock Modeé€šè¿‡ä¸¤ç§é€”å¾„æ¥å¯»æ‰¾è¦é«˜äº®ä½œè‰²çš„æ–‡æœ¬:\n æ ¹æ®syntax tableçš„è¯­æ³•è§„åˆ™æ¥ä½œè‰²,è¿™ç§æ–¹æ³•ä¼˜å…ˆè¿›è¡Œ é€šè¿‡æŸ¥è¯¢(é€šå¸¸é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼),è¿™ç§æ–¹æ³•éšåè¿è¡Œ  Font Lock Modeçš„åŸºç¡€è¯´æ˜ å¾ˆå¤šå˜é‡ç”¨æ¥æ§åˆ¶Font Lock Modeå¦‚ä½•é«˜äº®æ˜¾ç¤º. ä½†Major Modeä¸åº”è¯¥ç›´æ¥è®¾ç½®è¿™äº›å˜é‡,å®ƒåº”è¯¥é€šè¿‡è®¾ç½®`font-lock-defaultsâ€™å˜é‡æ¥å®ç°è¿™ä¸€ç›®çš„.\nFont Lock minor modeå¯åŠ¨æ—¶,ä¼šæ ¹æ®`font-lock-defaultsâ€™çš„å€¼æ¥è‡ªåŠ¨è®¾ç½®å…¶ä»–å˜é‡.\n  font-lock-defaults\nè¯¥å˜é‡çš„å€¼å¯ä»¥ä¸ºnil,è¡¨ç¤ºFont Lock modeä¸åšä»»ä½•é«˜äº®,éœ€è¦ç”¨æˆ·æ‰‹å·¥é€šè¿‡Edit-Text Properties-Facesèœå•æ‰‹å·¥æŒ‡å®šé‚£äº›æ–‡æœ¬é«˜äº®.\nè‹¥è¯¥å˜é‡çš„å€¼ä¸ºénil,åˆ™å…¶æ ¼å¼åº”è¯¥ä¸º:\n(KEYWORDS [KEYWORDS-ONLY [CASE-FOLD [SYNTAX-ALIST [SYNTAX-BEGIN OTHER-VARS...]]]]) å…¶ä¸­:\n  KEYWORDS\nä¼šè¢«è®¾ç½®ä¸º`font-lock-keywordsâ€™çš„å€¼. è¯¥å˜é‡ä¼šå½±å“åŸºäºæŸ¥è¯¢çš„é«˜äº®.\nKEYWORDSå¯èƒ½æ˜¯ä¸€ä¸ªsymbol,ä¸€ä¸ªå˜é‡æˆ–ä¸€ä¸ªè¿”å›å€¼ä¸ºlistçš„å‡½æ•°\nKEYWORDSä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªç”±å¤šä¸ªsymbolç»„æˆçš„list,æ¯ä¸ªsymbolå¯¹åº”é«˜äº®çš„ä¸€ä¸ªç­‰çº§. å…¶ä¸­ç¬¬ä¸€ä¸ªsymbolå¯¹åº”â€™mode defaultâ€™ç­‰çº§çš„é«˜äº®,ä¸‹ä¸€ä¸ªsymbolå¯¹åº”â€™level 1â€™çº§çš„é«˜äº®,å†ä¸‹ä¸€ä¸ªsymbolå¯¹åº”â€™level2â€™çº§åˆ«çš„é«˜äº®ä¾æ¬¡ç±»æ¨.\nâ€˜mode defaultâ€™çº§åˆ«çš„é«˜äº®é€šå¸¸ä¸â€™level 1â€™çº§åˆ«çš„é«˜äº®ä¸€æ ·,å®ƒåœ¨å½“å˜é‡`font-lock-maximum-decorationâ€™ä¸ºnilæ—¶è¢«ä½¿ç”¨.\n  KEYWORD-ONLY\nä¼šè¢«ç”¨æ¥è®¾ç½®`font-lock-keyword-onlyâ€™çš„å€¼. è¯¥å˜é‡æ ‡è¯†äº†æ˜¯å¦åªé‡‡ç”¨åŸºäºæœç´¢çš„é«˜äº®.\nè‹¥è¯¥å˜é‡ä¸ºnil,åˆ™Font Lock modeä¼šä½¿ç”¨åŸºäºè¯­æ³•çš„é«˜äº®,å¦åˆ™Font Lock modeä¸ä¼šä½¿ç”¨åŸºäºè¯­æ³•çš„é«˜äº®\n  CASE-FOLD\nè¢«ç”¨æ¥è®¾ç½®`font-lock-keywords-case-fold-searchâ€™çš„å€¼. è¯¥å˜é‡è¡¨æ˜äº†åœ¨åŸºäºæœç´¢çš„é«˜äº®æ—¶,æ˜¯å¦å¿½ç•¥å¤§å°å†™çš„å·®å¼‚.\nè‹¥ä¸ºénil,åˆ™è¡¨ç¤ºFont Lock modeåœ¨æœç´¢æ—¶å¿½ç•¥å¤§å°å†™\n  SYNTAX-ALIST\nè¢«ç”¨æ¥ä½œä¸ºFont Lock modeåŸºäºè¯­æ³•é«˜äº®æ—¶ä½¿ç”¨çš„syntax table.\nè¯¥å˜é‡çš„å€¼è‹¥ä¸ºnil,åˆ™å…¶åº”è¯¥ä¸ºç”±æ ¼å¼`(CHAR-OR-STRING . STRING)â€˜ç»„æˆçš„list.\nè‹¥å˜é‡çš„å€¼ä¸ºnil,åˆ™Font Lock modeä½¿ç”¨å‡½æ•°`syntax-tableâ€™è¿”å›çš„syntax tableä½œä¸ºä¾æ®.\n  SYNTAX-BEGIN\nè¯¥å˜é‡ç”¨äºè®¾ç½®`font-lock-beginning-of-syntax-functionâ€™çš„å€¼.\nä¸€èˆ¬è®¾ç½®è¯¥å€¼ä¸ºnil,è€Œä½¿ç”¨`syntax-begin-functionâ€™ä»£æ›¿\n  OTHER-VARS\nå‰©ä¸‹çš„æ‰€æœ‰å…ƒç´ éƒ½ç»Ÿä¸€å«åšOTHER-VARS, å…¶ä¸­æ¯ä¸ªå…ƒç´ çš„æ ¼å¼åº”è¯¥ä¸º(VARIABLE . VALUE),è¡¨ç¤ºå°†VARIABLEè®¾ç½®ä¸ºbuffer localå˜é‡,ç„¶åè®¾ç½®å€¼ä¸ºVALUE\nä¸€æ ·ç”¨äºè®¾ç½®å½±å“Font Lock modeé«˜äº®çš„å…¶ä»–å˜é‡\n    åŸºäºæœç´¢çš„é«˜äº® ç›´æ¥æ§åˆ¶åŸºäºæœç´¢é«˜äº®çš„å˜é‡æ˜¯`font-lock-keywordsâ€™,å®ƒä¸€èˆ¬ç”±`font-lock-defautlsâ€™çš„â€™KEYWORDSâ€™å…ƒç´ æŒ‡å®š\nAuto-Indentation Tabulated List Mode Tabulated List Modeæ˜¯ä¸€ç§ç”¨åˆ—è¡¨æ¥æ˜¾ç¤ºæ•°æ®çš„Major Mode,è¿™ç§æ•°æ®å¾€å¾€ç”±ä¸€æ¡æ¡çš„è®°å½•ç»„æˆ,æ¯æ¡è®°å½•çš„å†…å®¹åˆå¯ä»¥åˆ’åˆ†åˆ°å¤šä¸ªåˆ—ä¸­.\nTabulated List Modeç»§æ‰¿è‡³Special mode,ä¸”åŒæ—¶è¢«å¤šä¸ªå­modeç»§æ‰¿,ä¾‹å¦‚Process Menu modeå’ŒPackage Menu Mode\nè¦æƒ³ç»§æ‰¿Tabulated List Mode,éœ€è¦åœ¨`define-derived-modeâ€™ä¸­çš„BODYä¸­é€šè¿‡è®¾ç½®ä¸€äº›å˜é‡(ä¸‹é¢ä¼šè®²åˆ°)æ¥å®šä¹‰æ•°æ®çš„ç»“æ„,ç„¶åè°ƒç”¨å‡½æ•°`tabulated-list-init-headerâ€™æ¥åˆå§‹åŒ–header line åŒæ—¶,ç»§æ‰¿çš„å­modeè¿˜éœ€è¦å®šä¹‰ä¸€ä¸ª\"listing commandâ€,è¯¥å‘½ä»¤ä¸æ˜¯major mode command,å®ƒæ˜¯çµ¦ç”¨æˆ·ä½¿ç”¨çš„å‘½ä»¤å°è£…,è¯¥å‘½ä»¤é€šå¸¸å®Œæˆä»¥ä¸‹å‡ ä¸ªåŠ¨ä½œ\n åˆ›å»ºæˆ–åˆ‡æ¢åˆ°æŸä¸ªç‰¹å®šbuffer å¼€å¯æ–°çš„Major mode æŒ‡å®šè¦ä»¥åˆ—è¡¨æ–¹å¼æ˜¾ç¤ºçš„æ•°æ®. è°ƒç”¨`tabulated-list-printâ€™å‡½æ•°,ä»¥å¼¹å‡ºè¯¥buffer  æŒ‡å®štabulated dataçš„æ ¼å¼ é€šè¿‡å®šä¹‰ä»¥ä¸‹å˜é‡æ¥æŒ‡å®štabulated dataçš„æ ¼å¼\n  tabulated-list-format è¯¥å˜é‡ä¸ºbuffer-localå˜é‡,å®ƒå®šä¹‰äº†æ•°æ®çš„æ ¼å¼.\nè¯¥å˜é‡ä¸ºä¸€ä¸ªvector,ä¸”vectorä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è¡¨ç¤ºä¸€ä¸ªæ•°æ®åˆ—,å…¶æ ¼å¼ä¸º`(NAME WIDHT SORT)â€™. å…¶ä¸­:\n  NAMEä¸ºåˆ—çš„åç§°\n  WIDHTä¸ºæ¯åˆ—çš„ä¿ç•™å®½åº¦,è¯¥å‚æ•°å¯¹æœ€åä¸€åˆ—æ¥è¯´æ— æ„ä¹‰\n  SORTæŒ‡å®šäº†æ ¹æ®è¯¥åˆ—æ’åºè®°å½•çš„æ–¹å¼.\n   å€¼ æ„ä¹‰     nil è¡¨ç¤ºä¸æ’åº   t è¡¨ç¤ºæ ¹æ®å­—ç¬¦ä¸²æ’åº   å…¶ä»–åˆ¤æ–­å‡½æ•° ä½¿ç”¨è¯¥åˆ¤æ–­å‡½æ•°ä¼ å…¥`sortâ€™è¿›è¡Œæ’åº. è¯¥åˆ¤æ–­å‡½æ•°çš„å‚æ•°ä¸º`tabulated-list-entriesâ€™ä¸­çš„å…ƒç´         tabulated-list-entries\nè¯¥å˜é‡ä¸ºbuffer-localå˜é‡,å®ƒæŒ‡å®šäº†è¦æ˜¾ç¤ºçš„è®°å½•æ•°æ®. å®ƒçš„å€¼ å¯ä»¥ä¸ºä¸€ä¸ªlist,æˆ–ä¸€ä¸ªå‡½æ•°\nè‹¥è¯¥å€¼ä¸ºlist,åˆ™listä¸­çš„æ¯ä¸ªå…ƒç´ æ ¼å¼åº”è¯¥ä¸º`(ID CONTENTS)',å…¶ä¸­\n  IDå¯ä»¥ä¸ºnil,æˆ–ä¸€ä¸ªæ ‡è¯†æŸæ¡è®°å½•çš„lisp object\n  CONTENTä¸ºä¸€ä¸ªè¡¨ç¤ºè®°å½•å†…å®¹çš„vector,å…¶ä¸­vectorä¸­çš„æ¯ä¸ªå…ƒç´ è¡¨ç¤ºè®°å½•çš„ä¸€åˆ—å†…å®¹.\nvectorä¸­çš„å…ƒç´ å¯èƒ½ä¸ºå­—ç¬¦ä¸²æˆ–è€…æ ¼å¼ä¸º`(LABEL . PROPERTIES)â€˜çš„list,\nè‹¥å…ƒç´ ä¸ºå­—ç¬¦ä¸²åˆ™è¡¨ç¤ºç›´æ¥æ˜¾ç¤ºè¯¥å­—ç¬¦ä¸²\nè‹¥å…ƒç´ ä¸º`(LABEL . PROPERTIES)â€˜æ ¼å¼çš„list,åˆ™è¡¨ç¤ºç”¨`LABELâ€™å’Œ`PROPERTIESâ€™ä½œä¸ºå‚æ•°è°ƒç”¨`insert-text-buttonâ€™çš„æ–¹å¼æ¥æ’å…¥ä¸€ä¸ªtext button(å‚è§Making Buttons)\n  è‹¥`tabulated-list-entriesâ€™çš„å€¼ä¸ºä¸ºä¸€ä¸ªå‡½æ•°,åˆ™ä¸å¸¦å‚æ•°è°ƒç”¨è¯¥å‡½æ•°åº”è¯¥è¿”å›ä¸Šé¢æ ¼å¼çš„list\n  tabulated-list-revert-hook\nè¯¥hookåœ¨é‡è½½å…¥Tabulated List Bufferå‰ä¼šè¢«è§¦å‘, å¸¸ç”¨äºå¯¹`tabulated-list-entriesâ€™çš„å€¼ä½œé¢„å¤„ç†.\n  tabulated-list-printer\nè¯¥å˜é‡çš„å€¼åº”è¯¥ä¸ºä¸€ä¸ªå‡½æ•°, è¯¥å‡½æ•°æ¥æ”¶`tabulated-list-entriesâ€™ä¸­çš„IDå’ŒCONTENTSä¸¤ä¸ªå‚æ•°, å…¶è¿”å›å€¼æ‰ä½œä¸ºçœŸæ­£çš„åˆ—å†…å®¹æ˜¾ç¤º\né»˜è®¤è¯¥å˜é‡çš„å‡½æ•°,ç›´æ¥æ’å…¥CONTENTS\n  tabulated-list-sort-key\nè¯¥å˜é‡æŒ‡å®šäº†æ ¹æ®é‚£å‡ åˆ—å¯¹è®°å½•è¿›è¡Œæ’åº.ä»¥åŠæ˜¯ä»å¤§åˆ°å°è¿˜æ˜¯ä»å°åˆ°å¤§æ’åº\n  nilè¡¨ç¤ºä¸æ’åº\n  (NAME . FLIP)æ ¼å¼çš„consè¡¨ç¤ºæ ¹æ®åä¸ºNAMEçš„åˆ—æ’åº,FLIPè¡¨ç¤ºæ˜¯å¦åè½¬æ’åºé¡ºåº\n    å‡½æ•°(tabulated-list-init-header) è¯¥å‡½æ•°ä¸ºTabulated List bufferç”Ÿæˆå¹¶è®¾ç½®`header-line-formatâ€™(å‚è§Header Lines),å¹¶ä¸ºheader lineåˆ†é…keymapä»¥ä¾¿å…è®¸é€šè¿‡ç‚¹å‡»headeråˆ—æ¥æ’åº\nè¯¥å‡½æ•°ä¾èµ–ä¸Šé¢æ‰€è¿°çš„å˜é‡\n  å‡½æ•°(tabulated-list-print \u0026optional remember-pos) è¯¥å‡½æ•°åˆ·æ–°tabulated list buffer. è¯¥å‡½æ•°é€šå¸¸è¢«list commandæ‰€è°ƒç”¨\nè¯¥å‡½æ•°ä¼šä½œä»¥ä¸‹åŠ¨ä½œ:\n  æ¸…ç©ºbuffer\n  æ ¹æ®`tabulated-list-sort-keyâ€™å¯¹`tabulated-list-entriesâ€™ä¸­çš„æ•°æ®è¿›è¡Œæ’åº\n  è°ƒç”¨`tabulated-list-printerâ€™æ‰€è¡¨ç¤ºçš„å‡½æ•°è¾“å‡ºè®°å½•\n  è‹¥å‚æ•°REMEMBER-POSä¸ºénil,åˆ™è¯¥å‡½æ•°åœ¨åˆ·æ–°bufferå‰ä¼šè®°ä½å½“å‰è¡Œçš„ID,å¹¶åœ¨åˆ·æ–°åè‡ªåŠ¨å®šä½åˆ°è¯¥IDè¡Œ\n  (tabulated-list-print-entry id cols)\nåœ¨å…‰æ ‡å¤„æ’å…¥æ–°entry,entryä¿¡æ¯ç”±IDå’ŒCOLSå†³å®š\nå…¶ä¸­IDæ˜¯ä¸€ä¸ªç”¨äºæ ‡ç¤ºentryçš„lispå¯¹è±¡,è€ŒCOLSä¸ºä¸€ä¸ªç”±å„åˆ—ä¿¡æ¯ç»„æˆçš„vector\n  (tabulated-list-print-col n col-desc x) ??\nä¸ºå…‰æ ‡å¤„entryæ’å…¥ä¸€ä¸ªç‰¹å®šçš„entryåˆ—\nå…¶ä¸­Nä¸ºåˆ—ç¼–å·,COL-DESCä¸ºåˆ—æè¿°,Xä¸ºå…‰æ ‡å¤„çš„åˆ—ç¼–å·\nè¯¥å‡½æ•°åœ¨æ’å…¥å,è¿”å›åˆ—ç¼–å·\n  å…¶ä»–å‡½æ•°   (tabulated-list-get-id \u0026optional POS)\nè¿”å›POSä½ç½®entryçš„ID. POSé»˜è®¤ä¸ºå…‰æ ‡å½“å‰ä½ç½®\n  (tabulated-list-get-entry \u0026optional POS)\nè¿”å›POSä½ç½®entryçš„ä¿¡æ¯. è¿”å›çš„æ ¼å¼ä¸ºä¸€ä¸ªç”±åˆ—ä¿¡æ¯ç»„æˆçš„vector\nPOSé»˜è®¤ä¸ºå…‰æ ‡å½“å‰ä½ç½®\n  (tabulated-list-delete-entry)\nåˆ é™¤å…‰æ ‡æ‰€åœ¨ä½ç½®çš„entry. å¹¶è¿”å›ä¸€ä¸ª(ID COLSâ€¦)çš„åˆ—è¡¨æ¥æš‚æ—¶è¢«åˆ é™¤entryçš„ä¿¡æ¯.\nè¯¥å‡½æ•°åŒæ—¶ä¼šå°†å…‰æ ‡ç§»åŠ¨åˆ°entryçš„æœ€å¼€å¤´ä½ç½®\nè¯¥å‡½æ•°åªä¼šæ›´æ”¹bufferå†…å®¹,è€Œä¸ä¼šæ›´æ”¹`tabulated-list-entriesâ€™çš„å€¼\n  (tabulated-list-set-col COL DESC \u0026optional CHANGE-ENTRY-DATA)\næ›´æ”¹å½“å‰ä½ç½®çš„entryä¸­ç¬¬COLåˆ—çš„å†…å®¹ä¸ºDESC\nCOLå¯ä»¥æ˜¯åˆ—çš„ä½ç½®,ä¹Ÿå¯ä»¥æ˜¯åˆ—çš„åç§°.\nCHANGE-ENTRY-DATAæŒ‡ç¤ºäº†æ˜¯å¦åŒæ—¶æ›´æ”¹`tabulated-list-entriesâ€™çš„å€¼\n  (tabulated-list-put-tag tag \u0026optional advance)\nå°†TAGæ”¾å…¥å½“å‰entryçš„paddingåŒºåŸŸ\nTAGä¸ºå­—ç¬¦ä¸²,ä¸”å¤§å°ä¸èƒ½å¤§äº`tabulated-list-paddingâ€™çš„å€¼\nè‹¥ADVANCEä¸ºénil,åˆ™å…‰æ ‡åŒæ—¶ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œ\n  tabulated-list-padding\næ¯ä¸ªentryå‰é¢„ç•™äºpaddingçš„å­—ç¬¦ä¸ªæ•°\n  Desktop Save Mode Emacs Display The Display Property Images Numberç›¸å…³å‡½æ•°  åˆ¤æ–­æ˜¯å¦ä¸ºè‡ªç„¶æ•°(0+æ­£æ•´æ•°)  (natnump object)\n åˆ¤æ–­æ˜¯å¦ä¸º0  (zerop number)\n å–ä½™æ•°  (% dividend divisor)\n%çš„å‚æ•°å¿…é¡»æ˜¯æ•´æ•°,å¯¹äºä»»ä½•ä¸¤ä¸ªæ•´æ•°dividendå’Œdivisoréƒ½æœ‰(+(% DIVIDEND DIVISOR) (* (/ DIVIDEND DIVISOR) DIVISOR)) == DIVIDEND\n(mod dividend divisor)\nmodeçš„å‚æ•°å¯ä»¥æ˜¯Floatå‹,å®ƒçš„è¿”å›å€¼çš„æ­£è´Ÿå·ä¸DIVISORä¸€è‡´,å¹¶ä¸”modçš„å•†å€¼ä½¿ç”¨floorè¿›è¡Œæˆªæ–­åˆ°æ•´æ•°,ç„¶åå†è®¡ç®—è¿”å›çš„ä½™å€¼.\n(+ (mod DIVIDEND DIVISOR) (* (floor DIVIDEND DIVISOR) DIVISOR)) == DIVIDEND\n  ä¸‰è§’å‡½æ•°\n  (sin arg)\n  (cos arg)\n  (tan arg)\n  (asin arg)\n  (acos arg)\n  (atan y \u0026optional x)\n  æŒ‡æ•°è®¡ç®—\n  (exp arg) eçš„argæ¬¡æ–¹\n  (expt x y) xçš„yæ¬¡æ–¹\n  (log arg \u0026optional base) baseé»˜è®¤ä¸ºe,å–argçš„æŒ‡æ•°\n  (aqrt arg) å–argçš„å¹³æ–¹æ ¹,è‹¥arg å¸¸é‡float-e\n  å¸¸é‡float-pi\n  è·å–éšæœºå€¼ (random \u0026optional limit)\n  è‹¥limitä¸ºæ­£æ•´æ•°ï¼Œåˆ™è¿”å›0åˆ°limitçš„éšæ„æ•´æ•°\n  è‹¥limitä¸ºtï¼Œåˆ™è¡¨ç¤ºä½¿ç”¨å½“å‰æ—¶é—´å’ŒEmacsçš„è¿›ç¨‹å·é‡æ–°é€‰æ‹©ä¸€ä¸ªç§å­\n  è‹¥limitä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå®ƒè¡¨ç¤ºä½¿ç”¨stringçš„å†…å®¹ä½œä¸ºç§å­\n    äºŒè¿›åˆ¶å‡½æ•° äºŒè¿›åˆ¶å‡½æ•°åªèƒ½ä½œç”¨äºIntegerå‹å‚æ•°.\n é€»è¾‘ä½ç§»  (lsh Integer count)\nlshæ˜¯logical shiftçš„ç¼©å†™,å®ƒå‘å·¦ç§»åŠ¨countä½(è‹¥countä¸ºè´Ÿæ•°,åˆ™è¡¨ç¤ºå‘å³ç§»åŠ¨), ä½¿ç”¨0å¡«å……\n ç®—æœ¯ä½ç§»  (ash Integer count)\nashæ˜¯arithmetic shiftçš„ç¼©å†™,å®ƒè·Ÿlshç±»ä¼¼,ä½†å½“å¯¹è´Ÿæ•°è¿›è¡Œå³ç§»æ—¶,ä½¿ç”¨ç¬¦å·ä½è¿›è¡Œå¡«å……,å³è¯¥å‡½æ•°ä¸ä¼šæ”¹å˜Integerçš„æ­£è´Ÿå·\n andæ“ä½œ  (logand \u0026rest ints-or-markers)\nå¯¹æ‰€æœ‰Integerçš„æ‰€æœ‰ä½åšandæ“ä½œ,è‹¥æ²¡æœ‰å‚æ•°,åˆ™è¿”å›-1,å³æ‰€æœ‰ä½éƒ½æ˜¯1çš„Integer\n oræ“ä½œ  (logior \u0026rest ints-or-markers) å¯¹æ‰€æœ‰Integerçš„æ‰€æœ‰ä½åšoræ“ä½œ,è‹¥æ²¡æœ‰å‚æ•°,åˆ™è¿”å›0,å³æ‰€æœ‰ä½éƒ½æ˜¯0çš„Integer\n xoræ“ä½œ  (logxor \u0026rest ints-or-markers) å¯¹æ‰€æœ‰Integerçš„æ‰€æœ‰ä½åšxoræ“ä½œ,è‹¥æ²¡æœ‰å‚æ•°,åˆ™è¿”å›0,å³æ‰€æœ‰ä½éƒ½æ˜¯0çš„Integer\n notæ“ä½œ  (lognot integer) å¯¹Integerçš„æ‰€æœ‰ä½åšnotæ“ä½œ\nå­—ç¬¦ä¸²å¤„ç†ç›¸å…³å‡½æ•° Emacs has only very few functions that takes a string as argument. Any non-trivial string processing is done with a buffer. Use with-temp-buffer, then insert your string, process it, then use buffer-string to get the whole buffer content.\nåˆ¤æ–­å‡½æ•°  (stringp object) (string-or-null-p object) (char-or-string-p object) (string-prefix-p prefix str \u0026optional ignore-case) (string-suffix-p suffix str \u0026optional ignore-case) (compare-strings str1 start1 end1 str2 start2 end2 \u0026optional ignore-case)  æ¯”è¾ƒçš„åŒºé—´ä¸º[start end),startä¸ºnilåˆ™é»˜è®¤ä¸º0,endä¸ºnilåˆ™è¡¨ç¤ºå­—ç¬¦ä¸²çš„ç»“å°¾.\nè¯¥å‡½æ•°ä¼šæŠŠunibyte stringå…ˆè½¬æ¢ä¸ºmultibyte stringå†è¿›è¡Œæ¯”è¾ƒ.\nè‹¥æ¯”è¾ƒçš„åŒºé—´,ä¸¤ä¸ªstringæ˜¯ç›¸ç­‰çš„,åˆ™è¿”å›t. è‹¥str1str2åˆ™è¿”å›æ­£æ•°. è¯¥æ•´æ•°çš„ç»å¯¹å€¼æŒ‡ç¤ºäº†ä¸åŒç‚¹å¼€å§‹çš„åœ°æ–¹\nè·å–å­—ç¬¦ä¸²çš„å‡½æ•°   (make-string count character)\ncountå¿…é¡»ä¸ºæ•´æ•°ï¼Œè¿”å›ç”±countä¸ªcharacterç»„æˆçš„å­—ç¬¦ä¸²\n  (string \u0026rest characters)\nè¿”å›ç”±charactersç»„æˆçš„å­—ç¬¦ä¸²\n  å¸¦text propertiesæˆªå–å­å­—ç¬¦ä¸²\n  (substring myStr startIndex \u0026optional endIndex)\nstartIndexå’ŒendIndexè‹¥ä¸ºè´Ÿæ•°,åˆ™è¡¨ç¤ºä»å°¾éƒ¨å¼€å§‹å¾€å›æ•°.\nå› æ­¤(substring str 0)è¡¨ç¤ºè¿”å›strçš„ä¸€ä¸ªcopy,ä½†æ¨èç”¨copy-sequenceä»£æ›¿\nsubstringä¸­çš„å‚æ•°strä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªvector,ä¾‹å¦‚\n(substring [a b (c) \"d\"] 1 3) ; = [b (c)] è‹¥stringå¸¦æœ‰text properties,åˆ™æ–°äº§ç”Ÿçš„stringä¹Ÿä¼šå¸¦æœ‰text properties\n  ä¸å¸¦text propertiesæˆªå–å­—ç¬¦ä¸²\n(substring-no-peroperties string \u0026optional start end)\n  ç»„åˆå­—ç¬¦ä¸²\n  (concat \u0026rest sequences) è¿”å›è¿æ¥å¤šä¸ªå­—ç¬¦ä¸²çš„å­—ç¬¦ä¸²\n(concat \"abc\" (list 120 121) [122]) ; = \"abcxyz\" (mapconcat function sequence separator)\nå¯¹sequenceçš„æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨function,ç„¶åå°†ç»“æœç”¨separator concatèµ·æ¥ä½œä¸ºå­—ç¬¦ä¸²è¿”å›.å½“functionä¸ºâ€™identityæ—¶åˆ™èµ·åˆ°joinçš„ä½œç”¨\n(mapconcat 'identity '(\"abc\" \"123\" \"one\" \"two\" \"three\") \" \") ;=\"abc 123 one two three\"  ä»bufferè·å–å­—ç¬¦ä¸²  (buffer-substring myStartPos myEndPos)\n(buffer-substring-no-properties myStartPos myEndPos)\n è·å–å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å†…å®¹  (thing-at-point THING),è¿™é‡ŒTHINGæŒ‡æ˜äº†å„ç§ç±»å‹:\n(thing-at-point â€˜word) // å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å•è¯\n(thing-at-point â€˜symbol) // å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å•è¯(åŒ…æ‹¬è¿å­—ç¬¦å’Œä¸‹åˆ’çº¿)\n(thing-at-point â€˜line) // å…‰æ ‡æ‰€åœ¨ä½ç½®çš„è¡Œ, ä¸€èˆ¬æƒ…å†µä¸‹å®ƒè·å–ä¸€è¡ŒåŠè¡Œç»“æŸç¬¦,ç„¶è€Œè‹¥å…‰æ ‡å¤„äºè¡Œçš„æœ€åä¸€ä¸ªå­—ç¬¦,åˆ™ä¸è·å–è¡Œç»“æŸç¬¦\n(thing-at-point â€˜sexp) // å…‰æ ‡æ‰€åœ¨ä½ç½®çš„sè¡¨è¾¾å¼\n(thing-at-point â€˜sentence) // å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å¥å­\n(thing-at-point â€˜defun) // å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å‡½æ•°\n(thing-at-point â€˜url) // å…‰æ ‡æ‰€åœ¨ä½ç½®çš„url, è‹¥urlä¸ä»¥httpå¼€å¤´,åˆ™ä¼šè‡ªåŠ¨åŠ ä¸Šhttp\nâ€¦è¿˜æœ‰å¾ˆå¤šç±»å‹\n è·å–å…‰æ ‡æ‰€åœ¨THINGçš„å¼€å§‹/ç»“æŸä½ç½®  (bounds-of-thing-at-point THING)\n ä»æŠ¥æ–‡ä¸­æˆªå–å­—ç¬¦ä¸²  (setq myStr (buffer-substring startPos endPos))\nå­—ç¬¦ä¸²æ“ä½œ  è·å–å­—ç¬¦ä¸²é•¿åº¦  (string-width myStr)\nè¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼Œä¸èƒ½ç”¨(lenth myStr)æ¥è·å–å­—ç¬¦ä¸²é•¿åº¦\n(length \"æˆ‘çš„\") ;=2 (string-width \"æˆ‘çš„\") ;=4   ä¿®æ”¹å­—ç¬¦ä¸²å†…å®¹\nç”±äºå­—ç¬¦ä¸²æ˜¯characterçš„æ•°ç»„,å› æ­¤æœ€åŸºç¡€çš„ä¿®æ”¹å­—ç¬¦ä¸²å†…å®¹çš„å‡½æ•°æ˜¯ä½¿ç”¨(aset str idx char)æ¥å°†strçš„åœ°idxä½ç½®çš„å†…å®¹æ›¿æ¢ä¸ºchar. ç”±äºå­—ç¬¦ä¸²æ˜¯æ•°ç»„,è€Œæ•°ç»„çš„é•¿åº¦æ˜¯ä¸å¯å˜çš„,å› æ­¤è‹¥æ›¿æ¢çš„characterå’Œè¢«æ›¿æ¢çš„characterçš„å­—èŠ‚æ•°ä¸ç›¸åŒ,åˆ™ä¼šæŠ¥é”™\n(setq str \"æˆ‘çš„\") (aset str 0 ?\\m) ;strå˜ä¸ºäº†\"mçš„\" (store-substring str idx string-or-char)\nä½¿ç”¨string-or-charä»idxå¼€å§‹æ›¿æ¢strçš„å†…å®¹,è‹¥æ›¿æ¢çš„å†…å®¹è¿‡é•¿,åˆ™ä¼šæŠ¥é”™\n(setq str \"æˆ‘çš„\") (store-substring str 0 ?n) ;strå˜ä¸º\"nçš„\" (store-substring str 1 \"nm\") ;ä¼šraise args-out-of-range error   æ¸…ç©ºå­—ç¬¦ä¸²\n(clear-string str) è¯¥å‡½æ•°ä¼šä½¿å¾—strå˜ä¸ºäºŒè¿›åˆ¶å­—ç¬¦ä¸²,å¹¶ä¸”å°†å†…éƒ¨ç»“æ„æ¸…ç©ºä¸º0\n(setq str \"æˆ‘çš„\") (clear-string str) ;=strç°åœ¨ä¸º\"\u0000\u0000\u0000\u0000\u0000\u0000\"     åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…æŸæ­£åˆ™è¡¨è¾¾å¼  (string-match myRegex myStr)\n è·å–æ•è·åˆ°çš„åˆ†ç»„å†…å®¹  (match-string N myStr) ,è¿™é‡ŒmyStrå¯ä»¥å¿½ç•¥,è¡¨ç¤ºåœ¨bufferä¸­ä½œçš„æŸ¥è¯¢. ä½†è‹¥ä¸Šä¸€æ¬¡çš„åŒ¹é…ä½¿ç”¨string-matchå‡½æ•°ä½œçš„,åˆ™éœ€è¦è¯¥å‚æ•°\n å¯¹å­—ç¬¦ä¸²è¿›è¡Œæ­£åˆ™æ›¿æ¢  (replace-regexp-in-string myRegex myReplacement myStr) ;è¿™é‡ŒmyReplacementå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°,è¯¥å‡½æ•°æ¥æ”¶åŒ¹é…çš„å­—ç¬¦ä¸²,ç„¶åè¿”å›è¦æ›¿æ¢çš„å­—ç¬¦ä¸²\n splitå­—ç¬¦ä¸²  (split-string myStr \u0026optiional mySepeartor omit-nulls)\næ ¹æ®separatoræ‹†åˆ†myStr,é»˜è®¤å€¼ä¸ºå˜é‡`split-string-default-separators`çš„å€¼(é»˜è®¤ä¸º\"[ \\f\\t\\n\\r\\v]+\")\nè‹¥omit-nullsä¸ºtåˆ™åœ¨ç»„æˆlistæ—¶,ä¼šå¿½ç•¥ç©ºå­—ç¬¦ä¸².\nè‹¥å¸Œæœ›æŠŠå­—ç¬¦ä¸²åˆ†è§£ä¸º(split-string-and-unquote â€œcd â€˜abc edfâ€™\")\n å­—ç¬¦ä¸²æ­£åˆ™æ›¿æ¢  (replace-regexp-in-string myRegxp myReplace myStr)\n   Formatå‡½æ•°  %s  objectçš„è¾“å‡ºæ ¼å¼,ä½†æ˜¯ä¸å¸¦å¼•å·. è‹¥objectä¸ºå¸¦text propertiesçš„string,åˆ™text propertiesä¹Ÿè¢«å¤åˆ¶è¿›å»äº†.\n %S  objectçš„è¾“å‡ºæ ¼å¼,å¸¦å¼•å·\n %.Ns / %.NS  æˆªå–å­—ç¬¦ä¸²çš„å‰Nä½æ˜¾ç¤º\n %o  8è¿›åˆ¶çš„Integerå‹\n %d  åè¿›åˆ¶çš„Integerå‹\n %x  åå…­è¿›åˆ¶çš„Integerå‹,å­—æ¯ç”¨å°äº›å½¢å¼\n %X  åå…­è¿›åˆ¶çš„Integerå‹,å­—æ¯ç”¨å¤§å†™å½¢å¼\n %c  è¾“å‡ºCharacter\n %e  ä½¿ç”¨æŒ‡æ•°å½¢å¼è¡¨ç¤ºFloatå‹\n %f  ä½¿ç”¨å°æ•°å½¢å¼è¡¨ç¤ºFloatå‹\n %g  ä½¿ç”¨æŒ‡æ•°æˆ–å°æ•°å½¢å¼è¡¨ç¤ºFloatå‹,ä½¿ç”¨å“ªç§è¡¨ç¤ºæ–¹å¼å°±çœ‹å“ªä¸ªæ›´ç®€çŸ­.\n %%  %\nlistç›¸å…³å‡½æ•° åˆ¤æ–­å‡½æ•°  (consp object)  objectæ˜¯å¦ä¸ºcons cell. ä¸€èˆ¬æƒ…å†µä¸‹,listå°±æ˜¯cons cell,ä½†nilæ¯”è¾ƒç‰¹æ®Š,è™½ç„¶å®ƒæ˜¯list,ä½†ä¸æ˜¯cons clell\n (atom object)  nilå³æ˜¯atom,ä¹Ÿæ˜¯list\n (listp object)  objectæ˜¯å¦ä¸ºlist\n (nlistp object)  objectæ˜¯å¦ä¸æ˜¯list\n (null object) (memq object list)  åˆ¤æ–­listä¸­æ˜¯å¦åŒ…å«object,å®ƒè¿”å›listä¸­ç¬¬ä¸€æ¬¡å‡ºç°objectçš„ä½ç½®.å‡½æ•°åä¸­çš„qè¡¨ç¤ºä½¿ç”¨ eq ä½œä¸ºæ¯”è¾ƒå‡½æ•°.\n (memql object list)  ç±»ä¼¼memq,ä½†æ˜¯å‡½æ•°åä¸­çš„qlè¡¨ç¤ºä½¿ç”¨ eql ä½œä¸ºæ¯”è¾ƒå‡½æ•°.\n (member object list)  ç±»ä¼¼memq,ä½†æ˜¯ä½¿ç”¨ equal ä½œä¸ºæ¯”è¾ƒå‡½æ•°\n (member-ignore-case str list)  ç±»ä¼¼member,ä½†å‚æ•°strå¿…é¡»æ˜¯stringç±»å‹,å¹¶ä¸”æ¯”è¾ƒæ—¶ä¸åŒºåˆ†å¤§å°å†™,å•å­—èŠ‚å­—ç¬¦ä¸²ä¹Ÿè¢«è½¬æ¢ä¸ºå¤šå­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒ.\nè·å–listä¸­çš„å…ƒç´   (car-safe object)  å®ƒä¸carä¸åŒç‚¹åœ¨äº,è‹¥objectä¸æ˜¯cons ceil,åˆ™carä¼šæŠ¥é”™,è€Œcar-safeåªæ˜¯è¿”å›nil\n (cdr-safe object)  å®ƒä¸cdrä¸åŒç‚¹åœ¨äº,è‹¥objectä¸æ˜¯cons ceil,åˆ™cdrä¼šæŠ¥é”™,è€Œcdr-safeåªæ˜¯è¿”å›nil\n (pop list)  å¼¹å‡ºlistä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ \n (nth n list)  è¿”å›listä¸­çš„ç¬¬nä¸ªå…ƒç´ (ä»0å¼€å§‹è®¡ç®—), è‹¥nä¸ºè´Ÿæ•°,åˆ™è¿”å›listä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ .\n (nthcdr n list)  è¿”å›ç¬¬nä¸ªcdråçš„list,è‹¥nä¸º0æˆ–è´Ÿæ•°,åˆ™è¿”å›åŸlist\n(nthcdr 2 '(1 2 3 4)) ;=(3 4) (nthcdr 10 '(1 2 3 4)) ;=nil (nthcdr -3 '(1 2 3 4)) ;=(1 2 3 4)  (last list \u0026optional n)  è¿”å›listä¸­æœ€ånä¸ªå…ƒç´ ç»„æˆçš„list,é»˜è®¤n=1\n(last '(1 2 3 4 5) ) ;=(5) (last '(1 2 3 4 5) 3 ) ;=(3 4 5)  (safe-length list)  å¯¹äºcircular list,åªèƒ½è¡¨ç¤ºlistçš„é•¿åº¦æœ€å¤§ä¸ä¼šè¶…è¿‡safe-lengthè¿”å›çš„å€¼,è€Œä¸æ˜¯å®é™…å€¼.\n (butlast l \u0026optional n)  è¿”å›lå»æ‰äº†åé¢nä¸ªå…ƒç´ åçš„åˆ—è¡¨,é»˜è®¤nä¸º1\n(butlast '(1 2 3 4) 1) ;=(1 2 3) (butlast '(1 2 3 4) 2) ;=(1 2)  (nbutlast l \u0026optional n)  ç±»ä¼¼(butlast,ä½†æ˜¯ä¼šåŒæ—¶æ›´æ”¹lçš„å€¼\nåˆ›å»ºcons cellå’Œlist  (cons obj1 obj2)  consä¸€èˆ¬ç”¨æ¥å°†ä¸€ä¸ªå…ƒç´ æ·»åŠ åˆ°æŸä¸ªlistä¸­çš„å¤´éƒ¨.\n(cons 1 '(2 3 4)) ;=(1 2 3 4)  (list \u0026rest objects) (make-list n object)  è¿”å›ç”±nä¸ªobjectç»„æˆçš„list\n(make-list 3 2) ;=(2 2 2)  (append \u0026rest sequences)  å°†æ‰€æœ‰çš„sequencesä¸­çš„å…ƒç´ ä¸²åœ¨ä¸€èµ·ç»„æˆä¸€ä¸ªlist, éœ€è¦æ³¨æ„çš„æ˜¯,å‡ºäº†æœ€åä¸€ä¸ªå‚æ•°ä»¥å¤–,å…¶ä»–çš„å‚æ•°éƒ½è¢«copyä¸€ä»½,ç”¨äºä¸æœ€åé‚£ä¸ªå‚æ•°è¿›è¡Œè¿æ¥.\n(setq trees '(pine oak)) ;=(pine oak) (setq more-trees (append '(maple birch) trees)) ;=(maple birch pine oak) (eq trees (last more-trees 2)) ;=t é€šè¿‡åœ¨æœ€åçš„å‚æ•°åæ·»åŠ nil,å¯ä»¥è®©æ‰€æœ‰çš„å‚æ•°éƒ½å¼ºåˆ¶copy\næœ€åçš„å‚æ•°åœ¨å¤„ç†ä¸Šä¼šæœ‰äº›ç‰¹æ®Š,æœ€åä¸€ä¸ªå‚æ•°åªæ˜¯å•çº¯çš„è¢«å®‰ç½®åˆ°å‰é¢å‚æ•°ç»„æˆlistçš„cdrä½ç½®,ä¾‹å¦‚\n(append '(x y) [z]) ;=(x y . [z]),æœ€åçš„å‚æ•°åªæ˜¯æ”¾åœ¨cdrçš„ä½ç½®è€Œå·²,å› æ­¤æœ€ç»ˆç»“æœä¸æ˜¯(x y z)  (reverse list) (copy-tree tree *optional vecp) (number-sequence from \u0026optional to step)  è¿”å›ä¸€ä¸ªnumber list,å€¼çš„èŒƒå›´ä¸ºä»fromå¼€å§‹åˆ°toç»“æŸ,æ­¥è¿›ä¸ºstep(é»˜è®¤ä¸º1)\n(number-sequence 4 9) ;=(4 5 6 7 8 9) è‹¥toä¸ºnilæˆ–ä¸fromç›¸ç­‰,åˆ™è¿”å›å•å…ƒç´ åˆ—è¡¨(from)\nè‹¥stepä¸º0,ä¸”toä¸ä¸ºnilæˆ–ä¸fromçš„å€¼ç›¸ç­‰,åˆ™elispä¼šæŠ¥å‡ºé”™è¯¯,å› ä¸ºè¿™ä¼šäº§ç”Ÿä¸€ä¸ªæ­»å¾ªç¯\nè‹¥stepä¸ä¸º0,è€Œfromç´¯åŠ stepæ°¸è¿œä¸ä¼šè¶…è¿‡æˆ–åˆ°è¾¾to,åˆ™å‡½æ•°è¿”å›nil\n(number-sequence 8 5 1) ;nil (number-sequence 5 8 -1) ;nil ä¿®æ”¹listå˜é‡ ä¼šç ´ååŸå‚æ•°ä¸­çš„å€¼ è¿™é‡Œçš„å‡½æ•°éƒ½ä¼šç›´æ¥ä¿®æ”¹å‚æ•°ä¸­çš„list\n  (push element list)\næŠŠelementæ”¾åœ¨listçš„ç¬¬ä¸€ä½,ä½œç”¨ç±»ä¼¼cons\n  (add-to-list listname element \u0026optional append compare-fn)\nç±»ä¼¼push,ä½†è‹¥listä¸­å·²ç»æœ‰äº†element,åˆ™ä¿æŒlistä¸å˜\nè‹¥appendä¸ºénil,åˆ™å°†elementæ”¾åœ¨listçš„æœ€åä½ç½®\ncompare-fné»˜è®¤ä½¿ç”¨equalè¿›è¡Œæ¯”è¾ƒ\n  (add-to-ordered-list listname element \u0026optional order)\nè¿™é‡Œçš„orderéœ€è¦æ˜¯numberç±»å‹,\norderçš„å€¼å†³å®šäº†elementçš„ä½ç½®,è‹¥orderä¸ºnil,åˆ™å°†elementæ”¾åœ¨listä¸­æœ€åå¸¦orderçš„å…ƒç´ åé¢\n(setq foo nil) (add-to-ordered-list 'foo 'a 1) ;=(a) (add-to-ordered-list 'foo 'c 3) ;=(a c) (add-to-ordered-list 'foo 'b 2) ;=(a b c) (add-to-ordered-list 'foo 'b 4) ;=(a c b) è‹¥elementå·²ç»å­˜åœ¨,ä¸”è®¾å®šäº†order,åˆ™ä½¿ç”¨æ–°ordeæ”¾ç½®elementçš„ä½ç½® (add-to-ordered-list 'foo 'd) ;=(a c b d) (add-to-ordered-list 'foo 'e) ;=(a c b e d) (add-to-ordered-list 'foo 'f) ;=(a c b f e d) è‹¥orderä¸ºnil,åˆ™å°†elementæ”¾åœ¨listä¸­æœ€åå¸¦orderçš„å…ƒç´ åé¢   (setcar cons-ceil object) / (setcdr cons-ceil object)\nä¿®æ”¹cons-ceilçš„car/cdréƒ¨åˆ†,å¹¶è¿”å›å‚æ•°objectä½œä¸ºè¿”å›å€¼\né€šè¿‡setcdrå¯ä»¥å®ç°åˆ é™¤/æ·»åŠ listä¸­elementçš„ç›®çš„\n(setq x1 '(a b c d)) (setcdr x1 (cddr x1));='(a c d) (setcdr x1 (append '(1 2) (cdr x1))) ;= (a 1 2 c d)   (nconc \u0026rest lists)\nç±»ä¼¼append,æ‰€ä¸åŒçš„æ˜¯å®ƒç›´æ¥ä¿®æ”¹æ‰€æœ‰å‚æ•°çš„last elementçš„cdr,è€Œä¸ä¼šå…ˆåšcopy-sequenceæ“ä½œ.\nç”±äºé™¤äº†æœ€åä¸€ä¸ªå‚æ•°ä¸ç”¨è¢«ä¿®æ”¹ä¹‹å¤–,å…¶ä»–å‚æ•°çš„ç»“æ„éƒ½ä¼šè¢«ä¿®æ”¹,å› æ­¤é™¤äº†æœ€åä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯const listå¤–,å…¶ä»–å‚æ•°å¿…é¡»æ˜¯ä¸ªå˜é‡.\nè·Ÿappendä¸€æ ·çš„,æœ€åä¸€ä¸ªå‚æ•°å¯ä»¥ä¸æ˜¯list\n(setq x '(1 2 3)) ; = (1 2 3) (nconc x 'z) ; = (1 2 3 . z) x ; = (1 2 3 . z)   (nreverse list)\nç¿»è½¬å‚æ•°list\n  (sort list predicate-less)\nä½¿ç”¨predicate-lessè¿›è¡Œä»å°åˆ°å¤§çš„æ’åº,è‹¥å­˜åœ¨ç›¸ç­‰çš„å€¼,åˆ™ä¿æŒç›¸ç­‰å€¼çš„ä½ç½®ä¸å˜\n(setq x1 '(1 2 4 3 7 6 5));=(1 2 4 3 7 6 5) (sort x1 ') ;=(1 2 3 4 5 6 7) è¿™é‡Œçš„predicate-lessä¸ºæ¯”è¾ƒå‡½æ•°,å®ƒæ¥æ”¶ä¸¤ä¸ªå‚æ•°,å¹¶åˆ¤æ–­ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¦å°äºç¬¬äºŒä¸ªå‚æ•°.\npredicate-lesså‡½æ•°å¿…é¡»æœ‰ä¸‹é¢ä¸¤ä¸ªç‰¹æ€§:\n  A è‹¥AB,BC,åˆ™AC\n  æ³¨æ„:\nsortæœ‰ä¸€ä¸ªå¾ˆå˜æ€çš„ç‰¹æ€§:sortå‡½æ•°ä¼šè®©å‚æ•°listä¾ç„¶æŒ‡å‘åŸæ¥çš„å“ªä¸ªcons-cellçš„ä½ç½®,è€Œä¸ç®¡è¿™ä¸ªcons-cellæ˜¯å¦åœ¨sortåä¾ç„¶æ˜¯å¤„äºç¬¬ä¸€ä¸ªå…ƒç´ çš„ä½ç½®. ä¾‹å¦‚\n(setq x1 '(9 8 7 2 3)) (sort x1 ') ;=(2 3 7 8 9) x1 ;=(9),æ³¨æ„,x1å®é™…ä¸Šä¾ç„¶æŒ‡å‘äº†9è¿™ä¸ªcons cellçš„ä½ç½® å› æ­¤ä¸€èˆ¬æƒ…å†µä¸‹,éƒ½éœ€è¦æŠŠsortçš„è¿”å›ç»“æœèµ‹å€¼å›å‚æ•°list\n  (delq object list)\nç§»é™¤listä¸­æ‰€æœ‰ä¸objectç›¸ç­‰çš„element,å‡½æ•°ä¸­çš„qè¡¨ç¤ºä½¿ç”¨eqä½œä¸ºæ¯”è¾ƒå‡½æ•°.\nç”±äºdelqåœ¨åˆ é™¤listå¤´éƒ¨çš„elementæ—¶,ä»…ä»…æ˜¯è¿”å›è·³è¿‡å¤´éƒ¨elementçš„cdrä½ç½®,è€Œä¸ä¼šæ”¹å˜listå‚æ•°æ‰€æŒ‡å‘çš„ä½ç½®.\n(setq x1 '(a b c)) (delq 'a x1) ;=(b c) x1 ;=(a b c) å› æ­¤ä½¿ç”¨delq,ä¸€èˆ¬æˆ‘ä»¬ä¹Ÿéœ€è¦å°†è¿”å›å€¼èµ‹å€¼å›å‚æ•°list\n  (delete object seq)\ndeleteå‡½æ•°æ¯”è¾ƒç‰¹æ®Š,å®ƒæ ¹æ®seqçš„ç±»å‹ä¸åŒè€Œæœ‰ä¸åŒçš„è¡Œä¸º.\nå½“seqä¸ºlistç±»å‹æ—¶,å®ƒè·Ÿdelqä¸€æ ·ä¼šä¿®æ”¹seqçš„å€¼,æ‰€ä¸åŒçš„æ˜¯å®ƒä½¿ç”¨equalä½œä¸ºæ¯”è¾ƒå‡½æ•°.\nå½“seqä¸ºvectoræˆ–string,åˆ™deleteä¸ä¼šä¿®æ”¹åŸseqçš„å€¼\n(setq l '((2) (1) (2))) (delete '(2) l) ; = ((1)) l ; = ((2) (1)) ;; If you want to change `l' reliably, ;; write `(setq l (delete '(2) l))'. (setq l '((2) (1) (2))) (delete '(1) l) ; = ((2) (2)) l ; = ((2) (2)) ;; In this case, it makes no difference whether you set `l', ;; but you should do so for the sake of the other case. (setq v [(2) (1) (2)]) (delete '(2) v) ; = [(1)] v ; = [(2) (1) (2)]   (delete-dups list)\nåˆ é™¤listä¸­æ‰€æœ‰é‡å¤çš„å…ƒç´ ,ä½¿ç”¨equalä½œä¸ºæ¯”è¾ƒå‡½æ•°.\nå½“listä¸­æœ‰å¤šä¸ªé‡å¤å…ƒç´ æ—¶,delete-dupsä¿ç•™ç¬¬ä¸€ä¸ªå…ƒç´ .\n  ä¸ç ´ååŸå‚æ•°çš„å€¼   (remq object list) ç±»ä¼¼delq,ä½†ä¸æ”¹å˜åŸå‚æ•°listçš„å€¼. è¿™é‡Œçš„qä¹Ÿè¡¨ç¤ºä½¿ç”¨eqä½œä¸ºåˆ¤æ–­å‡½æ•°.\n  (remove object seq) ç±»ä¼¼å‡½æ•°delete,ä½†å®ƒä¿è¯ä¸ä¿®æ”¹å‚æ•°seqçš„å€¼\n  alistç›¸å…³å‡½æ•° è·å–alist  (copy-alist alist)  æ‹·è´alistçš„ä¸€ä¸ªå‰¯æœ¬(two-level deep copy)\næ ¹æ®keyå–key-valueé”®å€¼å¯¹  (assoc key alist)  å½“ä½¿ç”¨assocåœ¨alistä¸­å–é”®å€¼å¯¹æ—¶,åªä¼šå–å‘ç°çš„ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„é”®å€¼å¯¹. å› æ­¤å¯ä»¥ç›´æ¥ç”¨pushå‘½ä»¤å°†è¦ä¿®æ”¹ä¸ºçš„æ–°é”®å€¼å¯¹æ”¾åˆ°alistçš„å‰é¢,ä»¥æ­¤æ¥æ¨¡æ‹Ÿå¯¹è€é”®å€¼å¯¹çš„ä¿®æ”¹,åŒæ—¶ä¿ç•™äº†è€é”®å€¼å¯¹çš„å†å².\n(assoc 'garden *nodes*) assocä½¿ç”¨equalå‡½æ•°ä½œä¸ºæ¯”è¾ƒå‡½æ•°\n (assq key alist) ç±»ä¼¼assoc,ä½†å‡½æ•°åä¸­çš„qè¡¨ç¤ºä½¿ç”¨eqä½œä¸ºæ¯”è¾ƒå‡½æ•°. ä¸€èˆ¬ç”¨äºkeyä¸ºsymbolç±»ä¼¼æ—¶,å› ä¸ºeqé€Ÿåº¦æ¯”equalå¿«å¾—å¤š.  æ ¹æ®valueæŸ¥æ‰¾key-valueé”®å€¼å¯¹   (rassoc value alist)\nrassocä¹Ÿä½¿ç”¨equalä½œä¸ºæ¯”è¾ƒå‡½æ•°.\n  (rassq value alist)\nç±»ä¼¼rassoc,ä½†æ˜¯å‡½æ•°åä¸­çš„qæ ‡è¯†ç”¨eqä½œä¸ºæ¯”è¾ƒå‡½æ•°\n  (assoc-default key alist \u0026optional test default)\nassoc-defaultä¸å…¶ä»–assocç³»åˆ—å‡½æ•°ä¸åŒä¹‹å¤„åœ¨äº, å®ƒç›´æ¥è¿”å›keyéƒ¨åˆ†,è€Œä¸”å®ƒä¹Ÿæ¯”è¾ƒä¸ä¸ºcons cellçš„element.\nè‹¥alistä¸­æŸelementä¸ºatom,åˆ™è¯¥elementæ•´ä¸ªè¢«ç”¨äºä¸å¯ä»¥è¿›è¡Œæ¯”è¾ƒ,ä¸”ä½¿ç”¨defaultä½œä¸ºè¿”å›å€¼. å¦åˆ™è‹¥elementä¸ºcons cell,åˆ™ä½¿ç”¨(car element)è¿›è¡Œæ¯”è¾ƒ. ä½¿ç”¨(cdr element)ä½œä¸ºè¿”å›å€¼.\n(setq x1 '(0 (1 \"one\") (2 \"two\")(3 \"three\" ))) (assoc-default 1 x1);=(\"one\") (assoc-default 0 x1 'equal \"zero\") ;=\"four\" (assoc-default 4 x1) ;=nil testä¸ºæ¯”è¾ƒå‡½æ•°,é»˜è®¤ä¸ºequal\n  æ›´æ–°æ–°å€¼/æ·»åŠ æ–°å€¼ ä½¿ç”¨pushå°†æ–°é”®å€¼å¯¹æ”¾å…¥alistä¸­å³å¯\n(push '(old-key new-value) *alist*) (push '(new-key new-value) *alist*) åˆ é™¤é”®å€¼å¯¹   æ ¹æ®keyåˆ é™¤ (assq-delete-all key alist)\nç±»ä¼¼delqçš„alistç‰ˆ,ä»–å¯èƒ½ä¼šä¹Ÿå¯èƒ½ä¸ä¼šä¿®æ”¹åŸalistçš„ç»“æ„,å› æ­¤ éœ€è¦å°†è¿”å›å€¼èµ‹å€¼å›åŸå‚æ•°alist\nå‡½æ•°åä¸­çš„qè¡¨ç¤ºæ¯”è¾ƒæ—¶ä½¿ç”¨eqå‡½æ•°\n  æ ¹æ®valueåˆ é™¤ (rassq-delete-all value alist)\nç±»ä¼¼assq-delete-all,ä½†æ˜¯å®ƒæ¯”è¾ƒvalueè€Œä¸æ˜¯key\n  Property listç›¸å…³å‡½æ•°  åˆ¤æ–­plistä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„property  (plist-member plist property)\nè¿”å›plistä¸­æŒ‡å‘propertyçš„ä½ç½®. ä½¿ç”¨eqä½œä¸º\n(plist-member '((1) \"one\" 2 two) 2) ;=(2 two)   è¿”å›plistä¸­åŒ¹é…å‚æ•°propertyçš„valueå€¼ (plist-get plist property)\nè¯¥å‡½æ•°ä½¿ç”¨eqä½œä¸ºæ¯”è¾ƒå‡½æ•°\n   (plist-get '(foo 4) 'foo) ; = 4 (plist-get '(foo 4 bad) 'foo) ; = 4 (plist-get '(foo 4 bad) 'bad) ; = nil (plist-get '(foo 4 bad) 'bar) ; = nil (lax-plist-get plist property)\nç±»ä¼¼plist-get,ä½†æ˜¯è¯¥å‡½æ•°ä½¿ç”¨equalæ¥ä½œä¸ºæ¯”è¾ƒå‡½æ•°\n å¢åŠ /ä¿®æ”¹plistä¸­çš„é”®å€¼å¯¹  (plist-put plist peroperty value)\nè¯¥å‡½æ•°å¯èƒ½/å¯èƒ½ä¸ä¼šä¿®æ”¹åŸå‚æ•°plistçš„ç»“æ„.å› æ­¤ä½ éœ€è¦æŠŠè¿”å›å€¼é‡æ–°èµ‹å€¼å›åŸplistä¸­\n(setq my-plist '(bar t foo 4)) ; = (bar t foo 4) (setq my-plist (plist-put my-plist 'foo 69)) ; = (bar t foo 69) (setq my-plist (plist-put my-plist 'quux '(a))) ; = (bar t foo 69 quux (a)) (lax-plist-put plist property value) ç±»ä¼¼plist-putå‡½æ•°,ä½†æ˜¯ä½¿ç”¨equalä½œä¸ºæ¯”è¾ƒå‡½æ•°æ¥å†³å®šæ˜¯æ·»åŠ è¿˜æ˜¯æ›´æ–°å€¼\nç¯çŠ¶ç»“æ„ä½“ç›¸å…³å‡½æ•° æœ‰æ—¶æˆ‘ä»¬ä¼šä½¿ç”¨ä¸€ç§ç¯çŠ¶ç»“æ„ä½“æ¥å­˜å‚¨æ•°æ®,æˆ‘ä»¬å¯ä»¥æ’å…¥æ•°æ®åˆ°ç¯çŠ¶ç»“æ„ä½“ä¸­,ä¹Ÿå¯ä»¥åˆ é™¤,æ—‹è½¬ç¯çŠ¶ç»“æ„ä¸­çš„æ•°æ®,è¿˜å¯ä»¥éå†æ•°æ®æˆ–è€…æ ¹æ®ç´¢å¼•çš„æ¨¡å€¼è®¿é—®æ•°æ®(åœ¨è¿™ç§ç¯çŠ¶ç»“æ„ä½“ä¸­,æœ€æ–°æ’å…¥çš„æ•°æ®ç´¢å¼•ä¸º0,ç„¶åä»æ–°åˆ°å°±ä»¥æ­¤ç´¯åŠ ).\nelispæä¾›äº†åä¸º`ring`çš„package,ä¾›æˆ‘ä»¬æ–¹ä¾¿æ“ä½œè¿™ç§ç¯çŠ¶ç»“æ„ä½“.\n (make-ring size)  åˆ›å»ºä¸€ä¸ªå¤§å°ä¸ºsizeçš„ç¯çŠ¶ç»“æ„\n (ring-p object)  åˆ¤æ–­objectæ˜¯å¦ä¸ºç¯çŠ¶ç»“æ„ä½“\n (ring-size ring)  è·å–è¯¥ringä¸Šå®é™…åŒ…å«äº†å¤šå°‘æ•°æ®\n (ring-elements ring)  æŠŠringä¸­çš„æ•°æ®,ä»æ–°åˆ°æ—§,ä»¥listçš„å½¢å¼è¿”å›\n (ring-emplty-p ring)  åˆ¤æ–­ringæ˜¯å¦ä¸ºç©º\n (ring-ref ring index)  æ ¹æ®ç´¢å¼•,æŸ¥æ‰¾ringä¸­ç›¸åº”çš„å€¼.\næœ€æ–°æ’å…¥çš„æ•°æ®ç´¢å¼•ä¸º0,ç„¶åä»æ–°åˆ°æ—§ä¾æ¬¡ç´¯åŠ .\nç´¢å¼•ä¹Ÿå¯ä»¥ä¸ºè´Ÿæ•°,-1è¡¨ç¤ºæœ€æ—§æ’å…¥çš„æ•°æ®,-2è¡¨ç¤ºç¬¬äºŒæ—§çš„æ•°æ®,ä»¥æ­¤ç±»æ¨.\n (ring-insert ring object)  å¾€ringä¸­æ’å…¥object,è¯¥objectä½œä¸ºæœ€æ–°æ’å…¥çš„æ•°æ®,å®ƒçš„ç´¢å¼•ä¸º0.\nè‹¥ringä¸­çš„æ•°æ®å·²ç»æ»¡äº†,åˆ™è¯¥æ“ä½œä¼šåŒæ—¶åˆ é™¤æœ€æ—§çš„é‚£ä¸ªæ•°æ®\nè¯¥å‡½æ•°çš„è¿”å›å€¼ä¸ºobject\n (ring-insert-at-beginning ring object)  å¾€ringä¸­æ’å…¥æ•°æ®,ä½†è¯¥æ•°æ®è¢«ä½œä¸ºæœ€æ—§çš„æ•°æ®é¡¹æ¥å¤„ç†.\nè‹¥ringä¸­çš„æ•°æ®å·²ç»æ»¡äº†,åˆ™è¯¥æ“ä½œä¼šåˆ é™¤æœ€æ—§çš„é‚£ä¸ªæ•°æ®.\n (ring-remove ring \u0026optional index)  é™¤å¹¶è¿”å›ringä¸­çš„æ•°æ®. indexè‹¥ä¸ºnilåˆ™è¡¨ç¤ºæœ€æ—§çš„æ•°æ®\n è‹¥èƒ½å¤Ÿä¿è¯ä¸è¶…å‡ºringçš„å®¹é‡,åˆ™å¯ä»¥ä½¿ç”¨ringç»“æ„ä½“ä½œä¸ºå…ˆè¿›å…ˆå‡ºé˜Ÿåˆ—æ¥ä½¿ç”¨.ä¾‹å¦‚   (let ((fifo (make-ring 5))) (mapc (lambda (obj) (ring-insert fifo obj)) '(0 one \"two\")) (list (ring-remove fifo) t (ring-remove fifo) t (ring-remove fifo))) ;; = (0 t one t \"two\") Sequencesç›¸å…³å‡½æ•°  (sequencep object)  åˆ¤æ–­objectæ˜¯å¦ä¸ºsequence\n (length sequence)  è·å–sequenceä¸­çš„elementä¸ªæ•°\néœ€è¦æ³¨æ„çš„æ˜¯lengthä¸èƒ½å¯¹ç‚¹åˆ—è¡¨å’Œç¯å½¢åˆ—è¡¨æ±‚é•¿åº¦,ä½†æ˜¯å¯ä»¥ç”¨safe-lengthä»£æ›¿\n (elt sequence index)  è¿”å›sequenceä¸­indexæ‰€æ ‡ç¤ºçš„element(indexä»0å¼€å§‹æ ‡ç¤º)\nè‹¥indexçš„å€¼ä¸ä¸º0åˆ°(1- (length sequence)),åˆ™è‹¥å‚æ•°sequenceä¸æ˜¯list,åˆ™elispæŠ¥`args-out-of-range`é”™è¯¯\n(string (elt \"1234\" 2)) ; = \"3\" (elt [1 2 3 4] 4) ; error-- Args out of range: [1 2 3 4], 4 (elt [1 2 3 4] -1) ; error-- Args out of range: [1 2 3 4], -1  (copy-sequence sequence)  åˆ›å»ºsequenceçš„ä¸€ä¸ªæ–°çš„å¼•ç”¨.\nè¿™é‡Œå¼•ç”¨çš„æ„æ€åœ¨äºæ–°çš„copyä¸åŸsequenceå…±åŒæŒ‡å‘ä¸€ä¸ªç»“æ„,å³:è‹¥å¯¹æ‹·è´æ·»åŠ ä¿¡æ–°çš„å…ƒç´ ,å¹¶ä¸ä¼šå¯¹åŸsequenceè¿›è¡Œä¿®æ”¹,ä½†è‹¥å¯¹åŸelementè¿›è¡Œä¿®æ”¹ä¼šåŒæ—¶å½±å“åŸsequence,åä¹‹ä¾ç„¶.\n(setq y (copy-sequence x)) ; = [foo (1 2)] (eq x y) ; = nil (equal x y) ; = t (eq (elt x 1) (elt y 1)) ; = t ;; Replacing an element of one sequence. (aset x 0 'quux) ; x = [quux (1 2)] ; y = [foo (1 2)] ;; Modifying the inside of a shared element. (setcar (aref x 1) 69) ; x = [quux (69 2)] ; y = [foo (69 2)] copy-sequenceä¸èƒ½ç”¨äºç‚¹åˆ—è¡¨å’Œç¯å½¢åˆ—è¡¨,å¯ä»¥ç”¨copy-treeå‡½æ•°æ‹·è´ç‚¹åˆ—è¡¨,ä½†æ— æ³•å¤åˆ¶ç¯å½¢åˆ—è¡¨\n (append aVector nil) appendå‡½æ•°æä¾›äº†ä¸€ç§å°†sequenceè½¬æ¢ä¸ºlistçš„æ–¹æ³• (setq avector [1 two (quote (three)) \"four\" [five]]) ; = [1 two (quote (three)) \"four\" [five]] (append avector nil) ; = (1 two (quote (three)) \"four\" [five])   Arrayç›¸å…³å‡½æ•°  (arrayp object)  åˆ¤æ–­objectæ˜¯å¦ä¸ºarray\n (aref array index)  è·å–arrayä¸­indexæ‰€æŒ‡çš„elementçš„å¼•ç”¨\n (aset array index object)  è®¾ç½®arrayä¸­ç¬¬indexçš„å…ƒç´ ä¸ºobject,è¯¥å‡½æ•°è¿”å›object\n (fillarray array object)  å°†arrayä¸­æ‰€æœ‰å…ƒç´ éƒ½å¡«å……ä¸ºobject\n(setq a [a b c d e f g]) ; = [a b c d e f g] (fillarray a 0) ; = [0 0 0 0 0 0 0] a ; = [0 0 0 0 0 0 0] (setq s \"When in the course\") ; = \"When in the course\" (fillarray s ?-) ; = \"------------------\" Vectorç›¸å…³å‡½æ•°   (vectorp object)\nåˆ¤æ–­objectæ˜¯å¦ä¸ºvector\n  (vector \u0026rest objects)\nåˆ›å»ºç”±objectsç»„æˆçš„vector\n  (make-vector N object)\nåˆ›å»ºç”±Nä¸ªobjectç»„æˆçš„vector\n  (vconcat \u0026rest sequences)\nå°†sequencesä¸­çš„element,è½¬æ¢åˆ°vectorä¸­\n(setq a (vconcat '(A B C) '(D E F))) ; = [A B C D E F] (eq a (vconcat a)) ; = nil (vconcat) ; = [] (vconcat [A B C] \"aa\" '(foo (6 7))) ; = [A B C 97 97 foo (6 7)]   Char-Tableç›¸å…³å‡½æ•°   (char-table-p object) åˆ¤æ–­objectæ˜¯å¦ä¸ºchar-tableç±»å‹çš„\n  (make-char-table SUBTYPE \u0026optional init) åˆ›å»ºä¸€ä¸ªæ–°char-tableå¯¹è±¡,è¯¥char-tableçš„subtypeä¸ºå‚æ•°SUBTYPE(å¿…é¡»ä¸ºsymbolç±»å‹). è¯¥char-tableçš„æ‰€æœ‰elementåˆå§‹åŒ–ä¸ºå‚æ•°init(é»˜è®¤ä¸ºnil).\nä¸€æ—¦åˆ›å»ºäº†char-table,å°±ä¸èƒ½å†ä¿®æ”¹å…¶subtypeäº†.\n  (char-table-subtype char-type) è¿”å›char-tableçš„subtype\n  (char-table-parent char-table) è·å¾—char-tableçš„çˆ¶çº§char-tableå¯¹è±¡,è‹¥æ²¡æœ‰,åˆ™è¿”å›nil\nchar-tableä»çˆ¶çº§char-tableä¸­ç»§æ‰¿å€¼\n  (set-char-table-parent char-table new-parent-char-table) ä¸ºchar-tableè®¾ç½®çˆ¶çº§char-table\n  (char-table-extra-slot char-table n) è¿”å›char-tableä¸­ç¬¬nä¸ªslotä¸Šçš„å€¼\nä¸€ä¸ªchar-tableæœ‰å¤šå°‘ä¸ªslot,ç”±å®ƒçš„subtypeçš„å±æ€§`char-table-extra-slots`å†³å®š\n  (set-char-table-extra-slot char-table n value) è®¾ç½®char-tableçš„ç¬¬nä¸ªslotçš„å€¼ä¸ºvalue\n  (char-table-range char-table range) è¯¥å‡½æ•°è¿”å›char-tableä¸­æŸä¸ªç”±å‚æ•°rangeæŒ‡å®šçš„èŒƒå›´å†…çš„å€¼\nrangeå‚æ•°å¯ä»¥æ˜¯:\n nil  è·å–é»˜è®¤å€¼\n char  è·å–charå¯¹åº”çš„å€¼\n â€˜(from . to)  è·å–[from,to]è¿™ä¸ªèŒƒå›´å†…charçš„ç›¸åº”å€¼\n  (set-char-table-range char-table range value) è®¾ç½®char-tableä¸­ç”±rangeæ‰€æŒ‡èŒƒå›´çš„å¯¹åº”å€¼.\nè¿™é‡Œçš„å‚æ•°rangeå¯èƒ½æ˜¯:\n nil  è®¾ç½®char-tableçš„é»˜è®¤å€¼ä¸ºvalue\n t  è®¾ç½®æ•´ä¸ªchar-tableçš„å€¼ä¸ºvalue\n char  è®¾ç½®charå¯¹åº”çš„å€¼ä¸ºvalue\n (from. to)  è®¾ç½®èŒƒå›´[from,to]ä¹‹é—´çš„å€¼ä¸ºvalue\n  (map-char-table function char-table) é’ˆå¯¹char-tableä¸­æ‰€æœ‰å€¼énilçš„é”®å€¼å¯¹éƒ½ä½œä¸ºå‚æ•°è°ƒç”¨functionå‡½æ•°.\nè¯¥functionå‡½æ•°å¿…é¡»æ¥æ”¶ä¸¤ä¸ªå‚æ•°(ä¸€ä¸ªkey,ä¸€ä¸ªvalue). å…¶ä¸­keyçš„ç±»å‹å¯ä»¥æ˜¯æŸä¸ªchar,æˆ–è¿™ç±»ä¼¼â€™(from . to)è¿™æ ·çš„æ ‡ç¤ºèŒƒå›´çš„cons ceil(ä¸æ˜¯å¾ˆæ˜ç™½ä»€ä¹ˆæ—¶å€™ä¼šç”¨åˆ°(from.to)è¿™æ ·ç±»å‹çš„å‚æ•°å‘¢??) è€Œvalueçš„å€¼ä¸º(char-table-range char-table key)çš„è¿”å›å€¼\nmap-char-tableçš„è¿”å›å€¼å¿…å®šä¸ºnil,å› æ­¤æˆ‘ä»¬é€šå¸¸åªä½¿ç”¨functionçš„å‰¯ä½œç”¨.\n(let (accumulator) (map-char-table #'(lambda (key value) (setq accumulator (cons (list (if (consp key) (list (car key) (cdr key)) key) value) accumulator))) (syntax-table)) accumulator) ;; = ;; (((2597602 4194303) (2)) ((2597523 2597601) (3)) ;; ... (65379 (5 . 65378)) (65378 (4 . 65379)) (65377 (1)) ;; ... (12 (0)) (11 (3)) (10 (12)) (9 (0)) ((0 8) (3)))   Bool-vectorç›¸å…³å‡½æ•°   åˆ›å»ºbool-vector (make-bool-vector length initial)\nåˆ›å»ºé•¿åº¦ä¸ºlengthçš„bool-vector,æ¯ä¸ªå€¼åˆå§‹åŒ–ä¸ºinitial\n(setq a (make-bool-vector 10 nil)) ;=#\u002610\"\u0000\u0000\"   ç±»å‹åˆ¤æ–­\n(bool-vector-p object)\nobjectæ˜¯å¦ä¸ºä¸ºbool-vectorç±»å‹\n  é›†åˆè¿ç®—\n(bool-vector-exclusive-or a b \u0026optional c)\næ±‚aå’Œbçš„å¼‚æˆ–è®¡ç®—ç»“æœ,è‹¥æœ‰å‚æ•°c,åˆ™å°†ç»“æœå­˜å…¥cä¸­. æ‰€æœ‰å‚æ•°éƒ½éƒ½å¿…é¡»ä¸ºbool vectorç±»å‹ä¸”å…·æœ‰ç›¸åŒçš„é•¿åº¦\n(bool-vector-union a b \u0026optional c)\næ±‚a\u0026bçš„è®¡ç®—ç»“æœ,è‹¥æœ‰å‚æ•°c,åˆ™å°†ç»“æœå­˜å…¥cä¸­. æ‰€æœ‰å‚æ•°éƒ½éƒ½å¿…é¡»ä¸ºbool vectorç±»å‹ä¸”å…·æœ‰ç›¸åŒçš„é•¿åº¦\n(bool-vector-intersection a b \u0026optional c)\næ±‚a|bçš„è¿ç®—ç»“æœ,è‹¥æœ‰å‚æ•°c,åˆ™å°†ç»“æœå­˜å…¥cä¸­. æ‰€æœ‰å‚æ•°éƒ½éƒ½å¿…é¡»ä¸ºbool vectorç±»å‹ä¸”å…·æœ‰ç›¸åŒçš„é•¿åº¦\n(bool-vector-set-difference a b \u0026optional c)\næ±‚a-bçš„è¿ç®—ç»“æœ,è‹¥æœ‰å‚æ•°c,åˆ™å°†ç»“æœå­˜å…¥cä¸­. æ‰€æœ‰å‚æ•°éƒ½éƒ½å¿…é¡»ä¸ºbool vectorç±»å‹ä¸”å…·æœ‰ç›¸åŒçš„é•¿åº¦\n(bool-vector-not a \u0026optional b)\næ±‚!açš„è¿ç®—ç»“æœ,è‹¥æœ‰å‚æ•°b,åˆ™å°†ç»“æœå­˜å…¥bä¸­. æ‰€æœ‰å‚æ•°éƒ½éƒ½å¿…é¡»ä¸ºbool vectorç±»å‹ä¸”å…·æœ‰ç›¸åŒçš„é•¿åº¦\n(bool-vector-subsetp a b)\nåˆ¤æ–­aæ˜¯å¦ä¸ºbçš„å­é›†, æ‰€è°“aæ˜¯bçš„å­é›†æŒ‡çš„æ˜¯æ‰€æœ‰aä¸­å€¼ä¸ºtçš„ä½ç½®,åœ¨bä¸­ä¹Ÿä¸ºt. æ‰€æœ‰å‚æ•°éƒ½éƒ½å¿…é¡»ä¸ºbool vectorç±»å‹ä¸”å…·æœ‰ç›¸åŒçš„é•¿åº¦\n(bool-vector-count-consecutive bool-vector a index)\nç»Ÿè®¡bool-vectorä¸­ä»indexå¼€å§‹,è¿ç»­å€¼ç­‰äºaçš„ä¸ªæ•°\n(bool-vector-count-population bool-vector)\nç»Ÿè®¡bool-vectorä¸­å€¼ä¸ºtçš„ä¸ªæ•°\n(aref bool-vector index)\nè¦ä¿®æ”¹/è·å–bool-vectorçš„å€¼,éœ€è¦ä½¿ç”¨arrayçš„ç›¸å…³å‡½æ•°æ¥è¿›è¡Œ:\nè·å–bool-vectorä¸­indexçš„å€¼\n(aset bool-vecotr index value)\nè®¾ç½®bool-vectoråœ¨indexä½ç½®çš„value\nä¸‹é¢æ˜¯ä¸€äº›ä¾‹å­\n(setq bv (make-bool-vector 5 t)) ; = #\u00265\"^_\" (aref bv 1) ; = t (aset bv 3 nil) ; = nil bv ; = #\u00265\"^W\"   HashTableç›¸å…³å‡½æ•° åˆ¤æ–­å‡½æ•°  (hash-table-p table)  åˆ¤æ–­tableæ˜¯å¦ä¸ºhash-table\nåˆ›å»ºhash-table (make-hash-table \u0026rest keyword-args)\nå¸¸ç”¨çš„keyword-argsæœ‰:\n  :test TEST\næŒ‡å®šäº†ç”¨äºæµ‹è¯•ç›¸ç­‰çš„å‡½æ•°. é»˜è®¤ä½¿ç”¨eq\n  :weakness WEAK\næŒ‡å®šäº†hash-tableä»€ä¹ˆæ—¶å€™è¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶. WEAKçš„å¯é€‰å‚æ•°ä¸º:\n nil(é»˜è®¤å€¼)  è¡¨ç¤ºkeyå’Œvalueéƒ½ä¸æ˜¯å¼±å¼•ç”¨,hash-tableä¼šä¿è¯keyå’Œvalueä¸ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶\n key  è¡¨ç¤ºkeyä¸ºå¼±å¼•ç”¨,å³è‹¥é™¤äº†hash-tableå…¶ä»–åœ°æ–¹æ²¡æœ‰å¼•ç”¨keyçš„å˜é‡,åˆ™keyå˜é‡æ‰€æŒ‡çš„å†…å­˜å—è¢«å›æ”¶. è¯¥key-valueé”®å€¼å¯¹ä»hash-tableä¸­è¢«åˆ é™¤\n value  è¡¨ç¤ºvalueä¸ºå¼±å¼•ç”¨,å³è‹¥é™¤äº†hash-tableå…¶ä»–åœ°æ–¹æ²¡æœ‰å¼•ç”¨valueçš„å˜é‡,åˆ™valueå˜é‡æ‰€æŒ‡çš„å†…å­˜å—è¢«å›æ”¶. è¯¥key-valueé”®å€¼å¯¹ä»hash-tableä¸­è¢«åˆ é™¤\n key-or-value  è¡¨ç¤ºè‹¥é™¤äº†hash-tableå…¶ä»–åœ°æ–¹ åŒæ—¶ æ²¡æœ‰å¼•ç”¨keyæˆ–valueçš„å˜é‡,åˆ™keyå’Œvalueå˜é‡æ‰€æŒ‡çš„å†…å­˜å—è¢«å›æ”¶. è¯¥key-valueé”®å€¼å¯¹ä»hash-tableä¸­è¢«åˆ é™¤\n key-and-value / t  è¡¨ç¤ºkeyå’Œvalueéƒ½ä¸ºå¼±å¼•ç”¨,å³è‹¥é™¤äº†hash-tableå…¶ä»–åœ°æ–¹æ²¡æœ‰å¼•ç”¨keyæˆ–valueçš„å˜é‡,åˆ™keyæˆ–valueå˜é‡æ‰€æŒ‡çš„å†…å­˜å—è¢«å›æ”¶. è¯¥key-valueé”®å€¼å¯¹ä»hash-tableä¸­è¢«åˆ é™¤\n  :size SIZE æŒ‡ç¤ºå¤§è‡´ä¸Šä¼šæœ‰SIZEä¸ªæ•°æ®å­˜å…¥hash-table,ç”¨äºä¼˜åŒ–åˆå§‹å®¹é‡,é»˜è®¤ä¸º65\n  :rehash-size REHASH-SIZE æŒ‡ç¤ºå½“hash-tableå®¹é‡çˆ†æ»¡å,æ€ä¹ˆè¿›è¡Œæ‰©å®¹.\nè‹¥REHASH-SIZEä¸ºæ­£æ•´æ•°,åˆ™æ¯æ¬¡æ‰©å®¹éƒ½å¢åŠ REHASH-SIZEä¸ªå®¹é‡\nè‹¥REHASH-SIZEä¸ºæ­£æµ®ç‚¹æ•°,åˆ™æ¯æ¬¡æ‰©å®¹éƒ½æŒ‰ç…§REHASH-SIZEçš„å€æ•°æ¥è°ƒæ•´å®¹é‡(å› æ­¤REHASH-SIZEéœ€è¦1)\nREHASH-SIZEé»˜è®¤ä¸º1.5\n  :rehash-threshold THRESHOLD è¯¥å‚æ•°æŒ‡æ˜äº†ä»€ä¹ˆæ—¶å€™hash-tableè¿›è¡Œæ‰©å®¹. é»˜è®¤ä¸º0.8\nTHRESHOLDæ˜¯ä¸€ä¸ªä¸å¤§äº1çš„æµ®ç‚¹æ•°, å½“hash-tableä¸­çš„å…ƒç´ ä¸ªæ•°THRESHOLDä¹˜ä¸hash-tableå®¹é‡æ—¶,è¿›è¡Œæ‰©å®¹\n(copy-hash-table table)\nåˆ›å»ºtableçš„å‰¯æœ¬,ä½† å®ƒçš„keyå’Œvalueä¸åŸtableå…±äº«\n  æ·»åŠ item / ä¿®æ”¹itemçš„å€¼ (puthash myKey myVal myHash)\nåˆ é™¤item (remhash myKey myHash)\nåˆ é™¤myHashä¸­ç´¢å¼•ä¸ºmyKeyçš„é”®å€¼å¯¹. è¯¥å‡½æ•°æ€»æ˜¯è¿”å›nil\n(clrhash myHash)\næ¸…ç©ºmyHashä¸­çš„æ‰€æœ‰å†…å®¹,è¯¥å‡½æ•°æ€»æ˜¯è¿”å›nil\nè·å–æŸitemçš„å€¼ (gethash myKey myHash \u0026optional default)\nè‹¥æ²¡keyä¸ºmyKeyçš„item,åˆ™è¿”å›default,é»˜è®¤ä¸ºnil\nè·å–hashä¸­çš„å±æ€§   è·å–hashä¸­çš„key-valueé”®å€¼å¯¹ä¸ªæ•° (hash-table-count myHash)\n  è·å–hashä¸­çš„æŸ¥è¯¢æœºåˆ¶(å³:testå±æ€§çš„å€¼) (hash-table-test myHashTable)\n  è·å–hash-tableä¸­:weakå±æ€§çš„å€¼\n  (hash-table-weakness myHash)\n è·å–hash-tableä¸­:rehash-sizeå‚æ•°çš„å€¼  (hash-table-rehash-size table)\n è·å–hash-tableä¸­:rehash-thresholdå‚æ•°çš„å€¼  (hash-table-rehash-threshold table)\n è·å–hash-tableä¸­çš„:sizeå‚æ•°çš„å€¼  (hash-table-size table)\nä¸ºhash-mapä¸­çš„æ‰€æœ‰é”®å€¼å¯¹è°ƒç”¨å‡½æ•°å¤„ç† (maphash myFunc myHash)\nmyFuncæ¥æ”¶ä¸¤ä¸ªå‚æ•°,ä¸€ä¸ªkey,ä¸€ä¸ªvalue.è¯¥å‡½æ•°æ€»æ˜¯è¿”å›nil\nè·å–hash-mapä¸­çš„æ‰€æœ‰keyå€¼ / valueå€¼  åœ¨emacs24.4ä¹‹å,å¯ä»¥ä½¿ç”¨   ;; get all keys (require 'subr-x) (hash-table-keys myHash) ; (hash-table-values myHash) ;  åœ¨emacs24.3å¯ä»¥è‡ªå®šä¹‰å‡½æ•°   (defun get-hash-keys (hashtable) \"Return all keys in hashtable.\" (let (allkeys) (maphash (lambda (kk vv) (setq allkeys (cons kk allkeys))) hashtable) allkeys ) ) (defun get-hash-values (hashtable) \"Return all values in HASHTABLE.\" (let (allvals) (maphash (lambda (kk vv) (setq allvals (cons vv allvals))) hashtable) allvals ) ) ä¿®æ”¹Hash-tableçš„æ¯”è¾ƒæ–¹æ³• è¦ä¿®æ”¹Hash-tableä¸­çš„æŸ¥è¯¢æœºåˆ¶,éœ€è¦åŒæ—¶ä¿®æ”¹è®¡ç®—Hash Codeçš„æ–¹æ³•å’Œæ¯”è¾ƒkeyå€¼çš„æ–¹æ³•.\n (define-hash-table-test name test-fn hash-fn)  å®šä¹‰ä¸€ä¸ªåä¸ºnameçš„hash-tableæŸ¥è¯¢æœºåˆ¶.\nå½“å®šä¹‰äº†æŸ¥è¯¢æœºåˆ¶å,è¯¥æŸ¥è¯¢æœºåˆ¶å°±å¯ä»¥ä¼ ç»™make-hash-tableä¸­çš„:testå‚æ•°ç”¨äºæ–°ç”Ÿæˆçš„hash-tableäº†.\ntest-fnéœ€è¦æ¥æ”¶ä¸¤ä¸ªkeyä½œä¸ºå‚æ•°,å¹¶åœ¨è®¤ä¸ºä¸¤ä¸ªkeyç›¸ç­‰æ—¶è¿”å›énil\nhash-fnåˆ™éœ€è¦æ¥æ”¶ä¸€ä¸ªkeyä½œä¸ºå‚æ•°,å¹¶è¿”å›ä¸€ä¸ªæ•´æ•°(å¯ä»¥ä¸ºè´Ÿæ•°)ä½œä¸ºå®ƒçš„hashå€¼.\nelispæä¾›äº†ä¸€ä¸ªå‡½æ•°ç”¨äºæ ¹æ®objectçš„å†…å®¹æ¥ç”Ÿæˆhashå€¼:sxhash\n(defun case-fold-string= (a b) (eq t (compare-strings a nil nil b nil nil t))) (defun case-fold-string-hash (a) (sxhash (upcase a))) (define-hash-table-test 'case-fold 'case-fold-string= 'case-fold-string-hash) (make-hash-table :test 'case-fold)  (sxhash obj)  æ ¹æ®objçš„å†…å®¹ç”Ÿæˆhash code,è‹¥ä¸¤ä¸ªobjæ˜¯equalçš„,åˆ™è¯¥å‡½æ•°è¿”å›ç›¸ç­‰çš„hashcode\n(define-hash-table-test 'contents-hash 'equal 'sxhash) (make-hash-table :test 'contents-hash) Symbolç›¸å…³å‡½æ•° symbolç»„æˆéƒ¨åˆ†  (symbol-name symbol)  è·å–symbolçš„åç§°\n(symbol-name 'foo)  (symbol-function symbol)  è·å–symbolçš„å‡½æ•°cell\n (indirect-function symbol-or-function \u0026optional noerror)  ç±»ä¼¼symbol-function,ä½†è‹¥symbolçš„function cellä¸ºå¦ä¸€ä¸ªsymbol,åˆ™å®ƒä¼šè¿”å›(indirect-function å¦ä¸€ä¸ªsymbol)çš„å€¼\nå‚æ•°symbol-or-functionè¡¨ç¤ºå®ƒä¹Ÿå¯ä»¥æ˜¯functionç±»å‹çš„,è‹¥ç±»å‹ä¸ºfunction,åˆ™ç›´æ¥è¿”å›è¯¥functionå‚æ•°\n    (fset symbol definition)  è®¾ç½®symbolçš„å‡½æ•°cellä¸ºdefinition\nè·å–symbol  (make-symbol name)  åˆ›å»ºuninterned symbol\n(setq sym (make-symbol \"foo\")) ; = foo (eq sym 'foo) ; = nil ,uninterned symbolå’Œinterned symbolæ˜¯ä¸ä¸€æ ·çš„  (intern name \u0026optoinal obarray)  è¿”å›obarrayä¸­åä¸ºnameçš„symbol,è‹¥obarrayä¸­ä¸å­˜åœ¨åä¸ºnameçš„symbol,åˆ™æ–°å»ºä¸€ä¸ªsymbol.\nobarrayé»˜è®¤ä¸ºå…¨å±€å˜é‡`obarray`\nå‚æ•°nameå¿…é¡»æ˜¯å­—ç¬¦ä¸²ç±»å‹\n(setq sym (intern \"foo\")) ; = foo (eq sym 'foo) ; = t (setq sym1 (intern \"foo\" other-obarray)) ; = foo (eq sym1 'foo) ; = nil  (intern-soft name \u0026optional obarray)  ç±»ä¼¼intern,ä½†è‹¥obarrayä¸­ä¸å­˜åœ¨åä¸ºnameçš„symbol,åˆ™è¿”å›nil\nä¸”å‚æ•°nameå¯ä»¥ä¸ºsymbolç±»å‹å’Œå­—ç¬¦ä¸²ç±»å‹\n(intern-soft \"frazzle\") ; No such symbol exists. = nil (make-symbol \"frazzle\") ; Create an uninterned one. = frazzle (intern-soft \"frazzle\") ; That one cannot be found. = nil (setq sym (intern \"frazzle\")) ; Create an interned one. = frazzle (intern-soft \"frazzle\") ; That one can be found! = frazzle (eq sym 'frazzle) ; And it is the same one. = t å…¶ä»–å‡½æ•°  (mapatoms func \u0026optional obarray)  å¯¹obarrayä¸­åŒ…å«çš„æ¯ä¸ªsymbol,éƒ½è°ƒç”¨funcæ¥å¤„ç†,ç„¶åè¿”å›nil.\nobarrayé»˜è®¤ä¸ºå…¨å±€çš„obrrayå˜é‡\n(setq count 0) (defun count-syms (s) (setq count (1+ count))) (mapatoms 'count-syms) ; = nil count ; = 54972  (unintern symbol-or-string obarray)  ä»obarrayä¸­åˆ é™¤æŒ‡å®šçš„symbol\nåˆ é™¤æˆåŠŸè¿”å›t,å¦åˆ™è¿”å›nil\nsymbolä¸­çš„property  è·å–symbolçš„property  (get symbol property)\nä»symbolçš„property listä¸­å‡ºå»å‡ºä¸å‚æ•°property eqçš„å€¼,è‹¥æ²¡æœ‰æ‰¾åˆ°,åˆ™è¿”å›nil\n(symbol-plist symbol)\nè¿”å›symbolç›¸åº”çš„property list\n(function-get symbol property) è¯¥å‡½æ•°ä¸getç±»ä¼¼,ä½†è‹¥å‚æ•°symbolä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„åˆ«åæ—¶,è¯¥å‡½æ•°è¿”å›å®é™…å‡½æ•°çš„propertyçš„å€¼,è€Œä¸æ˜¯åˆ«åçš„propertyçš„å€¼\n è®¾ç½®symbolçš„property  (put symbol property value)\nè®¾ç½®symbolä¸­property listçš„ç›¸åº”propertyçš„å€¼.\nè‹¥åŸpropertyä¸å­˜åœ¨åˆ™æ·»åŠ æ–°propertyå’Œvalue,å¦åˆ™æ›´æ–°å…¶value\n(put 'fly 'verb 'transitive) ; ='transitive (put 'fly 'noun '(a buzzing little bug)) ; = (a buzzing little bug) (get 'fly 'verb) ; = transitive (symbol-plist 'fly) ; = (verb transitive noun (a buzzing little bug)) (setplist symbol plist)\nè¦†ç›–symbolçš„åŸproperty listä¸ºå‚æ•°plist\nè¯¥å‡½æ•°çš„è¿”å›å€¼ä¸ºå‚æ•°plist\n(setplist 'foo '(a 1 b (2 3) c nil)) ; = (a 1 b (2 3) c nil) (symbol-plist 'foo) ; = (a 1 b (2 3) c nil) æ ‡å‡†symbol propertyè¯´æ˜  :advertised-binding  symbolæ‰€è¡¨ç¤ºçš„å‡½æ•°çš„å»ºè®®ç»‘å®šé”®\n char-table-extra-slots  è‹¥symbolæ‰€è¡¨ç¤ºçš„å€¼ä¸ºchar-tableç±»å‹,åˆ™è¯¥å€¼æŒ‡æ˜äº†èƒ½æœ‰å¤šå°‘ä¸ªé¢å¤–slot\n customized-face,face-defface-spc,saved-face,theme-face  å®šä¹‰äº†faceçš„æ–¹æ–¹é¢é¢çš„æ€§è´¨,ä¸è¦å»ç›´æ¥ä¿®æ”¹è¿™äº›å±æ€§,è€Œåº”è¯¥ä½¿ç”¨deffacåŠç›¸å…³å‡½æ•°\n customized-value,save-vlaue,standard-value,theme-value  è¿™äº›å±æ€§ç”¨æ¥è®°å½•customizable variableçš„æ–¹æ–¹é¢é¢çš„å±æ€§,ä¸è¦å»ç›´æ¥ä¿®æ”¹è¿™äº›å±æ€§,è€Œåº”è¯¥ä½¿ç”¨defcustomåŠç›¸å…³å‡½æ•°\n disabled  è‹¥ä¸ºénil,åˆ™è¡¨ç¤ºè¯¥å‡½æ•°ä¸ä¸ºcommand\n face-documentation  æŒ‡å®šfaceçš„è¯´æ˜,è¯¥å±æ€§ç”±deffaceè‡ªåŠ¨è®¾ç½®\n history-length  æŒ‡æ˜äº†minibufferä¸­,å¯¹æŒ‡å®šçš„history list variableçš„æœ€å¤§å†å²å­˜å‚¨æ•°é‡\n interactive-form  symbolè¡¨ç¤ºå‡½æ•°çš„interactive form. ä¸è¦ç›´æ¥ä¿®æ”¹è¯¥å±æ€§,ä½¿ç”¨å®šä¹‰å‡½æ•°æ—¶çš„interactiveç‰¹æ®Šform\n menu-enable  è¯¥å±æ€§æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼,æ ¹æ®è¯¥è¡¨è¾¾å¼çš„å€¼æ¥å†³å®šæ˜¯å¦åœ¨menuä¸­æ˜¾ç¤ºè¯¥èœå•é¡¹\n mode-class  è‹¥è¯¥å±æ€§ä¸º`special`,åˆ™æŒ‡å®šçš„major modeæ˜¯`special`çš„\n permanent-local  è‹¥è¯¥å±æ€§å€¼ä¸ºénil,åˆ™è¡¨ç¤ºsymbolè¡¨ç¤ºçš„å˜é‡æ˜¯buffer-localçš„å˜é‡, å½“æ›´æ¢major modeæ—¶,è¿™ç§å˜é‡çš„å€¼ä¸ä¼šè¢«é‡ç½®\n permanent-local-hook  è‹¥è¯¥å±æ€§å€¼ä¸ºénil,åˆ™è¡¨ç¤ºå½“é¥è¯¥major modeæ—¶,è¯¥symbolè¡¨ç¤ºçš„hookå˜é‡ä¸è¢«é‡ç½®\n pure  è¯¥å±æ€§å€¼ä¸ºénilå‘Šè¯‰ç¼–è¯‘å™¨,è¯¥symbolæ‰€è¡¨ç¤ºçš„æ–¹æ³•ä¸ºçº¯å‡½æ•°æ–¹æ³•(å³æ²¡æœ‰å‰¯ä½œç”¨). å› æ­¤åœ¨ä½¿ç”¨constå‚æ•°æ¥è°ƒç”¨è¯¥æ–¹æ³•æ—¶,åœ¨ç¼–è¯‘æœŸå°±èƒ½æ‰§è¡Œè¯¥æ–¹æ³•. è¿™ä¼šè®©ä¸€äº›æœ¬è¯¥åœ¨è¿è¡ŒæœŸæŠ¥çš„é”™è¯¯,åœ¨ç¼–è¯‘å™¨å°±è¢«æ£€æŸ¥å‡ºæ¥.\n risky-local-variable  è‹¥è¯¥å±æ€§å€¼ä¸ºénil,è¡¨ç¤ºè¯¥symbolè¡¨ç¤ºçš„å˜é‡,ä¸å»ºè®®è®¾ç½®ä¸ºfile-local variable\n safe-function  æ ‡ç¤ºè¯¥symbolæ ‡ç¤ºçš„å‡½æ•°,æ˜¯å¦å¯ä»¥å®‰å…¨çš„æ‰§è¡Œ\n safe-local-eval-function  æ ‡ç¤ºè¯¥symbolæ ‡ç¤ºçš„å‡½æ•°,æ˜¯å¦å¯ä»¥å®‰å…¨çš„åœ¨file-local evaluation formä¸­æ‰§è¡Œ\n safe-local-variable  è¯¥å±æ€§å€¼åº”è¯¥æ˜¯ä¸€ä¸ªå‡½æ•°,è¯¥å‡½æ•°ç”¨æ¥å†³å®šè¯¥symbolè¡¨ç¤ºçš„å˜é‡æ˜¯å¦ä¸ºsafe file-localçš„\n side-effect-free  énilè¡¨ç¤ºsymbolè¡¨ç¤ºçš„å‡½æ•°æ— å‰¯ä½œç”¨,è¯¥å±æ€§ç”¨æ¥å†³å®šå‡½æ•°çš„å®‰å…¨æ€§å’Œå­—èŠ‚ç¼–è¯‘ä¼˜åŒ–, ä¸è¦å°è¯•æ‰‹å·¥ä¿®æ”¹å®ƒ\n variable-documentation  è¯¥å±æ€§ä¸ºæŒ‡å®šå˜é‡çš„è¯´æ˜\nRegion/Markç›¸å…³å‡½æ•°  è®¾ç½®mark  (set-mark-command)\n åˆ é™¤region  (kill-region)\n æ³¨é‡Šregion  (comment-region)\n é‡æ–°æ ¼å¼åŒ–region  (fill-region)\n ç¼©è¿›region  (indent-region)\n åˆ¤æ–­Regionæ˜¯å¦æ˜¯activeçš„  (region-active-p) è¯¥å‡½æ•°è¿˜è¦æ±‚Transient-mark-mode\nEvaluation `(åå¼•å·) `ç±»ä¼¼â€™, ä½†å½“objectå‰å¸¦äº†`,â€˜æ—¶åˆ™ä¼šå¯¹è¯¥objectè¿›è¡Œæ±‚å€¼, å½“objectå‰å¸¦äº†`,@`,åˆ™ä¼šå°†objectçš„æ±‚å€¼ç»“æœä¸­çš„å„ä¸ªå…ƒç´ æ‰“æ•£æ’å…¥.\nå¯¹äº,@çš„ä½¿ç”¨ï¼Œè¿˜å¦æœ‰é™åˆ¶:\n  ä¸ºäº†ç¡®ä¿å…¶å‚æ•°å¯ä»¥è¢«æ‹¼æ¥ï¼Œ,@å¿…é¡»å‡ºç°åœ¨åºåˆ—(sequence)Æ®ä¸­ã€‚å½¢å¦‚`,@bçš„è¯´æ³•æ˜¯é”™è¯¯çš„,å› ä¸ºæ— å¤„å¯ä¾›bçš„å€¼è¿›è¡Œæ‹¼æ¥ã€‚\n  è¦è¿›è¡Œæ‹¼æ¥çš„å¯¹è±¡å¿…é¡»æ˜¯ä¸ªåˆ—è¡¨ï¼Œé™¤éå®ƒå‡ºç°åœ¨åˆ—è¡¨æœ€åã€‚\nè¡¨è¾¾å¼ `(a ,@1) å°†è¢«æ±‚å€¼æˆ (a . 1).\nä½†å¦‚æœå°è¯•å°†åŸå­æ‹¼æ¥åˆ°åˆ—è¡¨çš„ä¸­é—´ä½ç½®,ä¾‹å¦‚ `(a ,@1 b),å°†å¯¼è‡´ä¸€ä¸ªé”™è¯¯.\n  åå¼•ç”¨å¹¶ä¸æ˜¯åªèƒ½ä½¿ç”¨åœ¨.ä½ å¯ä»¥åœ¨ä»»ä½•éœ€è¦æ„é€ åºåˆ—çš„åœºåˆä½¿ç”¨åå¼•ç”¨.\n  å‡½æ•°  (eval form \u0026optional lexical)  åœ¨å½“å‰ç¯å¢ƒä¸‹æ‰§è¡Œform\nå‚æ•°lexicalå†³å®šäº†formä¸­çš„æœ¬åœ°å˜é‡é‡‡ç”¨çš„æ˜¯é™æ€ä½œç”¨åŸŸè¿˜æ˜¯åŠ¨æ€ä½œç”¨åŸŸ.\n  nil è¡¨ç¤ºä½¿ç”¨åŠ¨æ€ä½œç”¨åŸŸ\n  t è¡¨ç¤ºä½¿ç”¨é™æ€ä½œç”¨åŸŸ\n  æŸä¸ªéç©ºçš„alist è¡¨ç¤ºalistä¸­æ‰€æŒ‡å®šå˜é‡é‡‡ç”¨é™æ€ä½œç”¨åŸŸ,å…¶ä»–å˜é‡ä¸ºåŠ¨æ€ä½œç”¨åŸŸ\n  (eval-region start end \u0026optional stream read-function)\n  è¿è¡Œç”±startå’Œendæ‰€æ ‡è¯†çš„region\né»˜è®¤æƒ…å†µä¸‹,eval-regionå¹¶ä¸äº§ç”Ÿä»»ä½•è¾“å‡º,ä½†é€šè¿‡ä¼ é€’ä¸€ä¸ªénilçš„streamå‚æ•°,å¯ä»¥å°†æœŸé—´äº§ç”Ÿçš„è¾“å‡ºè¾“å‡ºåˆ°streamä¸­\nè‹¥read-functionä¸ºénil,åˆ™ä½¿ç”¨æŒ‡å®šçš„read-functionæ¥å–ä»£readå‡½æ•°è¯»å–è¡¨è¾¾å¼. è¯¥å‡½æ•°éœ€è¦æ¥æ”¶ä¸€ä¸ªå‚æ•°:è¯»å–è¾“å…¥çš„stream\n (eval-buffer \u0026optioanl buffer-or-name stream filename unibyte print)  è¿è¡ŒæŒ‡å®šbufferçš„å¯è§éƒ¨åˆ†æ‰€ç»„æˆçš„region.\nbuffer-or-nameå¯ä»¥ä¸ºbufferæˆ–string,ä¹Ÿå¯ä»¥ä¸ºnilè¡¨ç¤ºå½“å‰buffer\nstreamçš„ä½œç”¨è·Ÿeval-regionä¸­çš„streamç±»ä¼¼,ä½†è‹¥streamä¸ºnilè€Œprintä¸ºénil,åˆ™æ‰§è¡Œçš„ç»“æœä¾ç„¶ä¼šè¢«ä¸¢å¼ƒ,ä½†æ‰§è¡Œçš„è¿‡ç¨‹ä¸­æ‰€äº§ç”Ÿçš„å“ªäº›è¾“å‡ºä¼šè¢«è¾“å‡ºåˆ°echo areaä¸­.\nfilenameæ˜¯çµ¦load-historyä½¿ç”¨çš„æ–‡ä»¶åç§°.\nè‹¥inibyteä¸ºénil,åˆ™elisp readerå°½å¯èƒ½çš„å°†stringè½¬æ¢ä¸ºunibyteæ ¼å¼.\né€‰é¡¹   max-lisp-eval-depth\n  max-specpdl-size\n  values\n  è¯¥å˜é‡çš„å€¼ä¸ºä¸€ä¸ªlist,æ¯ä¸ªlistå…ƒç´ éƒ½æ˜¯æ‰§è¡Œformçš„ç»“æœ,æœ€è¿‘çš„ç»“æœæ”¾åˆ°ç¬¬ä¸€ä½.\n(setq x 1) ; = 1 (list 'A (1+ 2) auto-save-default) ; = (A 3 t) values ; = ((A 3 t) 1 ...) ç¼“å†²åŒº è·å–bufferå¯¹è±¡   å¾—åˆ°å½“å‰bufferå¯¹è±¡\ncurrent-buffer(å½“å‰bufferä¸ä¸€å®šæ˜¯åœ¨å±å¹•ä¸Šæ˜¾ç¤ºçš„å“ªä¸ªç¼“å†²åŒº,å¦å¤–,å½“å‘½ä»¤æ‰§è¡Œå®Œæˆå,å…‰æ ‡æ‰€åœ¨çš„bufferè‡ªåŠ¨æˆä¸ºå½“å‰buffer )\n  è‹¥ç¼“å†²åŒºå­˜åœ¨åˆ™è¿”å›è¯¥ç¼“å†²åŒºå¯¹è±¡,å¦åˆ™æ–°å»ºç¼“å†²æ± å¯¹è±¡è¿”å›\nget-buffer-create\n  è‹¥æœ‰åŒåç¼“å†²åŒºå­˜åœ¨,åˆ™æ–°å»ºçš„ç¼“å†²åŒºåä¼šåŠ ä¸Šåç¼€\ngenerate-new-buffer\n  è·å¾—æ‰€æœ‰bufferçš„åˆ—è¡¨\nbuffer-list\n  è·å¾—çª—å£å¯¹åº”çš„buffer\nwindow-buffer\n  bufferæ“ä½œ   è¿”å›å½“å‰bufferçš„æ–‡ä»¶å…¨è·¯å¾„\nbuffer-file-name\n  è·å¾—æŒ‡å®š/å½“å‰bufferçš„åå­—\nbuffer-name\n   (buffer-name [bufferå¯¹è±¡])   é‡å‘½åç¼“å†²åŒº\nrename-buffer\n  äº§ç”Ÿä¸€ä¸ªå”¯ä¸€çš„ç¼“å†²åŒºå generate-new-buffer-name\n  è®¾ç½®æŒ‡å®šbufferä¸ºå½“å‰buffer\n(set-buffer myBuffer)\n  ä¿å­˜å½“å‰bufferåˆ°æ–‡ä»¶\nsave-buffer\n  åœ¨ä¸æ”¹å˜å½“å‰çŠ¶æ€ä¸‹,ä¸´æ—¶ç”¨å¦ä¸€bufferçš„å˜é‡ä»£æ›¿ç°æœ‰å˜é‡æ‰§è¡Œè¯­å¥\nwith-current-buffer\n   (with-current-buffer bufferå¯¹è±¡æˆ–bufferåç§° è¡¨è¾¾å¼)   å…³é—­ç¼“å†²åŒº\n(kill-buffer myBuffer) ;å¦‚æœè¦ç”¨æˆ·ç¡®è®¤æ˜¯å¦è¦å…³é—­ç¼“å†²åŒºï¼Œå¯ä»¥åŠ åˆ°kill-buffer-query-functionsé‡Œã€‚å¦‚æœè¦ä½œå–„åå¤„ç†ï¼Œå¯ä»¥ç”¨kill-buffer-hook\n  å…³é—­å½“å‰buffer\n(kill-this-buffer)\n  ç¡®è®¤ç¼“å†²åŒºæ˜¯å¦å­˜åœ¨\nbuffer-live-p\n  ä½¿ç”¨ä¸´æ—¶bufferæ‰§è¡Œç›¸åº”ä»£ç \nwith-temp-buffer\n   ;; use a temp buffer to manipulate string (with-temp-buffer (insert myStr) ;; manipulate the string here (buffer-string) ; get result )   åˆ›å»ºæ–°çš„ç©ºæ ‡è®°\nmake-marker\n   (make-marker)   è®¾ç½®æ ‡è®°çš„ä½ç½®å’Œç¼“å†²åŒº\nset-marker\n   (set-marker foo (point))   å¾—åˆ°pointå¤„çš„æ ‡è®°\npoint-marker\n   (point-marker)   å¤åˆ¶æ ‡è®°æˆ–ç›´æ¥ç”¨ä½ç½®ç”Ÿæˆä¸€ä¸ªæ ‡è®°\ncopy-marker\n   (copy-marker ä½ç½®/markerå¯¹è±¡)   å¾—åˆ°ä¸€ä¸ªmarkerçš„å†…å®¹\nmaker-position / marker-buffer\n   (maker-position markerå¯¹è±¡) (marker-buffer markerå¯¹è±¡)   bufferå¤§å°\nbuffer-size\n  mark-marker\npoint /point-max /point-min\n  è¿”å›å½“å‰ç¼“å†²åŒºçš„mark(æ³¨æ„markä¸markerçš„åŒºåˆ«,markæ˜¯ç”¨æ¥ä¸pointä¸€èµ·å®šä¹‰ä¸€ä¸ªregionçš„,è€Œmarkeræ˜¯ä¸€ä¸ªæ ‡è®°ä½ç½®)\n  è®¾ç½®markçš„å€¼,å¹¶æ¿€æ´»mark\nset-mark\n  åŠ å…¥/åˆ é™¤mark-ringçš„å…ƒç´ \npush-mark / pop-mark\n  å–å¾—regionçš„èµ·ç‚¹å’Œç»ˆç‚¹\nregion-beginning / region-end\n  è®©æŸä¸ªç¼“å†²åŒºå¯è§\ndisplay-buffer\n  åˆ¤æ–­bufferæ˜¯å¦è¢«ä¿®æ”¹\n  (buffer-modified-p)\n é€‰ä¸­çš„windowåˆ‡æ¢åˆ°ä¸Šä¸€ä¸ª/ä¸‹ä¸€ä¸ªbuffer  (previous-buffer)\n(next-buffer)\n   è·å–ç¼“å†²åŒºå†…å®¹   å¾—åˆ°æ•´ä¸ªç¼“å†²åŒºçš„æ–‡æœ¬\nbuffer-string\n  å¾—åˆ°bufferæŸä¸ªåŒºé—´çš„æ–‡æœ¬\nbuffer-substring\n  å¾—åˆ°pointé™„ä»¶çš„å­—ç¬¦\nchar-after / char-before\n  pointå¤„çš„è¯\ncurrent-word\n  å¾—åˆ°pointå¤„çš„å…¶ä»–ç±»å‹çš„æ–‡æœ¬\nthing-at-point\n  bufferå†…å®¹å¤„ç†ç›¸å…³å‡½æ•° åˆ é™¤æ“ä½œ  åˆ é™¤ä»å½“å‰å…‰æ ‡å¼€å§‹çš„Nä¸ªå­—ç¬¦  (delete-char N)\n  åˆ é™¤å…‰æ ‡å‰çš„Nä¸ªå­—ç¬¦\n(delete-backward-char N)\n åˆ é™¤region  (delete-region sartPos endPos)\n æ¸…ç©ºæ•´ä¸ªbuffer  (erase-buffer)\n  æ’å…¥æ“ä½œ  åœ¨å…‰æ ‡å¤„æ’å…¥æ–‡å­—  (insert str)\n åœ¨å…‰æ ‡å¤„æ’å…¥æŸbufferçš„ä¸€éƒ¨åˆ†æ–‡æœ¬  (insert-buffer-substring-no-properties myBuffer myStartPos myEndPos)\n  æ’å…¥æ–‡ä»¶ä¸­æŸéƒ¨åˆ†åˆ°å½“å‰ç¼“å†²åŒºä¸­\n(insert-file-contents myPath)\n(insert-file-contents filename \u0026optional visit beg end replace) å¦‚æœæŒ‡å®švisitåˆ™ä¼šæ ‡è®°ç¼“å†²åŒºçš„ä¿®æ”¹çŠ¶æ€å¹¶å…³è”ç¼“å†²åŒºåˆ°æ–‡ä»¶ï¼Œä¸€èˆ¬æ˜¯ä¸ç”¨çš„ã€‚ replaceæ˜¯æŒ‡æ˜¯å¦è¦åˆ é™¤ç¼“å†²åŒºé‡Œå…¶å®ƒå†…å®¹ï¼Œè¿™æ¯”å…ˆåˆ é™¤ç¼“å†²åŒºå…¶å®ƒå†…å®¹åæ’å…¥æ–‡ä»¶å†…å®¹è¦å¿«ä¸€äº›ï¼Œä½†æ˜¯ä¸€èˆ¬ä¹Ÿç”¨ä¸ä¸Šã€‚ insert-file-contentsä¼šå¤„ç†æ–‡ä»¶çš„ç¼–ç ï¼Œå¦‚æœä¸éœ€è¦è§£ç æ–‡ä»¶çš„è¯ï¼Œå¯ä»¥ç”¨insert-file-contents-literallyã€‚\n  æŸ¥æ‰¾/æ›¿æ¢æ“ä½œ  æ”¹å˜å¤§å°å†™  (capitalize-region startPos endPos)\n æ›¿æ¢æ“ä½œ  å˜é‡`case-fold-search`å†³å®šæ˜¯å¦å¤§å°å†™æ•æ„Ÿ\nreplace-match,éœ€è¦ä¸å…¶ä»–çš„searchç±»å‡½æ•°é…åˆ,å®ƒæ›¿ä»£ä¸Šæ¬¡searchåŒ¹é…çš„æ–‡æœ¬\n(replace-match å­—ç¬¦ä¸²) è¡¨ç¤ºç”¨å­—ç¬¦ä¸²æ›¿ä»£ä¸Šæ¬¡searchåŒ¹é…çš„æ–‡æœ¬å‘¢\n  è·å–ä¸Šæ¬¡æ­£åˆ™æŸ¥è¯¢çš„åˆ†ç»„å†…å®¹\n(match-string N) è¿”å›ä¸Šæ¬¡æ­£åˆ™æŸ¥è¯¢çš„ç¬¬Nä¸ªåˆ†ç»„çš„å†…å®¹\n  è·å–ä¸Šæ¬¡æ­£åˆ™æŸ¥è¯¢åˆ†ç»„çš„èµ·å§‹/ç»“æŸç”µ\n(match-beginning N)\n(match-end N)\n   ä¿å­˜ç°åœº   ä¿å­˜å½“å‰buffer,æ‰§è¡Œå…¶ä¸­çš„è¡¨è¾¾å¼,ç„¶åå›å¤ä¸ºåŸæ¥çš„buffer\nsave-current-buffer\n   (save-current-buffer è¡¨è¾¾å¼)  ä¿å­˜narrow-to-region  (save-restriction (narrow-to-region pos1 pos2) lispä»£ç )\n ä¿å­˜bufferçŠ¶æ€  (save-excursion reset body )\nWindow åŸºæœ¬æ¦‚å¿µ live window æœ‰bufferæ˜¾ç¤ºçš„windowè¢«ç§°ä¸ºlive window, å¯ä»¥é€šè¿‡ (window-livep object) æ¥åˆ¤æ–­\nvalid window valid windowå¯èƒ½æ˜¯live windowæˆ–internal window. è¦æ³¨æ„å®ƒä¸live windowçš„åŒºåˆ«. ä¸€ä¸ªvalid windowå¯èƒ½è¢«åˆ é™¤,åˆ™å˜æˆinvalid window,ä½†å®ƒä»å¯èƒ½è¢«å…¶ä»–lispå¯¹è±¡æ‰€å¼•ç”¨. å¹¶ä¸”ä¸€ä¸ªè¢«åˆ é™¤çš„windowå¯èƒ½é€šè¿‡æ¢å¤ä¹‹å‰æŠ¥é”™çš„window configurationå˜å›valid window\nä½¿ç”¨ (window-valid-p object) æ¥åˆ¤æ–­æ˜¯å¦ä¸ºvalid window\nselected-window ä»»ä½•æ—¶å€™,ä¸ç®¡æœ‰å¤šå°‘ä¸ªframe,åªæœ‰å”¯ä¸€ä¸€ä¸ªselected window\nä¸€èˆ¬æ¥è¯´,selected windowçš„bufferå°±æ˜¯\"current bufferâ€,ä½†æœ‰ä¸€ç§æƒ…å†µä¾‹å¤–,å°±æ˜¯ä½¿ç”¨ set-buffer ä¹‹å.\nwindowä¸frameçš„å…³ç³» ä¸€ä¸ªwindowåªå¯èƒ½å±äºä¸€ä¸ªframe.\n  (window-frame \u0026optional window)\nè¯¥å‡½æ•°è·å–æŒ‡å®šwindowæ‰€å±çš„frame\n  (window-list \u0026optional frame minibuffer window)\nè¯¥å‡½æ•°è·å–æŒ‡å®šframeçš„æ‰€æœ‰ live window åˆ—è¡¨.\nMINIBUFFERå‚æ•°æŒ‡å®šäº†è¿”å›çš„live windowåˆ—è¡¨æ˜¯å¦åŒ…å«minibuffer window.\n  t: åŒ…å«minbuffer window\n  nil: å½“minibufferè¢«æ¿€æ´»æ—¶æ‰åŒ…å«\n  å…¶ä»–: ä¸åŒ…å«\n  WINDOWå‚æ•°æŒ‡å®šäº†live windowåˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªwindow,å®ƒåº”è¯¥æ˜¯æŒ‡å®šframeä¸­çš„ä¸€ä¸ªlive window.\nè‹¥æœªæŒ‡å®šWINDOWå‚æ•°,åˆ™selected windowä½œä¸ºåˆ—è¡¨çš„ç¬¬ä¸€ä¸ªwindow\n  windowåœ¨æ¯ä¸ªframeä¸­éƒ½æ˜¯ä»¥window treeçš„å½¢å¼è¢«ç»„ç»‡èµ·æ¥çš„.\n______________________________________ | ______ ____________________________ | || || __________________________ || || ||| ||| || ||| ||| || ||| ||| || |||____________W4____________||| || || __________________________ || || ||| ||| || ||| ||| || |||____________W5____________||| ||__W2__||_____________W3_____________ | |__________________W1__________________| æ¯ä¸ªwindow treeçš„å¶èŠ‚ç‚¹éƒ½æ˜¯live windowç»„æˆçš„. window treeçš„ä¸­é—´èŠ‚ç‚¹åˆ™æ˜¯ç”±internal windowç»„æˆ,å³å“ªäº›ä¸æ˜¾ç¤ºbufferçš„window internal windowå­˜åœ¨çš„ç›®çš„æ˜¯ä¸ºäº†ç»„ç»‡live windowä¹‹é—´çš„å…³ç³». window treeçš„rootèŠ‚ç‚¹è¢«ç§°ä¸ºroot window. å®ƒå¯ä»¥æ˜¯live windowä¹Ÿå¯ä»¥æ˜¯internal window\nä¸€èˆ¬æ¥è¯´,window treeå¹¶ä¸åŒ…å«minibuffer window,é™¤éæ•´ä¸ªframeåªæœ‰è¿™ä¸ªminibuffer window\nå½“åˆ†å‰²ä¸€ä¸ªwindowå,åˆ†å‰²å‡ºæ¥çš„ä¸¤ä¸ªlive windowä¸­æœ‰ä¸€ä¸ª å°±æ˜¯ä¹‹å‰è¢«åˆ†å‰²çš„é‚£ä¸ªwindowå¯¹è±¡. emacsä¼šæ–°å»ºä¸¤ä¸ªwindowå¯¹è±¡:ä¸€ä¸ªæ˜¯åˆ†å‰²å‡ºæ¥çš„å¦ä¸€ä¸ªlive window,è¿˜æœ‰ä¸€ä¸ªæ˜¯internel windowä½œä¸ºåˆ†å‰²å‡ºä¸¤ä¸ªlive windowçš„çˆ¶window\næ¯ä¸ªinternal windowæœ€å°‘å…·æœ‰ä¸¤ä¸ªå­çª—å£,è‹¥æŸinternal windowçš„å­çª—å£æ•°é™ä¸º1,åˆ™Emacsè‡ªåŠ¨åˆ é™¤è¯¥internal window.\nè·å¾—çª—å£å¯¹è±¡   (frame-root-window \u0026optional frame-or-window)\nè¯¥å‡½æ•°è¿”å›FRAME-OR-WINDOWçš„root window\nå‚æ•°FRAME-OR-WINDOWè‹¥ä¸ºnilåˆ™è¡¨ç¤ºè¿”å›å½“å‰é€‰ä¸­frameçš„root window\n  (window-parent \u0026optional window)\nWINDOWçš„çˆ¶window, é»˜è®¤ä¸ºé€‰ä¸­çª—å£çš„çˆ¶window\n  (window-top-child \u0026optional window)\nè¿”å›æŒ‡å®šWINDOWçš„æœ€ä¸Šæ–¹çš„å­window\nå½“ç„¶WINDOWå¿…é¡»æ˜¯æ˜¯internal windowä¸”å…¶å­çª—å£åº”æ˜¯å‚ç›´ç»„åˆçš„,å¦åˆ™è¯¥å‡½æ•°è¿”å›nil\n  (window-left-child *optional window)\nè¿”å›æŒ‡å®šWINDOWçš„æœ€å·¦æ–¹çš„å­window\nå½“ç„¶WINDOWå¿…é¡»æ˜¯æ˜¯internal windowä¸”å…¶å­çª—å£åº”æ˜¯æ°´å¹³ç»„åˆçš„,å¦åˆ™è¯¥å‡½æ•°è¿”å›nil\n  (window-child window)\nè¯¥å‡½æ•°è¿”å›æŒ‡å®šWINDOWçš„ç¬¬ä¸€ä¸ªå­window.\nè¯¥å‡½æ•°è‡ªåŠ¨åˆ¤æ–­WINDOWä¸­å­windowçš„æ’åˆ—æ–¹å¼,å¹¶è¿”å›æœ€ä¸Šæ–¹ä¼šæœ€å·¦æ–¹çš„å­window\nWINDOWå¿…é¡»æ˜¯internal window,å¦åˆ™è¿”å›nil\n  (window-combined-p \u0026optional window horizontal)\nåˆ¤æ–­WINDOWæ˜¯å¦ä¸å…¶ä»–WINDOWå‚ç›´/æ°´å¹³æ’åˆ—.\nå‚æ•°HORIZONTALä¸ºnilè¡¨ç¤ºåˆ¤æ–­æ˜¯å¦å‚ç›´æ’åˆ—,å¦åˆ™åˆ¤æ–­æ˜¯å¦æ°´å¹³æ’åˆ—\n  (window-next-sibling \u0026optional window)\nè¿”å›WINDOWçš„ä¸‹ä¸€ä¸ªå…„å¼Ÿwindow\n  (window-prev-sibling \u0026optional window)\nè¿”å›WINDOWçš„ä¸Šä¸€ä¸ªå…„å¼Ÿwindow\n  (frame-first-window \u0026optional frame-or-window)\nè¿”å›æŒ‡å®šFRAMEä¸­çš„æœ€æœ€ä¸Šæ–¹çš„live window\n  (window-in-direction direction \u0026optional window ignore sign wrap mini)\nè¿”å›ä¸WINDOWåœ¨DIRECATIONæ–¹å‘ä¸Šç›¸é‚»çš„live window\nå‚æ•°DIRECTIONå¯èƒ½æ˜¯above,below,left,right\nå‚æ•°WINDOWå¿…é¡»æ˜¯live window,ä¸”é»˜è®¤ä¸ºé€‰ä¸­çš„window\nä¸€èˆ¬æƒ…å†µä¸‹, è¯¥å‡½æ•°ä¼šè·³è¿‡é‚£äº›å‚æ•°`no-other-windowâ€™ä¸ºénilçš„window,ä½†è‹¥å‚æ•°IGNOREä¸ºénil,åˆ™è¯¥å‡½æ•°ä¸è·³è¿‡\nIf the optional argument sign is a negative number, it means to use the right or bottom edge ofwindowas reference position instead ofwindow-point. If sign is a positive number, it means to use the left or top edge ofwindowas reference position.\nå‚æ•°WRAPè‹¥ä¸ºénil,åˆ™è¡¨ç¤ºå…è®¸è¶Šè¿‡frameè¾¹ç•Œ,ä¾‹å¦‚æœ€å³è¾¹çš„å³è¾¹è°ƒåˆ°äº†æœ€å·¦è¾¹.\nå‚æ•°miniæŒ‡å®šäº†ä»€ä¹ˆæƒ…å†µä¸‹è¿”å›minibuffer window,ä¸”è‹¥WRAPä¸ºénil,åˆ™è¯¥å‡½æ•°åªæœ‰åœ¨minibufferè¢«æ¿€æ´»çŠ¶æ€æ‰è¿”å›minibuffer window\n  (window-tree \u0026optional frame)\nè¿”å›æŒ‡å®šframeçš„window-tree\n  å¾—åˆ°å½“å‰å…‰æ ‡æ‰€åœ¨çš„çª—å£å¯¹è±¡\nselected-window\n  å¾—åˆ°å½“å‰frameé‡Œçš„æ‰€æœ‰çª—å£\nwindow-list\n  window-listsé‡Œæ’åœ¨æŸä¸ªwindowä¹‹å/ä¹‹å‰çš„çª—å£å¯¹è±¡\nnext-window / previous-window\n  æŸ¥æ‰¾ç¬¦åˆæŸä¸ªæ¡ä»¶çš„çª—å£\nget-window-with-predicate\n  æ ¹æ®bufferè·å¾—window(å¦‚æœæœ‰å¤šä¸ªçª—å£æ˜¾ç¤ºåŒä¸€ä¸ªç¼“å†²åŒº,é‚£ä¹ˆå‡½æ•°ç”±window-listå†³å®šè¿”å›å“ªä¸ª).\nget-buffer-window\n  æ ¹æ®bufferè·å¾—å…¨éƒ¨çš„ç›¸åº”window\nget-buffer-window-list\n  æ ¹æ®ç»™å®šçš„æ–‡ä»¶å,è¿”å›ç¼“å†²åŒº\nfind-buffer-visiting\n  çª—å£æ“ä½œ   åˆ†å‰²window\nsplit-window\n  åˆ é™¤å½“å‰é€‰ä¸­çš„çª—å£\ndelete-window\n  åˆ é™¤å…¶ä»–çª—å£\ndelete-other-windows\n  å¾—åˆ°å½“å‰çª—å£é…ç½®ä¿¡æ¯,å¯ä»¥ç”¨setqä¿å­˜èµ·æ¥\ncurrent-window-configuration\n  è®¾ç½®å½“å‰çª—å£é…ç½®ä¿¡æ¯\nset-window-configuration\n  ä½¿æŸä¸ªçª—å£å¯¹è±¡å˜æˆé€‰ä¸­çš„çª—å£\nselect-window\n  æ‰§è¡Œçš„è¯­å¥ç»“æŸå,é€‰æ‹©çš„çª—å£ä»ç•™åœ¨æ‰§è¡Œè¯­å¥ä¹‹å‰çš„çª—å£\nsave-selected-window / with-selected-window\n  éå†çª—å£æ“ä½œ\nwalk-windows\n  è®©æŸä¸ªçª—å£æ˜¾ç¤ºæŸä¸ªç¼“å†²åŒº\nset-window-buffer\n  è®©é€‰ä¸­çš„çª—å£æ˜¾ç¤ºæŸä¸ªç¼“å†²åŒº\nswitch-to-buffer\n  çª—å£ä¿¡æ¯   å¾—åˆ°å½“å‰çª—å£çš„ç»“æ„\nwindow-tree\n  åˆ¤æ–­çª—å£å¯¹è±¡æ˜¯å¦å­˜åœ¨\nwindow-live-p\n  è·å¾—çª—å£çš„é«˜åº¦(åŒ…æ‹¬äº†mode lineå’Œ header line)\nwindow-height\n  è·å¾—çª—å£çš„é«˜åº¦(æ’é™¤äº†mode lineå’Œ header line)\nwindow-body-height\n  çª—å£çš„å®½åº¦,ä¸åŒ…æ‹¬æ»šåŠ¨æ¡å’Œè¾¹ç¼˜\nwindow-width\n  è¿”å›å„é¡¶ç‚¹çš„åæ ‡ä¿¡æ¯(åŒ…æ‹¬æ»šåŠ¨æ¡,è¾¹ç¼˜,mode line ,header line)\nwindow-edges\n  è¿”å›çª—å£çš„æ–‡æœ¬åŒºåŸŸçš„åæ ‡ä¿¡æ¯\nwindow-inside-edges\n  ç”¨åƒç´ è¡¨ç¤ºçš„windowä½ç½®\nwindow-pixel-edges / window-inside-pixel-edges\n  æ–‡ä»¶ æ–‡ä»¶è¯»å†™   æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶\n(find-file myPath)\n  æ”¹å˜ç¼“å†²åŒºå…³è”çš„æ–‡ä»¶\nset-visited-file-name\n  ä¿å­˜å½“å‰æ–‡ä»¶\n(save-buffer)\n  å¦å­˜ä¸ºæ–‡ä»¶\n(write-file myPath)\n  æŠŠæ–‡æœ¬å—è¿½åŠ åˆ°æ–‡ä»¶å\n  (append-to-file startPos endPos filePath)\n  æŠŠç¼“å†²åŒºå½“ä¸­çš„ä¸€éƒ¨åˆ†å†™å…¥åˆ°æŒ‡å®šæ–‡ä»¶ä¸­\nwirte-region\n(write-region start end filename \u0026optional append visit lockname mustbenew) å¦‚æœæŒ‡å®šappendåˆ™æ˜¯æ·»åŠ åˆ°æ–‡ä»¶æœ«å°¾ã€‚ visitå‚æ•°ä¹Ÿä¼šæŠŠç¼“å†²åŒºå’Œæ–‡ä»¶å…³è”ï¼Œ lockname åˆ™æ˜¯æ–‡ä»¶é”å®šçš„åå­— mustbenew(ä¿æ–‡ä»¶å­˜åœ¨æ—¶ä¼šè¦æ±‚ç”¨æˆ·ç¡®è®¤æ“ä½œã€‚\n  æ–‡ä»¶ä¿¡æ¯   åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨,å¯¹äºç›®å½•å’Œä¸€èˆ¬æ–‡ä»¶éƒ½èƒ½ç”¨è¿™ä¸ªå‡½æ•°è¿›è¡Œåˆ¤æ–­,ä½†æ˜¯ç¬¦å·é“¾æ¥åªæœ‰å½“ç›®æ ‡æ–‡ä»¶å­˜åœ¨æ—¶æ‰è¿”å›t\nfile-exists-p\n  æ–‡ä»¶å±æ€§åˆ¤æ–­\nfile-readable-p / file-writable-p / file-executable-p / file-modes\n  åˆ¤æ–­æ–‡ä»¶ç±»å‹æ˜¯æ™®é€šæ–‡ä»¶/ç›®å½•/ç¬¦å·é“¾æ¥,å…¶ä¸­file-symlink-pè¿”å›ç›®æ ‡æ–‡ä»¶å\nfile-regular-p / file-directory-p / file-symlink-p\n  æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯\nfile-attributes\n  è®¾ç½®æ–‡ä»¶ä¿®æ”¹æ—¶é—´\nset-file-times\n  è®¾ç½®æ–‡ä»¶ä½æ¨¡å¼\nset-file-modes\n  é™¤å»é“¾æ¥åçš„çœŸå®æ–‡ä»¶å\nfile-truename\n  æ–‡ä»¶åç›¸å…³å‡½æ•°   åˆ†è§£æ–‡ä»¶è·¯å¾„å„éƒ¨åˆ†\nfile-name-directory / file-name-nodirectory / file-name-sans-extension / file-name-extension / file-name-sans-versions\n(file-name-directory \"~/temp/test.txt\") ; = \"~/temp/\" (file-name-nondirectory \"~/temp/test.txt\") ; = \"test.txt\" (file-name-sans-extension \"~/temp/test.txt\") ; = \"~/temp/test\" (file-name-extension \"~/temp/test.txt\") ; = \"txt\" (file-name-sans-versions \"~/temp/test.txt~\") ; = \"~/temp/test.txt\" (file-name-sans-versions \"~/temp/test.txt.~1~\") ; = \"~/temp/test.txt\"   æµ‹è¯•ä¸€ä¸ªè·¯å¾„æ˜¯å¦æ˜¯ç»å¯¹è·¯å¾„\nfile-name-absolute-p\n  å¾—åˆ°ç»å¯¹è·¯å¾„\n(expand-file-name myFilePath)\n  æŠŠç»å¯¹è·¯å¾„è½¬æ¢æˆç›¸å¯¹è·¯å¾„\n(file-relative-name myFilePath dirPath)\n  æŠŠè·¯å¾„è½¬æ¢ä¸ºç›®å½•å½¢å¼,ä¹Ÿå°±æ˜¯ç¡®ä¿å®ƒæ˜¯ä»¥è·¯å¾„åˆ†éš”ç¬¦ç»“æŸçš„\nfile-name-as-directory\n(file-name-as-directory \"~rms/lewis\") ; = \"~rms/lewis/\"   è·å¾—ç›®å½•å\ndirectory-file-name\n(directory-file-name \"~lewis/\") ; = \"~lewis\"   å¾—åˆ°æ‰€åœ¨ç³»ç»Ÿä½¿ç”¨çš„æ–‡ä»¶å\nconvert-standard-filename\n(convert-standard-filename \"c:/windows\") ;= \"c:\\\\windows\"   å¾—åˆ°æŸä¸ªç›®å½•çš„å…¨éƒ¨æˆ–è€…ç¬¦åˆæŸä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„æ–‡ä»¶å,directory-files-attributesè¿”å›çš„åˆ—è¡¨åŒ…å«äº†file-attributeså¾—åˆ°çš„ä¿¡æ¯\ndirectory-files / directory-files-and-attributes\n  å¾—åˆ°æŸä¸ªæ–‡ä»¶åœ¨ç›®å½•ä¸­çš„æ‰€æœ‰ç‰ˆæœ¬\nfile-name-all-versions\n  å¾—åˆ°é€šé…ç¬¦æ‰©å±•åšçš„æ–‡ä»¶åˆ—è¡¨\nfile-expand-wildcards\n  æ–‡ä»¶æ“ä½œ   é‡å‘½å æ‹·è´ åˆ é™¤æ–‡ä»¶\n(rename-file fileName newName)\n(copy-file sourcName desName)\n(delete-file fileName)\n  (copy-directory dirPath newDirPath)\n  åˆ é™¤ç›®å½•\n(delete-directory dirPath æ˜¯å¦å¾ªç¯åˆ é™¤å­ç›®å½•çš„æ ‡è®° æ˜¯å¦æ”¾å…¥Trashçš„æ ‡è®°)\n  è®¾ç½®æ–‡ä»¶MODE\n  (set-file-mode FILE MODE)\n è·å–ç›®å½•ä¸­çš„æ–‡ä»¶åˆ—è¡¨  (directory-files DIR \u0026optional FULL MATCH NOSORT)\n åˆ›å»ºç›®å½•  (make-dirctory DIR \u0026optional PARENTS)\n   ä¸´æ—¶æ–‡ä»¶   è¿™ä¸ªå‡½æ•°æŒ‰ç»™å®šå‰ç¼€äº§ç”Ÿä¸€ä¸ªä¸å’Œç°æœ‰æ–‡ä»¶å†²çªçš„æ–‡ä»¶ï¼Œå¹¶è¿”å›å®ƒçš„æ–‡ä»¶åã€‚å¦‚æœç»™å®šçš„åå­—æ˜¯ä¸€ä¸ªç›¸å¯¹æ–‡ä»¶åï¼Œåˆ™äº§ç”Ÿçš„æ–‡ä»¶åä¼šç”¨temporary-file-directory è¿›è¡Œæ‰©å±•ã€‚ä¹Ÿå¯ä»¥ç”¨è¿™ä¸ªå‡½æ•°äº§ç”Ÿä¸€ä¸ªä¸´æ—¶æ–‡ä»¶å¤¹ã€‚\nmake-temp-file\n(make-temp-file \"foo\") ; = \"/tmp/foo5611dxf\"   äº§ç”Ÿä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶å\nmake-temp-name\n(make-temp-name \"foo\") ; = \"foo5611q7l\"   ç¥å¥‡çš„handler  åœ¨Emacsé‡Œï¼Œåº•å±‚çš„æ–‡ä»¶æ“ä½œå‡½æ•°éƒ½å¯ä»¥æ‰˜ç®¡ç»™elispä¸­çš„å‡½æ•°ï¼Œè¿™æ ·åªè¦ç”¨elispå®ç°äº†æŸç§ç±»å‹æ–‡ä»¶çš„åŸºæœ¬æ“ä½œï¼Œå°±èƒ½åƒç¼–è¾‘æœ¬åœ°æ–‡ä»¶ä¸€æ ·ç¼–è¾‘å…¶å®ƒç±»å‹æ–‡ä»¶äº†  Processes Emacså¯ä»¥åŒæ­¥æˆ–å¼‚æ­¥çš„æ–¹å¼åˆ›å»ºå­è¿›ç¨‹,å¹¶ä»¥processå¯¹è±¡çš„å½¢å¼è¡¨ç°å‡ºæ¥.\né™¤äº†ç®¡ç†Emacsçš„å­è¿›ç¨‹ä¹‹å¤–,Emacsè¿˜å¯ä»¥ç®¡ç†æ“ä½œç³»ç»Ÿä¸­çš„å…¶ä»–éEmacså­è¿›ç¨‹.\n (processp object)  åˆ¤æ–­objectæ˜¯å¦ä¸ºEmacsçš„å­è¿›ç¨‹\nåˆ›å»ºå­è¿›ç¨‹ å¯ä»¥ä½¿ç”¨`start-processâ€™åˆ›å»ºå¼‚æ­¥è¿›ç¨‹,å¹¶è·å¾—process object. ä¹Ÿå¯ä»¥ä½¿ç”¨`call-processâ€™å’Œ`call-process-regionâ€™åˆ›å»ºåŒæ­¥è¿›ç¨‹.\nEmacsåˆ›å»ºçš„å­è¿›ç¨‹ç»§æ‰¿äº†Emacsçš„è¿è¡Œç¯å¢ƒ,ä½†å¯ä»¥ä½¿ç”¨`process-environmentâ€™è¦†ç›–é»˜è®¤çš„è¿è¡Œç¯å¢ƒ.\nå‚æ•°programè¡¨ç¤ºè¦æ‰§è¡Œçš„ç¨‹åºåç§°. éœ€è¦æ³¨æ„: programåº”è¯¥åªåŒ…å«è¦æ‰§è¡Œçš„ç¨‹åºåç§°,è€Œä¸èƒ½åŒ…æ‹¬å‚æ•°\nå‚æ•°buffer-or-nameæŒ‡å®šäº†ç¨‹åºçš„è¾“å‡ºæ˜¾ç¤ºåœ¨å“ªä¸ªbufferä¸­,nilè¡¨ç¤ºä¸¢å¼ƒè¾“å‡º. unless a custom filter function handles it. å¯¹äºåŒæ­¥è¿›ç¨‹,å¯ä»¥æŒ‡å®šè¾“å‡ºåˆ°æ–‡ä»¶ä¸­è€Œä¸æ˜¯buffer\nå‚æ•°argsè¡¨ç¤ºä¼ é€’åˆ°ç¨‹åºçš„å‚æ•°,æ‰€æœ‰çš„argséƒ½æ˜¯stringç±»å‹çš„. åœ¨è¿™äº›stringä¸­, æ‰©å±•å­—ç¬¦å’Œå…¶ä»–shellç‰¹æ®Šå­—ç¬¦å¹¶ä¸ä¼šç»è¿‡shellå±•å¼€,å› ä¸ºå‚æ•°æ˜¯ç›´æ¥ä¼ é€’ç»™æŒ‡å®šç¨‹åºçš„.\n é…ç½®é¡¹exec-suffixes  ä¸€ä¸ªåŒ…å«åç¼€å­—ç¬¦ä¸²çš„list. å½“æœç´¢å¯æ‰§è¡Œç¨‹åºæ—¶,ä¼šæ·»åŠ è¯¥åˆ—è¡¨ä¸­çš„åç¼€åˆ°æ‰§è¡Œç¨‹åºåç§°çš„åé¢.\n exec-directory  è¯¥å˜é‡æ˜¯ä¸€ä¸ªè¡¨ç¤ºç›®å½•çš„å­—ç¬¦ä¸²,è¯¥ç›®å½•å­˜æ”¾çš„æ˜¯Emacsè‡ªå¸¦çš„ä¸€äº›ç¨‹åº\n é…ç½®é¡¹exec-path  å½“Emacsåˆ›å»ºå­è¿›ç¨‹æ—¶,è‹¥å‚æ•°programä¸ºç›¸å¯¹è·¯å¾„,ä¼šä»è¯¥listä¸­æŒ‡å®šçš„ç›®å½•ä¸­æœç´¢è¦æ‰§è¡Œçš„ç¨‹åº.\nè¯¥listä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªè¡¨ç¤ºç›®å½•çš„å­—ç¬¦ä¸²,è‹¥ä¸ºnilåˆ™è¡¨ç¤ºdefault directory(å˜é‡`default-directoryâ€™çš„å€¼)\n (shell-quote-argument argument)  è½¬ä¹‰argument,ä½¿å¾—è¿”å›çš„å­—ç¬¦ä¸²ä»¥shellè¯­æ³•æ¥çœ‹,å…¶çœŸå®çš„å†…å®¹å°±æ˜¯argument\nè¯¥å‡½æ•°å¸¸ç”¨äºå°†ç‰¹æ®Šå‚æ•°æŒ‰å­—é¢ä¸Šçš„æ„ä¹‰è½¬é€’çµ¦shellå»æ‰§è¡Œ\n;; This example shows the behavior on GNU and Unix systems. (shell-quote-argument \"foo  bar\") ; = \"foo\\\\ \\\\\\\\ bar\" ;; This example shows the behavior on MS-DOS and MS-Windows. (shell-quote-argument \"foo  bar\") ; = \"\\\"foo  bar\\\"\"   (split-string-and-unquote string \u0026optional separators)\nè¯¥å‡½æ•°å¸¸ç”¨äºå°†ä¸€ä¸ªå­—ç¬¦ä¸²åˆ†æ‹†æˆç”±ç‹¬ç«‹çš„command-line argumentç»„æˆçš„list,å¯ä»¥ç›´æ¥ä½œä¸ºåˆ›å»ºå­è¿›ç¨‹æ—¶çš„argå‚æ•°æ¥ä½¿ç”¨\nè¯¥å‡½æ•°æ ¹æ®æ­£åˆ™separatorsçš„è¦æ±‚å°†stringè¿›è¡Œåˆ†æ‹†, å¹¶å¯¹substringè¿›è¡Œåå¼•ç”¨\n  (combine-and-quote-string list-of-strings \u0026optional seprator)\nè¯¥å‡½æ•°å¯ä»¥è®¤ä¸ºæ˜¯`split-string-and-unquoteâ€™çš„åä½œç”¨.\nè¯¥å‡½æ•°å°†list-of-stringåˆå¹¶æˆä¸€ä¸ªå•ç‹¬çš„string, è‹¥æœ‰å¿…è¦çš„è¯,è¿˜ä¼šå¯¹listä¸­çš„æ¯ä¸ªstringå…ˆåšä¸€æ¬¡å¼•ç”¨è½¬æ¢.\n  (call-process program \u0026optional infile destination display \u0026rest args)\nåŒæ­¥è°ƒç”¨program,è¿™æ—¶Emacsä¼šæš‚åœä¸€ç›´ç­‰åˆ°å­è¿›ç¨‹ç»“æŸ,å¹¶è¿”å›ç»“æŸç \nè‹¥å‚æ•°infileä¸ä¸ºnil,è¡¨ç¤ºprogramä»å“ªä¸ªæ–‡ä»¶è¯»å–è¾“å…¥. nilè¡¨ç¤ºä»null deviceè¯»å–è¾“å…¥\nè‹¥å‚æ•°displayä¸ºénil,åˆ™`call-processâ€™ä¼šåœ¨æœ‰å†…å®¹è¾“å‡ºæ—¶,åˆ·æ–°bufferçš„æ˜¾ç¤º.\nå‚æ•°argsè¡¨ç¤ºä¼ é€’çµ¦programçš„å‚æ•°\nå‚æ•°destinationè¡¨ç¤ºprogramçš„outputè¾“å‡ºåˆ°å“ª:\n buffer-or-string  æ’å…¥åˆ°bufferä¸­\n t  æ’å…¥åˆ°å½“å‰buffer\n nil  ä¸¢å¼ƒè¾“å‡º\n 0  ä¸¢å¼ƒè¾“å‡º,å¹¶ä¸”ä¸ç­‰å¾…å­è¿›ç¨‹ç»“æŸå°±ç›´æ¥è¿”å›nil.\n (:file FILE-NAME)  è¦†ç›–FILE-NAMEæŒ‡ä»£çš„æ–‡ä»¶å†…å®¹\n (REAL-DESTINATION ERROR-DESTINATION)  åŒºåˆ†è¾“å‡ºstdoutå’Œstderr.\nè‹¥error-destinationä¸ºnilè¡¨ç¤ºä¸¢å¼ƒstderr,è‹¥ä¸ºtè¡¨ç¤ºä¸stdoutè¾“å‡ºåˆ°ä¸€ä¸ªåœ°æ–¹,è‹¥ä¸ºå­—ç¬¦ä¸²è¡¨ç¤ºè¾“å‡ºstderråˆ°æ–‡ä»¶ä¸­.\næ³¨æ„: ä½ æ— æ³•å°†error-destincationè®¾ç½®ä¸ºæŸä¸ªbuffer,å› ä¸ºå®ç°èµ·æ¥å¤ªéš¾äº†.\n  (process-file program \u0026optional infile buffer display \u0026rest args)\nç±»ä¼¼`call-processâ€™,ä½†æ ¹æ®å˜é‡`default-directoryâ€™çš„å€¼ä¸åŒ,å¯èƒ½ä¼šinvoke a file handler\nå‚æ•°çš„æ„æ€è·Ÿ`call-processâ€™æå…¶ç›¸ä¼¼,å…¶åŒºåˆ«åœ¨äº:\n  Some file handlers may not support all combinations and forms of the arguments INFILE, BUFFER, and DISPLAY.\n  å½“file handlerè¢«è°ƒç”¨æ—¶,è¯¥file handleræ ¹æ®å‚æ•°programæ¥å†³å®šåº”è¯¥è¿è¡Œå“ªä¸ªç¨‹åº.\n  ä¾‹å¦‚,suppose that a handler for remote files is invoked. Then the path that is used for searching for the program might be different from `exec-pathâ€™\n  å‚æ•°infileä¹Ÿå¯èƒ½è°ƒç”¨file handler. è¯¥file handlerå¯èƒ½ä¸`process-fileâ€™è‡ªå·±é€‰æ‹©çš„file-handlerä¸ä¸€æ ·\n  è‹¥å‚æ•°bufferä½¿ç”¨â€™(REAL-DESTINATION ERROR-DESTINATION)è¿™æ ·çš„æ ¼å¼,å¹¶ä¸”ERROR-DESTINATIONä¸ºè¡¨ç¤ºæ–‡ä»¶çš„å­—ç¬¦ä¸²,åˆ™è·Ÿinfileä¸€æ ·,å¯èƒ½è°ƒç”¨èµ·å…¶ä»–çš„file-handler\n    process-file-side-effect\nè¯¥å˜é‡æŒ‡å®šäº†å½“è°ƒç”¨`process-fileâ€™æ—¶,æ˜¯å¦å¯ä»¥ä¿®æ”¹è¿œç¨‹æ–‡ä»¶.\né»˜è®¤ä¸ºt,è¡¨ç¤ºå¯ä»¥ä¿®æ”¹.\nè¯¥å‚æ•°åªèƒ½ç”¨åœ¨let-bindingä¸­,ä¸è¦ç”¨åœ¨setqä¸­\n  (call-process-region start end program \u0026optional delete destination display \u0026rest args)\nç±»ä¼¼`call-processâ€™,è¯¥å‡½æ•°åŒæ­¥è°ƒç”¨å­è¿›ç¨‹,å¹¶å°†ä»startåˆ°endå¤„çš„æ–‡æœ¬ä½œä¸ºè¿›ç¨‹çš„stdin.\nè‹¥å‚æ•°deleteä¸ºénil,åˆ™ä¼šåˆ æ‰ä»startåˆ°endå¤„çš„æ–‡æœ¬å†…å®¹,è¿™åœ¨å‚æ•°destinationä¸ºtæ—¶,å¯ä»¥å®ç°æ›¿ä»£çš„åŠŸèƒ½.\n  (call-process-shell-command command \u0026optional infile destination display \u0026rest args)\nè¯¥å‡½æ•°åŒæ­¥æ‰§è¡Œshellå‘½ä»¤command\nå…¶å‚æ•°è¯´æ˜ä¸`call-processâ€™ç±»ä¼¼\n  (process-file-shell-command command \u0026optional infile destination display \u0026rest args)\nç±»ä¼¼`call-process-shell-commandâ€™,ä½†æ˜¯å†…éƒ¨ä½¿ç”¨`process-fileâ€™ä»£æ›¿`call-processâ€™\n  (shell-command-to-string command)\nè¯¥å‡½æ•°å°†commandä½œä¸ºshell commandæ¥æ‰§è¡Œ,å¹¶å°†æ‰§è¡Œç»“æœä½œä¸ºstringè¿”å›\n  (process-lines program \u0026rest args)\nè¯¥å‡½æ•°è¿è¡Œprogram,ç­‰å¾…å®ƒæ‰§è¡Œå®Œæˆ,ç„¶åä»¥å­—ç¬¦ä¸²listçš„å½¢å¼è¿”å›è¾“å‡º.\nè‹¥å‚æ•°programé€€å‡ºæ—¶è¿”å›é0çš„é€€å‡ºç ,è¯¥å‡½æ•°ä¼šæŠ›å‡ºerror\n  (start-process name buffer-or-name program \u0026rest args)\nè¯¥å‡½æ•°å¼‚æ­¥åˆ›å»ºPROGRAMå­è¿›ç¨‹,å¹¶è¿”å›ä¸€ä¸ªprocess object.\nå‚æ•°NAMEæŒ‡å®šäº†è¿”å›process objectçš„åç§°. è‹¥æ”¹åç§°çš„processå·²ç»å­˜åœ¨,åˆ™NAMEä¼šè¢«ä¿®æ”¹(é€šè¿‡åœ¨åé¢æ·»åŠ ,â€¦)æˆå”¯ä¸€çš„åç§°.\nå‚æ•°BUFFER-OR-NAMEæ˜¯ä¸processç›¸å…³è”çš„buffer\nè‹¥PROGRAMä¸ºnil,åˆ™Emacsåˆ›å»ºä¸€ä¸ªæ–°çš„ä¼ªç»ˆç«¯(pty)å¹¶ä¸”å°†å®ƒçš„inputå’Œoutputä¸BUFFER-OR-NAMEæŒ‡å®šçš„bufferç›¸å…³è”,ä½†æ˜¯ä¸ä¼šå»åˆ›å»ºå­è¿›ç¨‹,è€Œä¸”å‚æ•°ARGSè¢«å¿½ç•¥\n(start-process \"my-process\" \"foo\" \"sleep\" \"100\") ;;= # (start-process \"my-process\" \"foo\" \"ls\" \"-l\" \"/bin\") ;;= #   (start-file-process name buffer-or-name program \u0026rest args)\nç±»ä¼¼`start-processâ€™,ä½†æ˜¯æ ¹æ®`default-directoryâ€™çš„å€¼ä¸åŒ,å¯èƒ½ä¼šè°ƒç”¨file handler\nThis function does not try to invoke file name handlers for PROGRAM or for the PROGRAM-ARGS.\næœ‰äº›file handlerä¸èƒ½æ”¯æŒ`start-file-processâ€™(ä¾‹å¦‚å‡½æ•°`ange-ftp-hook-functionâ€™). è¿™ç§æƒ…å†µä¸‹,è¯¥å‡½æ•°ä»€ä¹ˆä¹Ÿä¸åšå¹¶è¿”å›nil\n  (start-process-shell-command name buffer-or-name command)\nç±»ä¼¼`start-processâ€™,åªæ˜¯å®ƒä½¿ç”¨shellæ¥æ‰§è¡ŒCOMMAND. ä½¿ç”¨å“ªç§shellç”±å˜é‡`shell-file-nameâ€™å†³å®š\nä¸ç›´æ¥ç”¨`start-processâ€™æ¥æ‰§è¡ŒCOMMANDç›¸æ¯”,ä½¿ç”¨shellæ¥æ‰§è¡ŒCOMMANDçš„å¥½å¤„åœ¨äºå¯ä»¥ä½¿ç”¨shellç‰¹æ€§æ¥å¤„ç†å‚æ•°åŠ›çš„é€šé…ç¬¦. ä¹Ÿæ­£å› ä¸ºè¿™æ ·,å½“åœ¨å‘½ä»¤ä¸­åŒ…å«ä»»ä½•ç‰¹æ®Šå­—ç¬¦æ—¶,éƒ½éœ€è¦ä½¿ç”¨`shell-quote-argumentâ€™æ¥è½¬ä¹‰. åŒæ ·çš„,æ‰§è¡Œçš„å‘½ä»¤æ¥è‡ªäºç”¨æˆ·çš„è¾“å…¥,åˆ™ä¸ºäº†å®‰å…¨è€ƒè™‘,ä¹Ÿéœ€è¦åšä¸€ä¸‹è½¬ä¹‰\n  (start-file-process-shell-command name buffer-or-name command)\nç±»ä¼¼`start-process-shell-command',ä½†æ˜¯åœ¨å†…éƒ¨ä½¿ç”¨`start-file-processâ€™ä»£æ›¿`start-process'\n  process-connection-type\nEmacsé€šè¿‡\"pty\"æˆ–\"pipe\"æ¥æ§åˆ¶å¼‚æ­¥è¿›ç¨‹. å…·ä½“ä½¿ç”¨å“ªç§æ–¹å¼ç”±è¯¥å˜é‡çš„å€¼å†³å®š.\nnon-nilè¡¨ç¤ºä½¿ç”¨pty,nilè¡¨ç¤ºä½¿ç”¨pipe\n(let ((process-connection-type nil)) ; use a pipe (start-process ...)) å¯¹äºé‚£äº›ç”¨æˆ·å¯è§çš„è¿›ç¨‹,ä½¿ç”¨\"pty\"æ›´å¥½ç‚¹,å› ä¸ºå®ƒå…è®¸ç”¨æˆ·åœ¨è¿›ç¨‹ä¸å®ƒçš„å­è¿›ç¨‹ä¹‹é—´è¿›è¡Œjob control(`C-c',`C-zâ€™ç­‰æ“ä½œ)\nè€Œå¯¹äºç¨‹åºå†…éƒ¨ä½¿ç”¨çš„è¿›ç¨‹æ¥è¯´,åå‘ä½¿ç”¨\"pipe\",å› ä¸ºå®ƒæ›´æœ‰æ•ˆç‡,and because they are immune to stray character injections that ptys introduce for large (around 500 byte) messages. è€Œä¸”ptyçš„æ€»æ•°æ˜¯æœ‰é™åˆ¶çš„,æœ€å¥½ä¸è¦æµªè´¹\n  Deleting Processes delete processä¼šç«‹å³æ–­å¼€Emacsä¸processçš„è¿æ¥,å¹¶ä¸”Emacsä¼šå‘é€ä¿¡å·å»ç»ˆæ­¢processçš„æ‰§è¡Œ,å¹¶è°ƒç”¨process sentinel\nè¦æ³¨æ„: processè¢«åˆ é™¤æ‰,ä¸ä»£è¡¨process objectä¼šè¢«ç«‹åˆ»å›æ”¶ æœ‰äº›å‡½æ•°å¯ä»¥æ¥æ”¶è¡¨ç¤ºè¢«åˆ é™¤processçš„process object,ä½†æ˜¯å°è¯•å¯¹å®ƒä½œIOæ“ä½œ,å‘å‘é€ä¿¡å·çµ¦å®ƒæ—¶,ä¼šçˆ†å‡ºé”™è¯¯.\n é…ç½®é¡¹delete-exited-processes  è¯¥å˜é‡å†³å®šäº†å½“ä¸€ä¸ªprocessç»ˆæ­¢è¿è¡Œäº†,æ˜¯å¦è‡ªåŠ¨åˆ é™¤å®ƒ.\nè‹¥ä¸ºnilåˆ™ä¸è‡ªåŠ¨åˆ é™¤,ç›´åˆ°è¿è¡Œ`list-processesâ€™å‘½ä»¤æ‰ä½œåˆ é™¤\nénilè¡¨ç¤ºprocessé€€å‡ºæ—¶,è‡ªåŠ¨åˆ é™¤å®ƒ\n (delete-process process)  è¯¥å‡½æ•°ä¸»åŠ¨åˆ é™¤process,ä¼šå‘é€`SIGKILLâ€™ä¿¡å·æ¥å…³é—­è¿›ç¨‹.\nå‚æ•°processå¯ä»¥æ˜¯ä¸€ä¸ªprocess,processçš„åç§°,processå…³è”çš„buffer,processå…³è”çš„bufferåç§°.\n(delete-process \"*shell*\") ; = nil processçš„å±æ€§  å‘½ä»¤(list-processes \u0026optional query-only buffer)  è¯¥å‘½ä»¤æ˜¾ç¤ºæ‰€æœ‰living process,å¹¶ä¸”ä¼šåˆ é™¤é‚£äº›çŠ¶æ€ä¸º`Exitedâ€™æˆ–`Signaledâ€™çš„process. è¯¥å‡½æ•°è¿”å›nil\nå‚æ•°bufferæŒ‡å®šäº†ç»“æœæ˜¾ç¤ºåˆ°å“ªä¸ªbufferä¸­,é»˜è®¤ä¸º`*Process List*',å®ƒçš„major modeéœ€è¦æ˜¯Process Menu mode\nè‹¥å‚æ•°query-onlyä¸ºénil,åˆ™åªåˆ—å‡ºé‚£äº›query flagä¸ºénilçš„process\n (process-list)  åˆ—å‡ºæœªåˆ é™¤æ‰çš„processçš„åˆ—è¡¨\n(process-list) = (##)  (get-process name)  è·å–åç§°ä¸ºnameçš„process object,è‹¥æ²¡æœ‰,åˆ™è¿”å›nil\n(get-process \"shell\") = # (process-command process)  è¯¥å‡½æ•°è¿”å›PROCESSçš„æ‰§è¡Œå‘½ä»¤. è¯¥ç»“æœä¸ºstringçš„åˆ—è¡¨,ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºæ‰§è¡Œçš„program,å‰©ä¸‹çš„å…ƒç´ ä¸ºargs\n(process-command (get-process \"shell\")) = (\"bash\" \"-i\")  (process-contact process \u0026optional key)  è¯¥å‡½æ•°è¿”å›serial process/networkçš„set upçš„ç›¸å…³ä¿¡æ¯\nå‚æ•°processå¯èƒ½ä¸ºä¸€ä¸ªprocess,ä¹Ÿå¯èƒ½ä¸€ä¸ªconnection\nè‹¥å‚æ•°KEYä¸ºnil,åˆ™è¿”å›serial processçš„'(PORT SPEED)ä¿¡æ¯,æˆ–è¿”å›network processçš„'(HOSTNAME SERVICE)ä¿¡æ¯\nè‹¥å‚æ•°KEYä¸ºt,åˆ™è¿”å›çš„å€¼åŒ…å«äº†connection,serveræˆ–serial portçš„å®Œæ•´ä¿¡æ¯(å³ä½¿ç”¨`make-network-processâ€™æˆ–`make-serial-processâ€™åˆ›å»ºprocessæ—¶æŒ‡å®šçš„æ‰€æœ‰keywordçš„å€¼)\nè‹¥å‚æ•°KEYä¸ºæŸä¸ªç‰¹å®šçš„keyword,åˆ™åªè¿”å›å¯¹åº”çš„value\nè‹¥processä¸ºæ™®é€šçš„child processåˆ™è¯¥å‡½æ•°æ€»æ˜¯è¿”å›t\n (process-id process)  è·å–PROCESSçš„pid\n (process-name process)  ä»¥stringçš„å½¢å¼è¿”å›PROCESSçš„åå­—\n (process-status process-or-name-or-buffer)  ä»¥symbolç±»å‹è¿”å›processçš„çŠ¶æ€\nå‚æ•°process-or-name-or-bufferå¿…é¡»æ˜¯process,bufferæˆ–process-nameä¸­çš„ä¸€ä¸ª.\nè¿”å›å€¼è¯´æ˜å¦‚ä¸‹:\n  â€˜run\nè¿›ç¨‹æ­£åœ¨è¿è¡Œ\n  â€˜stop\nè¿›ç¨‹è¢«æš‚åœæ‰§è¡Œ,ä½†ç­‰åˆ°æ—¶é—´ç‰‡åä¼šç»§ç»­æ‰§è¡Œ\n  â€˜exit\nè¿›ç¨‹å·²ç»é€€å‡º\n  â€˜signal\nè¿›ç¨‹å·²ç»æ”¶åˆ°è‡´å‘½signal\n  â€˜open\nprocessä¸ºnetwork connection,è¯¥è¿æ¥æ˜¯opençš„\n  â€˜closed\nprocessä¸ºnetwork connection,è¯¥è¿æ¥å·²å…³é—­\n  â€˜connect\nprocessä¸ºnon-blocking connection,ç­‰å¾…è¿æ¥å®Œæˆ\n  â€˜failed\nprocessä¸ºnon-blocking connection,è¿æ¥å¤±è´¥\n  â€˜listen\nprocessä¸ºnetwork server,æ­£åœ¨ç›‘å¬\n  nil\nprocessä¸å­˜åœ¨\n  (process-live-p process)\n  processæ˜¯å¦alive.\næ‰€è°“aliveæŒ‡çš„å®ƒçš„statusä¸ºâ€™run,â€˜open,â€˜listen,â€˜connectæˆ–stop\n (process-type process)  è¿”å›processçš„ç±»å‹.\nâ€˜networkè¡¨ç¤ºprocessä¸ºnetwork connectionæˆ–server\nâ€˜serialè¡¨ç¤ºprocessä¸ºserial port connection\nâ€˜realè¡¨ç¤ºprocessä¸ºreal subprocess\n (process-exit-status process)  è¿”å›PROCESSçš„exit statusæˆ–è¢«killæ—¶çš„signal number. è‹¥PROCESSæ²¡æœ‰ç»ˆæ­¢è¿è¡Œ,åˆ™è¿”å›0\n (process-tty-name process)  è¯¥å‡½æ•°è¿”å›PROCESSç”¨æ¥ä¸Emacsäº¤æµæ—¶ä½¿ç”¨çš„terminal name\nè‹¥processä½¿ç”¨pipe,åˆ™è¿”å›nil\nè‹¥processè¡¨ç¤ºä¸€ä¸ªåœ¨remote hostä¸Šè¿è¡Œçš„ç¨‹åº,åˆ™terminal nameä¸ºprocessçš„peroperty `remote-ttyâ€™\n (process-coding-system process)  ä»¥â€™(DECODE . ENCODE)çš„æ ¼å¼æè¿°decode processçš„è¾“å‡ºæ—¶ä½¿ç”¨åˆ°ç¼–ç ,å’Œencode processçš„è¾“å…¥æ—¶ä½¿ç”¨çš„ç¼–ç \n (set-process-coding-system process \u0026optional decoding-system encoding-sytem)  è®¾ç½®ENCODE/DECODE PROCESSçš„è¾“å…¥/è¾“å‡ºæ—¶ä½¿ç”¨çš„ç¼–ç è§„åˆ™\n (process-buffer process)  è¯¥å‡½æ•°è¿”å›PROCESSçš„å…³è”buffer\nprocessçš„å…³è”bufferæœ‰ä¸¤ä¸ªç”¨å¤„:å­˜å‚¨processçš„è¾“å‡ºå†…å®¹å’Œå†³å®šä½•æ—¶killæ‰è¯¥process.\nå…³é—­ä¸processç›¸å…³è”çš„buffer,ä¹Ÿä¼šå…³é—­å¯¹åº”çš„process.\n (process-mark process)  è¿”å›PROCESSçš„process-mark,\né»˜è®¤çš„filterå‡½æ•°ä¼šå°†processçš„è¾“å‡ºæ’å…¥åˆ°å…³è”çš„buffer. æ’å…¥çš„ä½ç½®ç”±å‡½æ•°`process-markâ€™çš„è¿”å›å€¼å†³å®š,é€šå¸¸æƒ…å†µä¸‹,ä¸ºbufferçš„å°¾ç«¯\n (set-process-buffer process buffer)  è¯¥å‡½æ•°è®¾ç½®PROCESSçš„å…³è”buffer,è‹¥å‚æ•°BUFFERä¸ºnil,åˆ™PROCESSæ— å…³è”buffer\n (get-buffer-process buffer-or-name)  è¿”å›å…³è”åˆ°è¯¥bufferçš„æœªåˆ é™¤process\nè‹¥æœ‰å¤šä¸ªprocesså…³è”åˆ°è¯¥buffer,åˆ™åªä¼šè¿”å›å…¶ä¸­ä¹‹ä¸€çš„process\n (process-filter process)  è¿”å›PROCESSçš„filter function\nsubprocessçš„stdoutä¼šä¼ é€’çµ¦\"filter function\"æ¥å¤„ç†.\n (set-process-filter process filter)  è®¾ç½®PROCESSçš„filter function,è‹¥FILTERä¸ºnilè¡¨ç¤ºä½¿ç”¨é»˜è®¤çš„filter function\nfilter functionéœ€è¦æ¥æ”¶2ä¸ªå‚æ•°:å…³è”çš„processå’Œè¾“å‡ºçš„å­—ç¬¦ä¸².\nä¸€èˆ¬æƒ…å†µä¸‹,ä¼šåœ¨filter functionä¸­å±è”½è°ƒquitting. å¦åˆ™æŒ‰ä¸‹C-gå¯èƒ½ä¼šå‘ç”Ÿæ— æ³•é¢„æ–™çš„ç»“æœ.\nåœ¨æ‰§è¡Œfilter functionæ—¶æŠ›å‡ºçš„erroré»˜è®¤æƒ…å†µä¸‹ä¼šè‡ªåŠ¨è¢«æ•è·,è¿™æ ·å°±ä¸ä¼šå½±å“æ­£åœ¨æ‰§è¡Œçš„program. ç„¶è€Œè‹¥`debug-on-errorâ€™ä¸ºnon-nil,åˆ™errorä¸ä¼šè¢«è‡ªåŠ¨æ•è·,è¿™ä½¿å¾—ä½¿ç”¨Lisp debuggerè°ƒè¯•filter functionç§°ä¸ºiå¯èƒ½.\nä¸€ä¸ªæ™®é€šçš„filter functionæ¨¡æ¿å¤§æ¦‚å¦‚ä¸‹:\n(defun ordinary-insertion-filter (proc string) (when (buffer-live-p (process-buffer proc)) (with-current-buffer (process-buffer proc) (let ((moving (= (point) (process-mark proc)))) (save-excursion ;; Insert the text, advancing the process marker. (goto-char (process-mark proc)) (insert string) (set-marker (process-mark proc) (point))) (if moving (goto-char (process-mark proc))))))) Note that Emacs automatically saves and restores the match data while executing filter functions.\nå¦å¤–,éœ€è¦æ³¨æ„: ä¼ é€’çµ¦filter functionçš„è¾“å‡ºå†…å®¹,å¯èƒ½æ˜¯ä»»æ„å¤§å°çš„ä¸€å—è¾“å‡º,å¾ˆå¯èƒ½ä¸€æ•´ä¸ªå¥å­ä¼šè¢«æ‹†åˆ†æˆå¾ˆå¤šå—ä¼ é€’è¿‡æ¥.\n (process-sentinel process)  è¿”å›processçš„sentinel\n (set-process-sentinel process sentinel)  è®¾ç½®processçš„sentinel. è‹¥å‚æ•°sentinelä¸ºnil,åˆ™ä½¿ç”¨é»˜è®¤çš„sentinel(å®ƒä»…ä»…å°†messageæ’å…¥process bufferä¸­)\n(defun msg-me (process event) (princ (format \"Process: %s had the event `%s'\" process event))) (set-process-sentinel (get-process \"shell\") 'msg-me) = msg-me (kill-process (get-process \"shell\")) -| Process: #had the event `killed' = #â€œprocess sentinel\"æ˜¯ä¸€ç§å‡½æ•°,è¯¥å‡½æ•°åœ¨æ¯æ¬¡æ‰€å…³è”çš„processçš„statuså‘ç”Ÿæ”¹å˜æ—¶,éƒ½ä¼šè¢«è°ƒç”¨ä¸€æ¬¡(åŒ…æ‹¬ç¨‹åºé€€å‡ºæ—¶)\nsentinel functionæ¥æ”¶ä¸¤ä¸ªå‚æ•°:processå’Œæè¿°äº‹ä»¶ç±»å‹çš„å­—ç¬¦ä¸²\nå…¶ä¸­å­—ç¬¦ä¸²æ ¼å¼æœ‰ä¸‹é¢å‡ ç§:\n  â€œfinished\\nâ€\n  â€œexited abnormally with code EXITCODE\\nâ€\n  â€œNAME-OF-SIGNAL\\nâ€\n  â€œNAME-OF-SIGNAL (core dumped)\\nâ€\nç±»ä¼¼fileter function, åªæœ‰åœ¨Emacså¤„äºwaitingçŠ¶æ€æ—¶,æ‰ä¼šè°ƒç”¨sentinel function.\nEmacsä¸ä¼šä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—æ¥ä¿æŒè°ƒç”¨sentinelçš„åŸå› ,å®ƒåªè®°å½•å½“å‰çŠ¶æ€å’Œå‘ç”Ÿæ”¹å˜çš„åŸå› . å› æ­¤è‹¥çŠ¶æ€åœ¨å¾ˆçŸ­æ—¶é—´å†…å‘ç”Ÿè¿ç»­å˜åŒ–,åªèƒ½è§¦å‘ä¸€æ¬¡sentinelçš„è°ƒç”¨. ä¸è¿‡ç”±äºprocessç»ˆæ­¢è¿è¡Œåå°±ä¸ä¼šå†å‘ç”ŸçŠ¶æ€å˜æ›´äº†,æ‰€ä»¥processç»ˆæ­¢æ“ä½œæ€»ä¼šè§¦å‘ä¸€æ¬¡sentinel\næ¯æ¬¡è¿è¡Œprocess sentinelå‰,Emacséƒ½ä¼šæ˜ç¡®åœ°æ£€æŸ¥ä¸€æ¬¡processæ˜¯å¦æœ‰è¾“å‡º\nè‹¥sentinelè¦å°†è¾“å‡ºå†™åˆ°process bufferä¸­æ—¶,ä¸€å®šè¦è®°å¾—æ£€æŸ¥bufferæ˜¯å¦è¿˜åœ¨,å¾€è¢«killæ‰çš„bufferä¸­å†™å…¥ä¼šå¼•å‘é”™è¯¯. å¯ä»¥ç”¨`(buffer-name (process-buffer PROCESS))â€˜æ˜¯å¦ä¸ºnilæ¥æ£€æŸ¥bufferæ˜¯å¦å­˜åœ¨\nsentinelåœ¨å¤„ç†quitingå’Œerroræ—¶,è·Ÿfilter functionä¸€æ ·. é»˜è®¤æƒ…å†µä¸‹éƒ½ä¼šå±è”½quittingå’Œè‡ªåŠ¨æ•è·error\nåœ¨sentinelçš„æ‰§è¡ŒæœŸé—´,processçš„sentinelä¼šä¸´æ—¶è®¾ç½®ä¸ºnil,ä»¥é˜²æ­¢sentinelçš„é‡å¤è°ƒç”¨\nNote that Emacs automatically saves and restores the match data while executing sentinels.\n  (waiting-for-user-input-p)\n  å½“sentinelæˆ–fileter functionæ­£åœ¨è¿è¡Œæ—¶,è¯¥å‡½æ•°è¿”å›nil.\n (process-query-on-exit-flag process)  è¿”å›PROCESSçš„query flag\næ¯ä¸ªç¨‹åºéƒ½ç”±ä¸ªquery flag,è‹¥å‚æ•°ä¸ºt,åˆ™è¡¨ç¤ºkillè¯¥processä¹‹å‰è¯¢é—®ç”¨æˆ·æ˜¯å¦ç¡®å®šè¦ä½œè¿™é¡¹æ“ä½œ,é»˜è®¤ä¸ºt\n (set-process-query-on-exit-flag process flag)  è®¾ç½®processçš„query flag\næ¯ä¸ªprocessè·Ÿsymbolç±»å‹,ä¹Ÿå¸¦æœ‰è‡ªå·±çš„property list.\n (process-get process property)  è·å–processçš„propertyçš„value\n (process-put process property value)  è®¾ç½®processçš„propertyçš„å€¼ä¸ºvalue\n (process-plist process)  è·å–processçš„plist\n (set-process-plist process plist)  è®¾ç½®processçš„plist\nä¸Processçš„äº¤äº’ Sending Input to Processes å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ä¸ºå¼‚æ­¥processçš„stdioæµå‘é€æ•°æ®,åœ¨è¿™äº›å‡½æ•°ä¸­,å‚æ•° PROCESSå¯ä»¥ä¸ºprocess objectæˆ–processçš„åç§°,æˆ–bufferæˆ–bufferçš„åç§°,æˆ–nilè¡¨ç¤ºå½“å‰bufferçš„process\n  (process-send-string process string)\nçµ¦processçš„stdioå‘é€string,è¯¥å‡½æ•°è¿”å›nil\n  (process-send-region process start end)\nå°†regionçš„å†…å®¹ä½œä¸ºprocessçš„stdio\nå‚æ•°START,ENDå¿…é¡»æ˜¯integeræˆ–marker,å¦åˆ™ä¼šæŠ¥é”™\n  (process-send-eof \u0026optional process)\nä¼ é€’eofåˆ°processçš„stdio\nprocessè‹¥ä¸ºnil,åˆ™è¡¨ç¤ºå±äºå½“å‰bufferçš„process\nè¯¥å‡½æ•°è¿”å›process\n  (process-running-child-p \u0026optional process)\nè¯¥å‡½æ•°å‘Šè¯‰ä½ ,processæ˜¯å¦å°†å¯¹terminalçš„æ§åˆ¶æƒäº¤ç»™äº†å®ƒçš„child process.\næ³¨æ„: å½“Emacsæ— æ³•åˆ†è¾¨æ—¶,ä¹Ÿè¿”å›t\n  Sending Signals to Processes æ¯ä¸ªå‘é€signalçµ¦processçš„å‡½æ•°éƒ½æ¥æ”¶ä¸¤ä¸ªå¯é€‰å‚æ•°:PROCESSå’ŒCURRENT-GROUP\nå‚æ•°PROCESSå¿…é¡»ä¸ºprocess objectæˆ–processçš„åç§°æˆ–bufferæˆ–buffer nameæˆ–nil(è¡¨ç¤ºå½“å‰bufferçš„process).\nå‚æ•°CURRENT-GROUPæ˜¯ä¸€ä¸ªæ ‡å¿—,å½“è¿è¡Œä¸€ä¸ªjob-control shellä½œä¸ºEmacsçš„subprocessæ—¶,è¯¥æ ‡å¿—çš„ä¸åŒå€¼æ‰æœ‰ä¸åŒçš„æ„æ€.\nå½“å‚æ•°CURRENT-GROUPçš„å€¼ä¸ºénil,åˆ™ä¿¡å·æ˜¯å‘é€åˆ°Emacsä¸subprocessäº¤äº’æ‰€ä½¿ç”¨çš„é‚£ä¸ªTerminalçš„process-group,è€Œä¸æ˜¯processçš„process group. è‹¥processæœ¬èº«å°±æ˜¯ä¸ªjob-control shell,è¡¨ç¤ºä¸­æ–­çš„æ˜¯shellçš„current subjobè€Œä¸æ˜¯shellæœ¬èº«(æ³¨æ„,è¿™æ—¶Emacsæ˜¯åœ¨ä¸shellçš„å½“å‰jobäº¤äº’è€Œä¸æ˜¯shelläº¤äº’)\nè‹¥å‚æ•°CURRENT-GROUOPçš„å€¼ä¸ºnil,åˆ™ä¿¡å·å‘é€åˆ°Emacsçš„ç›´æ¥å­è¿›ç¨‹çš„process group. è‹¥subprocesä¸ºjob-control shell,è¿™å°±æ˜¯shellæœ¬èº«\nå½“Emacsä½¿ç”¨pipeä¸subprocessäº¤äº’æ—¶,å‚æ•°CURENT-GROUPæ˜¯æ— æ•ˆçš„.\n  (interrupt-process \u0026optioal process current-group)\nå‘é€SIGINTçµ¦process\n  (kill-process \u0026optioal process current-group)\nå‘é€SIGKILL\n  (quit-process \u0026optioal process current-group)\nå‘é€SIGQUIT\n  (stop-process \u0026optioal process current-group)\nå‘é€SIGSTP. è¿›ç¨‹æš‚åœå,å¯ä»¥ä½¿ç”¨`continue-processâ€™å†æ¬¡è®©å®ƒè¿è¡Œèµ·æ¥\n  (continue-process \u0026optioal process current-group)\nå‘é€SIGCONT\n  å‘½ä»¤(signal-process process signal)\nå‘processå‘ä¿¡å·\nå‚æ•°signalå¿…é¡»ä¸ºä¸€ä¸ªæ•´æ•°,æˆ–ä»¥signalä¸ºåç§°çš„symbol\nå‚æ•°processé™¤äº†å¯ä»¥ä½¿process object,processçš„åç§°,buffer,å’Œbufferçš„åç§°å¤–,å¯ä»¥ä¸º processçš„pid,è¿™å…è®¸ä½ å‘é€ä¿¡å·çµ¦éEmacsçš„å­è¿›ç¨‹\n  Receiving Output from Process subprocessçš„stdoutä¼šä¼ é€’çµ¦\"filter function\"æ¥å¤„ç†.\né»˜è®¤çš„filter functionåªæ˜¯ç®€å•çš„å°†å†…å®¹æ’å…¥åˆ°processç›¸å…³è”çš„bufferä¸­å», è‹¥processæ²¡æœ‰ç›¸å…³è”çš„buffer,åˆ™ä¸¢å¼ƒè¯¥è¾“å‡º\nå½“subprocessç»“æŸè¿è¡Œå,Emacs reads any pending output, ç„¶åå°±ä¸å†ä»subprocessä¸­è¯»å–ä»»ä½•è¾“å‡ºäº†,å³ä½¿è¿™æ—¶å€™subprocessçš„child processè¿˜æœ‰è¾“å‡ºä¹Ÿä¸ç®¡.\néœ€è¦æ³¨æ„çš„æ˜¯:subprocessçš„è¾“å‡ºåªæœ‰å½“Emacså¤„äºwaitingæ—¶æ‰å›è¢«è¯»å–,å³Emacsè¯»å–terminal inputæˆ–è°ƒç”¨`accept-process-outputâ€™æ—¶æ‰ä¼šè¢«è¯»å–.\nåœ¨æŸäº›æ“ä½œç³»ç»Ÿä¸­,å½“Emacsè¯»å–subprocessçš„è¾“å‡ºæ—¶,è¾“å‡ºçš„å†…å®¹æ˜¯ä»¥ä¸€å°å—ä¸€å°å—çš„æ–¹å¼è¢«è¯»å–çš„,è¿™å°±ç…§æˆäº†è¯»å–çš„æ•ˆç‡ä½ä¸‹. é€šè¿‡è®¾ç½®`process-adaptive-read-bufferingâ€™å¯ä»¥é€‚å½“æé«˜ä¸€äº›æ•ˆç‡,å› ä¸ºå®ƒå¯¹è¿™äº›è¿›ç¨‹è¿›è¡Œå»¶è¿Ÿè¯»å–,ç­‰ä»–ä»¬äº§ç”Ÿæ›´å¤šçš„è¾“å‡ºæ—¶å†è¯»å–å‡ºæ¥.\nè¦åŒºåˆ†subprocessä¸­çš„stdoutå’Œstderræ˜¯ä¸å¯èƒ½çš„,å› ä¸ºEmacsé€šå¸¸åœ¨ptyä¸­è°ƒç”¨å­è¿›ç¨‹,è€Œptyåªæœ‰ä¸€ä¸ªstdout,è‹¥æƒ³åŒºåˆ†ä»–ä»¬,åªèƒ½å°†å…¶ä¸­ä¸€ä¸ªé‡å®šå‘åˆ°æ–‡ä»¶ä¸­\n  (accept-process-output \u0026optional process seconds millisec just-this-one)\nè¯¥å‡½æ•°å…è®¸Emacsè¯»å–PROCESSçš„è¾“å‡º.\nè‹¥å‚æ•°PROCESSä¸ºénil,åˆ™è¯¥å‡½æ•°ä¼šä¸€ç›´ç­‰å¾…,ç›´åˆ°ä»PROCESSè¯»å–åˆ°è¾“å‡ºä¸ºæ­¢.\nå‚æ•°SECONDSå’ŒMILLISECä¸ºè¶…æ—¶æ—¶é—´. ç”±äºå‚æ•°SECONDSå¯ä»¥æ˜¯æµ®ç‚¹å‹,å› æ­¤å‚æ•°MILLISECä¸æ¨èä½¿ç”¨.\nè‹¥å‚æ•°PROCESSä¸ºénil,è€Œå‚æ•°JUST-THIS-ONEä¸ºénil,åˆ™åªæœ‰è¯¥processçš„è¾“å‡ºè¢«å¤„ç†. è‹¥JUST-THIS-ONEä¸ºä¸€ä¸ªæ•´æ•°,åˆ™è¿˜ä¼šæš‚åœå®šæ—¶å™¨çš„æ‰§è¡Œ\nè‹¥`accept-process-outputâ€™ç­‰å¾…è¶…æ—¶è€Œæ²¡æœ‰è¯»åˆ°ä»»ä½•ä¸œè¥¿,åˆ™è¿”å›nil\n  Accessing Other Processes Emacsé™¤äº†å¯ä»¥ä¸è‡ªå·±åˆ›å»ºçš„subprocessäº¤äº’å¤–,ä¹Ÿèƒ½ä¸åŒæœºå™¨ä¸Šçš„å…¶ä»–è¿›ç¨‹äº¤äº’,è¿™äº›è¿›ç¨‹ç§°ä¸º\"System processâ€\n (list-system-processes)  åˆ—å‡ºæ‰€æœ‰æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹pidçš„list\n (process-attributes pid)  è¿”å›æŒ‡å®šsystem processçš„å±æ€§ç»„æˆçš„alist\nè¿™äº›å±æ€§æœ‰:\n  euid\neffective user id\n  user\n  egid\nThe group id of the effective user id\n  group\n  comm\nè¿è¡Œè¯¥processçš„command\n  state\nè¯¥processçš„çŠ¶æ€ç \n   çŠ¶æ€ç  è¯´æ˜     â€œDâ€ uninterruptible sleep (usually I/O)   â€œRâ€ running   â€œSâ€ interruptible sleep (waiting for some event)   â€œTâ€ stopped, e.g., by a job control signal   â€œZâ€ â€œzombieâ€: a process that terminated, but was not reaped by its parent      ppid\n  pgrp\n  sess\nsession ID of the process\n  ttname\nprocessçš„æ§åˆ¶ç»ˆç«¯çš„åç§°\n  tpgid\nThe numerical process group ID of the foreground process group that uses the processâ€™s terminal.\n  minflt\nThe number of minor page faults caused by the process since its beginning. (Minor page faults are those that donâ€™t involve reading from disk.)\n  majflt\nThe number of major page faults caused by the process since its beginning. (Major page faults require a disk to be read, and are thus more expensive than minor page faults.)\n  cminflt / cmajft\nLike `minfltâ€™ and `majfltâ€™, but include the number of page faults for all the child processes of the given process.\n  utime\nprocessåœ¨user contextä¸‹çš„è¿è¡Œæ—¶é—´(æ¶ˆè€—CPUæ—¶é—´ç‰‡çš„æ—¶é—´)\n  stime\nprocessåœ¨system contextä¸‹çš„è¿è¡Œæ—¶é—´\n  time\nutime+stime\n  cutime / cstime / ctime\nç±»ä¼¼utime,stime,time,ä½†æ˜¯åŒ…æ‹¬æŒ‡å®šprocessä¸‹çš„å­è¿›ç¨‹\n  pri\nä¼˜å…ˆçº§\n  nice\n  thcount\nprocessä¸­çš„è¿›ç¨‹æ•°\n  start\nprocesså¼€å§‹çš„æ—¶é—´\n  etime\nprocesså¼€å§‹å,ç»è¿‡äº†å¤šå°‘æ—¶é—´\n  vsize\nprocesså ç”¨è™šæ‹Ÿå†…å­˜çš„å¤§å°,kbä¸ºå•ä½\n  rss\nprocesså ç”¨ç‰©ç†ç©ºé—´çš„å¤§å°,kbä¸ºå•ä½\n  pcpu\nå cpuçš„ç™¾åˆ†æ¯”\n  pmen\nå æ€»ç‰©ç†å†…å­˜çš„ç™¾åˆ†æ¯”\n  args\ncommandçš„å‚æ•°\n  äº¤æ˜“é˜Ÿåˆ— é€šè¿‡äº¤æ˜“é˜Ÿåˆ—,å¯ä»¥ä½¿ç”¨äº¤æ˜“ä¸processè¿›è¡Œé€šè®¯.\né¦–å…ˆä½¿ç”¨`tq-createâ€™åˆ›å»ºäº¤æ˜“é˜Ÿåˆ—,ç„¶åä½¿ç”¨`tq-enqueueâ€™å‘é€äº¤æ˜“\n (tq-create process)  åˆ›å»ºä¸PROCESSé€šè®¯çš„äº¤æ˜“é˜Ÿåˆ—\nå‚æ•°PROCESSå¿…é¡»å¯è¯»å†™çš„,æ—¢å¯ä»¥æ˜¯å­è¿›ç¨‹, ä¹Ÿå¯ä»¥æ˜¯ç½‘ç»œè¿æ¥.\n (tq-equeue queue question regexp closure fn \u0026optional delay-question)  å‘é€äº¤æ˜“åˆ°é˜Ÿåˆ—QUEUE\nå‚æ•°QUESTIONä¸ºå‘é€çš„æ¶ˆæ¯\nå‚æ•°FNä¸ºå½“answerå›æ¥æ—¶çš„å›è°ƒå‡½æ•°. ä»–æ¥æ”¶ä¸¤ä¸ªå‚æ•°:å‚æ•°CLOSUREå’Œæ¥æ”¶åˆ°çš„answer\nå‚æ•°REGEXPä¸ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼,è¯¥æ­£åˆ™è¡¨è¾¾å¼åº”è¯¥åŒ¹é…æ•´ä¸ªå®Œæ•´ç­”æ¡ˆç»“æŸæ—¶çš„æ–‡æœ¬. `tq-enqueueâ€™ä½¿ç”¨è¯¥æ­£åˆ™æ¥åˆ¤æ–­answeræ˜¯å¦å·²ç»æ¥æ”¶å®Œå…¨\nè‹¥å‚æ•°DELAY-QUESTIONä¸ºénil,åˆ™ä¼šæš‚ç¼“questionçš„å‘é€,ç›´åˆ°processå¯¹ä¹‹å‰çš„questionéƒ½å›åº”å®Œåå†å‘é€. å¯¹æŸäº›processæ¥è¯´,è¿™æ ·ä¼šå¾—åˆ°æ¯”è¾ƒé è°±çš„answer\n (tq-close queue)  ç­‰å¾…æ‰€æœ‰çš„äº¤æ˜“å®Œæˆ,ç„¶åå…³é—­é˜Ÿåˆ—\nTransaction queuesçš„å®ç°ä¾é filter function\nNetwork Process Emacs Lispç¨‹åºå¯ä»¥åˆ›å»ºTCP/UDPé“¾æ¥(é€šè¿‡å†…å»º/å¤–éƒ¨æ”¯æŒ,ç”šè‡³è¿˜èƒ½åˆ›å»ºåŠ å¯†çš„ç½‘ç»œè¿æ¥)ï¼Œæ—¢èƒ½åˆ›å»ºå®¢æˆ·ç«¯,ä¹Ÿèƒ½åˆ›å»ºæœåŠ¡ç«¯.\nElispæŠŠç½‘ç»œé“¾æ¥çœ‹æˆæ—¶è·Ÿsubprocessç±»ä¼¼çš„ä¸œè¥¿ï¼Œä¹Ÿç”¨process objectæ¥è¡¨ç¤ºã€‚å½“ç„¶è¿™ç§process objectæ²¡æœ‰pidï¼Œä¹Ÿä¸èƒ½å¯¹å®ƒå‘é€ä¿¡å·ä»€ä¹ˆçš„ã€‚\né€šè¿‡è°ƒç”¨`make-network-processâ€˜å¯ä»¥åˆ›å»ºNetwork connectionå’ŒNetwork serverã€‚ è¯¥å‡½æ•°æ¥å—keywordå‚æ•°`:server tâ€™è¡¨ç¤ºåˆ›å»ºNetwork server process. `:type datagramâ€™è¡¨ç¤ºåˆ›å»ºUDPé“¾æ¥\nå¯ä»¥é€šè¿‡`stop-processâ€™å’Œ`continue-processâ€™æ¥stop/resume network processçš„æ“ä½œ. å¯¹äºserver processæ¥è¯´,stopæ„å‘³ç€ä¸å†æ¥æ”¶æ–°è¿æ¥è¯·æ±‚. å¯¹äºnetwork connectionæ¥è¯´,stopæ„å‘³ç€ä¸å†æ¥æ”¶è¾“å…¥æµ\né€šè¿‡å¸¦å‚æ•°`:server tâ€™è°ƒç”¨`make-network-processâ€™åˆ›å»ºçš„network server. å®ƒæ¥å—å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚,å¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„process objectè¡¨ç¤ºè¿™ä¸ªæ–°çš„network connection. è¿™ä¸ªæ–°ç”Ÿæˆçš„è¡¨ç¤ºnetwork connectionçš„process objectæœ‰å¦‚ä¸‹å‡ ä¸ªç‰¹å¾:\n connection processçš„åç§°ä¸ºserver processçš„åç§°+å®¢æˆ·ç«¯å”¯ä¸€æ ‡è¯† è‹¥server processæ²¡æœ‰é»˜è®¤çš„filter function,åˆ™connection processæ²¡æœ‰è‡ªå·±ç‹¬ç«‹çš„process buffer. å¦åˆ™Emacsä¸ºprocess bufferåˆ›å»ºè‡ªå·±ç‹¬ç«‹çš„buffer,bufferåç§°ä¸ºserverçš„bufferåç§°æˆ–processåç§°åŠ ä¸Šclientçš„å”¯ä¸€æ ‡è¯† connection processçš„é“¾æ¥ç±»å‹,filter connectionå’Œsentineléƒ½ç»§æ‰¿è‡³server process connection processçš„process contactä¿¡æ¯æ ¹æ®clientç«¯çš„åœ°å€ä¿¡æ¯æ¥è®¾ç½® connection processçš„æœ¬åœ°åœ°å€æ ¹æ®ç”¨äºè¯¥é“¾æ¥çš„ç«¯å£å·å†³å®š client processçš„pliståˆå§‹åŒ–ä¸ºserver processçš„plistä¸€æ ·  åˆ›å»ºè¡¨ç¤ºç½‘ç»œè¿æ¥/ç½‘ç»œæœåŠ¡çš„process object   (make-network-process \u0026rest args)\nè¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ªnetwork connectionæˆ–network server,å¹¶è¿”å›ä¸€ä¸ªprocess object.\nè¿™é‡Œå‚æ•°argså¯èƒ½æ˜¯ä»¥ä¸‹keyword:\n :name NAME  ä½¿ç”¨NAMEä½œä¸ºprocessçš„åç§°\n :type TYPE  å®šä¹‰é“¾æ¥ç±»å‹. nilè¡¨ç¤ºTCPé“¾æ¥; â€˜datagramè¡¨ç¤ºUDPé“¾æ¥;â€˜seqpacketè¡¨ç¤º\"sequenced packet stream\"é“¾æ¥\n :server SERVER-FLAG  è‹¥å‚æ•°ä¸ºénil,è¡¨ç¤ºåˆ›å»ºnetwork server,å¦åˆ™ä¸ºåˆ›å»ºNetwork connection\nè‹¥ä¸ºstream type server(TCPç±»å‹çš„server),åˆ™è¯¥å‚æ•°å¿…é¡»ä¸ºä¸€ä¸ªæ•´æ•°,è¡¨ç¤ºæœ€å¤§å¯ä»¥ç­‰å¾…çš„è¿æ¥æ•°\n :host HOST  è¡¨ç¤ºè¦è¿æ¥çš„host. å®ƒå¯ä»¥æ˜¯ä¸€ä¸ªè¡¨ç¤ºInternetåœ°å€çš„å­—ç¬¦ä¸²,æˆ–symbol â€˜local.\nè‹¥ä¸ºNetwork ServeræŒ‡å®šhost,åˆ™Network Clientå¿…é¡»è¿æ¥åˆ°è¿™ä¸ªHOSTçš„è¯·æ±‚æ‰ä¼šè¢«æ¥å—\n :service SERVICE  SERVICEæŒ‡å®šäº†è¦è¿æ¥çš„ç«¯å£. å®ƒå¯ä»¥æ˜¯è¡¨ç¤ºserviceåç§°çš„å­—ç¬¦ä¸²,æˆ–è€…è¡¨ç¤ºç«¯å£å·çš„æ•´æ•°\nå¯¹äºNetwork server.è¯¥å‚æ•°è¿˜å¯ä»¥ä¸ºt,è¡¨ç¤ºè®©ç³»ç»Ÿè‡ªå·±é€‰æ‹©ä¸€ä¸ªæœªç”¨çš„port\n :family FAMILY  FAIMILYæŒ‡å®šäº†é“¾æ¥åè®®çš„ç§ç±».\nnilè¡¨ç¤ºç”±ç³»ç»Ÿè‡ªåŠ¨é€‰æ‹©.\nâ€˜localè¡¨ç¤ºä¸ºUnix socket,è¿™ç§æƒ…å†µä¸‹:hostå‚æ•°å¯ä»¥è¢«å¿½ç•¥\nâ€˜ipv4æˆ–â€™ipv6è¡¨ç¤ºä½¿ç”¨IPv4å’ŒIPv6\n :Local LOCAL-ADDRESS  å¯¹äºNetwork Server. LOCAL-ADDRSSä¸ºç›‘å¬çš„åœ°å€.\nè¯¥å‚æ•°ä¼šè¦†ç›–FAMILY,HOSTå’ŒSERVICEçš„å€¼\nå…¶ä¸­LOCAL-ADDRESSçš„æ ¼å¼æ ¹æ®FAMILYçš„ä¸åŒè€Œä¸åŒ\n  IPv4çš„åœ°å€ä½¿ç”¨ä¸€ä¸ª5å…ƒç´ çš„vectorè¡¨ç¤º[A B C D Port]\n  IPv6çš„åœ°å€ä½¿ç”¨ä¸€ä¸ª9å…ƒç´ çš„vectorè¡¨ç¤º[A B C D E F G H Port]\n  æœ¬åœ°åœ°å€ä½¿ç”¨å­—ç¬¦ä¸²è¡¨ç¤º\n  :remote REMOTE-ADDRESS\n  å¯¹äºNetwork connectionæ¥è¯´REMOTE-ADDRESSä¸ºè¦è¿æ¥åˆ°çš„åœ°å€. è¯¥å‚æ•°ä¼šè¦†ç›–FAMILY,HOSTå’ŒSERVICE\nå¯¹äºUDP Serveræ¥è¯´,REMOTE-ADDRESSæŒ‡å®šäº†remote datagram addressçš„åˆå§‹è®¾ç½®\nREMOTE-ADDRESSçš„æ ¼å¼å‚è§LOCAL-ADDRESSçš„æ ¼å¼\n :nowait BOOL  è‹¥BOOLä¸ºénil,åˆ™å¯¹äºTCP connectionæ¥è¯´,å‡½æ•°ä¸ç­‰å¾…è¿æ¥å®Œæˆå°±è¿”å›.\nå½“é“¾æ¥è¿æ¥æˆåŠŸæˆ–å¤±è´¥å,ä¼šè°ƒç”¨processçš„sentinel function\n :stop STOPPED  è‹¥STOPPEDä¸ºénil,åˆ™åˆ›å»ºçš„network connectionæˆ–network serverå¤„äºstoppedçŠ¶æ€\n :buffer BUFFER  ä½¿ç”¨BUFFERä½œä¸ºprocess buffer\n coding CODING  è®¾ç½®processçš„ç¼–ç ,æ ¼å¼ä¸ºâ€™(DECODING ENCODING)\n :noquery QUERY-FLAG  åˆå§‹åŒ–processçš„query flag,è‹¥ä¸ºénil,åˆ™åœ¨delete è¯¥processæ—¶ä¼šæå‡ç”¨æˆ·ç¡®è®¤\n :filter FILTER  åˆå§‹åŒ–processçš„filter function\n :filter-multibyte MULTIBYTE  è‹¥MULTIBYTEä¸ºénil,åˆ™ä¼ é€’ç»™process filter functionçš„å­—ç¬¦ä¸²ä¸ºmultbyteæ ¼å¼çš„.å¦åˆ™ä¸ºunibyteæ ¼å¼çš„.\né»˜è®¤ä¸ºå‚æ•°`enable-multibyte-charactersâ€™çš„å€¼\n :sentinel SENTINEL  åˆå§‹åŒ–processçš„sentinel\n :log LOG  åˆå§‹åŒ–Network serverçš„log function.\næ¯æ¬¡serveræ¥å—ä¸€æ¬¡clientå‘èµ·çš„è¿æ¥è¯·æ±‚å°±ä¼šè°ƒç”¨ä¸€æ¬¡log function.\nä¼ é€’ç»™log functionçš„å‚æ•°æœ‰:SERVER,CONNECTIONå’ŒMESSAGE\n :plist PLIST  åˆå§‹åŒ–processçš„plist\nä¸‹é¢çš„å‚æ•°æ˜¯ä¸“ä¸ºnetwork connectionä½¿ç”¨çš„\n :bindtodevice DEVICE-NAME  æŒ‡å®šç»‘å®šåˆ°å“ªå¼ ç½‘å¡,åªæœ‰ä»è¯¥ç½‘å¡æ¥å—åˆ°çš„æŠ¥æ–‡æ‰ä¼šè¢«å¤„ç†,è‹¥DEVICE-NAMEä¸ºnil,è¡¨ç¤ºä»»ä½•ç½‘å¡\n broadcast BROADCAST-FLAG  å¯¹äºdatagram processæ¥è¯´,è‹¥BROADCAST-FLAGä¸ºénil,åˆ™processä¼šæ¥å—å‘é€åˆ°å¹¿æ’­åŸŸçš„UDPæŠ¥æ–‡,ä¹Ÿèƒ½å°†UDPæŠ¥æ–‡å‘é€åˆ°å¹¿æ’­åŸŸ\nå¯¹TCP é“¾æ¥æ— æ•ˆ\n :dontroute DONTROUTE-FLAG  è‹¥DONTROUTE-FLAGä¸ºénil,åˆ™è¡¨ç¤ºä¸ç”±è·¯,åŠåªèƒ½å‘é€æŠ¥æ–‡ç»™ç»Ÿä¸€ç½‘æ®µçš„åœ°å€\n :keepalive KEEPALIVE-FLAG  è‹¥ä¸ºTCPé“¾æ¥,ä¸”KEEPALIVE-FLAGä¸ºénil,åˆ™å¼€å¯low-level keep-alive messagesäº¤æ¢åŠŸèƒ½\n linger LINGER-ARG  è‹¥LINGER-ARGä¸ºénil,åˆ™ä¼šåœ¨å…³é—­é“¾æ¥å‰ä¼šç­‰å¾…é“¾è·¯ä¸Šçš„æŠ¥æ–‡éƒ½è½¬å‘æˆåŠŸåæ‰å…³é—­.\nè‹¥LINGER-ARGä¸ºæ•´æ•°,å®ƒè¡¨ç¤ºç­‰å¾…æŠ¥æ–‡è½¬å‘çš„æœ€å¤§æ—¶é—´.\né»˜è®¤å‚æ•°nilè¡¨ç¤ºå…³é—­é“¾æ¥æ—¶ç›´æ¥ä¸¢å¼ƒæ‰€æœ‰æœªè½¬å‘çš„æŠ¥æ–‡\n :oobinline OOBINLINE-FLAG  è‹¥ä¸ºTCPé“¾æ¥,ä¸”OOBINLINE-FLAGä¸ºénil,åˆ™æ¥å—out-of-bandæ•°æ®åŒ…\n :priority PRIORITY  è®¾ç½®æ•°æ®åŒ…çš„ä¼˜å…ˆçº§,ä¸ºæ•´æ•°.\nè¯¥å‚æ•°ä¸ç³»ç»Ÿ,åè®®éƒ½ç›¸å…³\n :reuseaddr REUSEADDR-FLAG  è¯¥å‚æ•°å¯¹stream server processç”Ÿæ•ˆ.\né»˜è®¤REUSEADDR-FLAGä¸ºénil,è¡¨ç¤ºè¯¥æœåŠ¡å¯ä»¥ç«‹åˆ»é‡ç”¨æŒ‡å®šçš„ç«¯å£.\nè‹¥REUSEADDR-FLAGä¸ºnil,è¡¨ç¤ºåœ¨ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨äº†æŒ‡å®šç«¯å£å,ä¸€æ®µæ—¶é—´å†…è¯¥ç«¯å£ä¸èƒ½è¢«å…¶ä»–è¿›ç¨‹æ‰€ä½¿ç”¨.\n  (set-network-process-option process option value \u0026optional no-error)\nè®¾ç½®å·²å­˜åœ¨network processçš„ç½‘ç»œå±æ€§,å¯è®¾ç½®çš„å±æ€§å‚è§`make-network-processâ€™ä¸­çš„å±æ€§(ä½†ä¸åŒ…æ‹¬reuseaddrå±æ€§)\nè‹¥å‚æ•°NO-ERRORä¸ºénil,åˆ™å½“è®¾ç½®çš„å‚æ•°ä¸æ”¯æŒæ—¶ä¸ä¼šæŠ›å‡ºerror,åªè¿”å›nil\nè‹¥è®¾ç½®æˆåŠŸ,åˆ™è¿”å›t\n  (open-network-stream name buffer host service \u0026rest parameters)\nè¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ªTCPè¿æ¥(å¯é€‰æ‹©åŠ å¯†),å¹¶è¿”å›ä¸€ä¸ªprocess object\nå‚æ•°NAMEè¡¨ç¤ºè¯¥process objectçš„åç§°,è‹¥æœ‰é‡å¤åç§°åˆ™ä¼šè‡ªåŠ¨æ·»åŠ ç¼–å·\nå‚æ•°BUFFERä¸ºä¸è¯¥connectionç›¸è¿çš„buffer. é»˜è®¤æƒ…å†µä¸‹connectionçš„è¾“å‡ºä¼šæ’å…¥åˆ°è¯¥bufferä¸­. è‹¥BUFFERä¸ºnilè¡¨ç¤ºæ²¡æœ‰è¿æ¥çš„buffer\nå‚æ•°HOSTå’ŒSERVICEæŒ‡æ˜äº†è¦è¿æ¥çš„æœåŠ¡ç«¯çš„åœ°å€å’Œç«¯å£. å…¶ä¸­hostä¸ºå­—ç¬¦ä¸²ç±»å‹,SERVICEå¯ä»¥ä¸ºå­—ç¬¦ä¸²ä¹Ÿå¯ä»¥ä¸ºæ•´æ•°\nå‰©ä¸‹çš„å‚æ•°PARAMETERS,æ˜¯å„ç§keywordå‚æ•°:\n  :nowait BOOLEAN\nè‹¥ä¸ºé£nil,åˆ™è¡¨ç¤ºåˆ›å»ºå¼‚æ­¥è¿æ¥\n  :type TYPE\nè¿æ¥çš„ç±»å‹.\n   TYPE è¯´æ˜     plain æ™®é€šçš„,æœªåŠ å¯†çš„é“¾æ¥   tls / ssl TLSé“¾æ¥   nil / network è‡ªåŠ¨å†³å®šç±»å‹. è‹¥ç³»ç»Ÿæ”¯æŒå‚æ•°:successå’Œ:capability-command,åˆ™å…ˆå°è¯•é€šè¿‡STARTTLSå»ºç«‹åŠ å¯†é“¾æ¥,è‹¥å¤±è´¥äº†,ä½¿ç”¨æ™®é€šçš„æœªåŠ å¯†é“¾æ¥   starttls ç±»ä¼¼nil,ä½†æ˜¯è‹¥é€šè¿‡STARTTLSåˆ›å»ºé“¾æ¥å¤±è´¥äº†,åˆ™å…³é—­è¯¥é“¾æ¥   shell shell connection      :always-query-capabilities BOOLEAN\nè‹¥ä¸ºénil,åˆ™æ€»æ˜¯è¯¢é—®serverç«¯èƒ½æ”¯æŒçš„ç‰¹æ€§,åŠæ—¶åˆ›å»ºçš„åªæ˜¯æ™®é€šçš„é“¾æ¥\n  :capability-command CAPABILITY-COMMAND\nå®šä¹‰æŸ¥è¯¢serverç«¯æ”¯æŒç‰¹æ€§æ—¶çš„å‘½ä»¤ä¸²\n  :end-of-command REGEXP\nåŒ¹é…commandç»“æŸçš„æ­£åˆ™è¡¨è¾¾å¼\n  :end-of-capability REGEXP\nåŒ¹é…CAPABILITY-COMMANDå‘½ä»¤ä¸²ç»“æŸçš„æ­£åˆ™è¡¨è¾¾å¼,é»˜è®¤ä¸º:end-of-commandçš„å€¼\n  :starttls-function FUNCTION\nè¯¥functionåº”è¯¥èƒ½æ¥æ”¶ä¸€ä¸ªå‚æ•°,è¯¥å‚æ•°ä¸ºæœåŠ¡ç«¯å¯¹CAPABILITY-COMMANDçš„å›åº”.\nè¯¥functionåº”è¯¥è¿”å›nilæˆ–æ¿€æ´»STARTTLSçš„å‘½ä»¤\n  :success REGEXP\nä½¿ç”¨è¯¥æ­£åˆ™è¡¨è¾¾å¼æ¥åˆ¤æ–­æ˜¯å¦æ­£å¸¸å¼€å¯STARTTLSç‰¹æ€§\n  :use-starttls-if-possible BOOLEAN\nè‹¥å€¼ä¸ºénil,è®¡æ—¶Emacsæ²¡æœ‰å†…å»ºTLSæ”¯æŒ,ä¹Ÿå°è¯•å¼€å¯STARTTLSç‰¹æ€§\n  :client-certificate LIST-OR-T\nå¯ä»¥ä»¥â€™(KEY-FILE CERT-FILE)çš„æ ¼å¼æ˜ç¡®æŒ‡æ˜äº†certificate key fileå’Œcertificate fileçš„åœ°å€\næˆ–è€…tè¡¨ç¤ºé€šè¿‡æŸ¥è¯¢`auth-sourceâ€™æ¥è·å–ä¿¡æ¯\n  :return-list CONS-OR-NIL\næŒ‡æ˜`make-network-streamâ€™çš„è¿”å›å€¼.\nè‹¥ä¸ºnilåˆ™è¿”å›process object\nå¦åˆ™è¿”å›â€™(PROCESS-OBJECT . PLIST). å…¶ä¸­PLISTåŒ…å«å¦‚ä¸‹keyword:\n  :greeting STRING-OR-NIL\nè¡¨ç¤ºæœåŠ¡ç«¯è¿”å›çš„æ¬¢è¿ä¿¡æ¯\n  :capabilities STRING-OR-NIL\nè¡¨ç¤ºæœåŠ¡ç«¯çš„æ”¯æŒçš„ç‰¹æ€§ä¿¡æ¯\n  :type SYMBOL\né“¾æ¥çš„ç±»å‹,å¯èƒ½ä¸ºâ€™plainæˆ–â€™tls\n      (process-datagram-address process)\nè‹¥PROCESSä¸ºUDP connectionæˆ–UDP server. åˆ™è¯¥å‡½æ•°è¿”å›remote peer address\n  (set-process-datagram-address process address)\nè‹¥PROCESSä¸ºUDP connectionæˆ–UDP server. åˆ™è¯¥å‡½æ•°è®¾ç½®remote peer addressä¸ºADDRESS\n  æµ‹è¯•Networkç‰¹æ€§ è¦æµ‹è¯•æœ¬æœºä¸Šçš„make-network-processæ”¯æŒå“ªäº›ç‰¹å†™ç‰¹æ€§,å¯ä»¥ä½¿ç”¨`featurepâ€™å‡½æ•°:\n(featurep 'make-network-process '(KEYWORD VALUE)) å®ƒè¡¨ç¤º`make-network-processâ€™æ—¶KEYWORDçš„å€¼æ˜¯å¦ä¸ºVALUE\nä¸‹é¢æ˜¯ä¸€äº›ä¾‹å­\n   KEYWORD VALUE PAIRS è¯´æ˜     (:nowait t) Non-`nilâ€™ if non-blocking connect is supported.   (:type datagram) Non-`nilâ€™ if datagrams are supported.   (:family local) Non-`nilâ€™ if local (a.k.a. â€œUNIX domainâ€) sockets are supported.   (:family ipv6) Non-`nilâ€™ if IPv6 is supported.   (:service t) Non-`nilâ€™ if the system can select the port for a server.    ä¹Ÿå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ ¼å¼çš„formæ¥æµ‹è¯•æŒ‡å®šçš„networké€‰é¡¹æ˜¯å¦èƒ½è®¾ç½®\n(featurep 'make-network-process 'KEYWORD) å…¶ä»–Networkå‡½æ•° è¿™é‡Œçš„å‡½æ•°,éœ€è¦æ“ä½œç³»ç»Ÿçš„æ”¯æŒ.\n  (network-interface-list)\nè¯¥å‡½æ•°è¿”å›å½“å‰æœºå™¨ä¸­å„ç½‘å¡çš„æè¿°åˆ—è¡¨.\nè¯¥åˆ—è¡¨çš„æ ¼å¼ä¸ºä¸€ä¸ªç”±â€™(NAME . ADDRESS)ç»„æˆçš„alist\n(network-interface-list) ;; (\"wlan3\" . [192 168 8 113 0]) (\"lo\" . [127 0 0 1 0])   (network-interface-info interface-name)\nè¯¥å‡½æ•°è¿”å›æŒ‡å®šç½‘å¡çš„ä¿¡æ¯.\nè¯¥ä¿¡æ¯æ˜¯ä¸€ä¸ªæ ¼å¼æ ¼å¼ä¸ºâ€™(ADDR BROADECAST-ADDR NETMASK HARDWARE-ADDR FLAGS)çš„list\n(network-interface-info \"wlan3\") ;; ( ;; [192 168 8 113 0] ;; [192 168 8 255 0] ;; [255 255 255 0 0] ;; (1 . [8 16 120 53 33 177]) ;; (multicast running broadcast up))   (format-network-address address \u0026optional omit-port)\nè¯¥å‡½æ•°å°†lispæ ¼å¼çš„ç½‘ç»œåœ°å€è½¬æ¢ä¸ºå­—ç¬¦ä¸²è¡¨ç¤º\nå‚æ•°OMIT-PORTè¡¨ç¤ºè½¬æ¢æ—¶æ˜¯å¦ä¸å¸¦ç«¯å£ä¿¡æ¯\n  Serial Port Process é€šè¿‡`make-serial-processâ€™åˆ›å»ºserial port processå¯ä»¥ä¸serial porté€šè®¯\nserial port processå¯ä»¥é€šè¿‡`serial-process-configureâ€™å®æ—¶çš„ä¿®æ”¹é…ç½®,è€Œä¸ç”¨å…³é—­åé‡æ–°è¿æ¥.\n (make-serial-process \u0026rest args)  è¯¥å‡½æ•°åˆ›å»ºserial port processåŠå…¶ç›¸å…³è¿çš„buffer. åœ¨å†…éƒ¨ä¼šä½¿ç”¨å‡½æ•°`serial-process-configureâ€™è¿›è¡ŒçœŸæ­£çš„é…ç½®å·¥ä½œ\nargså¯ä»¥æ˜¯å¦‚ä¸‹keywordå‚æ•°:\n  :port PORT\nserial portçš„åç§°(Unixä¸‹ä¸º/dev/ttyS0,Winä¸‹ä¸ºCOM1æˆ–\\\\.\\COM10)\n  :speed SPEED\nserial portçš„é€Ÿç‡\n  :name NAME\nprocessçš„åç§°,å¯èƒ½ä¼šæ·»åŠ åç¼€ä»¥ä¿è¯å”¯ä¸€\n  :buffer BUFFER-OR-NAME\nç›¸å…³è¿çš„buffer,è‹¥å¿½ç•¥è¯¥å‚æ•°åˆ™ä¸:nameçš„å‚æ•°å€¼ä¸€æ ·\n  :coding CODING\nè¯»å–çš„ç¼–ç æ ¼å¼,å‚æ•°æ ¼å¼ä¸ºâ€™(DECODING . ENCODING)\n  :noquery QUERY-FLAG\nåˆå§‹åŒ–processçš„query flag. å†³å®šè¢«å…³é—­æ—¶æ˜¯å¦æç¤ºç”¨æˆ·ç¡®è®¤\n  :stop BOOL\nåˆ›å»ºçš„processæ˜¯å¦ä¸€å¼€å§‹å°±å¤„äºstoppedçŠ¶æ€,è¿™æ˜¯processä¸èƒ½æ¥å—æ•°æ®,ä½†æ˜¯å¯ä»¥å‘é€æ•°æ®\n  :filter FILTER\nè®¾ç½®rocess filter function\n  :sentinel SENTINEL\nè®¾ç½®processçš„sentinel\n  :plist PLIST\nè®¾ç½®processçš„åˆå§‹plist\n  :bytesize BYTESIZE\nè®¾ç½®æ¯ä¸ªbyteåŒ…å«å¤šå°‘bit,å¯ä»¥ä¸º7æˆ–8. é»˜è®¤ä¸º8\n  :parity PARITY\nå¯ä»¥ä¸ºnil,â€˜oddæˆ–â€™even\n  :stopbits STOPBITS\næ¯ä¸ªbyteä¸­ç”¨äºç»ˆæ­¢ä¼ è¾“çš„stopbitçš„ä½æ•°. å¯ä»¥æ˜¯1æˆ–2. é»˜è®¤ä¸º1\n  :flowcontrol FLOWCONTROL\nflowçš„ç±»å‹å†³å®šäº†å¦‚ä½•ä½¿ç”¨è¯¥é“¾æ¥. å¯ä»¥æ˜¯nil(ä¸ä½¿ç”¨æµæ§åˆ¶ç‰¹æ€§),â€˜hw(ä½¿ç”¨RTS/CTSç¡¬ä»¶æµæ§åˆ¶),â€˜sw(ä½¿ç”¨XON/XOFFè½¯ä»¶æµæ§åˆ¶)\n  å¯ä»¥é€šè¿‡å‡½æ•°`process-conntactâ€™æŸ¥çœ‹é‚£äº›å‚æ•°å¯ä»¥è¢«ä¿®æ”¹.\n (serial-process-configure \u0026rest args)  é‡æ–°è®¾ç½®serial port processçš„å±æ€§\næ“ä½œç³»ç»Ÿç›¸å…³ Emacså¯åŠ¨è¯´æ˜ Emacså¯åŠ¨æµç¨‹   æœç´¢`load-pathâ€™ä¸­çš„å„ä¸ªç›®å½•,çœ‹æ˜¯å¦å­˜åœ¨`subdirs.elâ€™è¿™ä¸ªæ–‡ä»¶,æœ‰åˆ™æ‰§è¡Œè¯¥æ–‡ä»¶.\n`subdirs.elâ€™è¿™ä¸ªæ–‡ä»¶æ­£å¸¸æƒ…å†µä¸‹æ˜¯ç”±Emacsåœ¨å®‰è£…æ—¶è‡ªåŠ¨ç”Ÿæˆçš„,å®ƒçš„ä½œç”¨æ˜¯åŠ è½½ç›®å½•ä¸­çš„å„ä¸ªå­ç›®å½•åˆ°`load-pathâ€™ä¸­,å¹¶ä¸”é€’å½’æ‰§è¡Œå­ç›®å½•ä¸­çš„`subdirs.elâ€™æ–‡ä»¶\n  åœ¨`load-pathâ€™ä¸­çš„å„ç›®å½•ä¸­å¯»æ‰¾`leim-list.elâ€™å¹¶åŠ è½½\n`leim-list.elâ€™è¿™ä¸ªæ–‡ä»¶è¢«ç”¨æ¥æ³¨å†Œè¾“å…¥æ³•. å¹¶ä¸”Emacsåœ¨æœç´¢`leim-list.elâ€™æ—¶ä¼šè·³è¿‡é‚£äº›å­˜æ”¾Emacsè‡ªå¸¦åº“çš„ç›®å½•.\n  è®¾ç½®å˜é‡`before-init-timeâ€™çš„å€¼ä¸ºå½“å‰æ—¶é—´. è®¾ç½®å˜é‡`after-init-timeâ€™ä¸ºnil,è¡¨ç¤ºEmacsè¿˜æœªåˆå§‹åŒ–å®Œæˆ.\n  æ ¹æ®`LANGâ€™ç¯å¢ƒå˜é‡è®¾ç½®language environment å’Œ the terminal coding system\n  å¯¹å‘½ä»¤è¡Œå‚æ•°è¿›è¡ŒåŸºæœ¬çš„å¤„ç†,è¿™ä¸€æ­¥å¤„ç†æ‰çš„æ˜¯emacsæœ¬èº«æ”¯æŒçš„é‚£äº›å‚æ•°.\n  è‹¥ä¸æ˜¯è¿è¡Œåœ¨batchæ¨¡å¼ä¸‹,Emacsæ ¹æ®`initial-window-systemâ€™çš„å€¼æ¥ä¸ºä¸åŒçš„çª—å£ç³»ç»Ÿè¿›è¡Œä¸åŒçš„åˆå§‹åŒ–.\næŸä¸ªçª—å£ç³»ç»Ÿåˆ†åˆ«åŠ è½½å“ªä¸ªåˆå§‹åŒ–å‡½æ•°,æ˜¯æ ¹æ®å˜é‡`window-system-initialization-alistâ€™æ¥å†³å®šçš„.\nå­˜æ”¾åˆå§‹åŒ–å‡½æ•°çš„æ–‡ä»¶è·¯å¾„åº”è¯¥ä¸º`term/çª—å£ç³»ç»Ÿç±»å‹-win.elâ€™ä¸­\n  è§¦å‘`before-init-hookâ€™\n  åœ¨å¯ä»¥çš„æƒ…å†µä¸‹,åˆ›å»ºå›¾å½¢åŒ–çš„frame.\nè‹¥è®¾ç½®äº†å‚æ•°`â€“batchâ€™æˆ–`â€“daemonâ€™æˆ–`â€“scriptâ€™åˆ™ç›´æ¥è·³è¿‡è¿™ä¸€æ­¥\n  åˆå§‹åŒ–æœ€åˆçš„frameçš„æ˜¾ç¤ºç•Œé¢,å¦‚æœéœ€è¦çš„è¯,è¿˜ä¼šè®¾ç½®èœå•æ å’Œå·¥å…·æ .\nè‹¥ç³»ç»Ÿæ”¯æŒå›¾å½¢åŒ–çš„frame,åˆ™ä¸ç®¡å½“å‰frameæ˜¯å¦ä¸ºå›¾å½¢åŒ–çš„frame,éƒ½ä¼šå»è®¾ç½®å·¥å…·æ ,å› ä¸ºåœ¨åé¢çš„æ“ä½œä¸­æœ‰å¯èƒ½å†æ¬¡åˆ›å»ºå›¾å½¢åŒ–frame\n  ä½¿ç”¨å‡½æ•°`custom-reevaluate-settingâ€™æ¥é‡æ–°åˆå§‹åŒ–å˜é‡`custom-delayed-init-variablesâ€™ä¸­çš„å„æˆå‘˜çš„å€¼.\n  è‹¥`site-startâ€™åº“å­˜åœ¨,åˆ™åŠ è½½ä¹‹.\nä½†è‹¥è®¾ç½®äº†å‚æ•°`-Qâ€™æˆ–`â€“no-site-fileâ€™åˆ™è·³è¿‡è¿™ä¸€æ­¥\n  åŠ è½½ç”¨æˆ·çš„åˆå§‹åŒ–æ–‡ä»¶,ç”¨æˆ·åˆå§‹åŒ–æ–‡ä»¶å¯èƒ½æ˜¯`~/.emacsâ€™,`~/.emacs.elâ€™,`~/.emacs.d/init.elâ€™\nä½†è‹¥è®¾ç½®äº†å‚æ•°`-qâ€™,`-Qâ€™æˆ–`â€“batchâ€™åˆ™è·³è¿‡è¿™ä¸€æ­¥\n  è‹¥`defaultâ€™åº“å­˜åœ¨,åˆ™åŠ è½½ä¹‹.\nä½†è‹¥å˜é‡`inhibit-default-initâ€™ä¸ºénil,æˆ–è®¾ç½®äº†å‚æ•°`-qâ€™,`â€“batchâ€™åˆ™è·³è¿‡è¿™ä¸€æ­¥\n  å°è¯•ä»å˜é‡`abbrev-file-nameâ€™å˜é‡æŒ‡å®šçš„æ–‡ä»¶ä¸­åŠ è½½ç¼©å†™é…ç½®ä¿¡æ¯.\nè‹¥è®¾ç½®äº†å‚æ•°`â€“batchâ€™,åˆ™è·³è¿‡è¿™ä¸€æ­¥\n  è‹¥`package-enable-at-startupâ€™ä¸ºénil,åˆ™Emacsè°ƒç”¨å‡½æ•°`package-initializeâ€™æ¥æ¿€æ´»æ‰€æœ‰çš„å·²å®‰è£…çš„ç¬¬ä¸‰æ–¹Emacs LispåŒ…. å…·ä½“å‚è§Packaging Basics\n  è®¾ç½®å˜é‡`after-init-timeâ€™çš„æ—¶é—´ä¸ºå½“å‰æ—¶é—´,è¡¨ç¤ºåˆå§‹åŒ–è¿‡ç¨‹å·²ç»å®Œæˆ\n  è§¦å‘`after-init-hookâ€™\n  è‹¥`*scratch*â€™ bufferå­˜åœ¨,ä¸”å‡ºäºFundamental modeä¸‹,åˆ™æ ¹æ®å˜é‡`initial-major-modeâ€™çš„å€¼å´æ¢Major Mode\n  è‹¥åœ¨æ–‡æœ¬ç»ˆç«¯ç¯å¢ƒå¯åŠ¨çš„Emacs,åˆ™è¿˜ä¼šåŠ è½½ä¸ç»ˆç«¯ç›¸å…³çš„lisp library,å¹¶è§¦å‘`tty-setup-hook'\n  è‹¥`inhibit-startup-echo-area-messageâ€™ä¸ºnil,åˆ™åœ¨echo areaæ˜¾ç¤ºåˆå§‹ä¿¡æ¯\n  å¤„ç†å°šæœªè¢«å¤„ç†çš„å‘½ä»¤è¡Œå‚æ•°,è¿™ä¸€æ­¥å¤„ç†çš„æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„å‚æ•°\n  è‹¥è®¾ç½®äº†å‚æ•°`â€“batchâ€™åˆ™æ­¤æ—¶é€€å‡º\n  è‹¥`initial-buffer-choiceâ€™ä¸ºå­—ç¬¦ä¸²,åˆ™è®¿é—®è¯¥å­—ç¬¦ä¸²æ‰€è¡¨ç¤ºçš„æ–‡ä»¶/ç›®å½•\nè‹¥ä¸ºå‡½æ•°,åˆ™ä¸å¸¦å‚æ•°è°ƒç”¨è¯¥å‡½æ•°,å¹¶æ ¹æ®è¿”å›ç»“æœé€‰æ‹©æ˜¾ç¤ºå“ªä¸ªbuffer\nè‹¥`*scratch*' bufferå­˜åœ¨ä¸”æ— å†…å®¹,åˆ™æ’å…¥`initial-scratch-messageâ€™å˜é‡å€¼åˆ°bufferä¸­\n  è§¦å‘`emacs-startup-hook'\n  è°ƒç”¨`frame-notice-user-settings',è¯¥å‡½æ•°æ ¹æ®åˆå§‹åŒ–æ–‡ä»¶ä¿®æ”¹é€‰ä¸­çš„frameå‚æ•°\n  è§¦å‘`window-setup-hook'\n  æ˜¾ç¤º`startup screen' buffer\nä½†è‹¥`inhibit-startup-screenâ€™æˆ–`inital-buffer-choiceâ€™ä¸ºénil,æˆ–è®¾ç½®äº†`â€“no-splash'/`-Qâ€™å‘½ä»¤è¡Œå‚æ•°,åˆ™è·³è¿‡è¿™ä¸€æ­¥\n  è‹¥è®¾ç½®äº†é€‰é¡¹`â€“daemon',åˆ™è°ƒç”¨`server-startâ€™å‡½æ•°,å¹¶ä»æ§åˆ¶ç»ˆç«¯ç›¸åˆ†ç¦»(å‚è§Emacs Server)\n  è‹¥Emacsç”±X Session Managerè°ƒèµ·,åˆ™ä¼šè°ƒç”¨`emacs-session-restoreâ€™å‡½æ•°,è°ƒç”¨å‚æ•°ä¸ºä¹‹å‰X Sessionçš„ID\n  Emacsç›¸å…³åˆå§‹åŒ–æ–‡ä»¶ ç”¨æˆ·åˆå§‹åŒ–æ–‡ä»¶å¯èƒ½æ˜¯`~/.emacs',`~/.emacs.el',`~/.emacs.d/init.el'\næœ‰äº›Emacsä¼šæœ‰ä¸€ä¸ªåä¸º`default.elâ€™çš„é»˜è®¤åˆå§‹åŒ–æ–‡ä»¶,è‹¥åœ¨`load-pathâ€™ä¸­èƒ½æ‰¾åˆ°è¯¥æ–‡ä»¶çš„è¯,åˆ™å½“å¯åŠ¨Emacs,ä¼šåŠ è½½è¯¥æ–‡ä»¶.\nä¸ªäººç”¨æˆ·çš„åˆå§‹åŒ–æ–‡ä»¶ä¼˜å…ˆçº§æ¯”`default.elâ€™çš„è¦é«˜, è‹¥åœ¨åŠ è½½ä¸ªäººåˆå§‹åŒ–æ–‡ä»¶æ—¶å°†`inhibit-default-initâ€™è®¾ç½®énil,åˆ™ä¸å†åŠ è½½`default.elâ€™äº†\nå½“ç„¶`-qâ€™å’Œ`-Qâ€™å‚æ•°,ä½¿å¾—Emacsæ—¢ä¸åŠ è½½ä¸ªäººåˆå§‹åŒ–æ–‡ä»¶,ä¹Ÿä¸åŠ è½½é»˜è®¤åˆå§‹åŒ–æ–‡ä»¶\nè¿˜æœ‰ä¸€ä¸ªé…ç½®siteç›¸å…³çš„åˆå§‹åŒ–æ–‡ä»¶å«åš`site-start.el',Emacsåœ¨åŠ è½½ç”¨æˆ·åˆå§‹åŒ–æ–‡ä»¶å‰ä¼šåŠ è½½è¯¥æ–‡ä»¶,ä½†ä½ å¯ä»¥é€šè¿‡å‚æ•°`â€“no-site-fileâ€™æ¥è·³è¿‡åŠ è½½è¯¥æ–‡ä»¶\n  é…ç½®é¡¹site-run-file\nè¯¥å˜é‡æŒ‡å®šäº†ä¸siteç›¸å…³é…ç½®çš„åˆå§‹åŒ–æ–‡ä»¶çš„æ–‡ä»¶å,é»˜è®¤ä¸º`site-start'\nThe only way you can change it with real effect is to do so before\n  é…ç½®é¡¹`inhibit-default-init'\nè¯¥å˜é‡æŒ‡å®šæ˜¯å¦ä¸åŠ è½½é»˜è®¤åˆå§‹åŒ–æ–‡ä»¶`default.el',é»˜è®¤ä¸ºnilè¡¨ç¤ºåŠ è½½\n  before-init-hook\nåœ¨åŠ è½½æ‰€æœ‰çš„åˆå§‹åŒ–æ–‡ä»¶(`site-start.el',ä¸ªäººåˆå§‹åŒ–æ–‡ä»¶,`default.el')å‰è§¦å‘\n  after-init-hook\nåŠ è½½å®Œæ‰€æœ‰çš„åˆå§‹åŒ–æ–‡ä»¶å,åœ¨åŠ è½½ä¸ç»ˆç«¯ç›¸å…³libraryå‰(è‹¥åœ¨æ–‡æœ¬ç»ˆç«¯ä¸‹å¯åŠ¨çš„Emacs)æˆ–å¤„ç†å‘½ä»¤è¡Œå‚æ•°å‰è§¦å‘\n  emacs-startup-hook\nåœ¨å¤„ç†å®Œå‘½ä»¤è¡Œå‚æ•°åè§¦å‘\nè‹¥åœ¨batchæ¨¡å¼ä¸‹,Emacsä¸è§¦å‘è¯¥hook\n  window-setup-hook\nç±»ä¼¼`emacs-startup-hook',ä½†æ˜¯å®ƒè§¦å‘çš„æ—¶é—´è¦æ™šä¸€ç‚¹,åœ¨è®¾ç½®å®Œframeå‚æ•°ä¹‹åè§¦å‘\n  user-init-file\nè¯¥å‚æ•°çš„å€¼ä¸ºç”¨æˆ·åˆå§‹åŒ–æ–‡ä»¶çš„ç»å¯¹è·¯å¾„å. è‹¥å®é™…åŠ è½½çš„åˆå§‹åŒ–æ–‡ä»¶ä¸º.elcæ–‡ä»¶,åˆ™è¯¥å€¼ä¸ºç›¸åº”çš„æºä»£ç è·¯å¾„\n  user-emacs-directory\nè¯¥å‚æ•°çš„å€¼ä¸º`.emacs.dâ€™ç›®å½•çš„è·¯å¾„. é™¤äº†MS-DOSå¹³å°,å…¶ä»–å¹³å°ä¸Šè¯¥å€¼éƒ½æ˜¯`~/.emacs.d'\n  ç»ˆç«¯ç›¸å…³çš„library Emacsåœ¨ä¸åŒç±»å‹çš„ç»ˆç«¯ä¸‹å¯åŠ¨æ—¶,éƒ½ä¼šåŠ è½½ä¸åŒçš„ç»ˆç«¯ç›¸å…³çš„library. è¯¥libraryçš„åå­—ç”±`term-file-prefixâ€™å˜é‡çš„å€¼(é»˜è®¤ä¸º\"term/\")ä¸ç»ˆç«¯ç±»å‹(é€šå¸¸ç”±ç¯å¢ƒå˜é‡`TERMâ€™è¡¨ç¤º)ç»„åˆè€Œæˆ.\nè¯¥terminal-specific librarçš„ä½œç”¨å¸¸ç”¨æ¥ä½¿å¾—Emacsèƒ½å¤Ÿè¯†åˆ«special keys. è‹¥æ“ä½œç³»ç»Ÿçš„Termcapæˆ–Terminfoé¡¹æ— æ³•å®Œå…¨è¯†åˆ«æ‰€æœ‰çš„ç»ˆç«¯åŠŸèƒ½é”®,åˆ™å¯ä»¥éœ€è¦ä¿®æ”¹å˜é‡`input-decode-mapâ€™çš„å€¼\nè‹¥ç»ˆç«¯ç±»å‹åä¸­åŒ…å«`-â€˜æˆ–`',ä¸”ä½¿ç”¨æ”¹åå­—æŸ¥æ‰¾libraryæ—¶æœªæ‰¾åˆ°,åˆ™ä¼šå°è¯•å»é™¤ç»ˆç«¯åä¸­æœ€åé‚£ä¸ª`â€˜æˆ–`-â€˜éƒ¨åˆ†å,ä½œä¸ºç»ˆç«¯åç§°åœ¨æ­¤æŸ¥è¯¢library.\nå¯ä»¥åœ¨åˆå§‹åŒ–æ–‡ä»¶ä¸­é€šè¿‡è®¾ç½®`term-file-prefixâ€™ä¸ºnil,ä»¥é˜»æ­¢EmacsåŠ è½½terminal specific library\nåœ¨Emacså®Œæˆåˆå§‹åŒ–æ–‡æœ¬ç»ˆç«¯å,ä¼šè§¦å‘`tty-setup-hookâ€™,You could use this hook to define initializations for terminals that do not have their own libraries.\n  term-file-prefix\nè‹¥å˜é‡ä¸ºnilè¡¨ç¤ºä¸åŠ è½½ç»ˆç«¯åˆå§‹åŒ–æ–‡ä»¶. å¦åˆ™EmacsåŠ è½½åä¸º (load (concat term-file-prefix (getenv \"TERM\")) çš„æ–‡ä»¶ä½œä¸ºåˆå§‹åŒ–ç»ˆç«¯çš„è„šæœ¬.\n  tty-setup-hook\nè¯¥hookåœ¨Emacsåˆå§‹åŒ–ä¸‡ä¸€ä¸ªæ–°æ–‡æœ¬ç»ˆç«¯åè§¦å‘.(This applies when Emacs starts up in non-windowed mode, and when making a tty â€˜emacsclientâ€™ connection.)\n  (suspend-tty \u0026optional TTY)\nå‚æ•°TTYä¸ºEmacsä½¿ç”¨çš„ç»ˆç«¯. è¯¥å‡½æ•°æŒ‚èµ·æŒ‡å®šçš„ç»ˆç«¯,æ­¤æ—¶ä½¿ç”¨è¯¥ç»ˆç«¯çš„Frameä¾ç„¶å­˜åœ¨,ä½†æ˜¯Emacså¹¶ä¸å†ä»è¯¥ç»ˆç«¯è¯»å–ä»»ä½•è¾“å…¥,ä¹Ÿä¸å†æ›´æ–°ä½¿ç”¨è¯¥ç»ˆç«¯çš„frame.\nå‚æ•°TTYå¯ä»¥ä½¿ä¸€ä¸ªç»ˆç«¯å¯¹è±¡,ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªframe(è¡¨ç¤ºè¯¥frameæ‰€åœ¨çš„ç»ˆç«¯),æˆ–nil(è¡¨ç¤ºå½“å‰frameæ‰€åœ¨çš„ç»ˆç«¯)\nè‹¥TTYå·²ç»å‡ºäºæŒ‚èµ·çŠ¶æ€,è¯¥å‡½æ•°ä¸åšä»»ä½•äº‹æƒ….\nè¯¥å‡½æ•°è¿˜ä¼šè§¦å‘`suspend-tty-functionsâ€™,ä»¥ç»ˆç«¯å¯¹è±¡ä½œä¸ºå‚æ•°æ¥è°ƒç”¨å…¶ä¸­çš„æ¯ä¸ªå‡½æ•°.\n  (resume-tty \u0026optional tty)\nå‚æ•°TTYä¸ºä¹‹å‰æŒ‚èµ·çš„ç»ˆç«¯è®¾å¤‡,è¯¥å‡½æ•°æ¢å¤è¯¥ç»ˆç«¯,å¹¶è§¦å‘`resume-tty-functionsâ€™,åŒæ ·ä»¥ç»ˆç«¯å¯¹è±¡ä½œä¸ºå‚æ•°æ¥è°ƒç”¨å…¶ä¸­çš„æ¯ä¸ªå‡½æ•°.\nè‹¥TTYä¸å¤„äºæŒ‚èµ·çŠ¶æ€,åˆ™è¯¥å‡½æ•°ä¸åšä»»ä½•äº‹\nIf the same device is already used by another Emacs terminal, this function signals an error.\n  (controlling-tty-p \u0026optional tty)\nåˆ¤æ–­TTYæ˜¯å¦ä¸ºæ§åˆ¶ç»ˆç«¯.\nå‚æ•°TTYå¯èƒ½æ˜¯ç»ˆç«¯å¯¹è±¡,frame(è¡¨ç¤ºè¯¥frameæ‰€åœ¨çš„ç»ˆç«¯),æˆ–nil(è¡¨ç¤ºå½“å‰frameæ‰€åœ¨çš„ç»ˆç«¯)\n  Emacsæ˜¯å¦‚ä½•å¤„ç†å‘½ä»¤è¡Œå‚æ•°çš„ å½“ä½¿ç”¨emacs â€“script xxx.el argsæ—¶,ä¸ºäº†è·å–command-lineå‚æ•°,å¯ä»¥åœ¨xxx.elä¸­ä½¿ç”¨å˜é‡`argv`è·å–å‚æ•°åˆ—è¡¨\n  (command-line)\nè¯¥å‡½æ•°è§£æè°ƒç”¨Emacsæ—¶çš„command line,å¤„ç†è¯¥command line,åŠ è½½ç”¨æˆ·åˆå§‹åŒ–æ–‡ä»¶,ç„¶åæ˜¾ç¤ºå¯åŠ¨ä¿¡æ¯\n  command-line-processed\nè¯¥å˜é‡æ ‡è¯†äº†,comand lineæ˜¯å¦å·²ç»è¢«å¤„ç†è¿‡äº†, è‹¥å¤„ç†è¿‡äº†åˆ™è¯¥å€¼ä¸ºt\nå½“é€šè¿‡`dump-emacsâ€™å‡½æ•°æ¥redump Emacsæ—¶,å¸¸å¸¸ä¼šå…ˆå°†è¯¥å˜é‡è®¾ä¸ºnil,è¿™æ ·å¯ä»¥è®©æ–°dumped Emacsä¼šå»å†ä¸€æ¬¡å¤„ç†å®ƒçš„command-line arguments\n  command-switch-alist è¯¥å˜é‡æ˜¯ç´ ä¸º`(option . handler-function)â€˜çš„alist. è¿™é‡Œ\n  optionä¸ºcommand-line argumentä¸­çš„`-optionâ€™å‚æ•°(å¸¦-),ä¸ºå­—ç¬¦ä¸²æ ¼å¼\n  handler-functionä¸ºç›¸åº”çš„å¤„ç†å‡½æ•°å,å®ƒæ¥æ”¶optionä¸ºå‚æ•°\n  è‹¥command line optionåè¿˜å¸¦äº†å…¶ä»–å‚æ•°,åˆ™åœ¨handler-functionä¸­å¯ä»¥é€šè¿‡å˜é‡`command-line-args-leftâ€™æ¥è·å–å‰©ä½™çš„å‘½ä»¤è¡Œå‚æ•°\n  command-line-args ä¼ é€’ç»™Emacsçš„å®Œæ•´command-line argumentåˆ—è¡¨\n  command-line-args-left å°šæœªå¤„ç†çš„command-line argumentåˆ—è¡¨. è‡ªå®šä¹‰å‡½æ•°æœ‰æ—¶éœ€è¦ä¿®æ”¹è¯¥å˜é‡\n  command-line-functions è¯¥å˜é‡æ˜¯ä¸€ç³»åˆ—å‡½æ•°çš„åˆ—è¡¨,è¿™äº›å‡½æ•°ç”¨æ¥å¤„ç†æ— æ³•è¯†åˆ«çš„command-lineå‚æ•°.\næ¯æ¬¡å¤„ç†ä¸€ä¸ªæ²¡æœ‰ç‰¹æ®Šæ„ä¹‰çš„command line argumentæ—¶,è¯¥å˜é‡ä¸­çš„å‡½æ•°éƒ½ä¼šè¢«ä¾æ¬¡è°ƒç”¨, ç›´åˆ°æœ‰ä¸€ä¸ªå‡½æ•°è¿”å›énilçš„å€¼\nè¿™äº›å‡½æ•°è¢«è°ƒç”¨æ—¶å¹¶ä¸ä¼ é€’å‚æ•°,ä½†åœ¨è¿™äº›å‡½æ•°å†…å¯ä»¥é€šè¿‡å˜é‡`argiâ€™è·å–å½“å‰å¾…å¤„ç†çš„command-line argument. å¯ä»¥é€šè¿‡å˜é‡`command-line-args-leftâ€™è·å–å°šæœªè¢«å¤„ç†çš„command line arguments.\nè‹¥æŸå‡½æ•°é™¤äº†å½“å‰å¾…å¤„ç†çš„å‡½æ•°,åŒæ—¶ä¹ŸæŠŠåé¢çš„å‚æ•°çµ¦å¤„ç†è¿‡äº†,åˆ™éœ€è¦æŠŠåé¢é‚£äº›è¢«å¤„ç†è¿‡çš„å‚æ•°ä»`command-line-args-leftâ€™ä¸­åˆ é™¤\nè‹¥æŸå‡½æ•°å·²ç»å¤„ç†äº†å½“å‰ä»£å¤„ç†çš„å‚æ•°,åˆ™ä¸€å®šè®°å¾—è¿”å›énilå€¼. è‹¥æ‰€æœ‰çš„å‡½æ•°éƒ½è¿”å›nil,è¯¥å‚æ•°ä¼šè¢«è®¤ä¸ºæ˜¯Emacsè¦æ‰“å¼€çš„æ–‡ä»¶åç§°\n  é€€å‡ºEmacs é€€å‡ºEmacs   å‘½ä»¤(kill-emacs \u0026optional exit-data)\nè¯¥å‘½ä»¤è§¦å‘`kill-emacs-hookâ€™,å¹¶é€€å‡ºEmacsè¿›ç¨‹\nå‚æ•°`EXIT-DATAâ€™è‹¥ä¸ºæ•´æ•°,åˆ™è¡¨ç¤ºEmacsè¿›ç¨‹çš„é€€å‡ºç \nå‚æ•°`EXIT-DATAâ€™è‹¥ä¸ºå­—ç¬¦ä¸²,åˆ™è¡¨ç¤ºEmacsé€€å‡ºæ—¶è¾“å‡ºçš„å†…å®¹\n  kill-emacs-hook\nè¯¥hookåœ¨`kill-emacsâ€™çœŸæ­£é€€å‡ºEmacsè¿›ç¨‹å‰è¢«è§¦å‘\nç”±äº`kill-emacsâ€™è¢«è°ƒç”¨çš„æ—¶å€™å¯èƒ½å·²ç»ä¸ç”¨æˆ·å¤±å»äº†äº¤äº’,å› æ­¤è¯¥hookçš„å‚æ•°ä¸èƒ½åŒ…å«ä¸ç”¨æˆ·äº¤äº’çš„è¯­å¥.\nè‹¥éœ€è¦åœ¨é€€å‡ºæ—¶ä¸ç”¨æˆ·äº¤äº’,ä½¿ç”¨ä¸‹é¢çš„`kill-emacs-query-functions'\n  kill-emacs-query-functions\nå½“`save-buffers-kill-terminal'(C-x C-c)å°è¯•é€€å‡ºEmacsæ—¶,å®ƒä¼šè§¦å‘è¯¥hook.\nåœ¨è¯¥hookçš„å‡½æ•°ä¸­å¯ä»¥ç»§ç»­è¯¢é—®ç”¨æˆ·ç¡®è®¤æ˜¯å¦é€€å‡º. è‹¥è¯¥hookä¸­ä»»ä½•ä¸€ä¸ªå‡½æ•°è¿”å›nil,åˆ™`save-buffer-kill-emacsâ€™å¹¶ä¸ä¼šçœŸæ­£é€€å‡ºEmacs,å¹¶ä¸”ä¹Ÿä¸æ‰§è¡Œhookä¹‹åçš„å‡½æ•°.\nç›´æ¥è°ƒç”¨`kill-emacsâ€™å¹¶ä¸ä¼šè§¦å‘è¯¥hook\n  æŒ‚èµ·Emacs åœ¨ æ–‡æœ¬ç»ˆç«¯(å›¾å½¢ç»ˆç«¯ä¸‹æ— æ•ˆ) ä¸­è°ƒç”¨Emacsçš„æƒ…å†µä¸‹,å¯ä»¥å¯¹Emacsæ‰§è¡ŒæŒ‚èµ·æ“ä½œ(å¯¹äºä¸æ”¯æŒæŒ‚èµ·æ“ä½œçš„shellæ¥è¯´,è¯¥åŠŸèƒ½åªæ˜¯ä¸´æ—¶å†å¯åŠ¨ä¸€ä¸ªshellè€Œå·²).\n  å‘½ä»¤(suspend-emacs \u0026optional string)\nè¯¥å‡½æ•°é˜»å¡å¹¶æŒ‚èµ·Emacså¹¶å°†æ§åˆ¶æƒäº¤å›ç»™å®ƒçš„çˆ¶è¿›ç¨‹. å½“é‡æ–°æ¿€æ´»Emacså,è¯¥å‡½æ•°è¿”å›nil\nè¯¥å‡½æ•°ä»…å½“Emacsæ˜¯åœ¨æ§åˆ¶ç»ˆç«¯ä¸‹å¯åŠ¨æ—¶æ‰æœ‰ç”¨.to relinquish control of other tty devices, useâ€˜suspend-ttyâ€™\nåœ¨æŒ‚èµ·Emacsä¹‹å‰,ä½ å¿…é¡»åˆ é™¤è¯¥Emacsåœ¨å…¶ä»–ç»ˆç«¯ä¸Šçš„frame,å¦åˆ™è¯¥å‡½æ•°ä¼šæŠ›å‡ºå¼‚å¸¸. å‚è§Multiple Terminals\nè‹¥å‚æ•°stringä¸ºénil,åˆ™å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦éƒ½ä¼šå‘é€åˆ°ä¸Šå±‚shell,ä½œä¸º ç»ˆç«¯è¾“å…¥(æ³¨æ„:ä¸æ˜¯ä½œä¸ºè¿›ç¨‹è¾“å‡º) è¯¥è¾“å…¥ä¼šè¢«shellè¯»å–å¹¶æ‰§è¡Œ\nåœ¨æŒ‚èµ·Emacså‰,`suspend-emacsâ€™ä¼šè§¦å‘`suspend-hook'.åœ¨æ¢å¤Emacså,`suspend-emacsâ€™ä¼šè§¦å‘`suspend-resume-hook'\n  suspend-hook\nEmacsæŒ‚èµ·å‰è§¦å‘\n  suspend-resume-hook\nEmacsæ¢å¤åè§¦å‘\n  å‘½ä»¤(suspend-frame)\næŒ‚èµ·å½“å‰frame.\nè‹¥å‡ºäºå›¾å½¢ç•Œé¢ä¸‹,åˆ™å®ƒè°ƒç”¨å‡½æ•°`iconify-frameâ€™æœ€å°åŒ–frame.\nè‹¥å‡ºäºæ–‡æœ¬ç•Œé¢ä¸‹,åˆ™æ ¹æ®å½“å‰frameæ˜¯å¦å‡ºäºæ§åˆ¶ç»ˆç«¯ä¸‹,è€Œè°ƒç”¨`suspend-emacsâ€™æˆ–`suspend-tty'\n  æ“ä½œç³»ç»Ÿç¯å¢ƒç›¸å…³  system-configureation  the standard GNU configuration name for the hardware/software configuration of your system,å­—ç¬¦ä¸²ç±»å‹\n system-type  è¡¨ç¤ºæ“ä½œç³»ç»Ÿç±»å‹çš„symbol\n  â€˜aix\n  â€˜berkeley-unix\n  â€˜cygwin\n  â€˜darwin\n  â€˜gnu\n  â€˜gnu/linux\n  â€˜gnu/kfreebsd\n  hpux\n  irix\n  ms-dos\n  usg-unix-v\n  windows-nt\n  é…ç½®é¡¹mail-host-address\n  emailåœ°å€,è‹¥è¯¥å‚æ•°ä¸ºénil,åˆ™ä¼šç”¨æ¥æ›¿ä»£`system-nameâ€™ä½œä¸ºemailåœ°å€.\n å‘½ä»¤(getenv var \u0026optional frame)  è·å–ç¯å¢ƒå˜é‡VARçš„å€¼.è‹¥æ‰¾ä¸åˆ°å¯¹åº”çš„ç¯å¢ƒå˜é‡,è¿”å›nil\nå‚æ•°VARä¸ºå­—ç¬¦ä¸²\nåœ¨Emacsä¸­ç¯å¢ƒå˜é‡å­˜æ”¾åœ¨å˜é‡`process-environmentâ€™ä¸­\n å‘½ä»¤(setenv variable \u0026optional value substitute)  è¯¥å‘½ä»¤è®¾ç½®ç¯å¢ƒå˜é‡VARIABLEçš„å€¼ä¸ºVALUE,è¿”å›VARIABLEçš„æ–°å€¼æˆ–nil(è¡¨ç¤ºä»ç¯å¢ƒä¸­åˆ é™¤è¯¥å˜é‡)\nå‚æ•°VARIABLEä¸ºå­—ç¬¦ä¸²ç±»å‹,VALUEå¯ä»¥ä¸ºnilæˆ–å­—ç¬¦ä¸²\nè‹¥VALUEä¸ºnilæˆ–å¿½ç•¥(interactively with prefix argument)æ—¶,`setenvâ€™ä»ç¯å¢ƒå˜é‡ä¸­åˆ é™¤VARIABLE, è¿™æ—¶`setenvâ€™è¿”å›è¢«åˆ é™¤çš„VARIABLE\nè‹¥å‚æ•°SUBSTITUTEä¸ºénil,Emacsè°ƒç”¨å‡½æ•°`substitute-env-varsâ€™æ¥æ‰©å±•ç¯å¢ƒå˜é‡çš„å€¼ä¸ºVALUE(ä»€ä¹ˆæ„æ€??)\n process-environment  ä¿æŒäº†ç³»ç»Ÿå˜é‡çš„å€¼,`getenvâ€™å’Œ`setenvâ€™éƒ½æ˜¯é€šè¿‡è®¾ç½®æ”¹å˜é‡çš„å€¼è¿›è¡Œçš„.\nåœ¨å®é™…åº”ç”¨ä¸­,ç»å¸¸ä¼šç”¨let formä¸´æ—¶æ”¹å˜è¯¥å‚æ•°çš„å€¼\nè‹¥å‚æ•°ä¸­åŒ…æ‹¬äº†é‡å¤çš„å…ƒç´ ,åˆ™åªæœ‰åœ°ä¸€ä¸ªå…ƒç´ ç”Ÿæ•ˆ\n initial-environment  æ”¹å˜äº†å­˜å‚¨çš„æ˜¯Emacsä»çˆ¶è¿›ç¨‹ä¸­é›†æˆåˆ°çš„ç¯å¢ƒå˜é‡\n path-separator  åœ¨æœç´¢è·¯å¾„å˜é‡(PATH)ä¸­åˆ†éš”å„è·¯å¾„çš„åˆ†éš”ç¬¦. unixç±»æ“ä½œç³»ç»Ÿä¸º\":\",winä¸‹ä¸º\";\"\n (parse-colon-path path)  æ¥å—æœç´¢è·¯å¾„çš„å­—ç¬¦ä¸²($PATHçš„å€¼),å¹¶æ ¹æ®path-separatorè¿›è¡Œåˆ†å‰²,è¿”å›å„ä¸ªç›®å½•ç»„æˆçš„list\n(parse-colon-path \":/foo:/bar\") ;; = (nil \"/foo/\" \"/bar/\")  invocation-name  è°ƒç”¨çš„Emacså¯æ‰§è¡Œæ–‡ä»¶çš„åç§°,ä¸åŒ…æ‹¬ç›®å½•åç§°\n invocation-directory  è°ƒç”¨çš„Emacs,å¯æ‰§è¡Œæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•,è‹¥æ— æ³•å†³å®š,åˆ™è¿”å›nil\n installation-directory  è‹¥ä¸ºénil,åˆ™æŒ‡å®šäº†å½“Emacsæ— æ³•åœ¨æ ‡å‡†å®‰è£…è·¯å¾„ä¸‹æ‰¾`lib-srcâ€™å’Œ`etcâ€™å­ç›®å½•æ—¶,Emacsåº”è¯¥åˆ°åœ¨å“ªä¸ªç›®å½•ä¸‹æŸ¥æ‰¾`lib-srcâ€™å’Œ`etcâ€™å­ç›®å½•.\n (load-average \u0026optional use-float)  è¿”å›æœ€è¿‘1åˆ†é’Ÿ,5åˆ†é’Ÿå’Œ15åˆ†é’Ÿçš„ç³»ç»Ÿè´Ÿè½½\né»˜è®¤æƒ…å†µä¸‹è¯¥å‡½æ•°è¿”å›çš„å€¼ä¸ºç™¾åˆ†æ¯”,ä½†è‹¥å‚æ•°use-floatä¸ºénil,åˆ™ç›´æ¥ä½¿ç”¨å°æ•°ä»£æ›¿\n(load-average) ;; = (169 48 36) (load-average t) ;; = (1.69 0.48 0.36)  (emacs-pid)  emacsçš„pid\n tty-erase-char  è¯¥å˜é‡å­˜å‚¨çš„æ˜¯åœ¨Emacså¯åŠ¨å‰,ç³»ç»Ÿdé¢ç»ˆç«¯é©±åŠ¨æ‰€é€‰æ‹©çš„åˆ é™¤é”®\nç”¨æˆ·ä¿¡æ¯  (user-login-name \u0026optional uid) / user-login-name  è·å–username\nè‹¥ç¯å¢ƒå˜é‡`LOGNAMEâ€™æˆ–`USERâ€™æœ‰å€¼,åˆ™è¿”å›è¯¥å€¼. å¦åˆ™æ ¹æ® effective UID(è€Œä¸æ˜¯real UID) è®¡ç®—è¯¥å€¼\n (user-real-login-name) / user-real-login-name  è¯¥å‡½æ•°æ ¹æ®Emacsçš„real UIDè®¡ç®—ç”¨æˆ·å,è€Œä¸ç®¡`LOGNAMEâ€™,`USERâ€™å’Œeffective UID\n (user-full-name \u0026optional uid) / user-full-name  è¯¥å‡½æ•°è·å–ç”¨æˆ·çš„å…¨å\nè‹¥ç¯å¢ƒå˜é‡`NAMEâ€™æœ‰å€¼,åˆ™è¿”å›å®ƒ.\nè‹¥Emacsè¿›ç¨‹çš„uidä¸å±äºä»»ä½•å·²çŸ¥ç”¨æˆ·,åˆ™è¿”å›\"unkown\"\nå‚æ•°uidå¯ä»¥ä¸ºnil,æˆ–ä¸€ä¸ªè¡¨ç¤ºuidçš„æ•°å­—æˆ–ä¸€ä¸ªè¡¨ç¤ºç™»å½•åçš„å­—ç¬¦ä¸². è‹¥æ ¹æ®æŒ‡å®šçš„uidæ— æ³•æ‰¾åˆ°åç§°,åˆ™è¿”å›nil\n (user-real-uid)  ç”¨æˆ·çš„real uid,è‹¥uidå¤ªå¤§äº†è¶…è¿‡æ•´æ•°çš„èŒƒå›´,åˆ™å¯èƒ½ä½¿ç”¨æµ®ç‚¹æ•°\n (user-uid)  ç”¨æˆ·çš„effective uid\n (group-gid)  Emacsè¿›ç¨‹çš„effective GID\n (group-real-gid)  Emacsè¿›ç¨‹çš„real GID\n (system-users)  åˆ—å‡ºè¯¥ç³»ç»Ÿæ‰€æœ‰çš„ç”¨æˆ·ååˆ—è¡¨.\nè‹¥Emacsä¸èƒ½è·å–åˆ°è¿™äº›ä¿¡æ¯,åˆ™è¿”å›åªåŒ…å«`user-real-login-nameâ€™çš„åˆ—è¡¨\n(system-users) ;;(\"cl-builder\" \"dictd\" \"statd\" \"dnsmasq\" \"memcache\" \"sshd\" \"ftp\" \"mysql\" \"Debian-exim\" \"lujun9972\" \"saned\" \"hplip\" \"speech-dispatcher\" \"rtkit\" \"pulse\" \"kernoops\" \"usbmux\" \"avahi\" \"avahi-autoipd\" \"whoopsie\" \"lightdm\" \"colord\" \"messagebus\" \"syslog\" \"libuuid\" \"nobody\" \"gnats\" \"irc\" \"list\" \"backup\" \"www-data\" \"proxy\" \"uucp\" \"news\" \"mail\" \"lp\" \"man\" \"games\" \"sync\" \"sys\" \"bin\" \"daemon\" \"root\")  (system-groups)  ç³»ç»Ÿä¸­æ‰€æœ‰çš„ç”¨æˆ·ç»„åˆ—è¡¨.\nè‹¥Emacsä¸èƒ½è·å–åˆ°è¿™äº›ä¿¡æ¯,åˆ™è¿”å›nil\n(system-groups) ;;(\"cl-builder\" \"dictd\" \"memcache\" \"ftp\" \"mysql\" \"winbindd_priv\" \"Debian-exim\" \"sambashare\" \"lujun9972\" \"saned\" \"rtkit\" \"utempter\" \"pulse-access\" \"pulse\" \"avahi\" \"avahi-autoipd\" \"ssh\" \"mlocate\" \"whoopsie\" \"netdev\" \"nopasswdlogin\" \"lightdm\" \"ssl-cert\" \"lpadmin\" \"colord\" \"scanner\" \"bluetooth\" \"messagebus\" \"fuse\" \"syslog\" \"crontab\" \"libuuid\" \"nogroup\" \"users\" \"games\" \"staff\" \"plugdev\" \"sasl\" \"video\" \"utmp\" \"shadow\" \"gnats\" \"src\" \"irc\" \"list\" \"operator\" \"backup\" \"www-data\" \"dip\" \"audio\" \"sudo\" \"tape\" \"floppy\" \"cdrom\" \"voice\" \"fax\" \"dialout\" \"kmem\" \"proxy\" \"man\" \"uucp\" \"news\" \"mail\" \"lp\" \"disk\" \"tty\" \"adm\" \"sys\" \"bin\" \"daemon\" \"root\") æ’­æ”¾å£°éŸ³  (play-sound sound)  æ’­æ”¾æŒ‡å®šSOUND.\nå‚æ•°SOUNDçš„æ ¼å¼ä¸ºâ€™(sound PROPERTIESâ€¦),å…¶ä¸­PROPERTIESå¯ä»¥æ˜¯ä»¥ä¸‹keywordå‚æ•°\n  :file FILE\nå£°éŸ³æ–‡ä»¶çš„åœ°å€. sound-fileå¿…é¡»æ˜¯.wavæˆ–.auæ ¼å¼çš„. å¯ä»¥æ˜¯ç»å¯¹è·¯å¾„æˆ–ç›¸å¯¹`data-directoryâ€™çš„ç›¸å¯¹è·¯å¾„\n  :data DATA\nè¡¨ç¤ºä½¿ç”¨DATAä½œä¸ºå£°éŸ³çš„å†…å®¹,è€Œä¸ç”¨ä»:fileä¸­è¯»å–.\nå‚æ•°DATAå¿…é¡»æ˜¯åŒ…å«å£°éŸ³æ¯”ç‰¹æµçš„å­—ç¬¦ä¸²\n  :volume VOLUME\næŒ‡å®šäº†éŸ³é‡çš„å¤§å°. å–å€¼èŒƒå›´ä»0åˆ°1\n  :device DEVICE\næŒ‡å®šé€šè¿‡å“ªå°è®¾å¤‡æ’­æ”¾å£°éŸ³. DEVICEä¸ºå­—ç¬¦ä¸²\n  (play-sound-file file \u0026optional volume device)\n  æ’­æ”¾å£°éŸ³æ–‡ä»¶\n play-sound-functions  åœ¨æ’­æ”¾å£°éŸ³å‰,ä¼šè§¦å‘è¯¥hook. æ¯ä¸ªå‡½æ•°éƒ½æ¥å—ä¸€ä¸ªå‚æ•°:æè¿°soundçš„plist\n (set-message-beep SOUND)  è®¾ç½®beepèœ‚é¸£æ—¶çš„å£°éŸ³.\nå‚æ•°SOUNDå¯ä»¥æ˜¯nil,â€˜asterisk,â€˜exclamation,â€˜hand,â€˜question,â€˜okæˆ–â€™silent\nBatch Mode åœ¨å¯åŠ¨Emacsæ—¶è‹¥å¸¦äº†å‚æ•°`batchâ€™ä¼šä½¿å¾—Emacsè¿›å…¥batch mode,è¿™ç§çŠ¶æ€ä¸‹çš„Emacsä¸èƒ½ä¸ç”¨æˆ·äº¤äº’,ä»»ä½•è¾“å‡ºåˆ°echo areaçš„ä¿¡æ¯éƒ½ä¼šè¾“å‡ºåˆ°Emacsçš„stdout, ä»»ä½•ä»minibuferè¯»å–çš„è¾“å…¥éƒ½è¢«é“¾æ¥åˆ°Emacsçš„stdinä¸­.\nè¯¥æ¨¡å¼å¸¸ç”¨äºä½¿ç”¨Emacsæ¥è¿è¡ŒæŸä¸ªelispç¨‹åº,ç¨‹åºè¿è¡Œå®Œæˆå,Emacså°±é€€å‡ºäº†.\n noninteractive  è¯¥å‚æ•°æŒ‡æ˜äº†Emacsæ˜¯å¦è¿è¡Œåœ¨Batch Modeä¸‹\nSessionç®¡ç† Emacsæ”¯æŒX Session Management Protocol,è¯¥åè®®ç”¨äºsuspend/restartåº”ç”¨ç¨‹åº. åœ¨X windowç³»ç»Ÿä¸­,ä¸€ä¸ªåä¸º\"session manager\"çš„ç¨‹åºè´Ÿè´£ä¿æŒæ­£åœ¨è¿è¡Œçš„ç¨‹åºçš„çŠ¶æ€. å½“X serverå…³é—­æ—¶,session managerä¼šè¦æ±‚åº”ç”¨ç¨‹åºä¿å­˜å®ƒä»¬çš„çŠ¶æ€,å¹¶æ¨è¿ŸX serverå…³é—­ç›´åˆ°æ”¶åˆ°åº”ç”¨ç¨‹åºçš„å›åº”. æ­¤æ—¶åº”ç”¨ç¨‹åºä¹Ÿå¯èƒ½ä¼šå–æ¶ˆè¿™æ¬¡å…³é—­.\nå½“session manageré‡å¯æŒ‚èµ·çš„sessionæ—¶,å®ƒä¼šå¼•å¯¼åº”ç”¨ç¨‹åºåˆ†åˆ«åŠ è½½è‡ªå·±ä¿å­˜çš„çŠ¶æ€. session manageræ˜¯é€šè¿‡ç»™åº”ç”¨ç¨‹åºè°ƒç”¨æ˜¯æ·»åŠ ä¸€ä¸ªç‰¹æ®Šçš„å‚æ•°æ¥å¼•å¯¼åº”ç”¨ç¨‹åºåŠ è½½çŠ¶æ€çš„. å¯¹äºEmacsæ¥è¯´,è¯¥å‚æ•°ä¸º\"â€“smid SESSION\"\n emacs-save-session-functions  Emacsé€šè¿‡è°ƒç”¨è¯¥hookæ¥æ”¯æŒçŠ¶æ€çš„ä¿å­˜.\nå½“session manageré€šçŸ¥Emacsè¯´windowç³»ç»Ÿè¦å…³é—­æ—¶,Emacssä¼šè°ƒç”¨è¯¥hookä¸­çš„å‡½æ•°. æ¯ä¸ªå‡½æ•°è°ƒç”¨æ˜¯éƒ½ä¸å¸¦å‚æ•°,å¹¶ä¸”ä¼šå°†å½“å‰bufferè®¾ç½®ä¸ºä¸´æ—¶buffer. æœ€ç»ˆ,Emacsä¿æŒbufferåˆ°æ–‡ä»¶ä¸­,è¯¥æ–‡ä»¶è¢«æˆä¸º\"session file\"\nå½“session manageré‡å¯æŒ‚èµ·çš„Emacsæ—¶,Emacsä¼šè‡ªåŠ¨é€šè¿‡æ‰§è¡Œå‡½æ•°`emacs-session-restoreâ€™æ¥åŠ è½½session file\nè‹¥`emacs-save-session-functionsâ€™ä¸­æœ‰å‡½æ•°è¿”å›énilçš„å€¼,åˆ™Emacsä¼šé€šçŸ¥Session managerå–æ¶ˆè¿™æ¬¡å…³é—­.\nDesktop Notificatino è‹¥Emacsç¼–è¯‘æ—¶å¼€å¯äº†D-Busæ”¯æŒ,åˆ™é€šè¿‡åŠ è½½`notificationsâ€™åº“,Emacså¯ä»¥ç»™æŸäº›æ“ä½œç³»ç»Ÿå‘é€\"é€šçŸ¥\"\n (notifications-notify \u0026rest params)  é€šè¿‡D-Bus,ä½¿ç”¨Freedesktop notification protocolå‘é€é€šçŸ¥,è¯¥å‡½æ•°è¿”å›ä¸€ä¸ªæ•´æ•°ä½œä¸ºé€šçŸ¥çš„id\nå‚æ•°paramså¯ä»¥æ˜¯å¦‚ä¸‹keywordå‚æ•°\n  :bus BUS\nD-Bus bus. è¯¥å‚æ•°åªæœ‰åœ¨busä¸æ˜¯`:sessionâ€™æ—¶ä½¿ç”¨\n  :title TITLE\né€šçŸ¥çš„æ ‡é¢˜\n  :body TEXT\né€šçŸ¥çš„å†…å®¹. æŸäº›notification serverç”šè‡³æ”¯æŒHTMLæ ‡ç­¾\n  :app-name NAME\nå‘é€é€šçŸ¥çš„åº”ç”¨ç¨‹åºåç§°. é»˜è®¤ä¸º`notifications-application-nameâ€™\n  :replaces-id ID\nè¡¨ç¤ºè¯¥é€šçŸ¥è¦æ›¿ä»£æŒ‡å®šidçš„åŸå…ˆé€šçŸ¥. IDå¿…é¡»æ˜¯ä¹‹å‰`notifications-notifyâ€™è°ƒç”¨çš„è¿”å›å€¼\n  :app-icon ICON-FILE\né€šçŸ¥çš„å›¾æ ‡æ–‡ä»¶. è‹¥ICON-FILEä¸ºnilåˆ™ä¸æ˜¾ç¤ºå›¾æ ‡. é»˜è®¤ä¸º`notifications-application-iconâ€™\n  :actions (KEY TITLE KEY TITLEâ€¦)\nä¸€ç³»åˆ—è¦åº”ç”¨çš„åŠ¨ä½œ. KEYå’ŒTITLEéƒ½æ˜¯å­—ç¬¦ä¸². å…¶ä¸­TITLEä¼šåœ¨é€šçŸ¥ä¸Šä»¥æŒ‰é’®çš„å½¢å¼å±•ç°.\nè‹¥è¦è®¾ç½®é»˜è®¤åŠ¨ä½œ(é€šå¸¸è¯¥åŠ¨ä½œåœ¨ç‚¹å‡»notificationæ—¶è§¦å‘)çš„keyä¸º\"default\".\n  :timeout TIMEOUT\næ˜¾ç¤ºå¤šå°‘æ¯«ç§’åè‡ªåŠ¨å…³é—­. é»˜è®¤å€¼-1è¡¨ç¤ºè¶…æ—¶æ—¶é—´éµç…§notification serverçš„è®¾ç½®. 0è¡¨ç¤ºæ— é™æ—¶é—´\n  :urgency URGENCY\nç´§æ€¥çš„çº§åˆ«. å¯ä»¥æ˜¯â€™low,â€˜normalæˆ–â€™critical\n  :action-items\nè‹¥è®¾ç½®äº†è¯¥å…³é”®å­—,åˆ™TITLE string of the actionä¹Ÿè¢«è§£é‡Šä¸ºicon name\n  :category CATEGORY\né€šçŸ¥çš„ç±»å‹,å­—ç¬¦ä¸²æ ¼å¼\n  :desktop-entry FILENAME\nThis specifies the name of the desktop filename representing the calling program, like `â€œemacsâ€â€™.\n  :image-data (WIDTH HEIGHT ROWSTRIDE HAS-ALPHA BITS CHANNELS DATA)\nè¿™æ˜¯ä¸€ä¸ªraw data å›¾åƒæ ¼å¼æè¿°äº†å®½,é«˜,rowstride,æ˜¯å¦æœ‰alphaé€šé“,æ¯ä¸ªsampleçš„æ¯”ç‰¹æ•°,é€šé“å’Œå›¾åƒæ•°æ®\n  :image-path PATH\nPATHä¸ºä¸€ä¸ªURI(ç›®å‰åªæ”¯æŒ\"file\"ç±»å‹)æˆ–\"$XDG_DATA_DIRS/icon\"ç›®å½•ä¸‹çš„æŸä¸ªicon themeçš„åç§°\n  :sound-file FILENAME\nå¼¹å‡ºé€šçŸ¥æ—¶,æ’­æ”¾å£°éŸ³æ–‡ä»¶\n  :sound-name NAME\nâ€œ$XDG_DATA_DIRS/sound\"ç›®å½•ä¸‹å®šä¹‰çš„sound theme\n  :suppress-sound\nè‹¥è®¾ç½®äº†,åˆ™ä¸æ’­æ”¾ä»»ä½•å£°éŸ³.\n  :resident\nè‹¥è®¾ç½®äº†è¯¥å‚æ•°,åˆ™å³ä½¿å¯¹è¯¥é€šçŸ¥åšäº†åŠ¨ä½œ,è¯¥é€šçŸ¥ä¹Ÿä¸ä¼šè‡ªåŠ¨å…³é—­,é™¤éæ˜ç¡®çš„å¯¹è¯¥é€šçŸ¥å‘å‡ºå…³é—­æ“ä½œ\n  :transient\nè‹¥è®¾ç½®äº†è¯¥å‚æ•°,åˆ™serverä¼šè®¤ä¸ºè¯¥é€šçŸ¥æ˜¯æš‚æ—¶çš„,è€Œå¿½ç•¥serverçš„æŒä¹…åŒ–èƒ½åŠ›(?When set the server will treat the notification as transient and by-pass the serverâ€™s persistence capability, if it should exist?)\n  :x POSITION / :y POSITION\nå®šä¹‰é€šçŸ¥åœ¨å±å¹•ä¸Šçš„æ˜¾ç¤ºä½ç½®\n  :on-action FUNCTION\nå½“æŒ‰ä¸‹äº†è¡¨ç¤ºactionçš„æŒ‰é’®æ—¶,ä¼šè°ƒç”¨è¯¥å‡½æ•°. è¯¥å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°:notification idå’Œaction key\n  :on-close FUNCTION\nå½“é€šçŸ¥å› ä¸ºè¶…æ—¶æˆ–äººä¸ºå…³é—­æ—¶è°ƒç”¨è¯¥å‡½æ•°. è¯¥å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°:notification idå’Œå…³é—­çš„REASON.\nå‡½æ•°ä¸­çš„REASONå‚æ•°å¯ä»¥æ˜¯:\n â€˜expired  ç”±äºè¶…æ—¶è€Œå…³é—­\n â€˜dismissed  è¢«äººä¸ºå…³é—­\n â€˜close-notification  é€šè¿‡è°ƒç”¨`notifications-close-notificationâ€™å‡½æ•°æ¥å…³é—­\n â€˜undefined  notification serveræœªå‘ŠçŸ¥åŸå› \n(defun my-on-action-function (id key) (message \"Message %d, key \\\"%s\\\" pressed\" id key)) ;; = my-on-action-function (defun my-on-close-function (id reason) (message \"Message %d, closed due to \\\"%s\\\"\" id reason)) ;; = my-on-close-function (notifications-notify :title \"Title\" :body \"This is important.\" :actions '(\"Confirm\" \"I agree\" \"Refuse\" \"I disagree\") :on-action 'my-on-action-function :on-close 'my-on-close-function) ;; = 22 è¿™æ—¶ä¼šå¼¹å‡ºä¸€ä¸ªmessage window. æŒ‰ä¸‹ \"I agree\" ;; = Message 22, key \"Confirm\" pressed ;; Message 22, closed due to \"dismissed\"   (notifications-close-notification notification-id \u0026optional bus)\nå…³é—­æŒ‡å®šidçš„é€šçŸ¥. å‚æ•°BUSå¯ä»¥æ˜¯ä¸€ä¸ªè¡¨ç¤ºD-Busè¿æ¥çš„å­—ç¬¦ä¸².é»˜è®¤ä¸º:session\n  (noifications-get-capabilities \u0026optional bus)\nè¿”å›notification serveræ”¯æŒçš„ç‰¹æ€§çš„åˆ—è¡¨.\nå®ƒçš„è¿”å›å€¼æ˜¯ä¸€ä¸ªç”±sybmolç»„æˆçš„list:\n :actions  The server will provide the specified actions to the user\n :body  æ”¯æŒå®šä¹‰Bodyçš„å†…å®¹\n :body-hyperlinks  bodyä¸­æ”¯æŒè¶…é“¾æ¥\n :body-images  bodyä¸­æ”¯æŒåµŒå…¥å›¾ç‰‡\n :body-markup  æ”¯æŒåœ¨bodyä¸­åµŒå…¥æ ‡è®°\n :icon-muti  serverä¼šæŠŠå›¾ç‰‡æ•°ç»„ä¸­çš„æ¯å¸§æ•´åˆæˆä¸€ä¸ªåŠ¨ç”»\n :icon-static  serveråªæ˜¾ç¤ºå›¾ç‰‡æ•°ç»„ä¸­çš„åœ°ä¸€ä¸ªå¸§å›¾ç‰‡,è¯¥å‚æ•°ä¸:icon-multiäº’æ–¥\n persistence  æ”¯æŒé€šçŸ¥çš„æŒä¹…åŒ–\n :sound  æ”¯æŒæ’­æ”¾å£°éŸ³\n  (notifications-get-server-information)\nä»¥å­—ç¬¦ä¸²åˆ—è¡¨çš„å½¢å¼è¿”å›notification serverçš„ä¿¡æ¯.\nè¿”å›å€¼çš„æ ¼å¼ä¸ºâ€™(NAME VENDOR VERSION SPEC-VERSION). å…¶ä¸­:\n  NAME ä¸ºserverçš„äº§å“åç§°\n  VENDOR ä¸ºvendoråç§°. å¸¸è§çš„æœ‰\"KDE\"å’Œ\"GNOMEâ€\n  VERSION ä¸ºserverçš„ç‰ˆæœ¬å·\n  SPEC-VERSION ä¸ºThe specification version the server is compliant with\n    File Notification è‹¥ç¼–è¯‘Emacsæ—¶é“¾æ¥äº†`gfilenotifyâ€™,`inotifyâ€™,`w32notifyâ€™æˆ–å…¶ä»–å¯¹åº”çš„åº“,é€šè¿‡åŠ è½½`filenotifyâ€™åº“,Emacså¯ä»¥ç›‘è§†æ–‡ä»¶ç³»ç»Ÿä¸­æ–‡ä»¶çš„æ”¹å˜.\n (file-notify-add-watch file flag callback)  ä¸ºæ–‡ä»¶FILEæ·»åŠ ç›‘è§†å™¨. è¯¥å‡½æ•°è¿”å›æ·»åŠ çš„ç›‘è§†å™¨çš„descriptor.\nè‹¥FILEæ— æ³•è¢«ç›‘è§†,åˆ™è¯¥å‡½æ•°æŠ›å‡ºé”™è¯¯`file-notify-errorâ€™\næ³¨æ„: æœ‰äº›æ–‡ä»¶ç³»ç»Ÿä¸èƒ½ç›‘è§†æ–‡ä»¶æ˜¯å¦å‘ç”Ÿæ”¹å˜. å› æ­¤è¯¥å‡½æ•°è¿”å›énilçš„å€¼å¹¶ä¸ä¸€å®šè¡¨ç¤ºæ–‡ä»¶çš„æ”¹å˜ä¸€å®šä¼šé€šçŸ¥åˆ°Emacs\nå‚æ•°FLAGä¸ºä¸€ä¸ªåˆ—è¡¨,æŒ‡æ˜äº†è¦ç›‘è§†FILEçš„å“ªäº›æ”¹å˜:\n  â€˜change\næ–‡ä»¶å†…å®¹æ”¹å˜\n  â€˜attribute-change\næ–‡ä»¶å±æ€§æ”¹å˜\n  å‚æ•°FILEå¯ä»¥æ˜¯æŸä¸ªæ–‡ä»¶,ä¹Ÿå¯ä»¥æ˜¯ç›®å½•. è‹¥FILEä¸ºç›®å½•,åˆ™ä¼šç›‘è§†è¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶,ä½†ä¸é€’å½’ç›‘è§†å­ç›®å½•.\nå½“ç›‘è§†çš„äº‹ä»¶å‘ç”Ÿæ—¶,Emacsä¼šè°ƒç”¨CALLBACKå‡½æ•°,å¹¶ä¼ é€’EVENTä½œä¸ºå‚æ•°. å…¶ä¸­EVENTçš„æ ¼å¼ä¸º: â€˜(DESCRIPTOR ACTION FILE [FILE1])\nå…¶ä¸­DESCRIPTORå³ä¸ºç›‘è§†å™¨çš„æè¿°ç¬¦\nACTIONä¸ºäº‹ä»¶æè¿°,å®ƒçš„å¯èƒ½å€¼æœ‰:\n â€˜created â€˜deleted â€˜changed â€˜renamed â€˜attribute-changed  FILEå’ŒFILE1ä¸ºäº‹ä»¶å‘ç”Ÿçš„æ–‡ä»¶åç§°.\nä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­\n(require 'filenotify) ;; = filenotify (defun my-notify-callback (event) (message \"Event %S\" event)) ;; = my-notify-callback (file-notify-add-watch \"/tmp\" '(change attribute-change) 'my-notify-callback) ;; = 35025468 (write-region \"foo\" nil \"/tmp/foo\") ;; = Event (35025468 created \"/tmp/.#foo\") ;; Event (35025468 created \"/tmp/foo\") ;; Event (35025468 changed \"/tmp/foo\") ;; Event (35025468 deleted \"/tmp/.#foo\") (write-region \"bla\" nil \"/tmp/foo\") ;; = Event (35025468 created \"/tmp/.#foo\") ;; Event (35025468 changed \"/tmp/foo\") [2 times] ;; Event (35025468 deleted \"/tmp/.#foo\") (set-file-modes \"/tmp/foo\" (default-file-modes)) ;; = Event (35025468 attribute-changed \"/tmp/foo\") æ ¹æ®ä¸åŒçš„åº•å±‚åº“çš„å®ç°ä¸åŒ,renameæ“ä½œå¯èƒ½è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªrenameæ“ä½œæˆ–ä¸€ä¸ªdelete+createæ“ä½œ\nIt can be expected, when a directory is watched, and both FILE and FILE1 belong to this directory. Otherwise, the actions `deletedâ€™ and `createdâ€™ could be returned in a random order.\n(rename-file \"/tmp/foo\" \"/tmp/bla\") ;; = Event (35025468 renamed \"/tmp/foo\" \"/tmp/bla\") (file-notify-add-watch \"/var/tmp\" '(change attribute-change) 'my-notify-callback) ;; = 35025504 (rename-file \"/tmp/bla\" \"/var/tmp/bla\") ;; = ;; gfilenotify ;; Event (35025468 renamed \"/tmp/bla\" \"/var/tmp/bla\") ;; = ;; inotify ;; Event (35025504 created \"/var/tmp/bla\") ;; Event (35025468 deleted \"/tmp/bla\")  (file-notify-rm-watch descriptor)  åˆ é™¤æŒ‡å®šçš„ç›‘è§†å™¨\nåŠ¨æ€åŠ è½½ Emacs supports such on-demand loading of support libraries for some of its features.\néœ€è¦æ³¨æ„: ä¸æ˜¯æ‰€æœ‰çš„ç‰¹æ€§éƒ½èƒ½ä½¿ç”¨è¿™ç§æ–¹å¼åŠ¨æ€åŠ è½½\n dynamic-library-alist  è¯¥å‚æ•°æ˜¯ä¸€ä¸ªç”±åŠ¨æ€åº“å’Œå¯¹åº”çš„åŠ¨æ€åº“æ–‡ä»¶ç»„æˆçš„alist.\nè¯¥alistä¸­æ¯ä¸ªå…ƒç´ çš„æ ¼å¼ä¸ºâ€™(LIBRARY FILESâ€¦)\nä¾‹å¦‚:\n(setq dynamic-library-alist '((xpm \"libxpm.dll\" \"xpm4.dll\" \"libXpm-nox4.dll\") (png \"libpng12d.dll\" \"libpng12.dll\" \"libpng.dll\" \"libpng13d.dll\" \"libpng13.dll\") (jpeg \"jpeg62.dll\" \"libjpeg.dll\" \"jpeg-62.dll\" \"jpeg.dll\") (tiff \"libtiff3.dll\" \"libtiff.dll\") (gif \"giflib4.dll\" \"libungif4.dll\" \"libungif.dll\") (svg \"librsvg-2-2.dll\") (gdk-pixbuf \"libgdk_pixbuf-2.0-0.dll\") (glib \"libglib-2.0-0.dll\") (gobject \"libgobject-2.0-0.dll\"))) å®šæ—¶å™¨ Emacsåªæœ‰åœ¨ç©ºé—²æ—¶æ‰ä¼šè°ƒç”¨å®šæ—¶å™¨,å³åœ¨ç­‰å¾…è¾“å…¥,`site-forâ€™å‡½æ•°å’Œ`read-eventâ€™å‡½æ•°æ—¶æ‰ä¼šè§¦å‘å®šæ—¶å™¨.\nEmacsä¼šåœ¨è§¦å‘å®šæ—¶å™¨å‰å°†`inhibit-quitâ€™è®¾ç½®ä¸ºt,è¿™æ˜¯å› ä¸ºä»å®šæ—¶å™¨å‡½æ•°ä¸­æ¨å‡ºå¾ˆå®¹æ˜“äº§ç”Ÿä¸ä¸€è‡´çŠ¶æ€.\né€šè¿‡å®šæ—¶å™¨å‡½æ•°ä¿®æ”¹bufferä¼šå¯¼è‡´undoå‘½ä»¤åˆ†ä¸æ¸…å“ªäº›æ”¹åŠ¨æ˜¯äººå·¥æ”¹åŠ¨çš„,å“ªäº›æ”¹åŠ¨æ˜¯è§¦å‘å™¨å‡½æ•°ä¿®æ”¹çš„. å› æ­¤ä¸€èˆ¬ä¸å†å®šæ—¶å™¨å‡½æ•°ä¸­ä¿®æ”¹buffer,è‹¥è¦ä¿®æ”¹,æ³¨æ„åœ¨ä¿®æ”¹bufferå‰å’Œä¿®æ”¹bufferåè°ƒç”¨ä¸€æ¬¡`undo-boundaryâ€™å‡½æ•°\nå®šæ—¶å™¨å‡½æ•°ä¹Ÿåº”è¯¥é¿å…è°ƒç”¨ä¼šå¯¼è‡´Emacsç­‰å¾…çš„å‡½æ•°,å› ä¸ºè¿™æ ·çš„è¯åˆä¼šå¯¼è‡´å…¶ä»–å®šæ—¶å™¨å‡½æ•°çš„å¤„ç½š,å¯èƒ½äº§ç”Ÿæ— æ³•é¢„æœŸçš„åæœ. è‹¥çœŸè¦ç­‰å¾…ä¸€æ®µæ—¶é—´åå†æ‰§è¡Œ,è¯·å†åˆ†é…ä¸€ä¸ªæ–°çš„å®šæ—¶å™¨æ¥å¤„ç½š\nIf a timer function calls functions that can change the match data, it should save and restore the match data\n å‘½ä»¤(run-at-time time repeat function \u0026rest args)  è®¾ç½®ç­‰æ—¶é—´ä¸ºTIMEæ—¶,ç”¨å‚æ•°ARGSè°ƒç”¨FUNCTONå‡½æ•°.\nè‹¥å‚æ•°repeatä¸ºæŸä¸ªæ•°å­—,åˆ™ä¼šæ¯éš”repeatç§’åæ‰§è¡Œä¸€æ¬¡. è‹¥repeatä¸ºnilè¡¨ç¤ºåªæ‰§è¡Œä¸€æ¬¡\nå‚æ•°TIMEå¯ä»¥æ˜¯ä¸€ä¸ªç›¸å¯¹æ—¶é—´æˆ–ä¸€ä¸ªç»å¯¹æ—¶é—´:\n Absolute times may be specified using a string with a limited variety of formats, and are taken to be times today, even if already in the past. The recognized forms are `XXXXâ€™, `X:XXâ€™, or `XX:XXâ€™ (military time), and `XXamâ€™, `XXAMâ€™, `XXpmâ€™, `XXPMâ€™, `XX:XXamâ€™, `XX:XXAMâ€™, `XX:XXpmâ€™, or `XX:XXPMâ€™. A period can be used instead of a colon to separate the hour and minute parts.\nTo specify a relative time as a string, use numbers followed by units. For example:\n`1 minâ€™ denotes 1 minute from now.\n`1 min 5 secâ€™ denotes 65 seconds from now.\n`1 min 2 sec 3 hour 4 day 5 week 6 fortnight 7 month 8 year' denotes exactly 103 months, 123 days, and 10862 seconds from now.\nFor relative time values, Emacs considers a month to be exactly thirty days, and a year to be exactly 365.25 days.\nNot all convenient formats are strings. If TIME is a number (integer or floating point), that specifies a relative time measured in seconds. The result of `encode-time' can also be used to specify an absolute value for TIME.\nIn most cases, REPEAT has no effect on when first call takes placeâ€“TIME alone specifies that. There is one exception: if TIME is `t', then the timer runs whenever the time is a multiple of REPEAT seconds after the epoch. This is useful for functions like `display-time'.\nThe function `run-at-time' returns a timer value that identifies the particular scheduled future action. You can use this value to call `cancel-timer' (see below).\n  é…ç½®é¡¹timer-max-repeats  ç”±äºEmacsåªæœ‰åœ¨ç©ºé—²æ—¶æ‰ä¼šæ‰§è¡Œå®šæ—¶å™¨,è¿™æ—¶æœ‰å¯èƒ½ä¼šæ¨è¿Ÿå®šæ—¶å™¨çš„æ‰§è¡Œ. ä½†æ¨è¿Ÿå®šæ—¶å™¨æ‰§è¡Œçš„åŠ¨ä½œä¸ä¼šå¯¹ä¸‹ä¸€æ¬¡å®šæ—¶å™¨æ‰§è¡Œçš„æ—¶é—´äº§ç”Ÿå½±å“. å³ä½¿è¯´,è‹¥ä¸‹ä¸€æ¬¡å®šæ—¶å™¨å‡½æ•°è§¦å‘çš„æ—¶é—´å¹¶ä¸æ˜¯åœ¨ä¸Šä¸€æ¬¡æ‰§è¡Œæ—¶é—´çš„åŸºç¡€ä¸Šç´¯åŠ çš„. å› æ­¤æ¨è¿Ÿçš„æ—¶é—´å¤ªé•¿,å¾ˆå¯èƒ½ä¼šè‡´ä½¿è¿ç»­å‡ æ¬¡æ‰§è¡Œå®šæ—¶å™¨å‡½æ•°.\nè¯¥å˜é‡åˆ™é™å®šäº†ä¸€æ¬¡æ€§å®šæ—¶å™¨å‡½æ•°æ‰€èƒ½æ‰§è¡Œçš„æœ€å¤§çš„å¾ªç¯æ¬¡æ•°\n å‘½ä»¤(run-with-idle-time secs repeat function \u0026rest args)  è®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨,è¯¥å®šæ—¶å™¨åœ¨ä¸‹æ¬¡Emacsç©ºé—²äº†SECSç§’åæ‰§è¡Œ\nå‚æ•°SECSå¯ä»¥æ˜¯æ•°å­—,ä¹Ÿå¯ä»¥æ˜¯`current-dile-timeâ€™è¿”å›çš„å¯¹è±¡\nè‹¥å‚æ•°REPEATä¸ºnilè¡¨ç¤ºå®šæ—¶å™¨åªè§¦å‘ä¸€æ¬¡. è‹¥ä¸ºénilè¡¨ç¤º æ¯æ¬¡Emacsç©ºé—²æ—¶é—´è¶…è¿‡SECSç§’åéƒ½è§¦å‘ä¸€æ¬¡\n Do not write an idle timer function containing a loop which does a certain amount of processing each time around, and exits when `(input-pending-p)' is non-`nil'. This approach seems very natural but has two problems:\n It blocks out all process output (since Emacs accepts process  output only while waiting).\n It blocks out any idle timers that ought to run during that time.  Similarly, do not write an idle timer function that sets up another idle timer (including the same idle timer) with SECS argument less than or equal to the current idleness time. Such a timer will run almost immediately, and continue running again and again, instead of waiting for the next time Emacs becomes idle. The correct approach is to reschedule with an appropriate increment of the current value of the idleness time, as described below.\n  (current-idle-time)  è‹¥Emacså¤„äºç©ºé—²çŠ¶æ€,è¯¥å‡½æ•°è¿”å›Emacsç©ºé—²çš„æ—¶é—´. æ ¼å¼ä¸`current0timeâ€™ä¸€è‡´,ä¸º(SEC-HIGH SEC-LOW MICROSEC PICOSEC\nè‹¥Emacsä¸å¤„äºidleçŠ¶æ€,`current-idle-timeâ€™è¿”å›nil\n (cancel-timer timer)  å–æ¶ˆå®šæ—¶å™¨\n å®(with-timeout (seconds timeout-formsâ€¦) bodysâ€¦)  æ‰§è¡Œbodys,ä½†è®¾ç½®äº†è¶…æ—¶æ—¶é—´ä¸ºSECONDSç§’.\nè‹¥BODYåœ¨SECONDSç§’å†…æ‰§è¡Œå®Œæˆ,åˆ™`with-timeoutâ€™è¿”å›æ­£å¸¸çš„bodysæ‰§è¡Œç»“æœ.\nä½†è‹¥BODYåœ¨æ‰§è¡ŒæœŸé—´è¶…æ—¶äº†,åˆ™ä¼šæ‰§è¡Œtimeout-forms,å¹¶è¿”å›timeout-formsçš„æ‰§è¡Œç»“æœ\nè¯¥å®çš„å†…éƒ¨ä½¿ç”¨å®šæ—¶å™¨æ¥å®Œæˆè¶…æ—¶åŠŸèƒ½,å› æ­¤è‹¥Emacsæ‰§è¡Œbodysçš„è¿‡ç¨‹ä¸­,æ²¡æœ‰ç­‰å¾…è¾“å…¥çš„æƒ…å†µ,åˆ™è¶…æ—¶çš„åŠŸèƒ½æ²¡ä»€ä¹ˆä½œç”¨.\nDired-modeç›¸å…³å‡½æ•°  è·å–diredä¸­marked file  ä½¿ç”¨å‡½æ•°`dired-get-marked-files`\næ‰§è¡Œå‘½ä»¤  æ‰§è¡Œshellå‘½ä»¤å¹¶ç­‰å¾…shellå‘½ä»¤ç»“æŸ  (shell-command â€œshellå‘½ä»¤â€)\n æ‰§è¡Œshellå‘½ä»¤,ç­‰å¾…shellå‘½ä»¤ç»“æŸ,å¹¶è·å¾—å‘½ä»¤çš„è¾“å‡º  (shell-command-to-string â€œshellå‘½ä»¤â€)\n ä½¿ç”¨å¤–éƒ¨å‘½ä»¤å¯¹æ‰€é€‰æ‹©Regionè¿›è¡Œå¤„ç†  shell-command-on-region\n æ‰§è¡Œshellå‘½ä»¤,ä½†æ˜¯ä¸ç­‰å¾…shellå‘½ä»¤ç»“æŸ  start-process\nstart-process-shell-command\ncall-process-region\nRegisterå‡½æ•°  å°†å†…å®¹å¤åˆ¶åˆ°Registerä¸­  (copy-to-register ?1 startPos endPos)\n ä»Registerä¸­å–å‡ºå†…å®¹  (insert-register ?1 t)\nOrgç›¸å…³å‡½æ•°  å–entryå±æ€§ (org-entry-get nil â€œå±æ€§åâ€ æ˜¯å¦ç»§æ‰¿å±æ€§) å–entryçš„tag list (org-get-tags) å–entryçš„TODO state org-get-tags åˆ¤æ–­å“ªäº›stateæ˜¯å®ŒæˆçŠ¶æ€ org-done-keywords è·³è½¬åˆ°headline (org-back-to-heading) åˆ¤æ–­æ˜¯å¦å¤„äºclockinçŠ¶æ€ org-clock-clocking-in clock in (org-clock-in) clock out (org-clock-out) å½“å‰clock entryçš„headline org-clock-heading clock outè§¦å‘çš„hook org-clock-out-hook æ›´æ–°mode-lineçš„å†…å®¹ (org-clock-update-mode-line)  ç‰ˆæœ¬ä¿¡æ¯  å˜é‡emacs-version å˜é‡emacs-major-version å˜é‡emacs-minor-version  wait function wait functionç”¨äºç­‰å¾…ä¸€æ®µæ—¶é—´æˆ–ç­‰å¾…input.\n (sit-for seconds \u0026optional nodisp)  sit-forç­‰å¾…ä¸€æ®µæ—¶é—´æˆ–ç›´åˆ°æ”¶åˆ°æŸä¸ªinput event. åœ¨è¿™æ®µæ—¶é—´å†…Emacsä¼šå®æ—¶æ›´æ–°å±å¹•æ˜¾ç¤º.\nè‹¥ç­‰å¾…ä¸æ˜¯ç”±æ”¶åˆ°inputè€Œä¸­æ–­çš„,åˆ™è¿”å›t,å¦åˆ™è¿”å›nil\nå‚æ•°secondså¯ä»¥æ˜¯æµ®ç‚¹æ•°. (sit-for 0)ç­‰ä»·äº(redisplay),å®ƒåªæ˜¯ç«‹å³æ›´æ–°å±å¹•æ˜¾ç¤º.\nè‹¥å‚æ•°nodispä¸ºénil,åˆ™sit-foråœ¨ç­‰ä»·æœŸé—´ä¸ä¼šæ›´æ–°å±å¹•æ˜¾ç¤º.\nåœ¨Emacså¤„äºbatch modeæ—¶,`sit-forâ€™ä¸èƒ½è¢«interrupt eventä¸­æ–­,è¿™æ—¶ç­‰ä»·äº`sleep-for'\n (sleep-for seconds \u0026optional millisec)  è¯¥å‡½æ•°ç­‰ä»·secondsç§’,ç­‰å¾…æœŸé—´ä¸ä¼šè¢«input eventæ‰“æ–­,ä¹Ÿä¸ä¼šæ›´æ–°å±å¹•æ˜¾ç¤º. å®ƒæ€»æ˜¯è¿”å›nil\nå‚æ•°secondså¯ä»¥ä¸ºæµ®ç‚¹æ•°.\nå‚æ•°millisecè¡¨ç¤ºåœ¨ç­‰å¾…secondsç§’å,å†ç­‰å¾…millisecæ¯«ç§’\nPackageç›¸å…³è¯´æ˜ Packageçš„åˆ†ç±» packageå¯ä»¥åˆ†ä¸ºå•æ–‡ä»¶packageå’Œå¤šæ–‡ä»¶package. å…¶ä¸­å•æ–‡ä»¶packageåœ¨package archiveä¸­ä»¥å•ä¸ªelispæ–‡ä»¶å½¢å¼å­˜åœ¨,è€Œå¤šæ–‡ä»¶packageä»¥taræ–‡ä»¶å½¢å¼å­˜åœ¨.\nå•æ–‡ä»¶Package å•æ–‡ä»¶packageä¸­elispæ–‡ä»¶å¿…é¡»éµå¾ªelisp library header conventions ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­\n;;; superfrobnicator.el --- Frobnicate and bifurcate flanges ;; Copyright (C) 2011 Free Software Foundation, Inc. ;; Author: J. R. Hacker  ;; Version: 1.3 ;; Package-Requires: ((flange \"1.0\")) ;; Keywords: multimedia, frobnicate ;; URL: http://example.com/jrhacker/superfrobnicate ;;; Commentary: ;; This package provides a minor mode to frobnicate and/or ;; bifurcate any flanges you desire. To activate it, just type packageçš„åç§°ä¸elispæ–‡ä»¶çš„base nameå¿…é¡»ä¸€è‡´. packageåç§°è¢«å†™åˆ°ç¬¬ä¸€è¡Œ. åœ¨ä¸Šä¾‹ä¸­ä¸º\"superfrobnicator\"\nå•è¡Œæè¿°ä¹Ÿæ”¾åœ¨ç¬¬ä¸€è¡Œ,åœ¨ä¸Šä¾‹ä¸­ä¸º\"Frobnicate and bifurcate flange\"\npackageçš„ç‰ˆæœ¬å·,é€šè¿‡`Package-Version' headerè¡¨ç¤º,è‹¥ä¸å­˜åœ¨`Package-Version' headeråˆ™é€šè¿‡`Version' headeræ ‡è¯†. è¯¥å±æ€§å¿…é¡»å­˜åœ¨. åœ¨ä¸Šä¾‹ä¸­ä¸º1.3\nè‹¥æ–‡ä»¶ä¸­æœ‰`;;; Commentary:â€˜éƒ¨åˆ†,åˆ™è¯¥éƒ¨åˆ†å†…å®¹ä½œä¸ºpackageçš„è¯¦ç»†æè¿°.\nè‹¥æ–‡ä»¶ä¸­æœ‰`Package-Requiresâ€™ header,åˆ™è¯¥éƒ¨åˆ†æ ‡è¯†äº†packageçš„ä¾èµ–åŒ…æœ‰å“ªäº›. è‹¥æ²¡æœ‰è¯¥headerè¡¨ç¤ºpackageä¸ä¾èµ–å…¶ä»–åŒ….\n`Keywordsâ€™ä¸`URLâ€™ä¹Ÿæ˜¯å¯é€‰çš„,ä½†ä¸€èˆ¬å»ºè®®æ·»åŠ è¿™ä¸¤ä¸ªheader. `describe-packageâ€™å‡½æ•°ä¼šå±•ç¤ºè¿™ä¸¤ä¸ªheaderä¸­çš„å€¼. `Keywords' headeråº”è¯¥è‡³å°‘åŒ…å«ä¸€ä¸ª`finder-known-keywrodsâ€™ä¸­çš„æ ‡å‡†keyword\nå¤šæ–‡ä»¶Package å¤šæ–‡ä»¶packageä¸åƒå•æ–‡ä»¶packageé‚£æ ·æœ‰é‚£ä¹ˆå¤šçš„è§„èŒƒ.\nå¤šæ–‡ä»¶packageåœ¨package archiveä¸­ä»¥ä¸€ä¸ªtaræ–‡ä»¶çš„å½¢å¼å­˜åœ¨. è¯¥taræ–‡ä»¶çš„åç§°å¿…é¡»æ˜¯`packageå-packageç‰ˆæœ¬.tar'.\nå¤šæ–‡ä»¶packageçš„content directoryä¸­å¿…é¡»æœ‰ä¸€ä¸ªåä¸º`packageå-pkg.elâ€™çš„æ–‡ä»¶. è¯¥æ–‡ä»¶çš„å†…å®¹ä¸ºä¸€ä¸ª`define-packageâ€™å‡½æ•°çš„è°ƒç”¨form. `define-packageâ€™å‡½æ•°å®šä¹‰äº†packageçš„ç‰ˆæœ¬,å•è¡Œæè¿°å’Œä¾èµ–åŒ….\nè‹¥content directoryä¸­åŒ…å«åä¸º`READMEâ€™çš„æ–‡ä»¶,åˆ™è¯¥æ–‡ä»¶çš„å†…å®¹ä½œä¸ºpackageçš„è¯¦ç»†æè¿°\nè‹¥content directoryä¸­åŒ…å«åä¸º`dirâ€™çš„æ–‡ä»¶,åˆ™è¯¥æ–‡ä»¶è¢«è®¤ä¸ºæ˜¯é€šè¿‡å‘½ä»¤`install-infoâ€™ç”Ÿæˆçš„Info directoryæ–‡ä»¶. åŒæ—¶,ç›¸å…³çš„Infoæ–‡ä»¶ä¹Ÿå¿…é¡»åœ¨content directoryä¸­. è¿™ä¸­æƒ…å†µä¸‹,å½“æ¿€æ´»è¯¥packageå,Emacsä¼šè‡ªåŠ¨å°†content directoryæ·»åŠ åˆ°`Info-directory-listâ€™ä¸­.\nä¸è¦åœ¨packageä¸­åŒ…å«ä»»ä½•.elcæ–‡ä»¶,å®ƒä»¬æ˜¯ç”±packageå®‰è£…æ—¶è‡ªåŠ¨ç”Ÿæˆçš„.ä¸”æ— æ³•æ§åˆ¶å„æ–‡ä»¶ç¼–è¯‘çš„é¡ºåº\nä¸è¦åŒ…å«åä¸º`packageå-autoloads.elâ€™çš„æ–‡ä»¶,å®ƒä¹Ÿæ˜¯ç”±packageå®‰è£…æ—¶è‡ªåŠ¨ç”Ÿæˆçš„.\nè‹¥packageä¸­åŒ…å«å…¶ä»–æ ¼å¼çš„æ–‡ä»¶(ä¾‹å¦‚å›¾ç‰‡ç­‰),åˆ™åœ¨elispæºä»£ç ä¸­,å¯ä»¥ä½¿ç”¨`load-file-nameâ€™å˜é‡å€¼æ¥å¼•ç”¨å­˜æ”¾è¿™äº›æ–‡ä»¶çš„ç›®å½•. ä¾‹å¦‚\n(defconst superfrobnicator-base (file-name-directory load-file-name)) (defun superfrobnicator-fetch-image (file) (expand-file-name file superfrobnicator-base))    (define-package name version \u0026optional docstring requirements)\nè¯¥å‡½æ•°å®šä¹‰äº†ä¸€ä¸ªåä¸º`NAMEâ€™çš„package.\nå‚æ•°`VERSIONâ€™ä¸ºä¸€ä¸ªè¡¨ç¤ºç‰ˆæœ¬çš„å­—ç¬¦ä¸²,è¯¥å­—ç¬¦ä¸²çš„æ ¼å¼å¿…é¡»è¢«`version-to-listâ€™æ‰€è®¤è¯†.\nå‚æ•°`DOCSTRINGâ€™ä¸ºå•è¡Œæè¿°\nå‚æ•°`REQUIREMENTSâ€™ä¸ºä¸€ä¸ªç”±ä¾èµ–åŒ…å’Œæœ€ä½ç‰ˆæœ¬ç»„æˆçš„list. è¯¥listçš„æ¯ä¸ªå…ƒç´ åº”è¯¥æ˜¯(DEP-NAME-symbol DEP-VERSION-string)\n  Packageçš„å±æ€§ æ¯ä¸ªpackageéƒ½å…·æœ‰å¦‚ä¸‹ä¸€äº›å±æ€§:\n  Name\npacakge name,å¸¸åœ¨ç¨‹åºä¸­ä½œä¸ºå˜é‡/å‡½æ•°åçš„å‰ç¼€.\n  Version\nç‰ˆæœ¬å·,å…¶æ ¼å¼å¿…é¡»è¢«å‡½æ•°`version-to-listâ€™æ‰€çŸ¥. æ¯æ¬¡release packageéƒ½åº”è¯¥å¢åŠ è¯¥ç‰ˆæœ¬å·å±æ€§\n  å•è¡Œç®€æ´æè¿°\nè¯¥æè¿°åº”è¯¥åªå ä¸€è¡Œ,æœ€å¥½ä¸è¶…è¿‡36ä¸ªå­—ç¬¦. è¯¥æè¿°ä¼šåœ¨list packageæ—¶å±•ç¤º\n  è¯¦ç»†æè¿°\nå¸¸å¸¸åŒ…å«è¯¥packageçš„ç”¨å¤„,ä»¥åŠä½¿ç”¨æ–¹æ³•. è¯¥æè¿°ä¼šåœ¨`describe-packageâ€™ä¸­å±•ç¤º\n  Dependencies\nä¾èµ–å…³ç³», è¯¥å±æ€§å€¼ä¸ºå…¶ä»–packageçš„list. è¯¥listä¸­çš„æ¯ä¸ªå…ƒç´ å¯ä»¥æ˜¯ä¸€ä¸ªè¡¨ç¤ºpackageçš„symbolæˆ–ä¸€ä¸ª(package min-version)çš„åˆ—è¡¨.\n  packageçš„å®‰è£…è¯´æ˜ é€šè¿‡`pacakge-install-fileâ€™å¯ä»¥å®‰è£…ä¸€ä¸ªpackage. å®‰è£…packageåŒ…å«ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤:\n  åœ¨`package-user-dirâ€™ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º`packageåç§°-packageç‰ˆæœ¬â€™çš„ç›®å½•.\nè¯¥ç›®å½•ç”¨äºå­˜æ”¾packageçš„å†…å®¹çš„,å› æ­¤ä¹Ÿè¢«ç§°ä¸º\"content direcotry\"\n  Emacsæœç´¢content directoryä¸­çš„æ‰€æœ‰elispæ–‡ä»¶,å¹¶æŸ¥æ‰¾é‡Œé¢çš„autoload magic comments\nè¿™äº›autoloadå®šä¹‰è¢«ä¿å­˜åœ¨åä¸º`packageåç§°-autoloads.elâ€™çš„æ–‡ä»¶ä¸­.\nè¿™äº›autoloadå®šä¹‰é€šå¸¸ç”¨æ¥è‡ªåŠ¨åŠ è½½packageä¸­å®šä¹‰çš„ä¾›ç”¨æˆ·ä½¿ç”¨çš„ä¸»è¦command,ä½†ä¹Ÿèƒ½ç”¨æ¥ä½œå…¶ä»–äº‹æƒ…,ä¾‹å¦‚ç‹`auto-mode-alistâ€™ä¸­æ·»åŠ å†…å®¹\n  Emacsç¼–è¯‘packageä¸­çš„æ‰€æœ‰elispæ–‡ä»¶\n  packageçš„åŠ è½½è¿‡ç¨‹ Emacså¯åŠ¨è¿‡ç¨‹ä¸­,å½“EmacsåŠ è½½å®Œåˆå§‹åŒ–å®Œinit fileåŠabbrev fileå,åœ¨è§¦å‘`after-init-hookâ€™å‰,Emacsä¼šè‡ªåŠ¨è°ƒç”¨`package-initializeâ€™å‡½æ•°æ¥åŠ è½½å®‰è£…çš„package.\nä½†æ˜¯EmacsåŠ è½½packageçš„è¿‡ç¨‹,åœ¨å˜é‡`package-enable-at-startupâ€™ä¸ºnilæ—¶ä¼šè¢«ç¦æ­¢.\nEmacsåŠ è½½packageçš„è¿‡ç¨‹ç”±ä¸¤ä¸ªæ­¥éª¤ç»„æˆ\n  æ·»åŠ packageçš„content directoryåˆ°`load-pathâ€™ä¸­\n  æ‰§è¡Œ`packageå-autoloads.elâ€™ä¸­çš„autoloadå®šä¹‰.\n  (package-initialize \u0026optional no-activate) è¯¥å‡½æ•°åˆå§‹åŒ–Emacsç”¨äºè®°å½•å“ªäº›packageå·²ç»å®‰è£…çš„å†…éƒ¨å˜é‡å¹¶åŠ è½½è¿™äº›package.\nç”¨æˆ·é…ç½®é¡¹`package-load-listâ€™æŒ‡æ˜äº†å“ªäº›packageä¼šè¢«åŠ è½½,é»˜è®¤æ˜¯æ‰€æœ‰å·²ç»å®‰è£…çš„package.\nå‚æ•°`NO-ACTIVATEâ€™è‹¥ä¸ºénil,åˆ™è¡¨ç¤ºåªæ›´æ–°å·²å®‰è£…packageçš„è®°å½•,è€Œä¸åŠ è½½è¿™äº›package\nPackage Archives   é…ç½®é¡¹package-archives\nè¯¥é…ç½®é¡¹ä¸ºä¸€ä¸ªalist,æŒ‡æ˜äº†EmacsåŒ…ç®¡ç†ç³»ç»Ÿä»å“ªäº›archiveä¸­æœç´¢package\nè¯¥alistçš„æ¯ä¸ªå…ƒç´ çš„æ ¼å¼ä¸º(ID . LOCATION),è¿™é‡ŒIDä¸ºè¡¨ç¤ºarchiveåç§°çš„å­—ç¬¦ä¸²,LOCATIONä¸ºè¡¨ç¤ºarchiveåœ°å€çš„å­—ç¬¦ä¸². ç›®å‰LOCATIONåªèƒ½ä¸ºhttp urlæˆ–ä¸€ä¸ªæœ¬åœ°ç›®å½•çš„è·¯å¾„.\nä¸€ä¸ªpackage archiveåªæ˜¯ä¸€ä¸ªåŒ…å«äº†packageæºä»£ç æ–‡ä»¶åŠå…¶ç›¸å…³æ–‡ä»¶çš„ç›®å½•è€Œå·². è‹¥å¸Œæœ›å¯ä»¥é€šè¿‡httpè·å–è¯¥archive,åˆ™éœ€è¦æŠŠè¯¥ç›®å½•æ”¾åœ¨web serverä¸Š.\n  ä¸€ç§è®¾ç½®å’Œæ›´æ–°package archiveçš„æ¯”è¾ƒæ–¹ä¾¿çš„æ–¹å¼æ˜¯ä½¿ç”¨åº“`package-x',è¯¥åº“æ˜¯Emacsè‡ªå¸¦çš„,ä½†æ˜¯é»˜è®¤æƒ…å†µä¸‹å¹¶ä¸åŠ è½½.\n`package-xâ€™çš„ç›¸å…³å‘½ä»¤ä¸å˜é‡å¦‚ä¸‹:\n  é…ç½®é¡¹pacakge-archive-upload-base\nè¯¥å˜é‡çš„å€¼åº”ä¸ºä¸€ä¸ªç›®å½•çš„åç§°,å®ƒå°†ä½œä¸ºpackage archiveçš„base location.\nè¯¥å˜é‡çš„å€¼å¿…é¡»æ˜¯ä¸€ä¸ª ç»å¯¹è·¯å¾„.\nè‹¥package archiveä¸åœ¨æœ¬åœ°,å¯ä»¥ä½¿ç”¨ç±»ä¼¼`/ssh:foo@example.com:/var/www/packages/' çš„å½¢å¼æ¥è®¾ç½®\n  (package-upload-file filename)\nè¯¥å‘½ä»¤ä¸Šä¼ FILENAMEåˆ°`package-archive-upload-baseâ€™ä¸­.\nFILENAMEå¿…é¡»æ˜¯å•æ–‡ä»¶package(elæ–‡ä»¶),å¤šå¤šæ–‡ä»¶package(taræ–‡ä»¶),å¦åˆ™ä¼šæŠ›å‡ºé”™è¯¯.\nè‹¥`package-archive-upload-baseâ€™ä¸­çš„è·¯å¾„éæ³•,åˆ™ä¼šæç¤ºç”¨æˆ·é‡æ–°è¾“å…¥,è‹¥è·¯å¾„ä¸å­˜åœ¨,åˆ™ä¼šè‡ªåŠ¨åˆ›å»ºè¯¥ç›®å½•\n  (package-upload-buffer)\nç±»ä¼¼`package-upload-file',åªä¸è¿‡æ˜¯å°†å½“å‰bufferçš„å†…å®¹ä¸Šä¼ ä¸Šå».\nè¯¥bufferå¿…é¡»è®¿é—®ä¸€ä¸ªå•æ–‡ä»¶package(elæ–‡ä»¶)æˆ–å¤šæ–‡ä»¶pacakge(taræ–‡ä»¶),å¦åˆ™ä¼šæŠ›å‡ºé”™è¯¯\n  ",
  "wordCount" : "18666",
  "inLanguage": "en",
  "datePublished": "2021-07-25T00:00:00+08:00",
  "dateModified": "2022-07-22T10:14:38+08:00",
  "author":[{
    "@type": "Person",
    "name": "zakudriver"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://zakudriver.github.io/posts/elisp%E6%96%87%E6%A1%A3/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "è°Ÿæ¶…æ‘©ç»ªæ¶…ğŸ“–",
    "logo": {
      "@type": "ImageObject",
      "url": "https://zakudriver.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<noscript>
    <style type="text/css">
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: #1d1e20;
                --entry: #2e2e33;
                --primary: rgba(255, 255, 255, 0.84);
                --secondary: rgba(255, 255, 255, 0.56);
                --tertiary: rgba(255, 255, 255, 0.16);
                --content: rgba(255, 255, 255, 0.74);
                --hljs-bg: #2e2e33;
                --code-bg: #37383e;
                --border: #333;
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://zakudriver.github.io/" accesskey="h" title="è°Ÿæ¶…æ‘©ç»ªæ¶…ğŸ“– (Alt + H)">è°Ÿæ¶…æ‘©ç»ªæ¶…ğŸ“–</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://zakudriver.github.io/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://zakudriver.github.io/categories" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="https://zakudriver.github.io/search" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://zakudriver.github.io/tags" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://zakudriver.github.io/">Home</a>&nbsp;Â»&nbsp;<a href="https://zakudriver.github.io/posts/">Posts</a></div>
    <h1 class="post-title">
      elispæ–‡æ¡£
    </h1>
    <div class="post-description">
      emacs lisp æŒ‡å—
    </div>
    <div class="post-meta">July 25, 2021&nbsp;Â·&nbsp;88 min&nbsp;Â·&nbsp;zakudriver
</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <div class="details">Table of Contents</div>
        </summary>
        <div class="inner"><ul>
                <li>
                    <a href="#%e6%9c%89%e4%b8%89%e7%a7%8d%e6%96%b9%e5%bc%8f%e5%8f%af%e4%bb%a5%e5%8a%a0%e8%bd%bd%e6%96%87%e4%bb%b6" aria-label="æœ‰ä¸‰ç§æ–¹å¼å¯ä»¥åŠ è½½æ–‡ä»¶ï¼š">æœ‰ä¸‰ç§æ–¹å¼å¯ä»¥åŠ è½½æ–‡ä»¶ï¼š</a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8eval-after-load%e5%8f%af%e4%bb%a5%e6%8e%a8%e8%bf%9f%e4%b8%80%e6%ae%b5%e4%bb%a3%e7%a0%81%e7%9a%84%e6%89%a7%e8%a1%8c" aria-label="ä½¿ç”¨eval-after-loadå¯ä»¥æ¨è¿Ÿä¸€æ®µä»£ç çš„æ‰§è¡Œ">ä½¿ç”¨eval-after-loadå¯ä»¥æ¨è¿Ÿä¸€æ®µä»£ç çš„æ‰§è¡Œ</a></li>
                <li>
                    <a href="#emacs%e4%b8%ad%e7%9a%84%e5%8f%98%e9%87%8f%e4%bd%9c%e7%94%a8%e5%9f%9f" aria-label="emacsä¸­çš„å˜é‡ä½œç”¨åŸŸ">emacsä¸­çš„å˜é‡ä½œç”¨åŸŸ</a><ul>
                        
                <li>
                    <a href="#buffer-local%e5%8f%98%e9%87%8f" aria-label="buffer-localå˜é‡">buffer-localå˜é‡</a><ul>
                        
                <li>
                    <a href="#%e5%a3%b0%e6%98%8ebuffer-local%e5%8f%98%e9%87%8f" aria-label="å£°æ˜buffer-localå˜é‡">å£°æ˜buffer-localå˜é‡</a></li>
                <li>
                    <a href="#buffer%e7%9b%b8%e5%85%b3%e5%87%bd%e6%95%b0" aria-label="bufferç›¸å…³å‡½æ•°">bufferç›¸å…³å‡½æ•°</a></li>
                <li>
                    <a href="#%e6%96%87%e4%bb%b6%e4%b8%ad%e7%9a%84%e6%9c%ac%e5%9c%b0%e5%8f%98%e9%87%8f%e5%88%97%e8%a1%a8" aria-label="æ–‡ä»¶ä¸­çš„æœ¬åœ°å˜é‡åˆ—è¡¨">æ–‡ä»¶ä¸­çš„æœ¬åœ°å˜é‡åˆ—è¡¨</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%8f%98%e9%87%8f%e6%9c%ac%e5%9c%b0%e5%8c%96" aria-label="å˜é‡æœ¬åœ°åŒ–">å˜é‡æœ¬åœ°åŒ–</a></li></ul>
                </li>
                <li>
                    <a href="#elisp%e4%b8%ad%e7%9a%84%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b" aria-label="elispä¸­çš„æ•°æ®ç±»å‹">elispä¸­çš„æ•°æ®ç±»å‹</a><ul>
                        
                <li>
                    <a href="#number" aria-label="Number">Number</a><ul>
                        
                <li>
                    <a href="#integer" aria-label="Integer">Integer</a></li>
                <li>
                    <a href="#float" aria-label="Float">Float</a></li></ul>
                </li>
                <li>
                    <a href="#sequence" aria-label="Sequence">Sequence</a><ul>
                        
                <li>
                    <a href="#array" aria-label="Array">Array</a></li>
                <li>
                    <a href="#list" aria-label="List">List</a></li></ul>
                </li>
                <li>
                    <a href="#hashtable" aria-label="hashtable">hashtable</a></li>
                <li>
                    <a href="#symbol" aria-label="symbol">symbol</a><ul>
                        
                <li>
                    <a href="#%e7%ac%a6%e5%8f%b7%e7%9a%84%e7%bb%84%e6%88%90" aria-label="ç¬¦å·çš„ç»„æˆ">ç¬¦å·çš„ç»„æˆ</a></li>
                <li>
                    <a href="#%e7%ac%a6%e5%8f%b7%e7%9a%84%e5%bd%a2%e6%88%90" aria-label="ç¬¦å·çš„å½¢æˆ">ç¬¦å·çš„å½¢æˆ</a></li></ul>
                </li>
                <li>
                    <a href="#char" aria-label="Char">Char</a><ul>
                        
                <li>
                    <a href="#control-characters" aria-label="Control characters">Control characters</a></li>
                <li>
                    <a href="#meta-character" aria-label="Meta Character">Meta Character</a></li>
                <li>
                    <a href="#shift-character" aria-label="Shift Character">Shift Character</a></li>
                <li>
                    <a href="#alt-character" aria-label="Alt Character">Alt Character</a></li>
                <li>
                    <a href="#hyper-character" aria-label="Hyper Character">Hyper Character</a></li>
                <li>
                    <a href="#super-character" aria-label="Super Character">Super Character</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%85%b6%e4%bb%96%e7%b1%bb%e5%9e%8b" aria-label="å…¶ä»–ç±»å‹">å…¶ä»–ç±»å‹</a></li>
                <li>
                    <a href="#%e5%be%aa%e7%8e%af%e7%bb%93%e6%9e%84" aria-label="å¾ªç¯ç»“æ„">å¾ªç¯ç»“æ„</a></li>
                <li>
                    <a href="#%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b%e4%b9%8b%e9%97%b4%e7%9a%84%e8%bd%ac%e6%8d%a2" aria-label="æ•°æ®ç±»å‹ä¹‹é—´çš„è½¬æ¢">æ•°æ®ç±»å‹ä¹‹é—´çš„è½¬æ¢</a></li>
                <li>
                    <a href="#%e7%b1%bb%e5%9e%8b%e5%88%a4%e6%96%ad" aria-label="ç±»å‹åˆ¤æ–­">ç±»å‹åˆ¤æ–­</a></li></ul>
                </li>
                <li>
                    <a href="#elisp%e4%b8%ad%e7%9a%84%e7%ad%89%e4%ba%8e" aria-label="elispä¸­çš„ç­‰äº">elispä¸­çš„ç­‰äº</a><ul>
                        
                <li>
                    <a href="#eq" aria-label="eq">eq</a></li>
                <li>
                    <a href="#equal" aria-label="equal">equal</a></li>
                <li>
                    <a href="#43ec3e" aria-label="=">=</a></li>
                <li>
                    <a href="#2c1b5c" aria-label="/=">/=</a></li>
                <li>
                    <a href="#eql" aria-label="eql">eql</a></li>
                <li>
                    <a href="#char-equal" aria-label="char-equal">char-equal</a></li>
                <li>
                    <a href="#string" aria-label="string=">string=</a></li>
                <li>
                    <a href="#string-equal" aria-label="string-equal">string-equal</a></li>
                <li>
                    <a href="#equal-includeing-properties" aria-label="equal-includeing-properties">equal-includeing-properties</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%8f%98%e9%87%8f%e5%90%8d%e5%91%bd%e5%90%8d%e4%b9%a0%e6%83%af" aria-label="å˜é‡åå‘½åä¹ æƒ¯">å˜é‡åå‘½åä¹ æƒ¯</a></li>
                <li>
                    <a href="#%e8%8e%b7%e5%8f%96%e5%8f%82%e6%95%b0%e7%9a%84%e5%87%a0%e7%a7%8d%e6%96%b9%e6%b3%95" aria-label="è·å–å‚æ•°çš„å‡ ç§æ–¹æ³•">è·å–å‚æ•°çš„å‡ ç§æ–¹æ³•</a><ul>
                        
                <li>
                    <a href="#%e5%8f%98%e9%87%8f-current-prefix-arg-%e8%8e%b7%e5%8f%96universal-argument" aria-label="å˜é‡`current-prefix-arg`è·å–universal-argument">å˜é‡`current-prefix-arg`è·å–universal-argument</a></li>
                <li>
                    <a href="#interactive" aria-label="interactive">interactive</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%85%89%e6%a0%87%e4%bd%8d%e7%bd%ae" aria-label="å…‰æ ‡ä½ç½®">å…‰æ ‡ä½ç½®</a><ul>
                        
                <li>
                    <a href="#%e5%87%bd%e6%95%b0" aria-label="å‡½æ•°">å‡½æ•°</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%85%89%e6%a0%87%e7%a7%bb%e5%8a%a8" aria-label="å…‰æ ‡ç§»åŠ¨">å…‰æ ‡ç§»åŠ¨</a><ul>
                        
                <li>
                    <a href="#%e5%87%bd%e6%95%b0" aria-label="å‡½æ•°">å‡½æ•°</a></li></ul>
                </li>
                <li>
                    <a href="#%e6%8e%a7%e5%88%b6%e7%bb%93%e6%9e%84" aria-label="æ§åˆ¶ç»“æ„">æ§åˆ¶ç»“æ„</a><ul>
                        
                <li>
                    <a href="#%e9%a1%ba%e5%ba%8f%e7%bb%93%e6%9e%84" aria-label="é¡ºåºç»“æ„">é¡ºåºç»“æ„</a></li>
                <li>
                    <a href="#%e6%9d%a1%e4%bb%b6%e8%a1%a8%e8%be%be%e5%bc%8f" aria-label="æ¡ä»¶è¡¨è¾¾å¼">æ¡ä»¶è¡¨è¾¾å¼</a></li>
                <li>
                    <a href="#%e7%bb%84%e5%90%88%e6%9d%a1%e4%bb%b6" aria-label="ç»„åˆæ¡ä»¶">ç»„åˆæ¡ä»¶</a></li>
                <li>
                    <a href="#%e5%be%aa%e7%8e%af" aria-label="å¾ªç¯">å¾ªç¯</a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8catch-throw%e6%a8%a1%e6%8b%9fgoto%e8%af%ad%e5%8f%a5" aria-label="ä½¿ç”¨catch/throwæ¨¡æ‹Ÿgotoè¯­å¥">ä½¿ç”¨catch/throwæ¨¡æ‹Ÿgotoè¯­å¥</a></li></ul>
                </li>
                <li>
                    <a href="#elisp%e4%b8%ad%e7%9a%84%e5%bc%82%e5%b8%b8%e6%9c%ba%e5%88%b6" aria-label="Elispä¸­çš„å¼‚å¸¸æœºåˆ¶">Elispä¸­çš„å¼‚å¸¸æœºåˆ¶</a><ul>
                        
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8singal-error-condition-case%e6%a8%a1%e6%8b%9ftry-catch%e8%af%ad%e5%8f%a5" aria-label="ä½¿ç”¨singal/error/condition-caseæ¨¡æ‹Ÿtry catchè¯­å¥">ä½¿ç”¨singal/error/condition-caseæ¨¡æ‹Ÿtry catchè¯­å¥</a><ul>
                        
                <li>
                    <a href="#error%e7%b1%bb%e5%9e%8b" aria-label="errorç±»å‹">errorç±»å‹</a></li>
                <li>
                    <a href="#%e6%8a%9b%e5%87%baerror" aria-label="æŠ›å‡ºerror">æŠ›å‡ºerror</a></li>
                <li>
                    <a href="#%e5%a4%84%e7%90%86error" aria-label="å¤„ç†Error">å¤„ç†Error</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8unwind-protect%e6%a8%a1%e6%8b%9ffinally%e8%af%ad%e5%8f%a5" aria-label="ä½¿ç”¨unwind-protectæ¨¡æ‹Ÿfinallyè¯­å¥">ä½¿ç”¨unwind-protectæ¨¡æ‹Ÿfinallyè¯­å¥</a></li></ul>
                </li>
                <li>
                    <a href="#elisp%e4%b8%ad%e7%9a%84%e5%8f%98%e9%87%8f" aria-label="Elispä¸­çš„å˜é‡">Elispä¸­çš„å˜é‡</a><ul>
                        
                <li>
                    <a href="#%e5%85%a8%e5%b1%80%e5%8f%98%e9%87%8f" aria-label="å…¨å±€å˜é‡">å…¨å±€å˜é‡</a></li>
                <li>
                    <a href="#%e5%b8%b8%e9%87%8f" aria-label="å¸¸é‡">å¸¸é‡</a></li>
                <li>
                    <a href="#%e5%b1%80%e9%83%a8%e5%8f%98%e9%87%8f" aria-label="å±€éƒ¨å˜é‡">å±€éƒ¨å˜é‡</a></li>
                <li>
                    <a href="#buffer-local%e5%8f%98%e9%87%8f" aria-label="Buffer-Localå˜é‡">Buffer-Localå˜é‡</a></li>
                <li>
                    <a href="#file-local%e5%8f%98%e9%87%8f" aria-label="File-Localå˜é‡">File-Localå˜é‡</a></li>
                <li>
                    <a href="#directory-local%e5%8f%98%e9%87%8f" aria-label="Directory-Localå˜é‡">Directory-Localå˜é‡</a><ul>
                        
                <li>
                    <a href="#%e7%9b%b8%e5%85%b3%e5%87%bd%e6%95%b0" aria-label="ç›¸å…³å‡½æ•°">ç›¸å…³å‡½æ•°</a></li></ul>
                </li>
                <li>
                    <a href="#terminal-lock%e5%8f%98%e9%87%8f" aria-label="Terminal-Lockå˜é‡">Terminal-Lockå˜é‡</a></li>
                <li>
                    <a href="#%e7%a9%ba%e5%8f%98%e9%87%8f" aria-label="ç©ºå˜é‡">ç©ºå˜é‡</a></li>
                <li>
                    <a href="#%e5%8f%98%e9%87%8f%e5%88%ab%e5%90%8d" aria-label="å˜é‡åˆ«å">å˜é‡åˆ«å</a></li>
                <li>
                    <a href="#%e5%ba%9f%e5%bc%83%e5%8f%98%e9%87%8f" aria-label="åºŸå¼ƒå˜é‡">åºŸå¼ƒå˜é‡</a></li>
                <li>
                    <a href="#%e5%8f%97%e9%99%90%e7%9a%84%e5%8f%98%e9%87%8f" aria-label="å—é™çš„å˜é‡">å—é™çš„å˜é‡</a></li>
                <li>
                    <a href="#%e5%8f%98%e9%87%8f%e7%9a%84%e4%bd%9c%e7%94%a8%e5%9f%9f" aria-label="å˜é‡çš„ä½œç”¨åŸŸ">å˜é‡çš„ä½œç”¨åŸŸ</a><ul>
                        
                <li>
                    <a href="#%e5%8a%a8%e6%80%81%e4%bd%9c%e7%94%a8%e5%9f%9f" aria-label="åŠ¨æ€ä½œç”¨åŸŸ">åŠ¨æ€ä½œç”¨åŸŸ</a></li>
                <li>
                    <a href="#%e9%9d%99%e6%80%81%e4%bd%9c%e7%94%a8%e5%9f%9f" aria-label="é™æ€ä½œç”¨åŸŸ">é™æ€ä½œç”¨åŸŸ</a></li></ul>
                </li>
                <li>
                    <a href="#%e6%b3%9b%e5%8c%96%e5%8f%98%e9%87%8f--generalized-variables" aria-label="æ³›åŒ–å˜é‡(Generalized Variables)">æ³›åŒ–å˜é‡(Generalized Variables)</a></li>
                <li>
                    <a href="#%e5%8f%96%e5%8f%98%e9%87%8f%e5%80%bc" aria-label="å–å˜é‡å€¼">å–å˜é‡å€¼</a></li></ul>
                </li>
                <li>
                    <a href="#customization" aria-label="Customization">Customization</a><ul>
                        
                <li>
                    <a href="#common-item-keywords" aria-label="Common Item Keywords">Common Item Keywords</a></li>
                <li>
                    <a href="#customization-groups" aria-label="customization groups">customization groups</a></li>
                <li>
                    <a href="#customizable-variable" aria-label="customizable variable">customizable variable</a><ul>
                        
                <li>
                    <a href="#customization-type" aria-label="Customization Type">Customization Type</a></li></ul>
                </li>
                <li>
                    <a href="#customizable-face" aria-label="customizable face">customizable face</a></li></ul>
                </li>
                <li>
                    <a href="#loading" aria-label="Loading">Loading</a><ul>
                        
                <li>
                    <a href="#load%e5%91%bd%e4%bb%a4" aria-label="Loadå‘½ä»¤">Loadå‘½ä»¤</a></li>
                <li>
                    <a href="#autoload" aria-label="Autoload">Autoload</a></li>
                <li>
                    <a href="#features" aria-label="Features">Features</a></li>
                <li>
                    <a href="#%e6%9f%a5%e6%89%be%e5%ae%9a%e4%b9%89%e6%89%80%e5%9c%a8%e7%9a%84%e6%96%87%e4%bb%b6" aria-label="æŸ¥æ‰¾å®šä¹‰æ‰€åœ¨çš„æ–‡ä»¶">æŸ¥æ‰¾å®šä¹‰æ‰€åœ¨çš„æ–‡ä»¶</a></li>
                <li>
                    <a href="#unloading" aria-label="Unloading">Unloading</a></li>
                <li>
                    <a href="#hooks" aria-label="Hooks">Hooks</a></li></ul>
                </li>
                <li>
                    <a href="#byte-compilation" aria-label="Byte Compilation">Byte Compilation</a><ul>
                        
                <li>
                    <a href="#%e7%9b%b8%e5%85%b3%e5%87%bd%e6%95%b0" aria-label="ç›¸å…³å‡½æ•°">ç›¸å…³å‡½æ•°</a></li>
                <li>
                    <a href="#%e7%bc%96%e8%af%91%e6%9c%9f%e6%89%a7%e8%a1%8c%e8%af%ad%e5%8f%a5" aria-label="ç¼–è¯‘æœŸæ‰§è¡Œè¯­å¥">ç¼–è¯‘æœŸæ‰§è¡Œè¯­å¥</a></li>
                <li>
                    <a href="#compiler-errors" aria-label="Compiler Errors">Compiler Errors</a></li>
                <li>
                    <a href="#disassembly" aria-label="Disassembly">Disassembly</a></li></ul>
                </li>
                <li>
                    <a href="#reading-and-printing-lisp-objects" aria-label="Reading and Printing Lisp Objects">Reading and Printing Lisp Objects</a><ul>
                        
                <li>
                    <a href="#input-stream" aria-label="Input Stream">Input Stream</a><ul>
                        
                <li>
                    <a href="#input-functions" aria-label="Input Functions">Input Functions</a></li></ul>
                </li>
                <li>
                    <a href="#output-stream" aria-label="Output Stream">Output Stream</a><ul>
                        
                <li>
                    <a href="#output-functions" aria-label="Output Functions">Output Functions</a></li>
                <li>
                    <a href="#output-variables" aria-label="Output Variables">Output Variables</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#documentation" aria-label="Documentation">Documentation</a><ul>
                        
                <li>
                    <a href="#%e8%8e%b7%e5%8f%96doc-string" aria-label="è·å–doc-string">è·å–doc-string</a></li>
                <li>
                    <a href="#%e6%9b%bf%e6%8d%a2doc-string%e4%b8%ad%e7%9a%84key-binding" aria-label="æ›¿æ¢doc-stringä¸­çš„key binding">æ›¿æ¢doc-stringä¸­çš„key binding</a></li>
                <li>
                    <a href="#%e5%b0%86%e9%94%ae%e5%ba%8f%e5%88%97%e8%be%93%e5%87%ba%e4%b8%ba%e6%96%87%e6%9c%ac%e6%a0%bc%e5%bc%8f" aria-label="å°†é”®åºåˆ—è¾“å‡ºä¸ºæ–‡æœ¬æ ¼å¼">å°†é”®åºåˆ—è¾“å‡ºä¸ºæ–‡æœ¬æ ¼å¼</a></li></ul>
                </li>
                <li>
                    <a href="#elisp%e4%b8%ad%e7%9a%84%e5%87%bd%e6%95%b0" aria-label="Elispä¸­çš„å‡½æ•°">Elispä¸­çš„å‡½æ•°</a><ul>
                        
                <li>
                    <a href="#elisp%e4%b8%ad%e5%87%bd%e6%95%b0%e7%9a%84%e5%88%86%e7%b1%bb" aria-label="Elispä¸­å‡½æ•°çš„åˆ†ç±»">Elispä¸­å‡½æ•°çš„åˆ†ç±»</a></li>
                <li>
                    <a href="#%e8%8e%b7%e5%8f%96%e5%87%bd%e6%95%b0%e4%bf%a1%e6%81%af" aria-label="è·å–å‡½æ•°ä¿¡æ¯">è·å–å‡½æ•°ä¿¡æ¯</a></li>
                <li>
                    <a href="#%e5%8c%bf%e5%90%8d%e5%87%bd%e6%95%b0" aria-label="åŒ¿åå‡½æ•°">åŒ¿åå‡½æ•°</a><ul>
                        
                <li>
                    <a href="#%e8%8e%b7%e5%8f%96%e5%8c%bf%e5%90%8d%e5%87%bd%e6%95%b0" aria-label="è·å–åŒ¿åå‡½æ•°">è·å–åŒ¿åå‡½æ•°</a></li>
                <li>
                    <a href="#%e5%8f%82%e6%95%b0%e5%88%97%e8%a1%a8" aria-label="å‚æ•°åˆ—è¡¨">å‚æ•°åˆ—è¡¨</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%91%bd%e5%90%8d%e5%87%bd%e6%95%b0" aria-label="å‘½åå‡½æ•°">å‘½åå‡½æ•°</a><ul>
                        
                <li>
                    <a href="#declare-form" aria-label="declare form">declare form</a></li></ul>
                </li>
                <li>
                    <a href="#%e8%b0%83%e7%94%a8%e5%87%bd%e6%95%b0" aria-label="è°ƒç”¨å‡½æ•°">è°ƒç”¨å‡½æ•°</a></li>
                <li>
                    <a href="#%e5%ba%9f%e5%bc%83%e5%87%bd%e6%95%b0" aria-label="åºŸå¼ƒå‡½æ•°">åºŸå¼ƒå‡½æ•°</a></li>
                <li>
                    <a href="#%e5%86%85%e8%81%94%e5%87%bd%e6%95%b0" aria-label="å†…è”å‡½æ•°">å†…è”å‡½æ•°</a></li>
                <li>
                    <a href="#%e5%87%bd%e6%95%b0%e5%a3%b0%e6%98%8e" aria-label="å‡½æ•°å£°æ˜">å‡½æ•°å£°æ˜</a></li>
                <li>
                    <a href="#%e5%87%bd%e6%95%b0%e6%8f%8f%e8%bf%b0%e5%ad%97%e7%ac%a6%e4%b8%b2--docstring" aria-label="å‡½æ•°æè¿°å­—ç¬¦ä¸²(docstring)">å‡½æ•°æè¿°å­—ç¬¦ä¸²(docstring)</a></li>
                <li>
                    <a href="#%e4%ba%a4%e4%ba%92%e6%a8%a1%e5%bc%8f%e5%a3%b0%e6%98%8e" aria-label="äº¤äº’æ¨¡å¼å£°æ˜">äº¤äº’æ¨¡å¼å£°æ˜</a></li>
                <li>
                    <a href="#declare-form" aria-label="declare-form">declare-form</a></li>
                <li>
                    <a href="#%e5%88%a4%e6%96%adfunction%e6%98%af%e5%90%a6%e5%ae%89%e5%85%a8" aria-label="åˆ¤æ–­functionæ˜¯å¦å®‰å…¨">åˆ¤æ–­functionæ˜¯å¦å®‰å…¨</a></li></ul>
                </li>
                <li>
                    <a href="#advising-emacs-lisp-functions" aria-label="Advising Emacs Lisp Functions">Advising Emacs Lisp Functions</a><ul>
                        
                <li>
                    <a href="#core-advising-primitives" aria-label="Core Advising Primitives">Core Advising Primitives</a></li>
                <li>
                    <a href="#advising-named-functions" aria-label="Advising Named Functions">Advising Named Functions</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%ae%8f" aria-label="å®">å®</a><ul>
                        
                <li>
                    <a href="#%e5%ae%8f%e4%b8%8e%e5%87%bd%e6%95%b0%e7%9a%84%e4%b8%8d%e5%90%8c" aria-label="å®ä¸å‡½æ•°çš„ä¸åŒ">å®ä¸å‡½æ•°çš„ä¸åŒ</a></li>
                <li>
                    <a href="#%e5%ae%9a%e4%b9%89%e5%ae%8f" aria-label="å®šä¹‰å®">å®šä¹‰å®</a></li>
                <li>
                    <a href="#%e5%ae%8f%e6%89%a9%e5%b1%95" aria-label="å®æ‰©å±•">å®æ‰©å±•</a></li>
                <li>
                    <a href="#%e5%ae%8f%e7%9a%84%e5%b7%a5%e4%bd%9c%e6%a8%a1%e5%bc%8f" aria-label="å®çš„å·¥ä½œæ¨¡å¼">å®çš„å·¥ä½œæ¨¡å¼</a></li></ul>
                </li>
                <li>
                    <a href="#%e8%b0%83%e8%af%95elisp%e7%a8%8b%e5%ba%8f" aria-label="è°ƒè¯•ELispç¨‹åº">è°ƒè¯•ELispç¨‹åº</a><ul>
                        
                <li>
                    <a href="#debugger" aria-label="debugger">debugger</a><ul>
                        
                <li>
                    <a href="#%e9%85%8d%e7%bd%ae%e4%bd%95%e6%97%b6%e8%bf%9b%e5%85%a5debugger" aria-label="é…ç½®ä½•æ—¶è¿›å…¥debugger">é…ç½®ä½•æ—¶è¿›å…¥debugger</a></li>
                <li>
                    <a href="#debugger%e4%bd%bf%e7%94%a8%e8%af%b4%e6%98%8e" aria-label="debuggerä½¿ç”¨è¯´æ˜">debuggerä½¿ç”¨è¯´æ˜</a></li>
                <li>
                    <a href="#debugger%e5%86%85%e9%83%a8%e5%ae%9e%e7%8e%b0%e4%bd%bf%e7%94%a8%e5%88%b0%e7%9a%84%e5%8f%98%e9%87%8f%e4%b8%8e%e5%87%bd%e6%95%b0" aria-label="debuggerå†…éƒ¨å®ç°ä½¿ç”¨åˆ°çš„å˜é‡ä¸å‡½æ•°">debuggerå†…éƒ¨å®ç°ä½¿ç”¨åˆ°çš„å˜é‡ä¸å‡½æ•°</a></li></ul>
                </li>
                <li>
                    <a href="#edebug" aria-label="edebug">edebug</a><ul>
                        
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8edebug%e7%9a%84%e4%b8%80%e8%88%ac%e6%ad%a5%e9%aa%a4" aria-label="ä½¿ç”¨Edebugçš„ä¸€èˆ¬æ­¥éª¤">ä½¿ç”¨Edebugçš„ä¸€èˆ¬æ­¥éª¤</a></li>
                <li>
                    <a href="#edebug%e4%b8%ad%e7%9a%84%e5%91%bd%e4%bb%a4" aria-label="Edebugä¸­çš„å‘½ä»¤">Edebugä¸­çš„å‘½ä»¤</a></li>
                <li>
                    <a href="#edebug%e4%b8%ad%e7%9a%84%e8%be%93%e5%87%ba%e6%a0%bc%e5%bc%8f" aria-label="Edebugä¸­çš„è¾“å‡ºæ ¼å¼">Edebugä¸­çš„è¾“å‡ºæ ¼å¼</a></li>
                <li>
                    <a href="#trace-buffer" aria-label="Trace Buffer">Trace Buffer</a></li></ul>
                </li>
                <li>
                    <a href="#test-coverage" aria-label="test coverage">test coverage</a><ul>
                        
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8%e6%ad%a5%e9%aa%a4" aria-label="ä½¿ç”¨æ­¥éª¤">ä½¿ç”¨æ­¥éª¤</a></li>
                <li>
                    <a href="#%e9%ab%98%e4%ba%ae%e8%af%b4%e6%98%8e" aria-label="é«˜äº®è¯´æ˜">é«˜äº®è¯´æ˜</a></li>
                <li>
                    <a href="#give-advice-to-the-test-coverage-too" aria-label="give advice to the test coverage too">give advice to the test coverage too</a></li></ul>
                </li>
                <li>
                    <a href="#profiling" aria-label="Profiling">Profiling</a></li>
                <li>
                    <a href="#trace" aria-label="Trace">Trace</a><ul>
                        
                <li>
                    <a href="#trace-function-function-and-optional-buffer-context" aria-label="(trace-function FUNCTION &amp;amp;optional BUFFER CONTEXT)">(trace-function FUNCTION &amp;optional BUFFER CONTEXT)</a></li>
                <li>
                    <a href="#trace-function-background-function-and-optional-buffercontext" aria-label="(trace-function-background FUNCTION &amp;amp;optional BUFFERCONTEXT)">(trace-function-background FUNCTION &amp;optional BUFFERCONTEXT)</a></li>
                <li>
                    <a href="#untrace-function-function" aria-label="(untrace-function FUNCTION)">(untrace-function FUNCTION)</a></li>
                <li>
                    <a href="#untrace-all" aria-label="(untrace-all)">(untrace-all)</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#command-loop" aria-label="Command Loop">Command Loop</a><ul>
                        
                <li>
                    <a href="#command-loop%e6%a6%82%e8%bf%b0" aria-label="Command Loopæ¦‚è¿°">Command Loopæ¦‚è¿°</a></li>
                <li>
                    <a href="#command" aria-label="Command">Command</a></li>
                <li>
                    <a href="#disabling-commands" aria-label="Disabling Commands">Disabling Commands</a></li>
                <li>
                    <a href="#command-history" aria-label="Command History">Command History</a></li>
                <li>
                    <a href="#%e5%a6%82%e4%bd%95%e5%88%86%e8%be%a8command%e6%98%af%e5%90%a6%e9%80%9a%e8%bf%87interactive%e6%96%b9%e5%bc%8f%e8%b0%83%e7%94%a8" aria-label="å¦‚ä½•åˆ†è¾¨Commandæ˜¯å¦é€šè¿‡Interactiveæ–¹å¼è°ƒç”¨">å¦‚ä½•åˆ†è¾¨Commandæ˜¯å¦é€šè¿‡Interactiveæ–¹å¼è°ƒç”¨</a></li>
                <li>
                    <a href="#generic-command" aria-label="generic command">generic command</a></li>
                <li>
                    <a href="#%e8%8e%b7%e5%8f%96command-loop%e4%b8%ad%e7%9a%84%e4%bf%a1%e6%81%af" aria-label="è·å–Command Loopä¸­çš„ä¿¡æ¯">è·å–Command Loopä¸­çš„ä¿¡æ¯</a></li>
                <li>
                    <a href="#command%e7%9a%84prefix-argument" aria-label="Commandçš„prefix argument">Commandçš„prefix argument</a></li>
                <li>
                    <a href="#quitting" aria-label="Quitting">Quitting</a></li>
                <li>
                    <a href="#keyboard-macro" aria-label="Keyboard Macro">Keyboard Macro</a></li></ul>
                </li>
                <li>
                    <a href="#inputevent" aria-label="InputEvent">InputEvent</a><ul>
                        
                <li>
                    <a href="#keyboard-event" aria-label="Keyboard Event">Keyboard Event</a><ul>
                        
                <li>
                    <a href="#%e6%99%ae%e9%80%9a%e6%8c%89%e9%94%ae%e4%ba%8b%e4%bb%b6" aria-label="æ™®é€šæŒ‰é”®äº‹ä»¶">æ™®é€šæŒ‰é”®äº‹ä»¶</a></li>
                <li>
                    <a href="#%e5%8a%9f%e8%83%bd%e9%94%ae%e4%ba%8b%e4%bb%b6" aria-label="åŠŸèƒ½é”®äº‹ä»¶">åŠŸèƒ½é”®äº‹ä»¶</a></li>
                <li>
                    <a href="#%e4%bb%a5%e5%ad%97%e7%ac%a6%e4%b8%b2%e8%a1%a8%e7%a4%bakeyboard-event" aria-label="ä»¥å­—ç¬¦ä¸²è¡¨ç¤ºkeyboard event">ä»¥å­—ç¬¦ä¸²è¡¨ç¤ºkeyboard event</a></li></ul>
                </li>
                <li>
                    <a href="#mouse-events" aria-label="Mouse Events">Mouse Events</a><ul>
                        
                <li>
                    <a href="#%e7%82%b9%e5%87%bb%e4%ba%8b%e4%bb%b6" aria-label="ç‚¹å‡»äº‹ä»¶">ç‚¹å‡»äº‹ä»¶</a></li>
                <li>
                    <a href="#%e6%8b%96%e6%8b%bd%e4%ba%8b%e4%bb%b6" aria-label="æ‹–æ‹½äº‹ä»¶">æ‹–æ‹½äº‹ä»¶</a></li>
                <li>
                    <a href="#button-down%e4%ba%8b%e4%bb%b6" aria-label="Button-Downäº‹ä»¶">Button-Downäº‹ä»¶</a></li>
                <li>
                    <a href="#repeat-event" aria-label="Repeat Event">Repeat Event</a></li>
                <li>
                    <a href="#motion-events" aria-label="Motion Events">Motion Events</a></li>
                <li>
                    <a href="#focus-events" aria-label="Focus Events">Focus Events</a></li>
                <li>
                    <a href="#%e5%85%b6%e4%bb%96system-event" aria-label="å…¶ä»–System Event">å…¶ä»–System Event</a></li></ul>
                </li>
                <li>
                    <a href="#%e7%89%b9%e6%ae%8aevents" aria-label="ç‰¹æ®ŠEvents">ç‰¹æ®ŠEvents</a></li>
                <li>
                    <a href="#%e5%8c%ba%e5%88%86events" aria-label="åŒºåˆ†Events">åŒºåˆ†Events</a></li>
                <li>
                    <a href="#%e8%8e%b7%e5%8f%96mouse-events%e4%b8%ad%e7%9a%84%e4%bf%a1%e6%81%af" aria-label="è·å–Mouse Eventsä¸­çš„ä¿¡æ¯">è·å–Mouse Eventsä¸­çš„ä¿¡æ¯</a></li>
                <li>
                    <a href="#%e8%8e%b7%e5%8f%96scroll-bar-event%e4%b8%ad%e7%9a%84%e4%bf%a1%e6%81%af" aria-label="è·å–scroll bar eventä¸­çš„ä¿¡æ¯">è·å–scroll bar eventä¸­çš„ä¿¡æ¯</a></li>
                <li>
                    <a href="#%e6%8d%95%e8%8e%b7input-event" aria-label="æ•è·Input Event">æ•è·Input Event</a></li>
                <li>
                    <a href="#modifying-and-translating-input-events" aria-label="Modifying and Translating Input Events">Modifying and Translating Input Events</a></li>
                <li>
                    <a href="#event-input%e7%9a%84%e5%85%b6%e4%bb%96%e7%89%b9%e6%80%a7" aria-label="Event Inputçš„å…¶ä»–ç‰¹æ€§">Event Inputçš„å…¶ä»–ç‰¹æ€§</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%85%b3%e4%ba%8e%e8%be%93%e5%85%a5%e6%b3%95" aria-label="å…³äºè¾“å…¥æ³•">å…³äºè¾“å…¥æ³•</a></li>
                <li>
                    <a href="#keymaps" aria-label="Keymaps">Keymaps</a><ul>
                        
                <li>
                    <a href="#key-sequences" aria-label="Key Sequences">Key Sequences</a></li>
                <li>
                    <a href="#keymaps%e7%9a%84%e5%86%85%e9%83%a8%e7%bb%93%e6%9e%84" aria-label="Keymapsçš„å†…éƒ¨ç»“æ„">Keymapsçš„å†…éƒ¨ç»“æ„</a></li>
                <li>
                    <a href="#%e5%88%9b%e5%bb%bakeymap" aria-label="åˆ›å»ºkeymap">åˆ›å»ºkeymap</a></li>
                <li>
                    <a href="#keymap%e7%9a%84%e7%bb%a7%e6%89%bf" aria-label="keymapçš„ç»§æ‰¿">keymapçš„ç»§æ‰¿</a></li>
                <li>
                    <a href="#%e6%a0%87%e5%87%86emacs-prefix-key-keymap" aria-label="æ ‡å‡†Emacs prefix key keymap">æ ‡å‡†Emacs prefix key keymap</a></li>
                <li>
                    <a href="#active-keymaps" aria-label="Active Keymaps">Active Keymaps</a></li>
                <li>
                    <a href="#key-lookup" aria-label="Key Lookup">Key Lookup</a><ul>
                        
                <li>
                    <a href="#%e7%9b%b8%e5%85%b3%e5%87%bd%e6%95%b0" aria-label="ç›¸å…³å‡½æ•°">ç›¸å…³å‡½æ•°</a></li></ul>
                </li>
                <li>
                    <a href="#changing-key-binding" aria-label="Changing Key Binding">Changing Key Binding</a></li>
                <li>
                    <a href="#remapping-commands" aria-label="Remapping Commands">Remapping Commands</a></li>
                <li>
                    <a href="#%e7%94%a8%e4%ba%8e%e8%bd%ac%e6%8d%a2event-sequence%e7%9a%84keymap" aria-label="ç”¨äºè½¬æ¢event sequenceçš„keymap">ç”¨äºè½¬æ¢event sequenceçš„keymap</a></li>
                <li>
                    <a href="#scanning-keymaps" aria-label="Scanning keymaps">Scanning keymaps</a></li>
                <li>
                    <a href="#menu-keymaps" aria-label="Menu Keymaps">Menu Keymaps</a><ul>
                        
                <li>
                    <a href="#defining-menus" aria-label="Defining Menus">Defining Menus</a></li>
                <li>
                    <a href="#menu-and-the-mouse" aria-label="Menu and the Mouse">Menu and the Mouse</a></li>
                <li>
                    <a href="#menus-and-the-keyboard" aria-label="Menus and the Keyboard">Menus and the Keyboard</a></li>
                <li>
                    <a href="#the-menu-bar" aria-label="The Menu Bar">The Menu Bar</a></li>
                <li>
                    <a href="#tool-bars" aria-label="Tool bars">Tool bars</a></li>
                <li>
                    <a href="#modifying-menus" aria-label="Modifying Menus">Modifying Menus</a></li>
                <li>
                    <a href="#easy-menu" aria-label="Easy Menu">Easy Menu</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#major-mode-and-minor-mode" aria-label="Major Mode and Minor Mode">Major Mode and Minor Mode</a><ul>
                        
                <li>
                    <a href="#hooks" aria-label="Hooks">Hooks</a><ul>
                        
                <li>
                    <a href="#%e8%b0%83%e7%94%a8hook%e4%b8%ad%e7%9a%84%e5%87%bd%e6%95%b0" aria-label="è°ƒç”¨Hookä¸­çš„å‡½æ•°">è°ƒç”¨Hookä¸­çš„å‡½æ•°</a></li>
                <li>
                    <a href="#%e8%ae%be%e7%bd%aehook%e5%8f%98%e9%87%8f" aria-label="è®¾ç½®Hookå˜é‡">è®¾ç½®Hookå˜é‡</a></li></ul>
                </li>
                <li>
                    <a href="#major-modes" aria-label="Major Modes">Major Modes</a><ul>
                        
                <li>
                    <a href="#major-mode-conventions" aria-label="Major Mode Conventions">Major Mode Conventions</a></li>
                <li>
                    <a href="#how-emacs-chooses-a-major-mode" aria-label="How Emacs Chooses a Major Mode">How Emacs Chooses a Major Mode</a></li>
                <li>
                    <a href="#mode-help" aria-label="Mode Help">Mode Help</a></li>
                <li>
                    <a href="#derived-modes" aria-label="Derived Modes">Derived Modes</a></li>
                <li>
                    <a href="#basic-major-modes" aria-label="Basic Major Modes">Basic Major Modes</a></li>
                <li>
                    <a href="#mode-hooks" aria-label="Mode Hooks">Mode Hooks</a></li>
                <li>
                    <a href="#generic-modes" aria-label="Generic Modes">Generic Modes</a></li></ul>
                </li>
                <li>
                    <a href="#minor-modes" aria-label="Minor Modes">Minor Modes</a><ul>
                        
                <li>
                    <a href="#minor-mode-conventions" aria-label="Minor Mode Conventions">Minor Mode Conventions</a></li>
                <li>
                    <a href="#keymaps-and-minor-modes" aria-label="Keymaps and Minor Modes">Keymaps and Minor Modes</a></li>
                <li>
                    <a href="#defining-minor-modes" aria-label="Defining Minor Modes">Defining Minor Modes</a></li></ul>
                </li>
                <li>
                    <a href="#mode-line-format" aria-label="Mode Line Format">Mode Line Format</a><ul>
                        
                <li>
                    <a href="#mode-line%e5%9f%ba%e7%a1%80%e8%af%b4%e6%98%8e" aria-label="Mode LineåŸºç¡€è¯´æ˜">Mode LineåŸºç¡€è¯´æ˜</a></li>
                <li>
                    <a href="#mode-line-format-header-line-format%e5%92%8cframe-title-format%e7%9a%84%e6%a0%bc%e5%bc%8f" aria-label="mode-line-format,header-line-formatå’Œframe-title-formatçš„æ ¼å¼">mode-line-format,header-line-formatå’Œframe-title-formatçš„æ ¼å¼</a></li>
                <li>
                    <a href="#mode-line-format%e4%b8%ad%e5%b8%b8%e7%94%a8%e5%88%b0%e7%9a%84%e5%8f%98%e9%87%8f" aria-label="Mode-line-formatä¸­å¸¸ç”¨åˆ°çš„å˜é‡">Mode-line-formatä¸­å¸¸ç”¨åˆ°çš„å˜é‡</a></li>
                <li>
                    <a href="#constructs%e8%af%b4%e6%98%8e" aria-label="%-constructsè¯´æ˜">%-constructsè¯´æ˜</a></li>
                <li>
                    <a href="#mode-line%e4%b8%ad%e7%9a%84text-properties" aria-label="Mode Lineä¸­çš„text properties">Mode Lineä¸­çš„text properties</a></li>
                <li>
                    <a href="#%e6%a8%a1%e6%8b%9fmode-line%e7%9a%84%e6%98%be%e7%a4%ba%e7%bb%93%e6%9e%9c" aria-label="æ¨¡æ‹Ÿmode lineçš„æ˜¾ç¤ºç»“æœ">æ¨¡æ‹Ÿmode lineçš„æ˜¾ç¤ºç»“æœ</a></li>
                <li>
                    <a href="#window-header-line" aria-label="Window Header Line">Window Header Line</a></li></ul>
                </li>
                <li>
                    <a href="#imenu" aria-label="Imenu">Imenu</a><ul>
                        
                <li>
                    <a href="#%e9%80%9a%e8%bf%87%e8%ae%be%e7%bd%ae-imenu-generic-expression-%e5%ae%9a%e4%b9%89imenu" aria-label="é€šè¿‡è®¾ç½®`imenu-generic-expression&amp;rsquo;å®šä¹‰Imenu">é€šè¿‡è®¾ç½®`imenu-generic-expression&rsquo;å®šä¹‰Imenu</a></li>
                <li>
                    <a href="#%e9%80%9a%e8%bf%87%e8%ae%be%e7%bd%ae-imenu-prev-index-position-function-%e5%92%8c-imenu-extract-index-name-function-%e6%9d%a5%e5%ae%9a%e4%b9%89imenu" aria-label="é€šè¿‡è®¾ç½®`imenu-prev-index-position-function&amp;rsquo;å’Œ`imenu-extract-index-name-function&amp;rsquo;æ¥å®šä¹‰Imenu">é€šè¿‡è®¾ç½®`imenu-prev-index-position-function&rsquo;å’Œ`imenu-extract-index-name-function&rsquo;æ¥å®šä¹‰Imenu</a></li>
                <li>
                    <a href="#%e9%80%9a%e8%bf%87%e8%ae%be%e7%bd%ae-imenu-create-index-function-%e6%9d%a5%e5%ae%9a%e4%b9%89imenu" aria-label="é€šè¿‡è®¾ç½®`imenu-create-index-function&amp;rsquo;æ¥å®šä¹‰Imenu">é€šè¿‡è®¾ç½®`imenu-create-index-function&rsquo;æ¥å®šä¹‰Imenu</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#font-lock-mode" aria-label="Font Lock Mode">Font Lock Mode</a><ul>
                        
                <li>
                    <a href="#font-lock-mode%e7%9a%84%e5%9f%ba%e7%a1%80%e8%af%b4%e6%98%8e" aria-label="Font Lock Modeçš„åŸºç¡€è¯´æ˜">Font Lock Modeçš„åŸºç¡€è¯´æ˜</a></li>
                <li>
                    <a href="#%e5%9f%ba%e4%ba%8e%e6%90%9c%e7%b4%a2%e7%9a%84%e9%ab%98%e4%ba%ae" aria-label="åŸºäºæœç´¢çš„é«˜äº®">åŸºäºæœç´¢çš„é«˜äº®</a></li></ul>
                </li>
                <li>
                    <a href="#auto-indentation" aria-label="Auto-Indentation">Auto-Indentation</a></li>
                <li>
                    <a href="#tabulated-list-mode" aria-label="Tabulated List Mode">Tabulated List Mode</a><ul>
                        
                <li>
                    <a href="#%e6%8c%87%e5%ae%9atabulated-data%e7%9a%84%e6%a0%bc%e5%bc%8f" aria-label="æŒ‡å®štabulated dataçš„æ ¼å¼">æŒ‡å®štabulated dataçš„æ ¼å¼</a></li>
                <li>
                    <a href="#%e5%85%b6%e4%bb%96%e5%87%bd%e6%95%b0" aria-label="å…¶ä»–å‡½æ•°">å…¶ä»–å‡½æ•°</a></li></ul>
                </li>
                <li>
                    <a href="#desktop-save-mode" aria-label="Desktop Save Mode">Desktop Save Mode</a></li>
                <li>
                    <a href="#emacs-display" aria-label="Emacs Display">Emacs Display</a><ul>
                        
                <li>
                    <a href="#the-display-property" aria-label="The Display Property">The Display Property</a></li>
                <li>
                    <a href="#images" aria-label="Images">Images</a></li></ul>
                </li>
                <li>
                    <a href="#number%e7%9b%b8%e5%85%b3%e5%87%bd%e6%95%b0" aria-label="Numberç›¸å…³å‡½æ•°">Numberç›¸å…³å‡½æ•°</a></li>
                <li>
                    <a href="#%e4%ba%8c%e8%bf%9b%e5%88%b6%e5%87%bd%e6%95%b0" aria-label="äºŒè¿›åˆ¶å‡½æ•°">äºŒè¿›åˆ¶å‡½æ•°</a></li>
                <li>
                    <a href="#%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%a4%84%e7%90%86%e7%9b%b8%e5%85%b3%e5%87%bd%e6%95%b0" aria-label="å­—ç¬¦ä¸²å¤„ç†ç›¸å…³å‡½æ•°">å­—ç¬¦ä¸²å¤„ç†ç›¸å…³å‡½æ•°</a><ul>
                        
                <li>
                    <a href="#%e5%88%a4%e6%96%ad%e5%87%bd%e6%95%b0" aria-label="åˆ¤æ–­å‡½æ•°">åˆ¤æ–­å‡½æ•°</a></li>
                <li>
                    <a href="#%e8%8e%b7%e5%8f%96%e5%ad%97%e7%ac%a6%e4%b8%b2%e7%9a%84%e5%87%bd%e6%95%b0" aria-label="è·å–å­—ç¬¦ä¸²çš„å‡½æ•°">è·å–å­—ç¬¦ä¸²çš„å‡½æ•°</a></li>
                <li>
                    <a href="#%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%93%8d%e4%bd%9c" aria-label="å­—ç¬¦ä¸²æ“ä½œ">å­—ç¬¦ä¸²æ“ä½œ</a></li>
                <li>
                    <a href="#format%e5%87%bd%e6%95%b0" aria-label="Formatå‡½æ•°">Formatå‡½æ•°</a></li></ul>
                </li>
                <li>
                    <a href="#list%e7%9b%b8%e5%85%b3%e5%87%bd%e6%95%b0" aria-label="listç›¸å…³å‡½æ•°">listç›¸å…³å‡½æ•°</a><ul>
                        
                <li>
                    <a href="#%e5%88%a4%e6%96%ad%e5%87%bd%e6%95%b0" aria-label="åˆ¤æ–­å‡½æ•°">åˆ¤æ–­å‡½æ•°</a></li>
                <li>
                    <a href="#%e8%8e%b7%e5%8f%96list%e4%b8%ad%e7%9a%84%e5%85%83%e7%b4%a0" aria-label="è·å–listä¸­çš„å…ƒç´ ">è·å–listä¸­çš„å…ƒç´ </a></li>
                <li>
                    <a href="#%e5%88%9b%e5%bb%bacons-cell%e5%92%8clist" aria-label="åˆ›å»ºcons cellå’Œlist">åˆ›å»ºcons cellå’Œlist</a></li>
                <li>
                    <a href="#%e4%bf%ae%e6%94%b9list%e5%8f%98%e9%87%8f" aria-label="ä¿®æ”¹listå˜é‡">ä¿®æ”¹listå˜é‡</a><ul>
                        
                <li>
                    <a href="#%e4%bc%9a%e7%a0%b4%e5%9d%8f%e5%8e%9f%e5%8f%82%e6%95%b0%e4%b8%ad%e7%9a%84%e5%80%bc" aria-label="ä¼šç ´ååŸå‚æ•°ä¸­çš„å€¼">ä¼šç ´ååŸå‚æ•°ä¸­çš„å€¼</a></li>
                <li>
                    <a href="#%e4%b8%8d%e7%a0%b4%e5%9d%8f%e5%8e%9f%e5%8f%82%e6%95%b0%e7%9a%84%e5%80%bc" aria-label="ä¸ç ´ååŸå‚æ•°çš„å€¼">ä¸ç ´ååŸå‚æ•°çš„å€¼</a></li></ul>
                </li>
                <li>
                    <a href="#alist%e7%9b%b8%e5%85%b3%e5%87%bd%e6%95%b0" aria-label="alistç›¸å…³å‡½æ•°">alistç›¸å…³å‡½æ•°</a><ul>
                        
                <li>
                    <a href="#%e8%8e%b7%e5%8f%96alist" aria-label="è·å–alist">è·å–alist</a></li>
                <li>
                    <a href="#%e6%a0%b9%e6%8d%aekey%e5%8f%96key-value%e9%94%ae%e5%80%bc%e5%af%b9" aria-label="æ ¹æ®keyå–key-valueé”®å€¼å¯¹">æ ¹æ®keyå–key-valueé”®å€¼å¯¹</a></li>
                <li>
                    <a href="#%e6%a0%b9%e6%8d%aevalue%e6%9f%a5%e6%89%bekey-value%e9%94%ae%e5%80%bc%e5%af%b9" aria-label="æ ¹æ®valueæŸ¥æ‰¾key-valueé”®å€¼å¯¹">æ ¹æ®valueæŸ¥æ‰¾key-valueé”®å€¼å¯¹</a></li>
                <li>
                    <a href="#%e6%9b%b4%e6%96%b0%e6%96%b0%e5%80%bc-%e6%b7%bb%e5%8a%a0%e6%96%b0%e5%80%bc" aria-label="æ›´æ–°æ–°å€¼/æ·»åŠ æ–°å€¼">æ›´æ–°æ–°å€¼/æ·»åŠ æ–°å€¼</a></li>
                <li>
                    <a href="#%e5%88%a0%e9%99%a4%e9%94%ae%e5%80%bc%e5%af%b9" aria-label="åˆ é™¤é”®å€¼å¯¹">åˆ é™¤é”®å€¼å¯¹</a></li></ul>
                </li>
                <li>
                    <a href="#property-list%e7%9b%b8%e5%85%b3%e5%87%bd%e6%95%b0" aria-label="Property listç›¸å…³å‡½æ•°">Property listç›¸å…³å‡½æ•°</a></li></ul>
                </li>
                <li>
                    <a href="#%e7%8e%af%e7%8a%b6%e7%bb%93%e6%9e%84%e4%bd%93%e7%9b%b8%e5%85%b3%e5%87%bd%e6%95%b0" aria-label="ç¯çŠ¶ç»“æ„ä½“ç›¸å…³å‡½æ•°">ç¯çŠ¶ç»“æ„ä½“ç›¸å…³å‡½æ•°</a></li>
                <li>
                    <a href="#sequences%e7%9b%b8%e5%85%b3%e5%87%bd%e6%95%b0" aria-label="Sequencesç›¸å…³å‡½æ•°">Sequencesç›¸å…³å‡½æ•°</a><ul>
                        
                <li>
                    <a href="#array%e7%9b%b8%e5%85%b3%e5%87%bd%e6%95%b0" aria-label="Arrayç›¸å…³å‡½æ•°">Arrayç›¸å…³å‡½æ•°</a><ul>
                        
                <li>
                    <a href="#vector%e7%9b%b8%e5%85%b3%e5%87%bd%e6%95%b0" aria-label="Vectorç›¸å…³å‡½æ•°">Vectorç›¸å…³å‡½æ•°</a></li>
                <li>
                    <a href="#char-table%e7%9b%b8%e5%85%b3%e5%87%bd%e6%95%b0" aria-label="Char-Tableç›¸å…³å‡½æ•°">Char-Tableç›¸å…³å‡½æ•°</a></li>
                <li>
                    <a href="#bool-vector%e7%9b%b8%e5%85%b3%e5%87%bd%e6%95%b0" aria-label="Bool-vectorç›¸å…³å‡½æ•°">Bool-vectorç›¸å…³å‡½æ•°</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#hashtable%e7%9b%b8%e5%85%b3%e5%87%bd%e6%95%b0" aria-label="HashTableç›¸å…³å‡½æ•°">HashTableç›¸å…³å‡½æ•°</a><ul>
                        
                <li>
                    <a href="#%e5%88%a4%e6%96%ad%e5%87%bd%e6%95%b0" aria-label="åˆ¤æ–­å‡½æ•°">åˆ¤æ–­å‡½æ•°</a></li>
                <li>
                    <a href="#%e5%88%9b%e5%bb%bahash-table" aria-label="åˆ›å»ºhash-table">åˆ›å»ºhash-table</a></li>
                <li>
                    <a href="#%e6%b7%bb%e5%8a%a0item-%e4%bf%ae%e6%94%b9item%e7%9a%84%e5%80%bc" aria-label="æ·»åŠ item / ä¿®æ”¹itemçš„å€¼">æ·»åŠ item / ä¿®æ”¹itemçš„å€¼</a></li>
                <li>
                    <a href="#%e5%88%a0%e9%99%a4item" aria-label="åˆ é™¤item">åˆ é™¤item</a></li>
                <li>
                    <a href="#%e8%8e%b7%e5%8f%96%e6%9f%90item%e7%9a%84%e5%80%bc" aria-label="è·å–æŸitemçš„å€¼">è·å–æŸitemçš„å€¼</a></li>
                <li>
                    <a href="#%e8%8e%b7%e5%8f%96hash%e4%b8%ad%e7%9a%84%e5%b1%9e%e6%80%a7" aria-label="è·å–hashä¸­çš„å±æ€§">è·å–hashä¸­çš„å±æ€§</a></li>
                <li>
                    <a href="#%e4%b8%bahash-map%e4%b8%ad%e7%9a%84%e6%89%80%e6%9c%89%e9%94%ae%e5%80%bc%e5%af%b9%e8%b0%83%e7%94%a8%e5%87%bd%e6%95%b0%e5%a4%84%e7%90%86" aria-label="ä¸ºhash-mapä¸­çš„æ‰€æœ‰é”®å€¼å¯¹è°ƒç”¨å‡½æ•°å¤„ç†">ä¸ºhash-mapä¸­çš„æ‰€æœ‰é”®å€¼å¯¹è°ƒç”¨å‡½æ•°å¤„ç†</a></li>
                <li>
                    <a href="#%e8%8e%b7%e5%8f%96hash-map%e4%b8%ad%e7%9a%84%e6%89%80%e6%9c%89key%e5%80%bc-value%e5%80%bc" aria-label="è·å–hash-mapä¸­çš„æ‰€æœ‰keyå€¼ / valueå€¼">è·å–hash-mapä¸­çš„æ‰€æœ‰keyå€¼ / valueå€¼</a></li>
                <li>
                    <a href="#%e4%bf%ae%e6%94%b9hash-table%e7%9a%84%e6%af%94%e8%be%83%e6%96%b9%e6%b3%95" aria-label="ä¿®æ”¹Hash-tableçš„æ¯”è¾ƒæ–¹æ³•">ä¿®æ”¹Hash-tableçš„æ¯”è¾ƒæ–¹æ³•</a></li></ul>
                </li>
                <li>
                    <a href="#symbol%e7%9b%b8%e5%85%b3%e5%87%bd%e6%95%b0" aria-label="Symbolç›¸å…³å‡½æ•°">Symbolç›¸å…³å‡½æ•°</a><ul>
                        
                <li>
                    <a href="#symbol%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86" aria-label="symbolç»„æˆéƒ¨åˆ†">symbolç»„æˆéƒ¨åˆ†</a></li>
                <li>
                    <a href="#%e8%8e%b7%e5%8f%96symbol" aria-label="è·å–symbol">è·å–symbol</a></li>
                <li>
                    <a href="#%e5%85%b6%e4%bb%96%e5%87%bd%e6%95%b0" aria-label="å…¶ä»–å‡½æ•°">å…¶ä»–å‡½æ•°</a></li>
                <li>
                    <a href="#symbol%e4%b8%ad%e7%9a%84property" aria-label="symbolä¸­çš„property">symbolä¸­çš„property</a></li>
                <li>
                    <a href="#%e6%a0%87%e5%87%86symbol-property%e8%af%b4%e6%98%8e" aria-label="æ ‡å‡†symbol propertyè¯´æ˜">æ ‡å‡†symbol propertyè¯´æ˜</a></li></ul>
                </li>
                <li>
                    <a href="#region-mark%e7%9b%b8%e5%85%b3%e5%87%bd%e6%95%b0" aria-label="Region/Markç›¸å…³å‡½æ•°">Region/Markç›¸å…³å‡½æ•°</a></li>
                <li>
                    <a href="#evaluation" aria-label="Evaluation">Evaluation</a><ul>
                        
                <li>
                    <a href="#%e5%8f%8d%e5%bc%95%e5%8f%b7" aria-label="`(åå¼•å·)">`(åå¼•å·)</a></li>
                <li>
                    <a href="#%e5%87%bd%e6%95%b0" aria-label="å‡½æ•°">å‡½æ•°</a></li>
                <li>
                    <a href="#%e9%80%89%e9%a1%b9" aria-label="é€‰é¡¹">é€‰é¡¹</a></li></ul>
                </li>
                <li>
                    <a href="#%e7%bc%93%e5%86%b2%e5%8c%ba" aria-label="ç¼“å†²åŒº">ç¼“å†²åŒº</a><ul>
                        
                <li>
                    <a href="#%e8%8e%b7%e5%8f%96buffer%e5%af%b9%e8%b1%a1" aria-label="è·å–bufferå¯¹è±¡">è·å–bufferå¯¹è±¡</a></li>
                <li>
                    <a href="#buffer%e6%93%8d%e4%bd%9c" aria-label="bufferæ“ä½œ">bufferæ“ä½œ</a></li>
                <li>
                    <a href="#%e8%8e%b7%e5%8f%96%e7%bc%93%e5%86%b2%e5%8c%ba%e5%86%85%e5%ae%b9" aria-label="è·å–ç¼“å†²åŒºå†…å®¹">è·å–ç¼“å†²åŒºå†…å®¹</a></li>
                <li>
                    <a href="#buffer%e5%86%85%e5%ae%b9%e5%a4%84%e7%90%86%e7%9b%b8%e5%85%b3%e5%87%bd%e6%95%b0" aria-label="bufferå†…å®¹å¤„ç†ç›¸å…³å‡½æ•°">bufferå†…å®¹å¤„ç†ç›¸å…³å‡½æ•°</a><ul>
                        
                <li>
                    <a href="#%e5%88%a0%e9%99%a4%e6%93%8d%e4%bd%9c" aria-label="åˆ é™¤æ“ä½œ">åˆ é™¤æ“ä½œ</a></li>
                <li>
                    <a href="#%e6%8f%92%e5%85%a5%e6%93%8d%e4%bd%9c" aria-label="æ’å…¥æ“ä½œ">æ’å…¥æ“ä½œ</a></li>
                <li>
                    <a href="#%e6%9f%a5%e6%89%be-%e6%9b%bf%e6%8d%a2%e6%93%8d%e4%bd%9c" aria-label="æŸ¥æ‰¾/æ›¿æ¢æ“ä½œ">æŸ¥æ‰¾/æ›¿æ¢æ“ä½œ</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%bf%9d%e5%ad%98%e7%8e%b0%e5%9c%ba" aria-label="ä¿å­˜ç°åœº">ä¿å­˜ç°åœº</a></li></ul>
                </li>
                <li>
                    <a href="#window" aria-label="Window">Window</a><ul>
                        
                <li>
                    <a href="#%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5" aria-label="åŸºæœ¬æ¦‚å¿µ">åŸºæœ¬æ¦‚å¿µ</a><ul>
                        
                <li>
                    <a href="#live-window" aria-label="live window">live window</a></li>
                <li>
                    <a href="#valid-window" aria-label="valid window">valid window</a></li>
                <li>
                    <a href="#selected-window" aria-label="selected-window">selected-window</a></li></ul>
                </li>
                <li>
                    <a href="#window%e4%b8%8eframe%e7%9a%84%e5%85%b3%e7%b3%bb" aria-label="windowä¸frameçš„å…³ç³»">windowä¸frameçš„å…³ç³»</a></li>
                <li>
                    <a href="#%e8%8e%b7%e5%be%97%e7%aa%97%e5%8f%a3%e5%af%b9%e8%b1%a1" aria-label="è·å¾—çª—å£å¯¹è±¡">è·å¾—çª—å£å¯¹è±¡</a></li>
                <li>
                    <a href="#%e7%aa%97%e5%8f%a3%e6%93%8d%e4%bd%9c" aria-label="çª—å£æ“ä½œ">çª—å£æ“ä½œ</a></li>
                <li>
                    <a href="#%e7%aa%97%e5%8f%a3%e4%bf%a1%e6%81%af" aria-label="çª—å£ä¿¡æ¯">çª—å£ä¿¡æ¯</a></li></ul>
                </li>
                <li>
                    <a href="#%e6%96%87%e4%bb%b6" aria-label="æ–‡ä»¶">æ–‡ä»¶</a><ul>
                        
                <li>
                    <a href="#%e6%96%87%e4%bb%b6%e8%af%bb%e5%86%99" aria-label="æ–‡ä»¶è¯»å†™">æ–‡ä»¶è¯»å†™</a></li>
                <li>
                    <a href="#%e6%96%87%e4%bb%b6%e4%bf%a1%e6%81%af" aria-label="æ–‡ä»¶ä¿¡æ¯">æ–‡ä»¶ä¿¡æ¯</a></li>
                <li>
                    <a href="#%e6%96%87%e4%bb%b6%e5%90%8d%e7%9b%b8%e5%85%b3%e5%87%bd%e6%95%b0" aria-label="æ–‡ä»¶åç›¸å…³å‡½æ•°">æ–‡ä»¶åç›¸å…³å‡½æ•°</a></li>
                <li>
                    <a href="#%e6%96%87%e4%bb%b6%e6%93%8d%e4%bd%9c" aria-label="æ–‡ä»¶æ“ä½œ">æ–‡ä»¶æ“ä½œ</a></li>
                <li>
                    <a href="#%e4%b8%b4%e6%97%b6%e6%96%87%e4%bb%b6" aria-label="ä¸´æ—¶æ–‡ä»¶">ä¸´æ—¶æ–‡ä»¶</a></li>
                <li>
                    <a href="#%e7%a5%9e%e5%a5%87%e7%9a%84handler" aria-label="ç¥å¥‡çš„handler">ç¥å¥‡çš„handler</a></li></ul>
                </li>
                <li>
                    <a href="#processes" aria-label="Processes">Processes</a><ul>
                        
                <li>
                    <a href="#%e5%88%9b%e5%bb%ba%e5%ad%90%e8%bf%9b%e7%a8%8b" aria-label="åˆ›å»ºå­è¿›ç¨‹">åˆ›å»ºå­è¿›ç¨‹</a></li>
                <li>
                    <a href="#deleting-processes" aria-label="Deleting Processes">Deleting Processes</a></li>
                <li>
                    <a href="#process%e7%9a%84%e5%b1%9e%e6%80%a7" aria-label="processçš„å±æ€§">processçš„å±æ€§</a></li>
                <li>
                    <a href="#%e4%b8%8eprocess%e7%9a%84%e4%ba%a4%e4%ba%92" aria-label="ä¸Processçš„äº¤äº’">ä¸Processçš„äº¤äº’</a><ul>
                        
                <li>
                    <a href="#sending-input-to-processes" aria-label="Sending Input to Processes">Sending Input to Processes</a></li>
                <li>
                    <a href="#sending-signals-to-processes" aria-label="Sending Signals to Processes">Sending Signals to Processes</a></li>
                <li>
                    <a href="#receiving-output-from-process" aria-label="Receiving Output from Process">Receiving Output from Process</a></li></ul>
                </li>
                <li>
                    <a href="#accessing-other-processes" aria-label="Accessing Other Processes">Accessing Other Processes</a></li>
                <li>
                    <a href="#%e4%ba%a4%e6%98%93%e9%98%9f%e5%88%97" aria-label="äº¤æ˜“é˜Ÿåˆ—">äº¤æ˜“é˜Ÿåˆ—</a></li>
                <li>
                    <a href="#network-process" aria-label="Network Process">Network Process</a><ul>
                        
                <li>
                    <a href="#%e5%88%9b%e5%bb%ba%e8%a1%a8%e7%a4%ba%e7%bd%91%e7%bb%9c%e8%bf%9e%e6%8e%a5-%e7%bd%91%e7%bb%9c%e6%9c%8d%e5%8a%a1%e7%9a%84process-object" aria-label="åˆ›å»ºè¡¨ç¤ºç½‘ç»œè¿æ¥/ç½‘ç»œæœåŠ¡çš„process object">åˆ›å»ºè¡¨ç¤ºç½‘ç»œè¿æ¥/ç½‘ç»œæœåŠ¡çš„process object</a></li>
                <li>
                    <a href="#%e6%b5%8b%e8%af%95network%e7%89%b9%e6%80%a7" aria-label="æµ‹è¯•Networkç‰¹æ€§">æµ‹è¯•Networkç‰¹æ€§</a></li>
                <li>
                    <a href="#%e5%85%b6%e4%bb%96network%e5%87%bd%e6%95%b0" aria-label="å…¶ä»–Networkå‡½æ•°">å…¶ä»–Networkå‡½æ•°</a></li></ul>
                </li>
                <li>
                    <a href="#serial-port-process" aria-label="Serial Port Process">Serial Port Process</a></li></ul>
                </li>
                <li>
                    <a href="#%e6%93%8d%e4%bd%9c%e7%b3%bb%e7%bb%9f%e7%9b%b8%e5%85%b3" aria-label="æ“ä½œç³»ç»Ÿç›¸å…³">æ“ä½œç³»ç»Ÿç›¸å…³</a><ul>
                        
                <li>
                    <a href="#emacs%e5%90%af%e5%8a%a8%e8%af%b4%e6%98%8e" aria-label="Emacså¯åŠ¨è¯´æ˜">Emacså¯åŠ¨è¯´æ˜</a><ul>
                        
                <li>
                    <a href="#emacs%e5%90%af%e5%8a%a8%e6%b5%81%e7%a8%8b" aria-label="Emacså¯åŠ¨æµç¨‹">Emacså¯åŠ¨æµç¨‹</a></li>
                <li>
                    <a href="#emacs%e7%9b%b8%e5%85%b3%e5%88%9d%e5%a7%8b%e5%8c%96%e6%96%87%e4%bb%b6" aria-label="Emacsç›¸å…³åˆå§‹åŒ–æ–‡ä»¶">Emacsç›¸å…³åˆå§‹åŒ–æ–‡ä»¶</a></li>
                <li>
                    <a href="#%e7%bb%88%e7%ab%af%e7%9b%b8%e5%85%b3%e7%9a%84library" aria-label="ç»ˆç«¯ç›¸å…³çš„library">ç»ˆç«¯ç›¸å…³çš„library</a></li>
                <li>
                    <a href="#emacs%e6%98%af%e5%a6%82%e4%bd%95%e5%a4%84%e7%90%86%e5%91%bd%e4%bb%a4%e8%a1%8c%e5%8f%82%e6%95%b0%e7%9a%84" aria-label="Emacsæ˜¯å¦‚ä½•å¤„ç†å‘½ä»¤è¡Œå‚æ•°çš„">Emacsæ˜¯å¦‚ä½•å¤„ç†å‘½ä»¤è¡Œå‚æ•°çš„</a></li></ul>
                </li>
                <li>
                    <a href="#%e9%80%80%e5%87%baemacs" aria-label="é€€å‡ºEmacs">é€€å‡ºEmacs</a><ul>
                        
                <li>
                    <a href="#%e9%80%80%e5%87%baemacs" aria-label="é€€å‡ºEmacs">é€€å‡ºEmacs</a></li>
                <li>
                    <a href="#%e6%8c%82%e8%b5%b7emacs" aria-label="æŒ‚èµ·Emacs">æŒ‚èµ·Emacs</a></li></ul>
                </li>
                <li>
                    <a href="#%e6%93%8d%e4%bd%9c%e7%b3%bb%e7%bb%9f%e7%8e%af%e5%a2%83%e7%9b%b8%e5%85%b3" aria-label="æ“ä½œç³»ç»Ÿç¯å¢ƒç›¸å…³">æ“ä½œç³»ç»Ÿç¯å¢ƒç›¸å…³</a></li>
                <li>
                    <a href="#%e7%94%a8%e6%88%b7%e4%bf%a1%e6%81%af" aria-label="ç”¨æˆ·ä¿¡æ¯">ç”¨æˆ·ä¿¡æ¯</a></li>
                <li>
                    <a href="#%e6%92%ad%e6%94%be%e5%a3%b0%e9%9f%b3" aria-label="æ’­æ”¾å£°éŸ³">æ’­æ”¾å£°éŸ³</a></li>
                <li>
                    <a href="#batch-mode" aria-label="Batch Mode">Batch Mode</a></li>
                <li>
                    <a href="#session%e7%ae%a1%e7%90%86" aria-label="Sessionç®¡ç†">Sessionç®¡ç†</a></li>
                <li>
                    <a href="#desktop-notificatino" aria-label="Desktop Notificatino">Desktop Notificatino</a></li>
                <li>
                    <a href="#file-notification" aria-label="File Notification">File Notification</a></li>
                <li>
                    <a href="#%e5%8a%a8%e6%80%81%e5%8a%a0%e8%bd%bd" aria-label="åŠ¨æ€åŠ è½½">åŠ¨æ€åŠ è½½</a></li>
                <li>
                    <a href="#%e5%ae%9a%e6%97%b6%e5%99%a8" aria-label="å®šæ—¶å™¨">å®šæ—¶å™¨</a></li></ul>
                </li>
                <li>
                    <a href="#dired-mode%e7%9b%b8%e5%85%b3%e5%87%bd%e6%95%b0" aria-label="Dired-modeç›¸å…³å‡½æ•°">Dired-modeç›¸å…³å‡½æ•°</a></li>
                <li>
                    <a href="#%e6%89%a7%e8%a1%8c%e5%91%bd%e4%bb%a4" aria-label="æ‰§è¡Œå‘½ä»¤">æ‰§è¡Œå‘½ä»¤</a></li>
                <li>
                    <a href="#register%e5%87%bd%e6%95%b0" aria-label="Registerå‡½æ•°">Registerå‡½æ•°</a></li>
                <li>
                    <a href="#org%e7%9b%b8%e5%85%b3%e5%87%bd%e6%95%b0" aria-label="Orgç›¸å…³å‡½æ•°">Orgç›¸å…³å‡½æ•°</a></li>
                <li>
                    <a href="#%e7%89%88%e6%9c%ac%e4%bf%a1%e6%81%af" aria-label="ç‰ˆæœ¬ä¿¡æ¯">ç‰ˆæœ¬ä¿¡æ¯</a></li>
                <li>
                    <a href="#wait-function" aria-label="wait function">wait function</a></li>
                <li>
                    <a href="#package%e7%9b%b8%e5%85%b3%e8%af%b4%e6%98%8e" aria-label="Packageç›¸å…³è¯´æ˜">Packageç›¸å…³è¯´æ˜</a><ul>
                        
                <li>
                    <a href="#package%e7%9a%84%e5%88%86%e7%b1%bb" aria-label="Packageçš„åˆ†ç±»">Packageçš„åˆ†ç±»</a><ul>
                        
                <li>
                    <a href="#%e5%8d%95%e6%96%87%e4%bb%b6package" aria-label="å•æ–‡ä»¶Package">å•æ–‡ä»¶Package</a></li>
                <li>
                    <a href="#%e5%a4%9a%e6%96%87%e4%bb%b6package" aria-label="å¤šæ–‡ä»¶Package">å¤šæ–‡ä»¶Package</a></li></ul>
                </li>
                <li>
                    <a href="#package%e7%9a%84%e5%b1%9e%e6%80%a7" aria-label="Packageçš„å±æ€§">Packageçš„å±æ€§</a></li>
                <li>
                    <a href="#package%e7%9a%84%e5%ae%89%e8%a3%85%e8%af%b4%e6%98%8e" aria-label="packageçš„å®‰è£…è¯´æ˜">packageçš„å®‰è£…è¯´æ˜</a></li>
                <li>
                    <a href="#package%e7%9a%84%e5%8a%a0%e8%bd%bd%e8%bf%87%e7%a8%8b" aria-label="packageçš„åŠ è½½è¿‡ç¨‹">packageçš„åŠ è½½è¿‡ç¨‹</a><ul>
                        
                <li>
                    <a href="#package-initialize-and-optional-no-activate" aria-label="(package-initialize &amp;amp;optional no-activate)">(package-initialize &amp;optional no-activate)</a></li></ul>
                </li>
                <li>
                    <a href="#package-archives" aria-label="Package Archives">Package Archives</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="æœ‰ä¸‰ç§æ–¹å¼å¯ä»¥åŠ è½½æ–‡ä»¶">æœ‰ä¸‰ç§æ–¹å¼å¯ä»¥åŠ è½½æ–‡ä»¶ï¼š<a hidden class="anchor" aria-hidden="true" href="#æœ‰ä¸‰ç§æ–¹å¼å¯ä»¥åŠ è½½æ–‡ä»¶">#</a></h2>
<ul>
<li>load</li>
<li>autoload</li>
<li>require</li>
</ul>
<h2 id="ä½¿ç”¨eval-after-loadå¯ä»¥æ¨è¿Ÿä¸€æ®µä»£ç çš„æ‰§è¡Œ">ä½¿ç”¨eval-after-loadå¯ä»¥æ¨è¿Ÿä¸€æ®µä»£ç çš„æ‰§è¡Œ<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨eval-after-loadå¯ä»¥æ¨è¿Ÿä¸€æ®µä»£ç çš„æ‰§è¡Œ">#</a></h2>
<p>(eval-after-load &ldquo;è§¦å‘æ¡ä»¶çš„æ–‡ä»¶&rdquo; å¾…æ‰§è¡Œçš„ä»£ç )
è¿™é‡Œï¼Œç¬¬ä¸€ä¸ªå‚æ•°çš„å€¼å¿…é¡»è·Ÿä¸Šé¢ä¸‰ç§æ–¹å¼åŠ è½½æ–‡ä»¶æ—¶çš„å€¼ä¸€æ¨¡ä¸€æ ·</p>
<h2 id="emacsä¸­çš„å˜é‡ä½œç”¨åŸŸ">emacsä¸­çš„å˜é‡ä½œç”¨åŸŸ<a hidden class="anchor" aria-hidden="true" href="#emacsä¸­çš„å˜é‡ä½œç”¨åŸŸ">#</a></h2>
<h3 id="buffer-localå˜é‡">buffer-localå˜é‡<a hidden class="anchor" aria-hidden="true" href="#buffer-localå˜é‡">#</a></h3>
<h4 id="å£°æ˜buffer-localå˜é‡">å£°æ˜buffer-localå˜é‡<a hidden class="anchor" aria-hidden="true" href="#å£°æ˜buffer-localå˜é‡">#</a></h4>
<ul>
<li>make-variable-buffer-local</li>
</ul>
<p>å„ä¸ªç¼“å†²åŒºéƒ½æœ‰å„è‡ªçš„buffer-localå˜é‡</p>
<ul>
<li>make-local-variable</li>
</ul>
<p>å½“å‰ç¼“å†²åŒºäº§ç”Ÿä¸€ä¸ªå±€éƒ¨å˜é‡,å…¶ä»–ç¼“å†²åŒºä»ç„¶ä½¿ç”¨å…¨å±€å˜é‡(æ¨èä½¿ç”¨)</p>
<h4 id="bufferç›¸å…³å‡½æ•°">bufferç›¸å…³å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#bufferç›¸å…³å‡½æ•°">#</a></h4>
<!--list-separator-->
<ul>
<li>
<p>with-current-buffer</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp"><span style="color:#75715e">;ä½¿å…¶ä¸­çš„bodyè¡¨è¾¾å¼åœ¨æŒ‡å®šçš„ç¼“å†²åŒºé‡Œæ‰§è¡Œ(ä½¿ç”¨æŒ‡å®šbufferçš„é…ç½®ä¿¡æ¯æ‰§è¡Œbodyè¡¨è¾¾å¼)</span>
(with-current-buffer buffer
body)
</code></pre></div></li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>get-buffer</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp"><span style="color:#75715e">;å¾—åˆ°ç¼“å†²åŒºåå­—çš„å¯¹åº”ç¼“å†²åŒºå¯¹è±¡,å¦‚æœæ²¡æœ‰è¿™ä¸ªåå­—çš„ç¼“å†²åŒº,è¿”å›nil</span>
(<span style="color:#a6e22e">get-buffer</span> <span style="color:#a6e22e">buffer-name</span>)
</code></pre></div></li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>default-value</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp"><span style="color:#75715e">;è®¿é—®ç¬¦å·çš„å…¨å±€å˜é‡çš„å€¼</span>
(<span style="color:#a6e22e">default-value</span> symbol)
</code></pre></div></li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>setq-default</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp"><span style="color:#75715e">;ä¿®æ”¹ç¬¦å·ä½œä¸ºå…¨å±€å˜é‡çš„å€¼</span>
(setq-default <span style="color:#a6e22e">symbol-name</span>)
</code></pre></div></li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>local-variable-p</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp"><span style="color:#75715e">;æµ‹è¯•å˜é‡æ˜¯ä¸æ˜¯buffer-localçš„</span>
(<span style="color:#a6e22e">local-variable-p</span> symbol [bufferå¯¹è±¡])
</code></pre></div></li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>buffer-local-value</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp"><span style="color:#75715e">;å¾—åˆ°å…¶ä»–ç¼“å†²åŒºå†…çš„buffer-localå˜é‡å€¼</span>
(<span style="color:#a6e22e">buffer-local-value</span> ç¬¦å· bufferå¯¹è±¡)
</code></pre></div></li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>default-boundp</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp"><span style="color:#75715e">;åˆ¤æ–­ç¬¦å·æ˜¯å¦æœ‰å…¨å±€å€¼</span>
(<span style="color:#a6e22e">default-boundp</span> ç¬¦å·)
</code></pre></div></li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>makunbound</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp"><span style="color:#75715e">;ä½¿ä¸€ä¸ªå˜é‡çš„å€¼é‡æ–°ä¸ºç©º</span>
(<span style="color:#a6e22e">makunbound</span> ç¬¦å·)
</code></pre></div></li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>kill-local-variable</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp"><span style="color:#75715e">;æ¸…é™¤ä¸€ä¸ªbuffer-localå˜é‡</span>
(<span style="color:#a6e22e">kill-local-variable</span> ç¬¦å·)
</code></pre></div></li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>kill-all-local-variables</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp"><span style="color:#75715e">;æ¸…é™¤æ‰€æœ‰çš„buffer-localå˜é‡,ä½†æ˜¯å¸¦æœ‰å±æ€§permanent-localçš„ä¸ä¼šæ¸…é™¤,å¸¦æœ‰è¿™äº›æ ‡è®°çš„å˜é‡ä¸€èˆ¬éƒ½æ˜¯å’Œç¼“å†²åŒºæ¨¡å¼æ— å…³çš„</span>
(<span style="color:#a6e22e">kill-all-local-variables</span>)
</code></pre></div></li>
</ul>
<h4 id="æ–‡ä»¶ä¸­çš„æœ¬åœ°å˜é‡åˆ—è¡¨">æ–‡ä»¶ä¸­çš„æœ¬åœ°å˜é‡åˆ—è¡¨<a hidden class="anchor" aria-hidden="true" href="#æ–‡ä»¶ä¸­çš„æœ¬åœ°å˜é‡åˆ—è¡¨">#</a></h4>
<ul>
<li>&ldquo;æœ¬åœ°å˜é‡åˆ—è¡¨&quot;å¯ä»¥ä½äºä»»ä½•æ–‡ä»¶çš„ç»“å°¾ä½ç½®,å®ƒçš„å½¢å¼å¦‚ä¸‹æ‰€ç¤º</li>
</ul>
<!--listend-->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">Local variables:
var1 <span style="color:#f92672">:</span> value1
var2 <span style="color:#f92672">:</span> value2
<span style="color:#f92672">...</span>
<span style="color:#a6e22e">eval</span> <span style="color:#f92672">:</span> form1
<span style="color:#a6e22e">eval</span> <span style="color:#f92672">:</span> form2
<span style="color:#f92672">...</span>
End:
</code></pre></div><p>è¿™é‡Œå®šä¹‰çš„varè‡ªåŠ¨æ˜¯buffer-localçš„,ç±»ä¼¼å®ä¸€æ ·,valueè¢«è®¤ä¸ºæ˜¯è¢«å¼•ç”¨çš„
è¿™é‡Œçš„formåˆ™ä¼šè‡ªåŠ¨æ‰§è¡Œ.</p>
<ul>
<li>å¯ä»¥é€šè¿‡åœ¨.emacsä¸­åŠ å…¥</li>
</ul>
<!--listend-->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">(setq enable-local-variables <span style="color:#e6db74">&#39;query</span>)
</code></pre></div><p>æ¥é˜»æ­¢&quot;æœ¬åœ°å˜é‡åˆ—è¡¨&quot;ç”Ÿæ•ˆ</p>
<h3 id="å˜é‡æœ¬åœ°åŒ–">å˜é‡æœ¬åœ°åŒ–<a hidden class="anchor" aria-hidden="true" href="#å˜é‡æœ¬åœ°åŒ–">#</a></h3>
<ul>
<li>æ™®é€šå˜é‡é€šè¿‡make-localvariableæˆ–make-variable-buffer-localå˜ä¸ºbufferï¼localçš„</li>
<li>make-variable-buffer-localä½¿æŒ‡å®šçš„å˜é‡åœ¨æ¯ä¸ªbufferä¸­éƒ½æ˜¯ç‹¬ç«‹çš„</li>
<li>make-local-variableä½¿å˜é‡åœ¨å½“å‰bufferæ˜¯ç‹¬ç«‹çš„ï¼Œè€Œå…¶ä»–bufferä¾ç„¶å…±äº«å…¨å±€å˜é‡</li>
<li>hookå˜é‡æ™ºèƒ½é€šè¿‡make-local-hookå˜ä¸ºbuffer-localçš„</li>
</ul>
<h2 id="elispä¸­çš„æ•°æ®ç±»å‹">elispä¸­çš„æ•°æ®ç±»å‹<a hidden class="anchor" aria-hidden="true" href="#elispä¸­çš„æ•°æ®ç±»å‹">#</a></h2>
<h3 id="number">Number<a hidden class="anchor" aria-hidden="true" href="#number">#</a></h3>
<h4 id="integer">Integer<a hidden class="anchor" aria-hidden="true" href="#integer">#</a></h4>
<p>æ ¹æ®æœºå™¨çš„ä¸åŒ,Integeræœ‰ä¸åŒçš„åŒºé—´(åˆ†åˆ«ç”±å˜é‡most-positive-fixnumå’Œmost-negative-fixnumæ¥æŒ‡ç¤º). ä½†elispè§„å®šæœ€å°‘çš„èŒƒå›´æ˜¯ä»-536870912åˆ°536870911.</p>
<p>ä»»ä½•è¶…è¿‡IntegerèŒƒå›´çš„å€¼éƒ½è®¤ä¸ºæ˜¯Floatå‹</p>
<p>é»˜è®¤,Integerç”¨10è¿›åˆ¶æ¥è¡¨ç¤ºæ•°,ä½†ä¹Ÿå¯ä»¥ç”¨</p>
<ul>
<li>#bNNNNè¡¨ç¤ºäºŒè¿›åˆ¶æ•°</li>
<li>#oNNNNè¡¨ç¤ºå…«è¿›åˆ¶æ•°</li>
<li>#xNNNNè¡¨ç¤ºåå…­è¿›åˆ¶æ•°</li>
<li>#MrNNNNè¡¨ç¤ºMè¿›åˆ¶çš„æ•°</li>
</ul>
<h4 id="float">Float<a hidden class="anchor" aria-hidden="true" href="#float">#</a></h4>
<p>Elispä¸­Floatçš„å–å€¼èŒƒå›´ä¸Cä¸­çš„doubleå‹ä¸€æ ·.</p>
<p>Floatä½¿ç”¨INFè¡¨ç¤ºæ— ç©·å¤§. Floatè¿˜æœ‰ä¸€ä¸ªç‰¹æ®Šå€¼åä¸ºNaN. å½“æ•°å­¦å‡½æ•°è®¡ç®—éæ³•è¡¨è¾¾å¼æ—¶ä¼šè¿”å›è¯¥å€¼.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">/</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0.0</span>)                               <span style="color:#75715e">;-0.0e+NaN</span>
(<span style="color:#a6e22e">/</span> <span style="color:#ae81ff">-0</span> <span style="color:#ae81ff">0.0</span>)                              <span style="color:#75715e">;-0.0e+NaN</span>
(<span style="color:#a6e22e">/</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">0.0</span>)                               <span style="color:#75715e">;1.0e+INF</span>
(<span style="color:#a6e22e">/</span> <span style="color:#ae81ff">-1</span> <span style="color:#ae81ff">0.0</span>)                              <span style="color:#75715e">;-1.0e+INF</span>

</code></pre></div><!--list-separator-->
<ul>
<li>
<p>ç›¸å…³å‡½æ•°</p>
<ul>
<li>
<p>åˆ¤æ–­æ˜¯å¦ä¸ºNAN</p>
<p>(isnan x)</p>
</li>
<li>
<p>(frexp x)</p>
<p>è¿”å›ä¸€ä¸ªå…ƒç»„(S . E),ä½¿å¾—S*2^E == x,Sçš„å€¼åœ¨[0.5 1)</p>
</li>
<li>
<p>(ldexp S E)</p>
<p>è¿”å›Floatå€¼x ä½¿å¾—x == S*2^E</p>
</li>
<li>
<p>(copysign x1 x2)</p>
<p>å‡è®¾x1 <code>= S1*2^E1, x2 =</code> S2*2^E2,åˆ™è¿”å›S1*2^E2çš„å€¼</p>
</li>
<li>
<p>(logb x)</p>
<p>è¿”å›log2(x)çš„å€¼,å‘ä¸‹å–æ•´. ä¾‹å¦‚(logb 10) =&gt; 3</p>
</li>
</ul>
</li>
</ul>
<h3 id="sequence">Sequence<a hidden class="anchor" aria-hidden="true" href="#sequence">#</a></h3>
<ul>
<li>
<p>è·å–sequenceçš„é•¿åº¦</p>
<p>(length mySequence)</p>
</li>
</ul>
<p>éœ€è¦æ³¨æ„çš„æ˜¯lengthä¸èƒ½å¯¹ç‚¹åˆ—è¡¨å’Œç¯å½¢åˆ—è¡¨æ±‚é•¿åº¦,ä½†æ˜¯å¯ä»¥ç”¨safe-lengthä»£æ›¿</p>
<h4 id="array">Array<a hidden class="anchor" aria-hidden="true" href="#array">#</a></h4>
<p>é™¤äº†char-tableä¹‹å¤–,åˆ›å»ºå…¶ä»–ç±»å‹çš„Arrayéƒ½éœ€è¦æŒ‡å®šä¸€ä¸ªå›ºå®šé•¿åº¦.</p>
<p>char-tableçš„é•¿åº¦æ˜¯ç”±character codeçš„èŒƒå›´æ‰€å†³å®šçš„,ä¸èƒ½äººå·¥æŒ‡å®š</p>
<!--list-separator-->
<ul>
<li>
<p>vector</p>
<p>vecotræ˜¯sequenceçš„ä¸€ä¸ªå­ç±»å‹</p>
<ul>
<li>
<p>å¦‚ä½•åˆ›å»ºä¸€ä¸ªvector</p>
<ul>
<li>ä½¿ç”¨å­—é¢é‡è¯­æ³•:[val1 val2 val3&hellip;]</li>
</ul>
</li>
<li>
<p>ä½¿ç”¨å‡½æ•°(vector val1 val2 val3&hellip;)</p>
</li>
<li>
<p>è·å–vectorçš„é•¿åº¦</p>
</li>
</ul>
<p>(length myVector)</p>
<ul>
<li>è·å–element</li>
</ul>
<p>(elt mySeq index)    # indexä»0å¼€å§‹</p>
<ul>
<li>è®¾ç½®element</li>
</ul>
<p>(aset mySeq index value)</p>
<ul>
<li>å°†å¤šä¸ªSequenceç»„åˆæˆä¸€ä¸ªvector</li>
</ul>
<p>(voncat seq1 seq2 &hellip;)</p>
<ul>
<li>å°†vectorè½¬æ¢æˆlist</li>
</ul>
<p>(append myVector nil)</p>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>bool-vector</p>
<ul>
<li>bool-vectoråªèƒ½å­˜æ”¾nilæˆ–t</li>
<li>bool-vectorçš„è¾“å‡ºæ ¼å¼ä¸å­—ç¬¦ä¸²ç±»ä¼¼,ä½†åœ¨å‰é¢åŠ ä¸Š`#&amp;é•¿åº¦`ä½œä¸ºæ ‡è¯†:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="color:#960050;background-color:#1e0010">#</span>&amp;é•¿åº¦<span style="color:#e6db74">&#34;å†…å®¹&#34;</span>                            <span style="color:#75715e">;è¿™é‡Œçš„é•¿åº¦è¡¨ç¤ºbool-vectorçš„é•¿åº¦,å†…å®¹çš„äºŒè¿›åˆ¶ä¸ºvectorçš„å†…å®¹,å†…å®¹çš„ç°å®æ–¹å¼ä¸ºå­—ç¬¦ä¸²</span>
(<span style="color:#a6e22e">make-bool-vector</span> <span style="color:#ae81ff">3</span> <span style="color:#66d9ef">t</span>)                  <span style="color:#75715e">; =&gt; #&amp;3&#34;^G&#34; ?\C-g == 7</span>
(<span style="color:#a6e22e">make-bool-vector</span> <span style="color:#ae81ff">3</span> <span style="color:#66d9ef">nil</span>)                <span style="color:#75715e">; =&gt; #&amp;3&#34;^@&#34; ?\C-@ == 0</span>
(<span style="color:#a6e22e">equal</span> <span style="color:#960050;background-color:#1e0010">#</span>&amp;3<span style="color:#e6db74">&#34;\377&#34;</span> <span style="color:#960050;background-color:#1e0010">#</span>&amp;3<span style="color:#e6db74">&#34;\007&#34;</span>)             <span style="color:#75715e">; =&gt; t</span>

</code></pre></div></li>
</ul>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>char-tables</p>
<ul>
<li>ç±»ä¼¼vector,ä½†å®ƒä½¿ç”¨Characterä½œä¸ºç´¢å¼•.</li>
<li>char-tablesçš„è¾“å‡ºæ ¼å¼ä¸vectorç±»ä¼¼,ä½†å‰é¢åŠ ä¸Š`#^`ä½œä¸ºæ ‡ç¤º</li>
<li>æ¯ä¸ªchar-tableå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªsymbolç±»å‹çš„&quot;subtype&rdquo;,å¯ä»¥ç”¨äºæ ‡è¯†char-tableçš„ç”¨å¤„, ä½¿ç”¨å‡½æ•°char-table-subtypleæ¥æŸ¥è¯¢è¯¥subtype</li>
<li>char-tableçš„subtypeä¸­çš„å±æ€§`char-table-extra-slots`å†³å®šäº†è¯¥char-tableçš„æ‰©å±•slotçš„ä¸ªæ•°(0-10ä¹‹é—´)</li>
<li>æ¯ä¸ªchar-tableéƒ½å¯ä»¥æœ‰ä¸€ä¸ªçˆ¶char-table,å­char-tableä»çˆ¶char-tableä¸­ç»§æ‰¿ç´¢å¼•çš„å€¼.</li>
<li>char-tableè¿˜èƒ½å¤Ÿè®¾å®šä¸€ä¸ªé»˜è®¤å€¼.è‹¥å‘ç°char-tableæŒ‡å®šindexçš„å€¼ä¸ºnil,åˆ™è¿”å›è¯¥é»˜è®¤å€¼.</li>
</ul>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>string</p>
<ul>
<li>
<p>elispä¸­çš„stringæ˜¯ä¸å¯å˜çš„.</p>
</li>
<li>
<p>stringä¸­ä¸èƒ½åŒ…å«?\H-N ?\A-N ?\s-N è¿™äº›å­—ç¬¦</p>
</li>
<li>
<p>stringä¸­å¯ä»¥åŒ…å«æ–‡æœ¬å±æ€§,åŒ…å«æ–‡æœ¬å±æ€§çš„è¾“å‡ºæ ¼å¼ä¸º:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="color:#f92672">#(</span><span style="color:#e6db74">&#34;characters&#34;</span> property-data...)
</code></pre></div><ul>
<li>Emacsä¸­,å¯¹å­—ç¬¦ä¸²ä½œæ¯”è¾ƒçš„å‡½æ•°åªæœ‰string=,string&lt;å‡½æ•°,æ²¡æœ‰string&gt;å‡½æ•°</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="list">List<a hidden class="anchor" aria-hidden="true" href="#list">#</a></h4>
<p>listæ˜¯sequenceçš„ä¸€ä¸ªå­ç±»å‹</p>
<ul>
<li>
<p>åˆ›å»ºä¸€ä¸ªlist</p>
</li>
<li>
<p>ä½¿ç”¨listå‡½æ•°:(list v1 v2&hellip;)</p>
</li>
<li>
<p>ä½¿ç”¨å­—é¢è¡¨è¾¾å¼'(v1 v2&hellip;)</p>
</li>
<li>
<p>è·å–element</p>
<table>
<thead>
<tr>
<th>Function</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>(car â„“)</td>
<td>first element</td>
</tr>
<tr>
<td>(nth n â„“)</td>
<td>nth element (start from 0)</td>
</tr>
<tr>
<td>(car (last â„“))</td>
<td>last element</td>
</tr>
<tr>
<td>(cdr â„“)</td>
<td>2nd to last elements</td>
</tr>
<tr>
<td>(nthcdr n â„“)</td>
<td>nth to last elements</td>
</tr>
<tr>
<td>(butlast â„“ n)</td>
<td>without the last n elements</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>è·å–listçš„é•¿åº¦</p>
</li>
</ul>
<p>(length mySeq)</p>
<ul>
<li>åœ¨listå¤´æ·»åŠ element</li>
</ul>
<p>(cons x myList)</p>
<ul>
<li>åˆå¹¶ä¸¤ä¸ªlist</li>
</ul>
<p>(append list1 list2)</p>
<p>ç”±æ­¤å¯ä»¥å¾—å‡º,åœ¨listå°¾éƒ¨æ·»åŠ elementçš„æ–¹æ³•ä¸º</p>
<p>(append myList (list myVal))</p>
<ul>
<li>ä¿®æ”¹listçš„å‡½æ•°
<table>
<thead>
<tr>
<th>Function</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>(pop â„“)</td>
<td>Remove first element from the variable. Returns the removed element.</td>
</tr>
<tr>
<td>(nbutlast â„“ n)</td>
<td>Remove last n elements from the variable. Returns the new value of the variable.</td>
</tr>
<tr>
<td>(setcar â„“ x)</td>
<td>replaces the first element in â„“ with x. Returns x.</td>
</tr>
<tr>
<td>(setcdr â„“ x)</td>
<td>replaces the rest of elements in â„“ with x. Returns x.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>association list / alist</p>
<p>alistä¸­çš„itemæ˜¯é¡ºåºçš„,ä¸”å¯ä»¥æœ‰é‡å¤é”®å€¼</p>
<p>åœ¨elispä¸­,alistä¸­å¯ä»¥å­˜åœ¨æŸäº›elementä¸æ˜¯cons cellçš„æƒ…å†µ,alistæŸ¥è¯¢å‡½æ•°ä¼šè‡ªåŠ¨ç•¥è¿‡è¿™äº›å¼‚å¸¸çš„element
association listç±»ä¼¼äºCè¯­è¨€ä¸­çš„map,å®ƒçš„ç»“æ„ä¸º</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-lisp" data-lang="lisp">(defvar *alist-example* <span style="color:#f92672">&#39;</span>((key1 value1)
                (key2 value2)))
</code></pre></div></li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Property list / plist</p>
<p>plistçš„ä½œç”¨ç±»ä¼¼alist,ä¹Ÿæ˜¯ç”¨listè¡¨ç¤ºä¸€ç»„é”®å€¼å¯¹.</p>
<p>plistçš„keyä¸ºsymbol,å®ƒçš„ç»“æ„ä¸º</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(key1 value1 key2 (value2) key3 <span style="color:#e6db74">&#34;value3&#34;</span>) <span style="color:#75715e">;=&gt;é”®å€¼å¯¹çš„å¯¹åº”å…³ç³»ä¸ºkey1-&gt;value1;key2-&gt;&#39;(value2);key3-&gt;&#34;value3&#34;</span>
</code></pre></div><p>æ¯ä¸€ä¸ªsymboléƒ½å¯ä»¥attachä¸€ä¸ªplist</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯,plistä¸­çš„ <strong>keyå¿…é¡»æ˜¯å”¯ä¸€çš„</strong> ,ç›¸æ¯”æ¥è¯´alistå°±æ²¡æœ‰è¿™ä¸ªé™åˆ¶äº†.</p>
</li>
</ul>
<h3 id="hashtable">hashtable<a hidden class="anchor" aria-hidden="true" href="#hashtable">#</a></h3>
<p>hash tableç±»ä¼¼alistä¸€æ ·æä¾›äº†é”®å€¼é…å¯¹çš„åŠŸèƒ½. ä½†æ¯”èµ·alistæ¥è¯´,æœ‰å¦‚ä¸‹ä¸‰ä¸ªæ–¹é¢çš„ä¸åŒ</p>
<ul>
<li>åœ¨æœç´¢å¤§é‡çš„é”®å€¼å¯¹é›†åˆæ—¶,ä½¿ç”¨hash tableçš„æœç´¢é€Ÿåº¦æ¯”alistå¿«å¾—å¤š</li>
<li>hash tableä¸­çš„çš„itemæ˜¯éæ’åºçš„,ä¸èƒ½æœ‰é‡å¤é”®å€¼</li>
<li>ä¸¤ä¸ªhash tableå¯¹è±¡æ— æ³•å…±äº«åŒä¸€ä¸ªç»“æ„ä½“,è€Œä¸¤ä¸ªalistå¯¹è±¡ä¹‹é—´æœ‰å¯èƒ½ä½¿ç”¨å…±åŒçš„tail</li>
</ul>
<p>hash tableçš„è¾“å‡ºæ ¼å¼ä»¥#så¼€å¤´åæ¥hash tableçš„å±æ€§å’Œå†…å®¹</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">#s(hash-table size 65 test eql rehash-size 1.5 rehash-threshold 0.8 data
              ())
</code></pre></div><h3 id="symbol">symbol<a hidden class="anchor" aria-hidden="true" href="#symbol">#</a></h3>
<ul>
<li>Lispä¸­symbolç±»ä¼¼äºå…¶ä»–è¯­è¨€ä¸­çš„å˜é‡,ä½†æ˜¯å®ƒä¸ä»…ä»…åªå­˜å‚¨ä¸€ä¸ªå€¼.</li>
<li>åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªè¡¨è¾¾å¼å¦‚æœæ˜¯ä¸€ä¸ªç¬¦å·,è§£é‡Šå™¨ä¼šæŸ¥æ‰¾è¿™ä¸ªè¡¨è¾¾å¼çš„å‡½æ•°å€¼.å¦‚æœå‡½æ•°å€¼æ˜¯å¦ä¸€ä¸ªç¬¦å·,åˆ™ä¼šç»§ç»­æŸ¥æ‰¾è¿™ä¸ªç¬¦å·çš„å‡½æ•°å€¼</li>
<li>symbolä¸­,\å¤±å»äº†è½¬ä¹‰çš„åŠŸèƒ½,å› æ­¤'\tå°±æ˜¯&rsquo;tè€Œä¸æ—¶'&lt;TAB&gt;</li>
<li>ä¸€ä¸ªç¬¦å·æ—¢å¯ä»¥æœ‰value,ä¹Ÿå¯ä»¥æœ‰function,å³ä¸€ä¸ªsymbolå¯ä»¥åŒæ—¶æ±‚å€¼å’Œå½“ä½œå‡½æ•°ç”¨</li>
</ul>
<h4 id="ç¬¦å·çš„ç»„æˆ">ç¬¦å·çš„ç»„æˆ<a hidden class="anchor" aria-hidden="true" href="#ç¬¦å·çš„ç»„æˆ">#</a></h4>
<ul>
<li>
<p>ç¬¦å·åç§°:ä½¿ç”¨å‡½æ•°symbol-nameè·å–</p>
</li>
<li>
<p>ç¬¦å·å€¼: ä½¿ç”¨å‡½æ•°symbol-valueè·å–</p>
</li>
<li>
<p>ä½¿ç”¨boundpæµ‹è¯•ç¬¦å·æ˜¯å¦æœ‰å€¼</p>
</li>
<li>
<p>ä»¥`:`å¼€å¤´çš„ç¬¦å·çš„å€¼ä¸èƒ½å˜</p>
</li>
<li>
<p>å‡½æ•°:  ä½¿ç”¨symobl-functionè·å–</p>
</li>
<li>
<p>ä½¿ç”¨fboundpæµ‹è¯•ç¬¦å·æ˜¯å¦è®¾ç½®äº†å‡½æ•°</p>
</li>
<li>
<p>å…¶å®function slotä¸ä»…ä»…å¯ä»¥å­˜æ”¾function,è¿˜å¯ä»¥å­˜æ”¾macro,symbol,keyboard marcro,keympaå’Œautoload object</p>
</li>
<li>
<p>å±æ€§åˆ—è¡¨:ä½¿ç”¨symbol-plistè·å–</p>
</li>
<li>
<p>ä½¿ç”¨get/putæ¥è®¿é—®/ä¿®æ”¹æŸä¸ªå±æ€§å€¼</p>
</li>
<li>
<p>ä½¿ç”¨plist-get/plist-putæ¥è®¿é—®/è®¾ç½®å±æ€§åˆ—è¡¨ä¸­çš„å±æ€§</p>
</li>
<li>
<p>å±æ€§åˆ—è¡¨æ˜¯ä¸€ä¸ªå½¢å¦‚(prop1 value1 prop2 value2)çš„å…³è”åˆ—è¡¨,ä½†æ— æ³•åˆ é™¤ä¸€ä¸ªå±æ€§</p>
</li>
<li>
<p>å¯ç”¨ä½¿ç”¨å±æ€§åˆ—è¡¨æ¥å­˜å‚¨functionçš„çŠ¶æ€</p>
</li>
</ul>
<h4 id="ç¬¦å·çš„å½¢æˆ">ç¬¦å·çš„å½¢æˆ<a hidden class="anchor" aria-hidden="true" href="#ç¬¦å·çš„å½¢æˆ">#</a></h4>
<p>å½“elispè¯»å–åˆ°ä¸€ä¸ªsymbolæ—¶,å®ƒä¼šå…ˆåœ¨ä¸€ä¸ªåä¸º`obarray`çš„vectorä¸­æ£€æŸ¥æ˜¯å¦å·²ç»å­˜åœ¨è¿™ä¸ªsymbol, è‹¥ä¸å­˜åœ¨,åˆ™elisp readeråˆ›å»ºæ–°çš„symbolå¹¶æ·»åŠ åˆ°obarrayä¸­(åˆ›å»ºå¹¶æ·»åŠ symbolçš„è¿‡ç¨‹è¢«æˆä¸º&quot;interning&quot;,è€Œè¯¥symbolè¢«æˆä¸ºæ˜¯&quot;interned symbol&quot;).</p>
<p>å¦‚æœæƒ³é¿å…internä¸€ä¸ªsymbol,å¯ä»¥åœ¨ç¬¦å·åå‰åŠ ä¸Š`#::`,è¿™äº›ç¬¦å·è¢«ç§°ä¸º`uninterned symbols`</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">(<span style="color:#a6e22e">intern-soft</span> <span style="color:#e6db74">&#34;abc&#34;</span>) <span style="color:#75715e">; =&gt; nil</span>
<span style="color:#e6db74">&#39;abc</span> <span style="color:#75715e">; =&gt; abc</span>
(<span style="color:#a6e22e">intern-soft</span> <span style="color:#e6db74">&#34;abc&#34;</span>) <span style="color:#75715e">; =&gt; abc</span>
(<span style="color:#a6e22e">intern-soft</span> <span style="color:#e6db74">&#34;abcd&#34;</span>) <span style="color:#75715e">; =&gt; nil</span>
<span style="color:#f92672">&#39;</span><span style="color:#e6db74">#:abcd</span> <span style="color:#75715e">; =&gt; abcd</span>
(<span style="color:#a6e22e">intern-soft</span> <span style="color:#e6db74">&#34;abcd&#34;</span>) <span style="color:#75715e">; =&gt; nil</span>
</code></pre></div><p>obarrayä¹Ÿæ˜¯ä¸€ç§ç±»å‹åç§°</p>
<p>ç”±äºåœ¨elispä¸­,obarrayå°±æ˜¯ä¸€ä¸ªvector,å› æ­¤å¯ä»¥ä½¿ç”¨(make-vecotr LENGTH 0)æ¥åˆ›å»ºä¸€ä¸ªç©ºçš„obarray, è€Œè¦æŠŠsymbolæ’å…¥ä¸€ä¸ªobarray,åˆ™å¿…é¡»ä½¿ç”¨å¦‚ä¸‹çš„internç³»åˆ—å‡½æ•°æ¥è¿›è¡Œ.</p>
<ul>
<li>intern</li>
<li>intern-soft</li>
<li>unintern</li>
<li>mapatoms</li>
</ul>
<h3 id="char">Char<a hidden class="anchor" aria-hidden="true" href="#char">#</a></h3>
<p>ç±»ä¼¼C,Elispä¸­çš„Charå…¶å®å°±æ˜¯integer(å€¼ä»0åˆ°(max-char)çš„èŒƒå›´éƒ½å¯ä»¥è®¤ä¸ºæ˜¯character). Charç±»å‹çš„å­—é¢é‡ç»“æ„ä¸º`?å­—æ¯`,ä¾‹å¦‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">
(<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;%d&#34;</span> <span style="color:#e6db74">?A</span>)      <span style="color:#75715e">;65</span>
(<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;%d&#34;</span> <span style="color:#e6db74">?\.</span>)     <span style="color:#75715e">;46 æ ‡ç‚¹ä¸€èˆ¬åœ¨å‰é¢åŠ \</span>
(<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;%d&#34;</span> <span style="color:#e6db74">?æˆ‘</span>)     <span style="color:#75715e">;25105</span>

<span style="color:#e6db74">?\a</span> <span style="color:#75715e">;=&gt; 7                 ; control-g, `C-g&#39;</span>
<span style="color:#e6db74">?\b</span> <span style="color:#75715e">;=&gt; 8                 ; backspace, &lt;BS&gt;, `C-h&#39;</span>
<span style="color:#e6db74">?\t</span> <span style="color:#75715e">;=&gt; 9                 ; tab, &lt;TAB&gt;, `C-i&#39;</span>
<span style="color:#e6db74">?\n</span> <span style="color:#75715e">;=&gt; 10                ; newline, `C-j&#39;</span>
<span style="color:#e6db74">?\v</span> <span style="color:#75715e">;=&gt; 11                ; vertical tab, `C-k&#39;</span>
<span style="color:#e6db74">?\f</span> <span style="color:#75715e">;=&gt; 12                ; formfeed character, `C-l&#39;</span>
<span style="color:#e6db74">?\r</span> <span style="color:#75715e">;=&gt; 13                ; carriage return, &lt;RET&gt;, `C-m&#39;</span>
<span style="color:#e6db74">?\e</span> <span style="color:#75715e">;=&gt; 27                ; escape character, &lt;ESC&gt;, `C-[&#39;</span>
<span style="color:#e6db74">?\s</span> <span style="color:#75715e">;=&gt; 32                ; space character, &lt;SPC&gt;</span>
<span style="color:#e6db74">?\\</span> <span style="color:#75715e">;=&gt; 92                ; backslash character, `\&#39;</span>
<span style="color:#e6db74">?\d</span> <span style="color:#75715e">;=&gt; 127               ; delete character, &lt;DEL&gt;</span>
<span style="color:#e6db74">?\u</span>NNNN                                 <span style="color:#75715e">;è¿™é‡ŒNä¸º16è¿›åˆ¶æ•°,è¡¨ç¤ºU+NNNNçš„Unicodeå­—ç¬¦</span>
<span style="color:#e6db74">?\U</span>00NNNNNN                             <span style="color:#75715e">;</span>

<span style="color:#e6db74">?\x</span>åå…­è¿›åˆ¶ä»£ç             <span style="color:#75715e">; ?\x41 = \?A</span>
<span style="color:#e6db74">?\ä¸‰</span>ä¸ªå…«è¿›åˆ¶ä»£ç            <span style="color:#75715e">; ?\001 = `C-a`</span>

</code></pre></div><ul>
<li>æ²¡æœ‰charp,å› ä¸ºå­—ç¬¦å°±æ˜¯æ•´æ•°,ä½†æ˜¯æœ‰char-or-string-på‡½æ•°</li>
<li>ä½¿ç”¨char-equalæ¯”è¾ƒå­—ç¬¦æ—¶,éœ€è¦æ³¨æ„case-fold-searchå˜é‡çš„å€¼,tè¡¨ç¤ºå¿½ç•¥å¤§å°å†™</li>
</ul>
<h4 id="control-characters">Control characters<a hidden class="anchor" aria-hidden="true" href="#control-characters">#</a></h4>
<p>Ctrl-Nçš„å­—é¢è¡¨è¾¾å¼ä¸º`?\^å­—æ¯`(è¿™é‡Œçš„å­—æ¯ä¸åŒºåˆ†å¤§å°å†™)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">
<span style="color:#e6db74">?\^</span>I <span style="color:#75715e">; == ?\^i  == C-i == 9</span>
</code></pre></div><p>è¿˜å¯ä»¥è¡¨ç¤ºä¸º`?\C-å­—æ¯`</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="color:#e6db74">?\C</span>-g                                   <span style="color:#75715e">;== ?\^g == C-g</span>
</code></pre></div><p>éœ€è¦æ³¨æ„çš„æ˜¯,?\C-Gä¸æ—¶?\C-S-gçš„æ„æ€,å®ƒè·Ÿ?\C-gçš„æ„ä¹‰ä¸€æ ·
ç”±äºå†å²çš„åŸå› ,EmacsæŠŠ&lt;DEL&gt;çœ‹æˆæ˜¯C-?</p>
<h4 id="meta-character">Meta Character<a hidden class="anchor" aria-hidden="true" href="#meta-character">#</a></h4>
<p>M-Nçš„å­—é¢è¡¨ç¤ºæ–¹å¼ä¸º`?\M-å­—æ¯`</p>
<h4 id="shift-character">Shift Character<a hidden class="anchor" aria-hidden="true" href="#shift-character">#</a></h4>
<p>?Â§-N</p>
<h4 id="alt-character">Alt Character<a hidden class="anchor" aria-hidden="true" href="#alt-character">#</a></h4>
<p>?\A-N</p>
<h4 id="hyper-character">Hyper Character<a hidden class="anchor" aria-hidden="true" href="#hyper-character">#</a></h4>
<p>?\H-N</p>
<h4 id="super-character">Super Character<a hidden class="anchor" aria-hidden="true" href="#super-character">#</a></h4>
<p>?\s-N</p>
<h3 id="å…¶ä»–ç±»å‹">å…¶ä»–ç±»å‹<a hidden class="anchor" aria-hidden="true" href="#å…¶ä»–ç±»å‹">#</a></h3>
<ul>
<li>Buffer</li>
<li>Marker</li>
<li>Window</li>
<li>Frame</li>
<li>Terminal</li>
<li>Window Configuration</li>
<li>Frame Configuration</li>
<li>Process</li>
<li>Stream</li>
<li>nilæŒ‡`standard-input`å’Œ`standard-output`</li>
<li>tæŒ‡ä»£`ä»minibufferè¾“å…¥`æˆ–è¾“å‡ºåˆ°`echo area`</li>
<li>Keymap</li>
<li>Overlay</li>
</ul>
<p>Overlayç”¨æ¥çµ¦bufferçš„ä¸€éƒ¨åˆ†å†…å®¹åŠ ä¸Šä¸åŒçš„æ˜¾ç¤ºé£æ ¼</p>
<ul>
<li>Font</li>
</ul>
<h3 id="å¾ªç¯ç»“æ„">å¾ªç¯ç»“æ„<a hidden class="anchor" aria-hidden="true" href="#å¾ªç¯ç»“æ„">#</a></h3>
<p>éœ€è¦ä½¿ç”¨`#N=`å’Œ`#N#`æ¥å®šä¹‰å¾ªç¯ç‚¹å’Œå¼•ç”¨å¾ªç¯ç‚¹,è¿™é‡ŒNä¸ºæ•°å­—</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">
<span style="color:#f92672">&#39;</span>(<span style="color:#f92672">#1=</span>(a) b <span style="color:#f92672">#1#</span>)
<span style="color:#f92672">#1=&#39;</span>(a <span style="color:#f92672">#1#</span>)
</code></pre></div><h3 id="æ•°æ®ç±»å‹ä¹‹é—´çš„è½¬æ¢">æ•°æ®ç±»å‹ä¹‹é—´çš„è½¬æ¢<a hidden class="anchor" aria-hidden="true" href="#æ•°æ®ç±»å‹ä¹‹é—´çš„è½¬æ¢">#</a></h3>
<ul>
<li>number-to-string / string-to-number</li>
<li>concatå¯ä»¥å°†åºåˆ—è½¬æ¢æˆå­—ç¬¦ä¸²</li>
</ul>
<!--listend-->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">(<span style="color:#a6e22e">concat</span> <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">?a</span> <span style="color:#e6db74">?b</span> <span style="color:#e6db74">?c</span> <span style="color:#e6db74">?d</span> <span style="color:#e6db74">?e</span>)) <span style="color:#75715e">; =&gt; &#34;abcde&#34;</span>
(<span style="color:#a6e22e">concat</span> [<span style="color:#e6db74">?a</span> <span style="color:#e6db74">?b</span> <span style="color:#e6db74">?c</span> <span style="color:#e6db74">?d</span> <span style="color:#e6db74">?e</span>]) <span style="color:#75715e">; =&gt; &#34;abcde&#34;</span>
</code></pre></div><ul>
<li>vconcatå¯ä»¥æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆå‘é‡</li>
</ul>
<!--listend-->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">(<span style="color:#a6e22e">vconcat</span> <span style="color:#e6db74">&#34;abdef&#34;</span>) <span style="color:#75715e">; =&gt; [97 98 100 101 102]</span>
</code></pre></div><ul>
<li>appendå¯ä»¥æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆä¸€ä¸ªåˆ—è¡¨</li>
</ul>
<!--listend-->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">(<span style="color:#a6e22e">append</span> <span style="color:#e6db74">&#34;abcdef&#34;</span> <span style="color:#66d9ef">nil</span>) <span style="color:#75715e">; =&gt; (97 98 99 100 101 102)</span>
</code></pre></div><ul>
<li>(byte-to-string BYTE)</li>
<li>å¤§å°å†™è½¬æ¢</li>
</ul>
<p>elispé€šè¿‡case tableæ¥ç¡®å®šå¤§å°å†™çš„å¯¹åº”å…³ç³»,æ¯ä¸ªbufferéƒ½å¯ä»¥è®¾ç½®è‡ªå·±çš„case table.</p>
<ul>
<li>
<p>(downcase string-or-char)</p>
</li>
<li>
<p>(upcase string-or-char)</p>
</li>
<li>
<p>(capitalize string-or-char)</p>
<p>stringä¸­çš„æ‰€æœ‰å•è¯éƒ½è¢«æ ¼å¼åŒ–ä¸ºcapitalizeçš„æ ¼å¼</p>
<p>è‹¥å‚æ•°ä¸ºcharç±»å‹,åˆ™æ•ˆæœè·Ÿupcaseä¸€æ ·</p>
</li>
<li>
<p>(upcase-initials string-or-char)</p>
<p>å¯¹stringä¸­çš„æ¯ä¸ªå•è¯çš„ç¬¬ä¸€ä¸ªå­—æ¯è½¬åŒ–äº†å¤§å†™å­—æ¯,å…¶ä»–å­—æ¯ä¸å˜.</p>
</li>
<li>
<p>è½¬æ¢æ•°å­—ä¸ºFloatå‹</p>
</li>
</ul>
<p>(float number)</p>
<ul>
<li>è½¬æ¢æ•°å­—ä¸ºIntegerå‹</li>
</ul>
<p>æœ‰8ä¸ªå‡½æ•°å¯ä»¥ç”¨æ¥è½¬æ¢Floatåˆ°Integerå‹. æœ‰äº›å‡½æ•°éƒ½å¸¦æœ‰ä¸€ä¸ªå¯é€‰å‚æ•°DIVISOR, è‹¥ä¼ å…¥äº†DIVISORåˆ™è¿”å›NUMBER/DIVISORçš„æ•´æ•°åŒ–çš„å€¼. è‹¥DIVISORä¸º0,åˆ™ElispæŠ¥arith-error</p>
<p>(truncate number &amp;optional divisor) / (ftruncate float)</p>
<p>æˆªæ–­å°æ•°ä½</p>
<p>(floor number &amp;optional divisor) / (ffloor float)</p>
<p>æˆªæ–­æˆä¸€ä¸ªæ›´å°çš„æ•´æ•°</p>
<p>(ceiling number &amp;optional divisor) / (fceiling float)</p>
<p>æˆªæ–­æˆä¸€ä¸ªæ›´å¤§çš„æ•´æ•°</p>
<p>(round number &amp;optional divisor) / (fround float)</p>
<p>è½¬æ¢æˆæœ€è¿‘çš„æ•´æ•°,è‹¥å°æ•°ä¸ºä¸º0.5,åˆ™è½¬æ¢ä¸ºå¶æ•°,ä¾‹å¦‚(round 1.5)=&gt;2 (round 2.5)=&gt;2</p>
<ul>
<li>å­—ç¬¦ä¸²ä¸æ•°å­—ä¹‹é—´çš„ç›¸äº’è½¬æ¢</li>
</ul>
<p>(string-to-number &ldquo;N&rdquo; &amp;optional base)</p>
<p>(number-to-string N)</p>
<p>(format &ldquo;%d&rdquo; N)</p>
<ul>
<li>Objectè½¬æ¢ä¸ºString</li>
</ul>
<p>(format &ldquo;%s&rdquo; object)</p>
<p>(prin1-to-string object)</p>
<ul>
<li>Stringè½¬æ¢ä¸ºObject</li>
</ul>
<p>(read-from-string string)</p>
<ul>
<li>symbolè½¬æ¢ä¸ºstring</li>
</ul>
<p>(symbol-name symbol)</p>
<ul>
<li>stringè½¬æ¢ä¸ºsymbol</li>
</ul>
<p>(intern string)</p>
<h3 id="ç±»å‹åˆ¤æ–­">ç±»å‹åˆ¤æ–­<a hidden class="anchor" aria-hidden="true" href="#ç±»å‹åˆ¤æ–­">#</a></h3>
<ul>
<li>(cl-typep object type)</li>
</ul>
<p>æ£€æŸ¥objectæ˜¯å¦ä¸ºtypeç±»å‹.</p>
<p>å‚æ•°typeä¸ºcommon lispå½¢å¼</p>
<ul>
<li>(type-of object)</li>
</ul>
<p>è¿”å›objectçš„ <strong>åŸºæœ¬</strong> ç±»å‹</p>
<h2 id="elispä¸­çš„ç­‰äº">elispä¸­çš„ç­‰äº<a hidden class="anchor" aria-hidden="true" href="#elispä¸­çš„ç­‰äº">#</a></h2>
<h3 id="eq">eq<a hidden class="anchor" aria-hidden="true" href="#eq">#</a></h3>
<p>eqç”¨äºåˆ¤æ–­ä¸¤ä¸ªObjectæ˜¯å¦ä¸ºåŒä¸€ä¸ªObject</p>
<h3 id="equal">equal<a hidden class="anchor" aria-hidden="true" href="#equal">#</a></h3>
<p>equalç”¨äºåˆ¤æ–­ä¸¤ä¸ªObjectæ˜¯å¦æœ‰ç›¸åŒçš„å†…éƒ¨ç»“æ„(è¿™é€šå¸¸æ„å‘³ç€ä¸¤ä¸ªObjectçš„ç±»å‹æ˜¯ä¸€æ ·çš„,å³0 ä¸equal 0.0).</p>
<p>equalåœ¨æ¯”è¾ƒä¸¤ä¸ªstringæ—¶,ä¸ä¼šæ¯”è¾ƒä»–ä»¬çš„å±æ€§,éœ€è¦æ¯”è¾ƒå±æ€§çš„è¯,ä½¿ç”¨equal-including-propertiesæ¥ä»£æ›¿</p>
<p>å³ä½¿ä¸¤ä¸ªbufferçš„å†…å®¹ä¸€æ ·,equalè¿™ä¸¤ä¸ªbufferæ—¶ä¹Ÿä¸ç›¸ç­‰</p>
<p>ç”±äºequalä¼šå¯¹ä¸¤ä¸ªObjectçš„å„ä¸ªç»„æˆéƒ¨åˆ†é€’å½’è°ƒç”¨equal,å› æ­¤åœ¨å¤„ç†å¾ªç¯ç»“æ„æ—¶,å¯èƒ½ä¼šé™·å…¥æ­»å¾ªç¯.</p>
<h3 id="43ec3e">=<a hidden class="anchor" aria-hidden="true" href="#43ec3e">#</a></h3>
<p>=ä¸€èˆ¬ç”¨äºæ•°å­—ä¹‹é—´çš„æ¯”è¾ƒ,ä¸”0=0.0</p>
<h3 id="2c1b5c">/=<a hidden class="anchor" aria-hidden="true" href="#2c1b5c">#</a></h3>
<p>æ•°å­—é—´çš„ä¸ç­‰äº</p>
<h3 id="eql">eql<a hidden class="anchor" aria-hidden="true" href="#eql">#</a></h3>
<p>eqlç±»ä¼¼eq,ä½†åœ¨å¤„ç†æ•°å­—æ˜¯,ä¼šåŒæ—¶æ¯”è¾ƒæ•°å­—çš„ç±»å‹å’Œå€¼.å› æ­¤(eql 1.0 1)=&gt;nil;(eql 1.0 1.0)=&gt;t</p>
<h3 id="char-equal">char-equal<a hidden class="anchor" aria-hidden="true" href="#char-equal">#</a></h3>
<p>æ¯”è¾ƒä¸¤ä¸ªcharacteræ˜¯å¦ç›¸ç­‰,é»˜è®¤å¿½ç•¥å¤§å°å†™å·®å¼‚,è‹¥å˜é‡`case-fold-search`nil(é»˜è®¤ä¸ºt),åˆ™æ¯”è¾ƒæ—¶åŒºåˆ†å¤§å°å†™</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">char-equal</span> <span style="color:#e6db74">?x</span> <span style="color:#e6db74">?x</span>)                      <span style="color:#75715e">; =&gt; t</span>
(let ((case-fold-search <span style="color:#66d9ef">nil</span>))
  (<span style="color:#a6e22e">char-equal</span> <span style="color:#e6db74">?x</span> <span style="color:#e6db74">?X</span>))                   <span style="color:#75715e">; =&gt; nil</span>
</code></pre></div><h3 id="string">string=<a hidden class="anchor" aria-hidden="true" href="#string">#</a></h3>
<p>string=æ¥æ”¶stringæˆ–symbolçš„å‚æ•°. ä½¿ç”¨string=çš„æ—¶å€™ä¸€å®šä¼šåŒºåˆ†å¤§å°å†™,è€Œè·Ÿå˜é‡`case-fold-search`æ— å…³. è€Œä¸”åœ¨æ¯”è¾ƒæ—¶,stringçš„text propertiesä¸å‚ä¸æ¯”è¾ƒ.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(string= <span style="color:#e6db74">&#34;abc&#34;</span> <span style="color:#e6db74">&#39;abc</span>)                    <span style="color:#75715e">;=&gt;t</span>
</code></pre></div><h3 id="string-equal">string-equal<a hidden class="anchor" aria-hidden="true" href="#string-equal">#</a></h3>
<p>string=çš„åˆ«å</p>
<h3 id="equal-includeing-properties">equal-includeing-properties<a hidden class="anchor" aria-hidden="true" href="#equal-includeing-properties">#</a></h3>
<h2 id="å˜é‡åå‘½åä¹ æƒ¯">å˜é‡åå‘½åä¹ æƒ¯<a hidden class="anchor" aria-hidden="true" href="#å˜é‡åå‘½åä¹ æƒ¯">#</a></h2>
<ul>
<li>-hook ä¸€ä¸ªåœ¨ç‰¹å®šæƒ…å†µä¸‹è°ƒç”¨çš„å‡½æ•°åˆ—è¡¨ï¼Œæ¯”å¦‚å…³é—­ç¼“å†²Â«æ—¶ï¼Œè¿›å…¥æŸä¸ªæ¨¡å¼æ—¶ã€‚</li>
<li>-functionå€¼ä¸ºä¸€ä¸ªå‡½æ•°</li>
<li>-functions å€¼ä¸ºä¸€ä¸ªå‡½æ•°åˆ—è¡¨</li>
<li>-flag å€¼ä¸ºnilæˆ–non-nil</li>
<li>-predicate å€¼æ˜¯ä¸€ä¸ªä½œåˆ¤æ–­çš„å‡½æ•°ï¼Œè¿”å›nilæˆ–non-nil</li>
<li>-program æˆ–-command ä¸€ä¸ªç¨‹åºæˆ–shellåä»¤å</li>
<li>-form ä¸€ä¸ªè¡¨è¾¾å¼</li>
<li>-forms ä¸€ä¸ªè¡¨è¾¾å¼åˆ—è¡¨ã€‚</li>
<li>-map ä¸€ä¸ªæŒ‰é”®æ˜ å°„ï¼ˆkeymapï¼‰</li>
<li>å‘½åä»¥ç©ºæ ¼å¼€å¤´çš„ç¼“å†²åŒºæ˜¯ä¸´æ—¶çš„,ç”¨æˆ·ä¸éœ€è¦å…³ç³»çš„ç¼“å†²åŒº</li>
</ul>
<h2 id="è·å–å‚æ•°çš„å‡ ç§æ–¹æ³•">è·å–å‚æ•°çš„å‡ ç§æ–¹æ³•<a hidden class="anchor" aria-hidden="true" href="#è·å–å‚æ•°çš„å‡ ç§æ–¹æ³•">#</a></h2>
<h3 id="å˜é‡-current-prefix-arg-è·å–universal-argument">å˜é‡`current-prefix-arg`è·å–universal-argument<a hidden class="anchor" aria-hidden="true" href="#å˜é‡-current-prefix-arg-è·å–universal-argument">#</a></h3>
<p>emacså‘½ä»¤å¯ä»¥ä½¿ç”¨C-uä¼ é€’universal-argument.</p>
<table>
<thead>
<tr>
<th>Key Input</th>
<th>Value of current-prefix-arg</th>
</tr>
</thead>
<tbody>
<tr>
<td>No universal arg called.</td>
<td>nil</td>
</tr>
<tr>
<td>ã€Ctrl+u -ã€‘</td>
<td>Symbol -</td>
</tr>
<tr>
<td>ã€Ctrl+u - 2ã€‘</td>
<td>Number -2</td>
</tr>
<tr>
<td>ã€Ctrl+u 1ã€‘</td>
<td>Number 1</td>
</tr>
<tr>
<td>ã€Ctrl+u 4ã€‘</td>
<td>Number 4</td>
</tr>
<tr>
<td>ã€Ctrl+uã€‘</td>
<td>List &lsquo;(4)</td>
</tr>
<tr>
<td>ã€Ctrl+u Ctrl+uã€‘</td>
<td>List &lsquo;(16)</td>
</tr>
</tbody>
</table>
<h3 id="interactive">interactive<a hidden class="anchor" aria-hidden="true" href="#interactive">#</a></h3>
<ul>
<li>
<p>è‹¥interactiveçš„å‚æ•°ä»¥*å¼€å¤´ï¼Œåˆ™æ„ä¹‰æ˜¯ï¼Œå¦‚æœå½“å‰bufferæ˜¯åªè¯»çš„ï¼Œåˆ™ä¸æ‰§è¡Œè¯¥å‡½æ•°</p>
</li>
<li>
<p>interactiveå¯ä»¥åæ¥å­—ç¬¦ä¸²,è¡¨ç¤ºè·å¾—å‚æ•°çš„æ–¹å¼</p>
</li>
<li>
<p>p æ¥æ”¶C-uçš„æ•°å­—å‚æ•°</p>
<p>ä¹Ÿå¯ä»¥ä¸ç”¨På‚æ•°,ç›´æ¥åœ¨ä»£ç ä¸­åˆ¤æ–­current-prefix-argçš„å€¼</p>
</li>
<li>
<p>r regionçš„å¼€å§‹/ç»“æŸä½ç½®</p>
</li>
<li>
<p>n æç¤ºç”¨æˆ·è¾“å…¥æ•°å­—å‚æ•°,nåé¢å¯ç”¨æ¥ç€æç¤ºç¬¦</p>
</li>
<li>
<p>s æç¤ºç”¨æˆ·è¾“å…¥å­—ç¬¦ä¸²å‚æ•°</p>
</li>
<li>
<p>è‹¥å‡½æ•°æ¥æ”¶å¤šä¸ªinput,éœ€è¦ç”¨\næ¥åˆ†éš”</p>
</li>
<li>
<p>interactiveå¯ä»¥åæ¥ä¸€ä¸ªform,formçš„æ±‚å€¼ç»“æœåº”è¯¥æ˜¯ä¸€ä¸ªlist,è¿™ä¸ªlistçš„å€¼ä½œä¸ºå‚æ•°çš„å®å‚</p>
</li>
</ul>
<p>åœ¨formä¸­ä¸€èˆ¬ä¼šç”¨åˆ°å¦‚ä¸‹å‡ ä¸ªå‡½æ•°ç”¨äºè·å–ç”¨æˆ·è¾“å…¥</p>
<ul>
<li>read-string</li>
<li>read-file-name</li>
<li>read-directory-name</li>
<li>read-regexp</li>
<li>y-or-n-p</li>
<li>read-from-minibuffer</li>
<li>ä½¿ç”¨å˜é‡`current-prefix-arg`æ¥åˆ¤æ–­æ˜¯å¦æœ‰universal-argument</li>
</ul>
<h2 id="å…‰æ ‡ä½ç½®">å…‰æ ‡ä½ç½®<a hidden class="anchor" aria-hidden="true" href="#å…‰æ ‡ä½ç½®">#</a></h2>
<h3 id="å‡½æ•°">å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#å‡½æ•°">#</a></h3>
<ul>
<li>è·å–å…‰æ ‡å½“å‰ä½ç½®</li>
</ul>
<p>(point)</p>
<ul>
<li>è·å–regionçš„å¼€å§‹å’Œç»“æŸä½ç½®</li>
</ul>
<p>(region-beginning) / (region-end)</p>
<ul>
<li>å½“å‰è¡Œçš„å¼€å§‹/ç»“æŸä½ç½®</li>
</ul>
<p>(line-beginning-position) / (line-end-position)</p>
<ul>
<li>è·å–å½“å‰bufferçš„å¼€å§‹/ç»“æŸä½ç½®</li>
</ul>
<p>(point-min) / (point-max)</p>
<ul>
<li>
<p>å¾—åˆ°è¡Œå·</p>
<p>line-number-at-pos</p>
</li>
<li>
<p>æµ‹è¯•æ˜¯å¦åœ¨bufferå¤´/å°¾</p>
<p>bobp(beginning of buffer predicate)å’Œeobp(end of buffer predicate)</p>
</li>
<li>
<p>æµ‹è¯•æ˜¯å¦åœ¨è¡Œé¦–/å°¾</p>
<p>bolp(beginning of line predicate)å’Œeolp(end of line predicate)</p>
</li>
</ul>
<h2 id="å…‰æ ‡ç§»åŠ¨">å…‰æ ‡ç§»åŠ¨<a hidden class="anchor" aria-hidden="true" href="#å…‰æ ‡ç§»åŠ¨">#</a></h2>
<h3 id="å‡½æ•°">å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#å‡½æ•°">#</a></h3>
<ul>
<li>
<p>æŒ‰å•ä¸ªå­—ç¬¦ç§»åŠ¨</p>
<p>goto-char /forward-char /backward-char</p>
</li>
<li>
<p>è·³è½¬åˆ°æŒ‡å®šå­—ç¬¦ä¸²çš„ä½ç½®</p>
<p>(search-forward myStr)  ;å…‰æ ‡ä½äºmyStrçš„å°¾éƒ¨</p>
<p>(search-backward myStr) ;å…‰æ ‡ä½äºmyStrçš„å¤´éƒ¨</p>
</li>
<li>
<p>æ­£åˆ™æŸ¥è¯¢</p>
</li>
</ul>
<p>(re-search-forward myRegex) / (search-forward-regexp myRegex)</p>
<p>(re-search-backward myRegex) / (search-backward-regexp myRegex)</p>
<ul>
<li>è·³åˆ°ç¬¬ä¸€ä¸ªä¸æ˜¯&quot;a&quot;-&ldquo;z&quot;çš„ä½ç½®</li>
</ul>
<p>(skip-chars-forward &ldquo;a-z&rdquo;)</p>
<p>(skip-chars-backward &ldquo;a-z&rdquo;)</p>
<ul>
<li>
<p>è·³åˆ°bufferçš„å¼€å¤´/æœ«å°¾</p>
<p>beginning-of-buffer / end-of-buffer</p>
</li>
<li>
<p>æŒ‰è¯ç§»åŠ¨</p>
<p>forward-word /backward-word</p>
</li>
<li>
<p>æŒ‰è¡Œç§»åŠ¨</p>
<p>æ²¡æœ‰backward-line,è€Œä¸”æ¯æ¬¡ç§»åŠ¨éƒ½æ˜¯ç§»åŠ¨åˆ°è¡Œé¦–çš„,æ‰€ä»¥(forward-line 0)å¯ä»¥ç§»åŠ¨åˆ°å½“å‰è¡Œçš„è¡Œé¦–</p>
<p>(forward-line N) Nå¯ä»¥ä¸ºè´Ÿæ•°,è¡¨ç¤ºbackward-line</p>
</li>
<li>
<p>ç§»åŠ¨åˆ°è¡Œé¦–/å°¾</p>
</li>
</ul>
<p>(beginning-of-line)</p>
<p>(end-of-line)</p>
<h2 id="æ§åˆ¶ç»“æ„">æ§åˆ¶ç»“æ„<a hidden class="anchor" aria-hidden="true" href="#æ§åˆ¶ç»“æ„">#</a></h2>
<h3 id="é¡ºåºç»“æ„">é¡ºåºç»“æ„<a hidden class="anchor" aria-hidden="true" href="#é¡ºåºç»“æ„">#</a></h3>
<ul>
<li>(progn bodys)</li>
</ul>
<p>é¡ºåºæ‰§è¡Œbodys,bodysä¸­çš„æœ€åä¸€ä¸ªformçš„è¿”å›å€¼ä¸ºprognçš„è¿”å›å€¼</p>
<ul>
<li>(prog1 form1 bodys)</li>
</ul>
<p>ç±»ä¼¼progn,ä½†form1çš„è¿”å›å€¼ä¸ºprog1çš„è¿”å›å€¼</p>
<ul>
<li>(prog2 form1 form2 bodys)</li>
</ul>
<p>ç±»ä¼¼progn,ä½†form2çš„è¿”å›å€¼ä¸ºprog2çš„è¿”å›å€¼</p>
<h3 id="æ¡ä»¶è¡¨è¾¾å¼">æ¡ä»¶è¡¨è¾¾å¼<a hidden class="anchor" aria-hidden="true" href="#æ¡ä»¶è¡¨è¾¾å¼">#</a></h3>
<ul>
<li>(if condition then-form else-bodys)</li>
</ul>
<p>æ³¨æ„,then-formåªèƒ½æ˜¯ä¸€å¥form,è€Œelse-bodyså¯ä»¥ä¸ºå¤šä¸ªform,äº‹å®ä¸Šå®ƒåŒ…å«äº†ä¸€ä¸ªéšå«çš„progn</p>
<ul>
<li>
<p>(when condition then-bodys)</p>
</li>
<li>
<p>(unless condition else-bodys)</p>
</li>
<li>
<p>(cond clauses)</p>
</li>
</ul>
<p>ä¸€ä¸ªclauseçš„æ ¼å¼ä¸º(condition bodys)</p>
<p>clauseçš„æ ¼å¼ä¹Ÿå¯ä»¥ä¸º(condition),è¿™æ ·çš„è¯,condçš„è¿”å›å€¼ä¸ºénilçš„conditionçš„è¿”å›å€¼</p>
<ul>
<li>(pcase EXP BRANCH1 BRANCH2 BRANCH3 &hellip;)</li>
</ul>
<p>ä¸€ä¸ªBRANCHçš„æ ¼å¼ä¸º(UPATTERN BODYS)</p>
<p>pcaseå…ˆè®¡ç®—EXPçš„å€¼,å¹¶å°†å€¼ä¸å„ä¸ªBRANCHä¸­çš„UPATTERNç›¸æ¯”è¾ƒ,è‹¥ç›¸ç­‰,åˆ™æ‰§è¡Œç›¸åº”çš„BODYS</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(pcase (get-return-code x)
  (<span style="color:#e6db74">&#39;success</span>       (<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;Done!&#34;</span>))
  (<span style="color:#e6db74">&#39;would-block</span>   (<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;Sorry, can&#39;t do it now&#34;</span>))
  (<span style="color:#e6db74">&#39;read-only</span>     (<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;The shmliblick is read-only&#34;</span>))
  (<span style="color:#e6db74">&#39;access-denied</span> (<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;You do not have the needed rights&#34;</span>))
  (code           (<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;Unknown return code %S&#34;</span> code)))
</code></pre></div><p>UPATTERNå¯ä»¥æ˜¯ä¸‹é¢å‡ ç§æ ¼å¼</p>
<ul>
<li>`(QPATTERN1 . QPATTERN2)
è¯¥æ¨¡å¼åŒ¹é…ä¸€ä¸ªcons cell,å®ƒçš„caråŒ¹é…QPATTERN1,è€ŒcdråŒ¹é…QPATTERN2
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq form <span style="color:#f92672">&#39;</span>(<span style="color:#ae81ff">1</span> <span style="color:#f92672">.</span> <span style="color:#ae81ff">2</span>))
(pcase form
  (<span style="color:#f92672">`</span>(<span style="color:#f92672">,</span>x <span style="color:#f92672">.</span> <span style="color:#f92672">,</span>y) (<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;%s + %s = %s&#34;</span> x y (<span style="color:#a6e22e">+</span> x y)))) <span style="color:#75715e">;è¿™é‡Œxç»‘å®šä¸ºå€¼1,yç»‘å®šä¸ºå€¼2</span>
                                        <span style="color:#75715e">;=&gt;&#34;1 + 2 = 3&#34;</span>
</code></pre></div></li>
<li>`ATOM
è¯¥æ¨¡å¼åŒ¹é…ä»»ä½•`equal` ATOMçš„atom
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(pcase (get-return-code x)
  (<span style="color:#f92672">`</span>success       (<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;Done!&#34;</span>))
  (<span style="color:#f92672">`</span>would-block   (<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;Sorry, can&#39;t do it now&#34;</span>))
  (<span style="color:#f92672">`</span>read-only     (<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;The shmliblick is read-only&#34;</span>)) <span style="color:#75715e">;æ³¨æ„,symbolå‰éœ€è¦ç”¨åå¼•å·å¼•èµ·æ¥</span>
  (<span style="color:#f92672">`</span>access-denied (<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;You do not have the needed rights&#34;</span>))) <span style="color:#75715e">;è¿™é‡Œaccess-deniedä¸ºatom,ä½¿ç”¨equalæ¥è¿›è¡ŒåŒ¹é…</span>
</code></pre></div></li>
<li>`,UPATTERN
è¯¥æ¨¡å¼åŒ¹é…ä»»ä½•ç¬¦åˆUPATTERNçš„object,å¹¶ä¼šç»‘å®šobjectåˆ°UPATTERNä¸­çš„å˜é‡ä¸­
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq form <span style="color:#f92672">&#39;</span>(add <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span>))
(pcase form
  (<span style="color:#f92672">`</span>(add <span style="color:#f92672">,</span>x <span style="color:#f92672">,</span>y) (<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;%s + %s = %s&#34;</span> x y (<span style="color:#a6e22e">+</span> x y)))) <span style="color:#75715e">;è¿™é‡Œxç»‘å®šä¸ºå€¼1,yç»‘å®šä¸ºå€¼2</span>
<span style="color:#75715e">;=&gt;&#34;1 + 2 = 3&#34;</span>

</code></pre></div></li>
<li>SYMBOL
è¯¥æ¨¡å¼åŒ¹é…ä»»ä½•object,å¹¶ä¸”å°†è¯¥symbolç»‘å®šåˆ°objectä¸Š.
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(pcase (get-code x)
  (code (<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;code is %s&#34;</span> code)))   <span style="color:#75715e">;è¿™é‡Œcodeä¸ºä¸€ä¸ªsymbol,å®ƒçš„å€¼ä¸º(get-code x)çš„ç»“æœ</span>
</code></pre></div></li>
<li>
<ul>
<li></li>
</ul>
è¯¥æ¨¡å¼åŒ¹é…ä»»ä½•object,ä½†ä¸SYMBOLä¸åŒåœ¨äºä¸ä¼šå°†objectç»‘å®šåˆ°ä»»ä½•symbolä¸Š</li>
<li>(pred PRED)
è¿”å›(PRED object)çš„å€¼
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(pcase x
  ((pred <span style="color:#a6e22e">numberp</span>) (<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;x is number&#34;</span>))
  ((pred <span style="color:#a6e22e">stringp</span>) (<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;x is string&#34;</span>)))
</code></pre></div></li>
<li>(or UPATTERN1 UPATTERN2 &hellip;)
ä»»ä½•ä¸€ä¸ªUPATTERNåŒ¹é…éƒ½è¡Œ</li>
<li>(and UPATTERN1 UPATTERN2 &hellip;)
æ‰€æœ‰UPATTERNéƒ½å¿…é¡»åŒ¹é…</li>
<li>(guard EXP)
è‹¥EXPçš„è®¡ç®—ç»“æœä¸ºénil,åˆ™åŒ¹é…,å¦åˆ™ä¸åŒ¹é…</li>
</ul>
<h3 id="ç»„åˆæ¡ä»¶">ç»„åˆæ¡ä»¶<a hidden class="anchor" aria-hidden="true" href="#ç»„åˆæ¡ä»¶">#</a></h3>
<ul>
<li>
<p>(not condition)</p>
</li>
<li>
<p>(and conditions)</p>
</li>
<li>
<p>(or conditions)</p>
</li>
</ul>
<h3 id="å¾ªç¯">å¾ªç¯<a hidden class="anchor" aria-hidden="true" href="#å¾ªç¯">#</a></h3>
<ul>
<li>(while condition bodys)</li>
</ul>
<p>whileå…ˆåˆ¤æ–­conditionçš„å€¼,åªè¦conditionä¸ºénil,åˆ™å¾ªç¯æ‰§è¡Œbodys,bodyså¯ä»¥ä¸ºç©º.</p>
<p>è¦æ¨¡æ‹Ÿrepeat bodys until condition,å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„ç»“æ„</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(while (bodys
        (not condition)))
</code></pre></div><ul>
<li>(dolist (var list [result]]) bodys)</li>
</ul>
<p>å¯¹listçš„æ¯ä¸ªelement,ç»‘å®šåˆ°å˜é‡varä¸­,ç„¶åæ‰§è¡Œbodysä¸­çš„è¯­å¥,æœ€åè¿”å›resultçš„è®¡ç®—ç»“æœ(é»˜è®¤ä¸ºnil).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defun <span style="color:#a6e22e">reverse</span> (<span style="color:#a6e22e">list</span>)
  (let (value)
    (dolist (<span style="color:#a6e22e">elt</span> <span style="color:#a6e22e">list</span> value)
      (setq value (<span style="color:#a6e22e">cons</span> <span style="color:#a6e22e">elt</span> value)))))
</code></pre></div><ul>
<li>(dotimes (var count [result]) bodys)</li>
</ul>
<p>ç±»ä¼¼dolist,ä½†varçš„å€¼çš„èŒƒå›´ä¸º[0,count)</p>
<ul>
<li>(do (var initial [step-form]) (end-test [RESULT-FORM] bodys&hellip;))</li>
</ul>
<p>ç±»ä¼¼for(var=initial;end-test;var=step-form){bodys&hellip;}</p>
<h3 id="ä½¿ç”¨catch-throwæ¨¡æ‹Ÿgotoè¯­å¥">ä½¿ç”¨catch/throwæ¨¡æ‹Ÿgotoè¯­å¥<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨catch-throwæ¨¡æ‹Ÿgotoè¯­å¥">#</a></h3>
<p>å¯ä»¥åœ¨catchä¸­ä½¿ç”¨throwæ¥è·³å‡ºå¾ªç¯,throwè¯­å¥ä¼šè·³è½¬åˆ°catchå¤„,ä¾‹å¦‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="color:#75715e">;; (catch tag bodys)</span>
(defun foo-outer ()
  (catch <span style="color:#e6db74">&#39;foo</span>
  (foo-inner)))

<span style="color:#75715e">;; (throw tag value)</span>
(defun foo-inner ()
  <span style="color:#f92672">...</span>
  (if x
    (throw <span style="color:#e6db74">&#39;foo</span> <span style="color:#66d9ef">t</span>))                   <span style="color:#75715e">;è¿™é‡Œç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»ä¸catchçš„ç¬¬ä¸€ä¸ªå‚æ•°åŒ¹é…. ç¬¬äºŒä¸ªå‚æ•°t,ä½œä¸ºcatchçš„è¿”å›å€¼</span>
  <span style="color:#f92672">...</span>)
<span style="color:#75715e">;; ä»è¿™ä¸ªä¾‹å­ä¸­å¯ä»¥çœ‹å‡º,throwå¯ä»¥è·¨å‡½æ•°é—´æ•è·</span>
</code></pre></div><p>throwä¼šæ ¹æ®å…¶ç¬¬ä¸€ä¸ªå‚æ•°æ¥æŸ¥è¯¢åŒ¹é…çš„catch,åŒ¹é…çš„catchå®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°éœ€è¦eq throwçš„ç¬¬ä¸€ä¸ªå‚æ•°.</p>
<p>catchè¯­å¥çš„è¿”å›å€¼ç”±throwçš„ç¬¬äºŒä¸ªå‚æ•°å†³å®š</p>
<p>è‹¥æœ‰å¤šä¸ªcatchå¯ä¾›åŒ¹é…,åˆ™æœ€å†…å±‚é‚£ä¸ªcatchè¢«åŒ¹é….</p>
<p>throwæ“ä½œé€€å‡ºå¤šä¸ªlispç»“æ„æ—¶,å°±å¥½åƒæ­£å¸¸é€€å‡ºè¿™äº›lispç»“æ„ä¸€æ ·.
å…·ä½“æ¥è¯´,throwæ“ä½œä¼šè¿™äº›lispç»“æ„ä¸­ä½¿è§£ç»‘ç”¨letç»‘å®šçš„å˜é‡,é€€å‡ºäº†save-excursionè¯­å¥å,ä¼šè¿˜åŸbufferå’Œpostion. é€€å‡ºsave-restrictionè¯­å¥å,ä¼šè¿˜åŸnarrowingçŠ¶æ€. å®ƒè¿˜ä¼šè°ƒç”¨unwind-protectè¯­å¥å®šä¹‰çš„æ¸…ç†åŠ¨ä½œ.</p>
<p>è‹¥ä¸€ä¸ªthrowçš„tagæ²¡æœ‰ç›¸åº”çš„catch tagæ¥åŒ¹é…,åˆ™ä¼šæŠ›å‡º`no-catch`é”™è¯¯. é”™è¯¯å†…å®¹ä¸ºthrowè¯­å¥ä¸­çš„`(tag value)`</p>
<h2 id="elispä¸­çš„å¼‚å¸¸æœºåˆ¶">Elispä¸­çš„å¼‚å¸¸æœºåˆ¶<a hidden class="anchor" aria-hidden="true" href="#elispä¸­çš„å¼‚å¸¸æœºåˆ¶">#</a></h2>
<h3 id="ä½¿ç”¨singal-error-condition-caseæ¨¡æ‹Ÿtry-catchè¯­å¥">ä½¿ç”¨singal/error/condition-caseæ¨¡æ‹Ÿtry catchè¯­å¥<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨singal-error-condition-caseæ¨¡æ‹Ÿtry-catchè¯­å¥">#</a></h3>
<p>elispä¸­ä¹Ÿæä¾›äº†ç±»ä¼¼C++ä¸­çš„å¼‚å¸¸æœºåˆ¶,åœ¨elispä¸­,å…¶è¢«ç§°ä¸ºerror.</p>
<p>å¤§å¤šæ•°çš„errorä¼šåœ¨è°ƒç”¨primitive functionæ—¶è‡ªåŠ¨æŠ›å‡º. å½“ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å‡½æ•°`error`å’Œ`signal`æ‰‹å·¥æŠ›å‡ºerror.</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯,C-gè§¦å‘çš„quitting,å®ƒçš„å¤„ç†æ–¹å¼è·Ÿerrorç±»ä¼¼,ä½†å¹¶ä¸æ˜¯error</p>
<p>æ¯ä¸ªerroréƒ½éœ€è¦ä¸€ä¸ªé”™è¯¯è¯´æ˜ä¿¡æ¯,æ¥è¯´æ˜æŠ›å‡ºerrorçš„åŸå› .</p>
<h4 id="errorç±»å‹">errorç±»å‹<a hidden class="anchor" aria-hidden="true" href="#errorç±»å‹">#</a></h4>
<p>å°±å¥½åƒC++æœ‰å„ç§ä¸åŒç±»å‹çš„å¼‚å¸¸ä¸€æ ·,elispä¹Ÿæœ‰ä¸åŒç±»å‹çš„error. errorçš„ç±»å‹ä½¿ç”¨error symbolæ¥æ ‡è¯†. æ¯ä¸ªerroræœ‰ä¸”ä»…æœ‰ä¸€ä¸ªerror symbol</p>
<p>åŒæ ·çš„,è·ŸC++ç±»ä¼¼,errorå¤„äºä¸€ç§è¢«ç§°ä¸ºerror-conditionçš„ç»§æ‰¿ä½“ç³»å†…,æ¯ä¸ªerror-conditionç”±condition-nameæ¥æ ‡è¯†,ä¸€ä¸ªerrorå¯ä»¥å±äºå¤šä¸ªerror-condition.</p>
<p>ç†è®ºä¸Š,`&lsquo;error`å¤„äºerror-conditionçš„æœ€é¡¶ç«¯,ä½†quitæ˜¯ä¸ªä¾‹å¤–,quitå±äºä¸€ç§error-conditionä½†å®ƒä¸æ˜¯ä¸€ç§error,å®ƒçš„çˆ¶ç±»å°±æ˜¯quitè‡ªå·±</p>
<p>è‹¥è¦å®šä¹‰è‡ªå·±çš„error,å¯ä»¥ä½¿ç”¨define-errorå‡½æ•°.</p>
<ul>
<li>
<p>(define-error symbol message &amp;optional parent)</p>
<p>å®šä¹‰ä¸€ä¸ªæ–°error,å®ƒçš„error-symbolä¸ºå‚æ•°symbol. å®ƒç»§æ‰¿äºå‚æ•°parentæ‰€è¡¨ç¤ºçš„error-condition(é»˜è®¤ä¸ºerror),</p>
<p>å‚æ•°messageéœ€è¦æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²,å½“è¯¥errorè¢«æŠ›å‡º,è€Œæ²¡æœ‰handleræ•è·æ—¶,elispä½¿ç”¨è¯¥å­—ç¬¦ä¸²ä½œä¸ºerror message.</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå®šä¹‰errorçš„ä¾‹å­</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(define-error <span style="color:#e6db74">&#39;new-error</span> <span style="color:#e6db74">&#34;A new error&#34;</span> <span style="color:#e6db74">&#39;my-own-errors</span>) <span style="color:#75715e">;error messageä¸€èˆ¬ç¬¬ä¸€ä¸ªå­—æ¯æ˜¯å¤§å†™çš„</span>
</code></pre></div></li>
</ul>
<h4 id="æŠ›å‡ºerror">æŠ›å‡ºerror<a hidden class="anchor" aria-hidden="true" href="#æŠ›å‡ºerror">#</a></h4>
<ul>
<li>
<p>(error format-string &amp;rest args)</p>
<p>æŠ›å‡ºä¸€ä¸ªerror,è¯¥errorçš„é”™è¯¯è¯´æ˜ä¿¡æ¯ä¸º(format format-string args)</p>
</li>
<li>
<p>(signal error-symbol data)</p>
<p>signalå‡½æ•°æŠ›å‡ºä¸€ä¸ªåä¸ºerror-symbolçš„error.</p>
<p>å‚æ•°error-symbolå¿…é¡»æ˜¯ç”±`define-error`å®šä¹‰çš„symbol.
dataå‚æ•°åˆ™æ˜¯ä¸errorç¯å¢ƒç›¸å…³çš„ä¸€ç³»åˆ—lisp object,å…¶lisp objectä¸­çš„ä¸ªæ•°å’Œæ„ä¹‰,å¯¹ä¸åŒçš„error-symbolæœ‰ä¸åŒçš„è¦æ±‚</p>
<p>è‹¥æŠ›å‡ºçš„erroræ²¡æœ‰è¢«å¤„ç†,åˆ™error-symbolå’Œdataè¿™ä¸¤ä¸ªå‚æ•°è¢«ç”¨æ¥è¾“å‡ºå‡ºé”™ä¿¡æ¯.</p>
<p>ä¸€èˆ¬æƒ…å†µä¸‹,å‡ºé”™ä¿¡æ¯ç”±error-symbolçš„error-message propertyæ¥æä¾›. dataåˆ™ä¸€èˆ¬ç”¨æ¥æä¾›äº§ç”Ÿerrorçš„ä¸Šä¸‹æ–‡ç¯å¢ƒ.
ä½†è‹¥error-symbolä¸ºerror,åˆ™é”™è¯¯ä¿¡æ¯ä¸º(car data),ä¸”(car data)å¿…é¡»ä¸ºstringå‹. file-errorç±»åˆ™æœ‰å…¶ç‰¹æ®Šçš„å¤„ç†æ¨¡å¼.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">signal</span> <span style="color:#e6db74">&#39;error</span> <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;asdbs&#34;</span> (<span style="color:#a6e22e">car</span> <span style="color:#ae81ff">1</span>) (cas <span style="color:#ae81ff">1</span>))) <span style="color:#75715e">;error--&gt; asdbs: (car 1), (cas 1)</span>
(<span style="color:#a6e22e">signal</span> <span style="color:#e6db74">&#39;wrong-number-of-arguments</span> <span style="color:#f92672">&#39;</span>(x y)) <span style="color:#75715e">; error--&gt; Wrong number of arguments: x, y</span>
(<span style="color:#a6e22e">signal</span> <span style="color:#e6db74">&#39;no-such-error</span> <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;My unknown error condition&#34;</span>)) <span style="color:#75715e">; error--&gt; peculiar error: &#34;My unknown error condition&#34;</span>
</code></pre></div></li>
<li>
<p>(user-error format-string &amp;rest args)</p>
<p>user-errorè·Ÿerrorå‡½æ•°ç±»ä¼¼,ä½†æ˜¯å®ƒä½¿ç”¨user-errorä½œä¸ºerror-symbolè€Œä¸æ˜¯error.</p>
<p>å¦‚åç§°æ‰€ç¤º,ä¸€èˆ¬ç”¨è¯¥å‡½æ•°æŠ›å‡ºç”¨æˆ·çº§çš„error,è€Œä¸æ˜¯ä»£ç çº§çš„error,å³å®ƒä¸ä¼šè¿›å…¥debugæ¨¡å¼(å³ä½¿debug-on-errorä¸ºénil)</p>
</li>
</ul>
<h4 id="å¤„ç†error">å¤„ç†Error<a hidden class="anchor" aria-hidden="true" href="#å¤„ç†error">#</a></h4>
<p>ç±»ä¼¼C++ä¸­çš„å¼‚å¸¸æœºåˆ¶,elispä¸­çš„errorä¹Ÿå¯ä»¥å®šä¹‰å¤šä¸ªerror-handleræ¥æ•è·å®ƒ,ä½†åªæœ‰æœ€é è¿‘errorå‘æºåœ°çš„error-handlerä¼šç”¨æ¥å¤„ç†è¯¥error.</p>
<p>è‹¥æŠ›å‡ºçš„error,æ²¡æœ‰å¯¹åº”çš„error handleræ¥å¤„ç†å®ƒ,åˆ™æ ¹æ®å˜é‡`debug-on-error`æ¥å†³å®šæ˜¯è°ƒç”¨debugæ¥å¤„ç†è¯¥error(t),è¿˜æ˜¯ç›´æ¥ç»ˆæ­¢ç¨‹åºè¾“å‡ºerror(nil).</p>
<ul>
<li>
<p>(condition-case var protected-form error-handler-bodys)</p>
<p>å¯ä»¥ä½¿ç”¨condition-caseæ¥å®šä¹‰error handler.ä¾‹å¦‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(condition-case <span style="color:#66d9ef">nil</span>
  (<span style="color:#a6e22e">delete-file</span> filename)
(<span style="color:#a6e22e">error</span> <span style="color:#66d9ef">nil</span>))
</code></pre></div><p>condition-caseçš„ç¬¬ä¸€ä¸ªå‚æ•°varæ˜¯ä¸€ä¸ªå˜é‡,å½“å‚æ•°protected-formæ­£å¸¸æ‰§è¡Œæ—¶,è¯¥å˜é‡åªèƒ½åœ¨error-handlerçš„ä»£ç ä¸­æ‰èƒ½è¢«ä½¿ç”¨,è¿™æ—¶è¯¥å˜é‡çš„å€¼ä¸º&rsquo;(error-symbol . data)&rsquo;. error-handlerå¯ä»¥æ ¹æ®è¯¥å˜é‡ä¸­æ‰€æè¿°çš„é”™è¯¯ä¿¡æ¯æ¥è¿›è¡Œæ“ä½œ.
varå‚æ•°ä¹Ÿå¯ä»¥æ˜¯nil,è¡¨ç¤ºæ²¡æœ‰è¿™æ ·ä¸€ä¸ªæè¿°errorä¿¡æ¯çš„å˜é‡.
å°±åƒå†™C++ä»£ç ä¸€æ ·,æœ‰æ—¶å€™,éœ€è¦é‡æ–°æŠ›å‡ºerror,ä»¥ä¾¿è®©å¤–é¢çš„ä»£ç æ•è·åˆ°è¯¥error,åˆ™å¯ä»¥è¿™æ ·åš:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">signal</span> (<span style="color:#a6e22e">car</span> var) (<span style="color:#a6e22e">cdr</span> var))
</code></pre></div><p>æˆ‘ä»¬ç§°å‘¼condition-caseçš„ç¬¬äºŒä¸ªå‚æ•°ä¸º&quot;protected form&rdquo;(åœ¨ä¸Šä¾‹ä¸­,å°±æ˜¯(delete-file filename))</p>
<p>&ldquo;protected form&quot;åé¢çš„å‚æ•°åˆ™ä¸ºå®šä¹‰çš„error handlers. æ¯ä¸ªerror-handlerçš„æ ¼å¼ä¸º(condition-names handler-bodys).
è¿™é‡Œ,conditon-nameså¯ä»¥æ˜¯ä¸€ä¸ªerror-conditionåç§°æˆ–ä¸€ä¸ªç”±error-conditionåç§°ç»„æˆæˆåˆ—è¡¨. åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­,`error`ä¸ºconditon-nameè¡¨ç¤ºæ‰€æœ‰ç±»å‹çš„error.</p>
<p>æ•è·åˆ°errorå,condition-caseçš„è¿”å›å€¼ä¸ºerror-handlerçš„æ‰§è¡Œç»“æœ. è‹¥æ²¡æœ‰errorå‘ç”Ÿ,åˆ™è¿”å›protectd-formçš„è®¡ç®—ç»“æœ.
ä¸‹é¢æ˜¯ä¸€äº›error-handlerçš„ä¾‹å­</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">error</span> <span style="color:#66d9ef">nil</span>)

(arith-error (<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;Division by zero&#34;</span>))

((arith-error file-error)
 (<span style="color:#a6e22e">message</span>
  <span style="color:#e6db74">&#34;Either division by zero or failure to open a file&#34;</span>))
</code></pre></div></li>
</ul>
<p>ä¸€èˆ¬æƒ…å†µä¸‹,è‹¥æŠ›å‡ºçš„errorè¢«error-handleræ‰€æ•è·,åˆ™ä¸ä¼šè¿›å…¥debugæ¨¡å¼,ä½†è‹¥å¸Œæœ›è°ƒè¯•é‚£äº›è¢«condition-caseæ•è·çš„error,å¯ä»¥è®¾ç½®å˜é‡`debug-on-signal`ä¸ºénil.
ä½ ä¹Ÿå¯ä»¥è®¾ç½®æŸäº›ç‰¹å®šçš„erroråœ¨æ•è·å‰,å…ˆè¿›å…¥debugæ¨¡å¼,æ–¹æ³•æ˜¯åœ¨error-handlerçš„conditon-nameå‰åŠ ä¸Š`debug`,ä¾‹å¦‚:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(condition-case <span style="color:#66d9ef">nil</span>
  (<span style="color:#a6e22e">delete-file</span> filename)
((debug <span style="color:#a6e22e">error</span>) <span style="color:#66d9ef">nil</span>))
</code></pre></div><p>éœ€è¦æ³¨æ„çš„æ˜¯,è¿™é‡Œcondition-nameå‰çš„debugå¹¶ä¸æ„å‘³ç€ä¸€å®šä¼šè¿›å…¥debugæ¨¡å¼,è¿˜éœ€è¦å°†`debug-on-error`è®¾ç½®ä¸ºénilæ‰è¡Œ.</p>
<ul>
<li>
<p>(condition-case-unless-debug var protected-form error-handler-bodys)</p>
<p>ç±»ä¼¼condition-case,ä½†åªåœ¨ä¸å¯ç”¨debugçš„æƒ…å†µä¸‹æ‰å…¶ä½œç”¨(å³`debug-on-error`ä¸ºnil)</p>
</li>
<li>
<p>(error-message-string error-descriptor)</p>
<p>è¾“å‡ºerror-descriptor(å³condition-caseä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°var)æ‰€è¡¨ç¤ºçš„å­—ç¬¦ä¸².</p>
</li>
<li>
<p>(ignore-errors body)</p>
<p>æ‰§è¡Œbodyè¯­å¥,å¹¶å¿½ç•¥ä»»ä½•æŠ›å‡ºçš„error. è‹¥bodyæ‰§è¡Œæ—¶ä¸æŠ›error,åˆ™è¿”å›bodyçš„è®¡ç®—ç»“æœ,å¦åˆ™è¿”å›nil</p>
</li>
<li>
<p>(with-demoted-errors format bodys)</p>
<p>è¯¥å®å°±åƒæ˜¯ignore-errorçš„æ¸©å’Œç‰ˆæœ¬. å®ƒä¸ä¼šç›´æ¥å¿½ç•¥æ‰errorçš„å‘ç”Ÿ,ç›¸å,å®ƒä¼šä½¿ç”¨formatæ¥å°†errorè½¬æ¢ä¸ºä¸€æ¡messageè¾“å‡º.</p>
<p>å‚æ•°formatå¿…é¡»ä¸ºæ ¼å¼å­—ç¬¦ä¸²,ä¸”å¿…é¡»æœ‰ä¸”ä»…æœ‰ä¸€ä¸ª&rdquo;%S&quot;ä½œä¸ºå ä½ç¬¦.</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯,åœ¨with-demoted-errorså®ä¸­,å®ƒæ˜¯ä½¿ç”¨conditon-case-unless-debugæ¥æ•è·error,è€Œä¸æ˜¯conditon-case. å› æ­¤éœ€è¦åœ¨å…³é—­debug-on-error,æ‰èƒ½èµ·ä½œç”¨.</p>
</li>
</ul>
<h3 id="ä½¿ç”¨unwind-protectæ¨¡æ‹Ÿfinallyè¯­å¥">ä½¿ç”¨unwind-protectæ¨¡æ‹Ÿfinallyè¯­å¥<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨unwind-protectæ¨¡æ‹Ÿfinallyè¯­å¥">#</a></h3>
<p>ç±»ä¼¼javaä¸­çš„finallyè¯­å¥,elispä¹Ÿæä¾›äº†unwind-protectæ¥ä¿è¯æ¸…ç†åŠ¨ä½œä¸€å®šä¼šæ‰§è¡Œ.</p>
<ul>
<li>(unwind-protect body-form cleanup-forms&hellip;)</li>
</ul>
<p>unwind-protectä¿è¯æ‰§è¡Œå®Œbody-formå,æ— è®ºæ‰§è¡Œè¿‡ç¨‹ä¸­æ˜¯å¦ç›´æ¥è°ƒç”¨throwè·³å‡ºbody-form,è¿˜æ˜¯æŠ›å‡ºerror,è¿˜æ˜¯æ­£å¸¸æ‰§è¡Œ,éƒ½ä¼šæ‰§è¡Œcleanup-formsä¸­çš„è¯­å¥.</p>
<p>ä¸finallyç±»ä¼¼,unwind-protectè¯­å¥åªä¿è¯body-formæ‰§è¡Œå¤±è´¥åä¼šæ‰§è¡Œcleanup-formsä¸­çš„è¯­å¥,è€Œä¸èƒ½ä¿è¯cleanup-formsä¸­å¦‚æœå‡ºäº†é—®é¢˜,è¿˜ä¼šæ‰§è¡Œåé¢çš„è¯­å¥.</p>
<p>ä¸finallyä¸åŒçš„æ˜¯,è‹¥body-formæ­£å¸¸ç»“æŸ,åˆ™unwind-protectçš„è¿”å›å€¼ä¸º <strong>body-form</strong> çš„è®¡ç®—ç»“æœ,è€Œè‹¥body-forméæ­£å¸¸é€€å‡º,åˆ™ä¸è¿”å›ä»»ä½•å€¼(??),è€Œä¸æ˜¯è¿”å›cleanup-formsçš„å€¼.</p>
<h2 id="elispä¸­çš„å˜é‡">Elispä¸­çš„å˜é‡<a hidden class="anchor" aria-hidden="true" href="#elispä¸­çš„å˜é‡">#</a></h2>
<p>åœ¨Elispä¸­,ä¸€ä¸ªå˜é‡å°±æ˜¯ä¸€ä¸ªlisp symbol. å˜é‡åä¸ºè¯¥symbolçš„åç§°,å˜é‡å€¼ä¸ºè¯¥symbolçš„value cellä¸­å­˜å‚¨çš„å€¼.</p>
<p>ä¸C++ä¸­çš„å˜é‡ä¸åŒçš„æ˜¯,Elispä¸­çš„å˜é‡å¯ä»¥æŒ‡å‘ä»»ä½•ç±»å‹çš„æ•°æ®,è€Œä¸”å¯ä»¥ä¸ºå˜é‡è®¾ç½®ä¸€ä¸ªdoc-string,ç”¨äºè¯´æ˜è¯¥å˜é‡çš„ç”¨å¤„.</p>
<h3 id="å…¨å±€å˜é‡">å…¨å±€å˜é‡<a hidden class="anchor" aria-hidden="true" href="#å…¨å±€å˜é‡">#</a></h3>
<p>å¯ä»¥ä½¿ç”¨defvar,defconst,defcustomæ¥å®šä¹‰å…¨å±€å˜é‡.</p>
<ul>
<li>(defvar symbol &amp;optional value doc-string)</li>
</ul>
<p>å®šä¹‰åä¸ºsymbol-nameçš„å˜é‡,å¹¶åˆå§‹åŒ–å€¼ä¸ºvalue.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defvar project-root <span style="color:#e6db74">&#34;~/project/&#34;</span>
  <span style="color:#e6db74">&#34;é¡¹ç›®æ ¹ç›®å½•&#34;</span>)
</code></pre></div><p>è‹¥çœç•¥valueçš„å€¼,åˆ™å®šä¹‰å‡ºæ¥çš„å˜é‡ä¸ºç©ºå˜é‡.ä¸èƒ½ç›´æ¥è¢«è®¿é—®.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defvar void-var)
void-var                                <span style="color:#75715e">;Lisp error: (void-variable void-var)</span>
</code></pre></div><p><strong>éœ€è¦æ³¨æ„çš„æ˜¯:</strong> è‹¥symbolå·²ç»æœ‰å€¼,åˆ™defvarå¹¶ä¸ä¼šæ›´æ”¹symbolçš„å€¼.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defvar var <span style="color:#e6db74">&#39;some-value</span>)
var                                     <span style="color:#75715e">;some-value</span>
(defvar var <span style="color:#e6db74">&#39;other-value</span>)
var                                     <span style="color:#75715e">;some-value</span>
</code></pre></div><p>å¦å¤–,defvarç»‘å®šçš„æ˜¯symbolåœ¨åŠ¨æ€åŸŸä¸‹çš„é»˜è®¤å€¼,å®ƒå¹¶ä¸ä¼šå½±å“symbolçš„buffer-localå€¼,ä¹Ÿä¸æ”¹å˜symbolçš„é™æ€ç»‘å®šå€¼.</p>
<ul>
<li>(defconst symbol value &amp;optional doc-string)</li>
</ul>
<p>ä¸defvardefconstä¹Ÿå®šä¹‰ä¸€ä¸ªåä¸ºsymbol-nameçš„å˜é‡,å®ƒçš„å€¼ä¸ºvalue.</p>
<p>å¦å¤–,defconstç»‘å®šçš„ä¹Ÿæ˜¯symbolåœ¨åŠ¨æ€åŸŸä¸‹çš„é»˜è®¤å€¼,å®ƒå¹¶ä¸ä¼šå½±å“symbolçš„buffer-localå€¼,ä¹Ÿä¸æ”¹å˜symbolçš„é™æ€ç»‘å®šå€¼.</p>
<p>å®ƒè·Ÿdefvarä¸ä¸€æ ·çš„åœ°æ–¹åœ¨ä¸,å®ƒæ€»æ˜¯ä½¿symbolèµ‹å€¼ä¸ºvalue,è€Œä¸ç®¡æ˜¯å¦å·²ç»æœ‰å€¼.</p>
<p>ä½†æ­£å¦‚åç§°æ‰€è¡¨ç¤ºçš„,å®ƒè¡¨ç¤ºå®šä¹‰çš„å˜é‡é€šå¸¸åº”è¯¥æ˜¯ä¸€ä¸ªå¸¸é‡. ä¸ <strong>å»ºè®®</strong> ä¿®æ”¹å®ƒçš„å€¼(ä½†ä¸æ˜¯å¼ºåˆ¶æ€§çš„)</p>
<h3 id="å¸¸é‡">å¸¸é‡<a hidden class="anchor" aria-hidden="true" href="#å¸¸é‡">#</a></h3>
<p>åœ¨Elispä¸­,nil,tå’Œä»»ä½•ä»¥`:`å¼€å¤´çš„symbol(æˆ‘ä»¬å¸¸å¸¸ç§°å‘¼è¿™ç§symbolä¸ºkeyword)éƒ½æ˜¯ç³»ç»Ÿçš„ä¿ç•™å¸¸é‡.</p>
<p>ä»»ä½•å¯¹è¿™äº›ç³»ç»Ÿçš„ä¿ç•™å¸¸é‡çš„å€¼è¿›è¡Œä¿®æ”¹çš„åŠ¨ä½œ,éƒ½ä¼šæŠ›å‡º`setting-constant` error.</p>
<p>è¿˜æœ‰ä¸€ç±»æ˜¯ç”¨æˆ·ä½¿ç”¨defconstæ¥è‡ªå®šä¹‰çš„å¸¸é‡,å¯¹è¿™ç±»å¸¸é‡çš„å€¼è¿›è¡Œä¿®æ”¹,å¹¶ä¸ä¼šæŠ›å‡ºerror,è€Œä¸”ä¿®æ”¹è¡Œä¸ºä¹Ÿèƒ½æˆåŠŸ</p>
<h3 id="å±€éƒ¨å˜é‡">å±€éƒ¨å˜é‡<a hidden class="anchor" aria-hidden="true" href="#å±€éƒ¨å˜é‡">#</a></h3>
<p>ä¸C++ä¸€æ ·,å‡½æ•°ä¸­çš„å‚æ•°,å¤©ç”Ÿå°±æ˜¯å±€éƒ¨å˜é‡,å®ƒçš„ä½œç”¨èŒƒå›´å°±æ˜¯æ•´ä¸ªå‡½æ•°å†…éƒ¨.</p>
<p>è€Œè¦å®ç°ç±»ä¼¼C++çš„ä»£ç å—å†…çš„å±€éƒ¨å˜é‡({}å†…å®šä¹‰çš„å±€éƒ¨å˜é‡),éœ€è¦ä½¿ç”¨let*è¯­å¥.</p>
<ul>
<li>(let* (bings&hellip;) forms&hellip;)</li>
</ul>
<p>è¿™é‡Œ,bingdingä¸ºå®šä¹‰å±€éƒ¨å˜é‡çš„è¯­å¥,åœ¨è¿™é‡Œå®šä¹‰çš„å±€éƒ¨å˜é‡,åªèƒ½åœ¨åé¢çš„bodysä¸­è®¿é—®.</p>
<p>æ¯ä¸ªbingdingå¯ä»¥æ˜¯ä¸€ä¸ªsymbol,è¿™è¡¨ç¤ºå®šä¹‰ä¸€ä¸ªå±€éƒ¨å˜é‡,å¹¶ä¸”è¯¥å±€éƒ¨å˜é‡çš„å€¼ä¸ºnil.
ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ª(symbol value-form)æ ¼å¼çš„list,è¡¨ç¤ºå®šä¹‰ä¸€ä¸ªå±€éƒ¨å˜é‡,å¹¶ä¸”è¯¥å±€éƒ¨å˜é‡çš„å€¼ä¸ºvalue-formçš„è®¡ç®—ç»“æœ. å½“ç„¶value-formä¹Ÿå¯ä»¥çœç•¥,è¡¨ç¤ºnil.</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq y <span style="color:#ae81ff">2</span>)                              <span style="color:#75715e">; =&gt; 2</span>

(let* ((y <span style="color:#ae81ff">1</span>)
       (z y))
  (<span style="color:#a6e22e">list</span> y z))                           <span style="color:#75715e">; =&gt; (1 1)</span>
</code></pre></div><ul>
<li>(let (bindings&hellip;) bodys&hellip;)</li>
</ul>
<p>ç±»ä¼¼let*è¯­å¥, <strong>ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯:</strong> letè¯­å¥ä¸­,åœ¨æ•´ä¸ª(bingings)æ²¡æœ‰å®Œæˆä¹‹å‰,æ‰€æœ‰çš„å±€éƒ¨å˜é‡éƒ½æ˜¯ä¸ç”Ÿæ•ˆçš„. ä¸¾ä¸ªä¾‹å­</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq y <span style="color:#ae81ff">2</span>)                              <span style="color:#75715e">; =&gt; 2</span>
<span style="color:#75715e">;; è¿™é‡Œåœ¨æ‰§è¡Œ(z y)æ—¶,å±€éƒ¨å˜é‡yè¿˜æœªç”Ÿæ•ˆ,è¿™æ—¶çš„yæ˜¯å…¨å±€å˜é‡y,å³å®ƒçš„å€¼ä¸º2</span>
(let ((y <span style="color:#ae81ff">1</span>)
      (z y))
  (<span style="color:#a6e22e">list</span> y z))                           <span style="color:#75715e">; =&gt; (1 2)</span>
</code></pre></div><h3 id="buffer-localå˜é‡">Buffer-Localå˜é‡<a hidden class="anchor" aria-hidden="true" href="#buffer-localå˜é‡">#</a></h3>
<p>Buffer-Localå˜é‡åº”è¯¥è¯´æ˜¯Elispæ‰€ç‰¹æœ‰çš„ä¸€ç§å˜é‡ç±»å‹äº†. è¿™ç§å˜é‡çš„ä½œç”¨åŸŸä»…é™äºæŸä¸ªbuffer.</p>
<p>æ¢å¥è¯è¯´,ä¸€ä¸ªå˜é‡å®ƒåœ¨ä¸åŒä½œç”¨åŸŸä¸‹æœ‰ä¸åŒçš„ç»‘å®šå€¼. è‹¥å®ƒå¤„äºbufferä½œç”¨åŸŸä¸‹,åˆ™è¯¥å˜é‡çš„å€¼æ ¹æ®bufferçš„ä¸åŒè€Œä¸åŒ. è€Œä¹‹å‰æåˆ°çš„ä¸bufferæ— å…³çš„åŠ¨æ€ä½œç”¨åŸŸçš„å€¼,æˆ‘ä»¬ç§°å®ƒä¸ºå˜é‡çš„é»˜è®¤å€¼.</p>
<p><strong>éœ€è¦æ³¨æ„:</strong> å³ä½¿ä¸€ä¸ªå˜é‡è¢«æ ‡è®°ä¸ºbuffer-localå˜é‡,å½“ä½¿ç”¨defvarå’Œdefconstæ—¶,æ”¹å˜çš„ä¾ç„¶æ˜¯å®ƒçš„é»˜è®¤å€¼.è€Œä¸æ˜¯bufferä½œç”¨åŸŸä¸‹çš„å€¼.</p>
<ul>
<li>
<p>(make-local-variable symbol)</p>
<p>å¯ä»¥ä½¿ç”¨å‘½ä»¤`make-local-variable`æ¥æ ‡æ³¨ä¸€ä¸ªå˜é‡ä¸ºBuffer-Localå˜é‡. è¿™æ—¶,è¯¥å˜é‡åœ¨å½“å‰bufferä¸­çš„å€¼å˜å¾—è·Ÿå…¶ä»–bufferç‹¬ç«‹å¼€æ¥. åœ¨å½“å‰bufferä¸­,è¯¥å˜é‡å¤„äºbufferä½œç”¨åŸŸä¸­,è€Œåœ¨å…¶ä»–bufferä¸­åˆ™å…±äº«è¯¥å˜é‡çš„é»˜è®¤å€¼.</p>
</li>
</ul>
<p>è¯¥å˜é‡åœ¨bufferä½œç”¨åŸŸä¸‹çš„å€¼,åœ¨åˆ›å»ºæ—¶ä¸è¯¥bufferçš„é»˜è®¤å€¼æ˜¯ä¸€æ ·çš„.</p>
<p>è‹¥ä¸€ä¸ªå˜é‡æ˜¯terminal-localå˜é‡,åˆ™è¯¥å‡½æ•°ä¼šæŠ›å‡ºerror. terminal-localå˜é‡ä¸èƒ½æœ‰bufferä½œç”¨åŸŸä¸‹çš„å€¼.</p>
<p><strong>æ³¨æ„:</strong> ä¸è¦ç”¨è¯¥å‡½æ•°æ¥å°†hookå˜é‡è®¾ç½®ä¸ºbuffer-localå˜é‡,è€Œåº”è¯¥åœ¨ä½¿ç”¨add-hookå’Œremove-hookæ—¶å°†localå‚æ•°è®¾ä¸ºt</p>
<ul>
<li>(setq-local symbol-name value)</li>
</ul>
<p>å°†symbolå˜é‡æ ‡æ³¨ä¸ºbuffer-localå˜é‡,åŒæ—¶èµ‹å€¼ä¸ºvalue. å®ƒç­‰äºæ˜¯å…ˆè°ƒç”¨make-local-variableåå†ç”¨setqè¿›è¡Œèµ‹å€¼.</p>
<ul>
<li>
<p>(make-variable-buffer-local symbol)</p>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨å‘½ä»¤`make-variable-buffer-local`æ¥æ ‡æ³¨ä¸€ä¸ªå˜é‡åœ¨æ‰€æœ‰çš„bufferä¸­éƒ½å¤„äºbuffer-localä½œç”¨åŸŸä¸‹,åŒ…æ‹¬é‚£äº›è¿˜æœªè¢«åˆ›å»ºçš„buffer. æˆ‘ä»¬ç§°å‘¼è¿™ç§å˜é‡ä¸ºautomatically buffer-localå˜é‡</p>
<p>æ‰€æœ‰bufferä¸­çš„å€¼ä¸€å¼€å§‹æ—¶é»˜è®¤å°±æ˜¯è¯¥å˜é‡çš„é»˜è®¤å€¼.</p>
</li>
</ul>
<p>å½“symbolå˜é‡çš„é»˜è®¤å€¼ä¸ºç©ºæ—¶,è¯¥è¯­å¥ä¼šè‡ªåŠ¨ä¸ºå˜é‡åœ¨bufferä½œç”¨åŸŸä¸‹çš„å€¼èµ‹å€¼ä¸ºnil.</p>
<ul>
<li>(defvar-local symbol-name value &amp;optional docstring)</li>
</ul>
<p>å®šä¹‰ä»¥symbol-nameä¸ºåç§°çš„å˜é‡,å¹¶èµ‹åˆå€¼ä¸ºvalue,å¹¶æŠŠè¯¥å˜é‡æ ‡æ³¨ä¸ºè‡ªåŠ¨çš„buffer-localå˜é‡.</p>
<p>è¯¥çº¢ç­‰ä»·äºå…ˆæ‰§è¡Œmake-variable-buffer-local,ç„¶åå†æ‰§è¡Œdefvar</p>
<ul>
<li>(local-variable-p symbol &amp;optional buffer)</li>
</ul>
<p>åˆ¤æ–­symbolæ‰€è¡¨ç¤ºçš„å˜é‡åœ¨bufferä¸­æ˜¯å¦ä¸ºbuffer-localå˜é‡,è‹¥çœç•¥bufferå‚æ•°åˆ™æŒ‡çš„å½“å‰buffer.</p>
<p><strong>æ³¨æ„:è¯¥å‡½æ•°åœ¨åˆ¤æ–­automatically buffer-localå˜é‡æ—¶è¿”å›nil</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defvar-local a <span style="color:#ae81ff">1</span>)                     <span style="color:#75715e">;è¿™æ—¶aä¸ºautomatically buffer-localå˜é‡</span>
(<span style="color:#a6e22e">local-variable-p</span> <span style="color:#e6db74">&#39;a</span>)                  <span style="color:#75715e">;=&gt;nil</span>
</code></pre></div><ul>
<li>(local-variable-if-set-p symbol &amp;optional buffer)</li>
</ul>
<p>è·Ÿlocal-variable-pç±»ä¼¼,ä½†å½“symbolä¸ºautomatically buffer-localå˜é‡æ—¶,è¯¥å‡½æ•°ä¹Ÿè¿”å›t</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defvar-local a <span style="color:#ae81ff">1</span>)                     <span style="color:#75715e">;è¿™æ—¶aä¸ºautomatically buffer-localå˜é‡</span>
(<span style="color:#a6e22e">local-variable-if-set-p</span> <span style="color:#e6db74">&#39;a</span>)           <span style="color:#75715e">;=&gt; t</span>
</code></pre></div><ul>
<li>(buffer-local-value symbol buffer)</li>
</ul>
<p>è¿”å›symbolå˜é‡åœ¨æŒ‡å®šbufferä¸­çš„bufferä½œç”¨åŸŸä¸­çš„å€¼, è‹¥symbolå˜é‡åœ¨æŒ‡å®šbufferä¸­æ²¡æœ‰buffer-localç»‘å®šå€¼,åˆ™è¿”å›å®ƒçš„é»˜è®¤å€¼.</p>
<ul>
<li>(buffer-local-variables &amp;optional buffer)</li>
</ul>
<p>ä»¥listçš„æ–¹å¼è¿”å›å½“å‰bufferä¸­çš„æ‰€æœ‰buffer-localå˜é‡. è‹¥bufferå‚æ•°è¢«çœç•¥,åˆ™è¡¨ç¤ºå½“å‰buffer.</p>
<p>è¿”å›çš„listä¸­çš„æ¯ä¸ªå…ƒç´ çš„æ ¼å¼ä¸º&rsquo;(symbol . value), ä½†è‹¥symbolå˜é‡åœ¨bufferä½œç”¨åŸŸä¸‹çš„å€¼ä¸ºç©º(ä¸æ˜¯nil),åˆ™å…ƒç´ çš„æ ¼å¼åªæ˜¯å•ä¸ªçš„symbol</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">make-local-variable</span> <span style="color:#e6db74">&#39;foobar</span>)
(<span style="color:#a6e22e">makunbound</span> <span style="color:#e6db74">&#39;foobar</span>)
(<span style="color:#a6e22e">make-local-variable</span> <span style="color:#e6db74">&#39;bind-me</span>)
(setq bind-me <span style="color:#ae81ff">69</span>)
(setq lcl (<span style="color:#a6e22e">buffer-local-variables</span>))
<span style="color:#75715e">;; =&gt;</span>
    (foobar                             <span style="color:#75715e">;foobarä¸ºvoidå˜é‡,æ ¼å¼ä¸ºå•ä¸ªçš„symbol</span>
    (bind-me <span style="color:#f92672">.</span> <span style="color:#ae81ff">69</span>))                     <span style="color:#75715e">;bind-meå˜é‡æœ‰å€¼,å› æ­¤æ ¼å¼ä¸º(symbol . value)</span>

</code></pre></div><ul>
<li>(kill-local-variable symbol)</li>
</ul>
<p>åˆ é™¤symbolå˜é‡åœ¨å½“å‰bufferä¸­çš„buffer-localæ ‡è¯†,ä½¿ä¹‹åœ¨å½“å‰bufferä¸­ä½œä¸ºä¸€ä¸ªæ™®é€šå˜é‡æ¥å¤„ç†.</p>
<p><strong>è¦æ³¨æ„çš„æ˜¯:</strong> è‹¥å¯¹ä¸€ä¸ªautomatical buffer-localå˜é‡æ‰§è¡Œè¯¥å‡½æ•°,åˆ™è¯¥å˜é‡åœ¨å½“å‰bufferä¸­è®¿é—®æ—¶ä¼šä½œä¸ºä¸€ä¸ªæ™®é€šå˜é‡æ¥å¤„ç†,ç„¶è€Œ, <strong>ä¸€æ—¦å¯¹è¿™ä¸ªå˜é‡å†æ¬¡èµ‹å€¼,è¯¥å˜é‡åˆå˜æˆä¸ºbuffer-localå˜é‡</strong></p>
<ul>
<li>(kill-all-local-variables)</li>
</ul>
<p>åˆ é™¤å½“å‰bufferä¸­æ‰€æœ‰buffer-localå˜é‡(åŒ…æ‹¬å‡½æ•°)çš„buffer-localæ ‡è¯†,ä½†é‚£äº›æ ‡æ³¨ä¸º&quot;permanent&quot;çš„å˜é‡å’Œ&quot;permanent-local-hook&quot;å±æ€§ä¸ºénilçš„å‡½æ•°é™¤å¤–.</p>
<p>è¯¥å‡½æ•°è¿”å›nil</p>
<p><strong>è¯¥å‡½æ•°æ‰§è¡Œçš„ç¬¬ä¸€ä»¶äº‹å°±ä¼šæ‰§è¡Œchange-major-mode-hook,å› ä¸ºå®ƒä¼šæŠŠå½“å‰bufferçš„major modeå…ˆæ”¹ä¸ºfundamental mode</strong></p>
<p><span class="underline">æ‰€è°“æ ‡æ³¨ä¸ºpermanentçš„å˜é‡,æŒ‡çš„æ˜¯symbolçš„permanent-localå±æ€§ä¸ºénil</span></p>
<p>å½“åœ¨æŸbufferä¸­æ ‡æ³¨æŸå˜é‡é—®buffer-localå˜é‡å,å†ä½¿ç”¨setqæ¥æ›´æ”¹å˜é‡å€¼æ—¶åªä¼šæ›´æ”¹è¯¥å˜é‡åœ¨è¯¥bufferä½œç”¨åŸŸä¸‹çš„å€¼äº†,è¦æƒ³æ›´æ”¹å®ƒçš„é»˜è®¤å€¼,éœ€è¦ä½¿ç”¨è¯­å¥set-default / setq-defaultäº†</p>
<ul>
<li>
<p>(setq-default symbol1-name value1 symbol2-name value2 &hellip;)</p>
<p>è®¾ç½®æ¯ä¸ªå˜é‡çš„é»˜è®¤å€¼</p>
</li>
<li>
<p>(set-default symbol value)</p>
<p>è®¾ç½®symbolå˜é‡çš„é»˜è®¤å€¼</p>
</li>
</ul>
<p>åŒæ ·çš„,ä½¿ç”¨letå¯¹ä¸€ä¸ªbuffer-localå˜é‡è¿›è¡Œå±€éƒ¨ç»‘å®šæ—¶,ä¿®æ”¹çš„ä¹Ÿæ˜¯è¯¥å˜é‡åœ¨bufferä½œç”¨åŸŸä¸‹çš„å€¼.</p>
<h3 id="file-localå˜é‡">File-Localå˜é‡<a hidden class="anchor" aria-hidden="true" href="#file-localå˜é‡">#</a></h3>
<p>åœ¨æ–‡ä»¶ä¸­æŒ‡å®šäº†æŸä¸ªå˜é‡ä¸ºFile-localå˜é‡å,å½“æŸä¸ªbufferè®¿é—®è¯¥æ–‡ä»¶å,ç›¸å…³å˜é‡è‡ªåŠ¨æˆä¸ºbuffer-localå˜é‡.</p>
<p>å¤„äºå®‰å…¨è€ƒè™‘,è‹¥æŸä¸ªFile-localå˜é‡ä¸ºå‡½æ•°æˆ–Sè¡¨è¾¾å¼,åˆ™åªæœ‰é‚£äº›æ˜ç¡®æ ‡è®°ä¸ºsafeçš„file-localå˜é‡æ‰ä¼šè‡ªåŠ¨ç”Ÿæ•ˆ,å…¶ä»–çš„file-localå˜é‡éœ€è¦ç”¨äºè®¤å¯æ‰å›ç”Ÿæ•ˆ.</p>
<p>ä½ å¯ä»¥é€šè¿‡ä¿®æ”¹ä¸€ä¸ªå˜é‡çš„safe-local-variableå±æ€§æ¥å†³å®šå“ªäº›å€¼å¯¹äºè¯¥å‚æ•°æ¥è¯´æ˜¯æœ‰æ•ˆçš„,è¯¥å±æ€§æ¥æ”¶è¯¥å‚æ•°çš„å€¼,è¿”å›énilåˆ™è¡¨ç¤ºè¯¥å‚æ•°safe(æœ‰æ•ˆ),nilè¡¨ç¤ºunsafe(æ— æ•ˆ).</p>
<p>æ­¤å¤–,å½“Emacsè¯»å–file-localå˜é‡æ—¶,`read-circle`å˜é‡ä¼šä¸´æ—¶è®¾ä¸ºnil.</p>
<ul>
<li>å˜é‡enable-local-variables</li>
</ul>
<p>è¯¥å˜é‡æ§åˆ¶äº†æ˜¯å¦è®©file-localå˜é‡ç”Ÿæ•ˆ.</p>
<p>è¯¥å˜é‡æœ‰å¯ä»¥è®¾ç½®ä¸º:</p>
<ol>
<li>
<p>t (é»˜è®¤)</p>
<p>è¡¨ç¤ºè‡ªåŠ¨ç”Ÿæ•ˆé‚£äº›æ ‡è®°ä¸ºsafeçš„å˜é‡,è€Œé‚£äº›unsafeçš„å˜é‡éœ€è¦æç¤ºç”¨æˆ·ç¡®è®¤åæ‰ç”Ÿæ•ˆ</p>
</li>
<li>
<p>:safe</p>
<p>åªæœ‰æ ‡è®°ä¸ºsafeçš„å˜é‡æ‰ç”Ÿæ•ˆ,å…¶ä»–çš„unsafeå˜é‡ä¸ç”Ÿæ•ˆ</p>
</li>
<li>
<p>:all</p>
<p>æ‰€æœ‰çš„å˜é‡,ä¸ç®¡safeæˆ–unsafe,éƒ½ç”Ÿæ•ˆ</p>
</li>
<li>
<p>nil</p>
<p>æ‰€æœ‰çš„å˜é‡,ä¸ç®¡safeæˆ–unsafe,éƒ½ä¸ç”Ÿæ•ˆ</p>
</li>
<li>
<p>å…¶ä»–</p>
<p>ç´ æœ‰å˜é‡,ä¸ç®¡safeæˆ–unsafe,éƒ½éœ€è¦ç”¨æˆ·ç¡®è®¤è¿‡ä¹‹åæ‰ç”Ÿæ•ˆ</p>
</li>
<li>
<p>å˜é‡inhibit-local-variables-regexps</p>
</li>
</ol>
<p>è¯¥å˜é‡æ˜¯ä¸€ä¸ªç”±æ­£åˆ™è¡¨è¾¾å¼ç»„æˆçš„list. å¦‚æœæŸä¸ªæ–‡ä»¶åç¬¦åˆlistä¸­æŸå…ƒç´ çš„ä¸ªæ­£åˆ™è¡¨è¾¾å¼,åˆ™è¯¥æ–‡ä»¶ä¸­çš„file-locaå˜é‡ä¸ç”Ÿæ•ˆ</p>
<ul>
<li>(hack-local-variables &amp;optional mode-only)</li>
</ul>
<p>å¯ç”¨è¯¥bufferæ‰€è®¿é—®fileä¸­çš„file-localå˜é‡.</p>
<p><strong>æ³¨æ„:</strong> æ‰§è¡Œè¯¥å‡½æ•°æ—¶,ä¼šæŒ‰ç…§å˜é‡`enable-local-variables`çš„ä¸åŒå€¼,è€Œæœ‰ä¸åŒçš„ç”Ÿæ•ˆæ–¹å¼.</p>
<p>è¯¥å‡½æ•°æ‰§è¡Œå‰ä¼šè§¦å‘`before-hack-local-variables-hook`,æ‰§è¡Œåä¼šè§¦å‘`hack-local-variables-hook`</p>
<p>è‹¥mode-onlyå‚æ•°ä¸ºénil,åˆ™ä¹‹ååä¸º&quot;mode:&ldquo;çš„file-localå˜é‡ä¼šç”Ÿæ•ˆ,è‹¥æ–‡ä»¶ä¸­æŒ‡æ˜äº†&quot;mode:&quot;,åˆ™è¯¥å‡½æ•°è¿”å›è¯¥å‡½æ•°å€¼,å¦åˆ™è¿”å›nil</p>
<ul>
<li>å˜é‡file-local-variables-alist</li>
</ul>
<p>è¯¥å˜é‡ä¸€å®šä¸ºbuffer-localå˜é‡,å®ƒæ˜¯ä¸€ä¸ªå­˜å‚¨äº†file-localå˜é‡ä¿¡æ¯çš„alist.</p>
<p>æ¯ä¸ªfile-local-variables-alistä¸­å…ƒç´ çš„æ ¼å¼ä¸º`(VAR . VALUE)`,è¿™é‡ŒVARä¸ºfile-localå˜é‡,valueä¸ºå˜é‡çš„å€¼.</p>
<p>å½“Emacsè®¿é—®ä¸€ä¸ªæ–‡ä»¶æ—¶,å®ƒå…¶å®æ˜¯å…ˆå°†æ‰€æœ‰çš„file-localå˜é‡æ”¶é›†äº†èµ·æ¥å­˜å…¥file-local-variables-alistå˜é‡ä¸­,ç„¶åå†è°ƒç”¨hack-local-variableså‡½æ•°æ¥è®©ä»–ä»¬ç”Ÿæ•ˆ.</p>
<ul>
<li>é…ç½®é¡¹safe-local-variable-values</li>
</ul>
<p>è¯¥å˜é‡æ˜¯ä¸€ä¸ªç”±`(VAR . VALUE)`ç»„æˆçš„list. è¿™é‡ŒVARä¸ºå˜é‡å,è€ŒVALUEä¸ºVARçš„å€¼,å¹¶ä¸”è¯¥å€¼è¢«è®¤ä¸ºæ˜¯safeçš„.</p>
<ul>
<li>(safe-local-variable-p symbol value)</li>
</ul>
<p>åˆ¤æ–­çµ¦symbolå˜é‡è®¾ç½®ä¸ºvalueæ˜¯å¦safe</p>
<ul>
<li>(risky-local-variable-p symbol)</li>
</ul>
<p>è¯¥å‡½æ•°åˆ¤æ–­symbolå˜é‡æ˜¯å¦è®¤ä¸ºæ˜¯risky</p>
<p>riskyçš„å˜é‡åœ¨ç”Ÿæ•ˆå‰,é™¤éæ˜ç¡®è¢«è®¾ç½®åˆ°`safe-local-variable-value`ä¸­,ä½›åˆ™ä¸€å®šéœ€è¦ç»è¿‡ç”¨æˆ·çš„ç¡®è®¤.</p>
<p>æ‰€è°“riskyå˜é‡,æŒ‡çš„æ˜¯å®ƒçš„å±æ€§`risky-local-variable`ä¸ºnon-nilçš„å˜é‡.</p>
<p>æ­¤å¤–,ä»»ä½•ä»¥`-command`,`-frame-alist`,`-function`,`functions`,`-hook`,`-hooks`,`-form`,`-forms`,`-map`,`map-alist`,`-mode-alist`,`-program`å’Œ`-predicate`ç»“å°¾çš„å˜é‡éƒ½è‡ªåŠ¨è®¤ä¸ºæ˜¯riskyçš„.</p>
<ul>
<li>å˜é‡ignored-local-variables</li>
</ul>
<p>è¯¥å˜é‡çš„å€¼ä¸ºç”±å˜é‡ç»„æˆçš„list, è¯¥listä¸­çš„å¯¹åº”å˜é‡ä¸èƒ½è¢«è®¾ç½®ä¸ºfile-localå˜é‡,å³ä½¿åœ¨æ–‡ä»¶ä¸­å°†å®ƒè®¾ç½®ä¸ºfile-localå˜é‡,ä¹Ÿæ— æ•ˆæœ.</p>
<ul>
<li>é…ç½®å‹enable-local-eval</li>
</ul>
<p>`:Eval`æ˜¯ä¸€ä¸ªæ˜æ˜¾çš„æ½œåœ¨æ¼æ´,å› æ­¤Emacsé€šå¸¸åœ¨å¤„ç†è¯¥å‡½æ•°æ—¶éƒ½è¦ç»è¿‡ç”¨æˆ·çš„ç¡®è®¤.</p>
<p>é€šè¿‡è®¾ç½®enable-local-evalå€¼,å¯ä»¥æ”¹å˜è¿™ä¸€è¡Œä¸º. è¯¥å˜é‡å¯ä»¥æœ‰ä¸‰ä¸ªå€¼:</p>
<ol>
<li>
<p>t</p>
<p>è¡¨ç¤ºæ— æ¡ä»¶æ‰§è¡Œ</p>
</li>
<li>
<p>nil</p>
<p>è¡¨ç¤ºæ— æ¡ä»¶ä¸æ‰§è¡Œ</p>
</li>
<li>
<p>å…¶ä»–(é»˜è®¤ä¸º&rsquo;mayb)</p>
<p>è¡¨ç¤ºè¯¢é—®ç”¨æˆ·.</p>
</li>
<li>
<p>é…ç½®å‹safe-local-eval-forms</p>
</li>
</ol>
<p>è¯¥å˜é‡ä¸ºä¸€ä¸ªç”±æ­£åˆ™è¡¨è¾¾å¼ç»„æˆçš„list. å½“`Eval:`å‚æ•°çš„å€¼èƒ½å¤ŸåŒ¹é…ä¸Šå…¶ä¸­ä¸€ä¸ªæ­£åˆ™çš„Sè¡¨è¾¾å¼,åˆ™è®¤ä¸ºæ˜¯å®‰å…¨çš„.</p>
<p>å¦‚æœ`Eval:`å‚æ•°çš„å€¼ä¸ºä¸€ä¸ªè°ƒç”¨å‡½æ•°çš„Sè¡¨è¾¾å¼,ä¸”è°ƒç”¨çš„å‡½æ•°æ‹¥æœ‰`safe-local-eval-function`å±æ€§,åˆ™è¯¥å±æ€§æ‰€è¡¨ç¤ºçš„å‡½æ•°è¢«ç”¨æ¥åˆ¤æ–­è¯¥Sè¡¨è¾¾å¼æ˜¯å¦ä¸ºå®‰å…¨çš„. `safe-local-eval-function`å‡½æ•°å¾—å€¼,å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°åˆ—è¡¨,è¡¨ç¤ºå…¶ä¸­ä»»ä½•ä¸€ä¸ªå‡½æ•°è¿”å›tå³ä¸ºå®‰å…¨,ä¹Ÿå¯ä»¥æ˜¯t,è¡¨ç¤ºæ‰€æœ‰çš„Sè¡¨è¾¾å¼éƒ½å®‰å…¨.</p>
<p>ç”±äºTextå±æ€§å€¼ä¹Ÿå¯èƒ½åŒ…å«è¦è¢«è°ƒç”¨çš„å‡½æ•°,å› æ­¤å®ƒä¹Ÿè®¤ä¸ºæ˜¯ä¸€ä¸ªæ½œåœ¨çš„æ¼æ´, å› æ­¤,è‹¥ä¸€ä¸ªå˜é‡çš„å€¼ä¸ºå¸¦æœ‰Textå±æ€§çš„String,åˆ™è¯¥stringçš„Textå±æ€§è¢«å¿½ç•¥.</p>
<h3 id="directory-localå˜é‡">Directory-Localå˜é‡<a hidden class="anchor" aria-hidden="true" href="#directory-localå˜é‡">#</a></h3>
<p>åœ¨ç›®å½•ä¸­æŒ‡å®šäº†æŸä¸ªå˜é‡ä¸ºDirectory-localå˜é‡å,å½“æŸä¸ªbufferè®¿é—®è¯¥ç›®å½•(æå…¶å­ç›®å½•)ä¸‹çš„æ–‡ä»¶å,ç›¸å…³å˜é‡è‡ªåŠ¨æˆä¸ºbuffer-localå˜é‡.</p>
<p>æœ‰ä¸¤ç§æ–¹å¼æ¥å®šä¹‰directory-localå˜é‡:</p>
<ol>
<li>
<p>æŠŠä»–ä»¬æ”¾åˆ°ç‰¹å®šçš„æ–‡ä»¶ä¸­,è¯¥æ–‡ä»¶åç”±å¸¸é‡`dir-locals-file`å†³å®š,é»˜è®¤ä¸º`.dir-locals.el/_dir-locals`</p>
<p>åŸºäºé€Ÿåº¦çš„è€ƒè™‘,ä¸€èˆ¬åœ¨è®¿é—®è¿œç¨‹æ–‡ä»¶æ—¶,ä¼šç¦ç”¨è¯¥ç‰¹æ€§,ä½†é€šè¿‡è®¾ç½®å˜é‡`enable-remote-dir-locals`ä¸ºt,å¯ä»¥ä¸ºè¿œç¨‹æ–‡ä»¶ä¹Ÿæ‰“å¼€è¯¥ç‰¹æ€§.</p>
<p>dir-locals-fileæ–‡ä»¶çš„æ ¼å¼ä¸ºä¸€ä¸ªlist,å…¶ä¸­æ¯ä¸ªå…ƒç´ çš„æ ¼å¼å¯ä»¥æ˜¯:</p>
<ul>
<li>(major-mode . directory-local-variable-value-alist)</li>
</ul>
<p>è¡¨ç¤ºå½“æŒ‡å®šmajor-modeå¼€å¯æ—¶,å¯¹åº”çš„directory-localå˜é‡ç”Ÿæ•ˆ</p>
<ul>
<li>(nil. directory-local-variable-value-alist)</li>
</ul>
<p>è¡¨ç¤ºå¯¹æ‰€æœ‰major-mode,å¯¹åº”çš„directory-localå˜é‡ç”Ÿæ•ˆ</p>
<ul>
<li>(subdirectory-name-string . dir-locals-file-format-list)</li>
</ul>
<p>è¡¨ç¤ºå¯¹äºæŒ‡å®šå­ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶,directory-localå˜é‡ç”Ÿæ•ˆ.</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">((<span style="color:#66d9ef">nil</span> <span style="color:#f92672">.</span> ((indent-tabs-mode <span style="color:#f92672">.</span> <span style="color:#66d9ef">t</span>)
(fill-column <span style="color:#f92672">.</span> <span style="color:#ae81ff">80</span>)))
(c-mode <span style="color:#f92672">.</span> ((c-file-style <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;BSD&#34;</span>)
(subdirs <span style="color:#f92672">.</span> <span style="color:#66d9ef">nil</span>)))  <span style="color:#75715e">; =&gt;è¿™é‡Œsubdirsä¸æ˜¯å˜é‡å,è€Œæ˜¯ä¸€ä¸ªå…³é”®å­—,è¡¨ç¤ºè¯¥è®¾ç½®,åªå¯¹å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶æœ‰æ•ˆ,è€Œå¯¹å­ç›®å½•ä¸‹çš„æ–‡ä»¶æ— æ•ˆ.</span>
(<span style="color:#e6db74">&#34;src/imported&#34;</span>
<span style="color:#f92672">.</span> ((<span style="color:#66d9ef">nil</span> <span style="color:#f92672">.</span> ((change-log-default-name
<span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;ChangeLog.local&#34;</span>))))))
</code></pre></div><p>ç”±äºæ‰‹å·¥ä¿®æ”¹è¯¥æ–‡ä»¶æ ¼å¼ä¼šæ¯”è¾ƒå®¹æ˜“å‡ºé”™,å› æ­¤Emacsæä¾›äº†å‘½ä»¤add-dir-local-variable/delete-dir-local-variable/copy-file-locals-to-dir-localså‘½ä»¤æ¥ç»´æŠ¤directory-localeå˜é‡</p>
</li>
<li>
<p>ä¸ºç›®å½•å®šä¹‰&quot;project class&rdquo;</p>
<p>é¦–å…ˆä½¿ç”¨å‡½æ•°dir-locals-set-class-variableså®šä¹‰ä¸€ç»„å˜é‡/å€¼çš„é”®å€¼å¯¹çš„é›†åˆ.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(dir-locals-set-class-variables <span style="color:#e6db74">&#39;unwritable-directory</span>
                                <span style="color:#f92672">&#39;</span>((<span style="color:#66d9ef">nil</span> <span style="color:#f92672">.</span> ((some-useful-setting <span style="color:#f92672">.</span> value)))))
</code></pre></div><p>ç„¶åä½¿ç”¨å‡½æ•°dir-locals-set-directory-classå‡½æ•°ä¸ºç›®å½•åˆ†é…è¿™ç»„é”®å€¼å¯¹çš„é›†åˆ</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(dir-locals-set-directory-class
 <span style="color:#e6db74">&#34;/usr/include/&#34;</span> <span style="color:#e6db74">&#39;unwritable-directory</span>)
</code></pre></div></li>
</ol>
<h4 id="ç›¸å…³å‡½æ•°">ç›¸å…³å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#ç›¸å…³å‡½æ•°">#</a></h4>
<ul>
<li>
<p>(hack-dir-local-variables)</p>
<p>ä¸ºè®¿é—®å½“å‰ç›®å½•(åŠå­ç›®å½•)ä¸‹æ–‡ä»¶çš„æ‰€æœ‰bufferå¼€å¯directory-localå˜é‡</p>
<p>è¯¥å‡½æ•°é€šè¿‡è°ƒç”¨å‡½æ•°dir-locals-set-class-variableså’Œdir-locals-set-directory-classæ¥å®Œæˆæ­¤æ“ä½œ.</p>
</li>
<li>
<p>(hack-dir-local-variables-non-file-buffer)</p>
<p>ä¸ºå½“å‰bufferå¯ç”¨directory-localå˜é‡,ä¸€èˆ¬ç”¨äºé‚£äº›non-file bufferä¸­.</p>
<p>å¯¹è¿™äº›non-file bufferå¼€å¯directory-localå˜é‡æ—¶ä¼šä»`default-directory`å’Œå®ƒçš„çˆ¶ç›®å½•ä¸­æŸ¥æ‰¾directory-localå˜é‡çš„å®šä¹‰</p>
</li>
<li>
<p>(dir-locals-set-class-variables project-class  dir-locals-file-format-list)</p>
<p>è¯¥å‡½æ•°å®šä¹‰ä¸€ç»„directory-localå˜é‡åŠå…¶å€¼,å¹¶åˆ†é…æ”¹ç»„å˜é‡ä¸ºproject-class</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(dir-locals-set-class-variables <span style="color:#e6db74">&#39;unwritable-directory</span>
                                <span style="color:#f92672">&#39;</span>((<span style="color:#66d9ef">nil</span> <span style="color:#f92672">.</span> ((some-useful-setting <span style="color:#f92672">.</span> value)))))
</code></pre></div></li>
<li>
<p>(dir-locals-set-directory-class directory project-class &amp;optioinal mtime)</p>
<p>ä¸ºdirectory(åŠå…¶å­ç›®å½•ä¸‹)ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åˆ†é…project-classæ‰€è¡¨ç¤ºçš„directory-localå˜é‡.</p>
<p>å½“Emacsä»`.dir-locals.el`æ–‡ä»¶ä¸­è¯»å–directory-localå˜é‡æ—¶,ä¹Ÿæ˜¯é€šè¿‡è°ƒç”¨è¯¥å‡½æ•°æ¥å®ç°çš„,è¿™æ˜¯ä¼šå¸¦ä¸Šmtimeå‚æ•°.</p>
<p>mtimeå‚æ•°å­˜å‚¨çš„æ˜¯`.dir-locals.el`çš„modification time. Emacsä½¿ç”¨è¯¥æ—¶é—´æ¥æ£€æŸ¥å·²æœ‰çš„directory-localå˜é‡æ˜¯å¦ä¾ç„¶æœ‰æ•ˆ.</p>
</li>
<li>
<p>å˜é‡dir-locals-class-alist</p>
<p>è¯¥å˜é‡æ˜¯ä¸€ä¸ªalist,å®ƒç»´æŠ¤äº†project-classåŠå¯¹åº”directory-localå˜é‡çš„å¯¹åº”å…³ç³».</p>
</li>
<li>
<p>å˜é‡dir-locals-directory-cache</p>
<p>è¯¥å˜é‡æ˜¯ä¸€ä¸ªalist,å®ƒç»´æŠ¤äº†ç›®å½•åç§°,å¯¹åº”çš„project-classå’Œå¯¹åº”`.dir-locals.el`çš„modification time</p>
</li>
<li>
<p>å˜é‡enable-dir-local-variables</p>
<p>æ˜¯å¦å¯ç”¨directory-locallå˜é‡ç‰¹æ€§.</p>
</li>
</ul>
<h3 id="terminal-lockå˜é‡">Terminal-Lockå˜é‡<a hidden class="anchor" aria-hidden="true" href="#terminal-lockå˜é‡">#</a></h3>
<h3 id="ç©ºå˜é‡">ç©ºå˜é‡<a hidden class="anchor" aria-hidden="true" href="#ç©ºå˜é‡">#</a></h3>
<p>å‰é¢è¯´åˆ°,å˜é‡çš„å€¼å…¶å®å°±æ˜¯å–å¾—symbolä¸­çš„value cellä¸­å­˜å‚¨çš„å¯¹è±¡. å½“symbolä¸­çš„value cellæ²¡æœ‰å­˜å‚¨ä»»ä½•å¯¹è±¡æ—¶(nilä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡),è¿™æ—¶è®¿é—®è¯¥å˜é‡ä¼šæŠ›å‡º`void-variable` error. æˆ‘ä»¬ç§°è¿™ç§å˜é‡ä¸ºç©ºå˜é‡.
(<strong>NOTE:</strong> ä¸Šè¿°çš„æƒ…å†µåœ¨Emacsé»˜è®¤çš„åŠ¨æ€ä½œç”¨åŸŸä¸‹æ˜¯æˆç«‹çš„,è‹¥æ˜ç¡®æŒ‡å®šäº†é™æ€ä½œç”¨åŸŸ,åˆ™å¦å½“åˆ«è®ºäº†,ä½†è¿™ç§æƒ…å†µæ¯”è¾ƒå°‘ç”¨åˆ°)</p>
<p>é‚£ä¹ˆåˆ›å»ºè¿™ç§ç©ºå˜é‡å‘¢? è¿™å°±éœ€è¦ç”¨åˆ°makeunboundå‡½æ•°äº†.</p>
<ul>
<li>(makeunbound symbol)</li>
</ul>
<p>å°†å½“å‰ä½œç”¨åŸŸä¸‹çš„å±€éƒ¨å˜é‡symbolä¸­çš„value cellæ¸…ç©º,ä½¿ä¹‹æˆä¸ºç©ºå˜é‡.</p>
<p>è‹¥è¦åˆ¤æ–­æŸä¸ªå˜é‡æ˜¯å¦ä¸ºç©ºå˜é‡,åˆ™å¯ä»¥ä½¿ç”¨boundpå‡½æ•°</p>
<ul>
<li>(boundp symbol)</li>
</ul>
<p>è¯¥å‡½æ•°æ£€æŸ¥symbolçš„value cellæ˜¯å¦æœ‰å€¼,è‹¥æœ‰å€¼åˆ™è¿”å›t,å¦åˆ™è¿”å›nil. å› æ­¤æˆ‘ä»¬ä¹Ÿå¯ä»¥å®šä¹‰å‡½æ•°</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defun void-variable-p (variable)
  (<span style="color:#a6e22e">null</span> (<span style="color:#a6e22e">boundp</span> variable)))
</code></pre></div><p>ä¸‹é¢æ˜¯ä¸€äº›boundpçš„ä¾‹å­</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">boundp</span> <span style="color:#e6db74">&#39;abracadabra</span>)          <span style="color:#75715e">; Starts out void.</span>
<span style="color:#75715e">;; =&gt; nil</span>
(let ((abracadabra <span style="color:#ae81ff">5</span>))         <span style="color:#75715e">; Locally bind it.</span>
  (<span style="color:#a6e22e">boundp</span> <span style="color:#e6db74">&#39;abracadabra</span>))
<span style="color:#75715e">;; =&gt; t</span>
(<span style="color:#a6e22e">boundp</span> <span style="color:#e6db74">&#39;abracadabra</span>)          <span style="color:#75715e">; Still globally void.</span>
<span style="color:#75715e">;; =&gt; nil</span>
(setq abracadabra <span style="color:#ae81ff">5</span>)           <span style="color:#75715e">; Make it globally nonvoid.</span>
<span style="color:#75715e">;; =&gt; 5</span>
(<span style="color:#a6e22e">boundp</span> <span style="color:#e6db74">&#39;abracadabra</span>)
<span style="color:#75715e">;; =&gt; t</span>
</code></pre></div><h3 id="å˜é‡åˆ«å">å˜é‡åˆ«å<a hidden class="anchor" aria-hidden="true" href="#å˜é‡åˆ«å">#</a></h3>
<p>å˜é‡åŠå…¶åˆ«åå…¬ç”¨åŒä¸€ä¸ªå€¼,ä¿®æ”¹å…¶ä¸­ä¸€ä¸ªä¹Ÿä¼šåŒæ—¶æ›´æ”¹å¦ä¸€ä¸ªå€¼.</p>
<ul>
<li>(defvaralias new-alias base-variable &amp;optional docstring)</li>
</ul>
<p>ä¸ºbase-variableå®šä¹‰ä¸€ä¸ªåä¸ºnew-aliasçš„å˜é‡åˆ«å,å¯ä»¥ä¸ºè¿™ä¸ªåˆ«ååˆ†é…ä¸€ä¸ªæ–°çš„docstring</p>
<p>è¯¥å‡½æ•°è¿”å›base-variable</p>
<ul>
<li>(indirect-variable alias-variable)</li>
</ul>
<p>è¿”å›åˆ«åé“¾ä¸­æœ€æœ«ç«¯çš„é‚£ä¸ªéåˆ«åå˜é‡</p>
<p>è‹¥å‡ºç°äº†å¾ªç¯å®šä¹‰çš„åˆ«å,åˆ™è¯¥å‡½æ•°æŠ›å‡º`cyclic-variable-indirection` error</p>
<h3 id="åºŸå¼ƒå˜é‡">åºŸå¼ƒå˜é‡<a hidden class="anchor" aria-hidden="true" href="#åºŸå¼ƒå˜é‡">#</a></h3>
<ul>
<li>(make-obsolete-variable obsolete-variable current-variable when &amp;optional access-type)</li>
</ul>
<p>åœ¨ç¼–è¯‘æ—¶è­¦å‘Šä¸€ä¸ªå˜é‡å³å°†åºŸå¼ƒä¸ç”¨äº†,å…¶ä¸­:</p>
<p>å‚æ•°obsolete-variableä¸ºå³å°†ä¸ç”¨çš„å˜é‡</p>
<p>å‚æ•°current-variableè‹¥ä¸ºsymbol,åˆ™ä¼šæç¤ºç”¨æ–°çš„å˜é‡current-variableä»£æ›¿è€çš„å˜é‡obsolete-variable. è‹¥current-nameä¸ºstring,åˆ™ç›´æ¥è­¦å‘Šè¯¥string.</p>
<p>å‚æ•°whenæŒ‡æ˜äº†obsolete-variableä»ä»€ä¹ˆæ—¶å€™å¼€å§‹åºŸå¼ƒ,é€šå¸¸ä¸ºä¸€ä¸ªè¡¨ç¤ºç‰ˆæœ¬å·çš„å­—ç¬¦ä¸².</p>
<p>å‚æ•°access-typeæŒ‡æ˜äº†å¯¹obsolete-variableçš„å“ªç§æ“ä½œä¼šè§¦å‘è­¦å‘Š,å¯ä»¥ä½¿&rsquo;getæˆ–&rsquo;set</p>
<ul>
<li>(define-obsolete-variable-alias obsolete-variable current-variable &amp;optional when docstring)</li>
</ul>
<p>è¯¥å®åˆ›å»ºobsolete-variableä¸ºcurrent-variableçš„åˆ«å,å¹¶æ ‡è®°obsolete-variableä¸ºå³å°†åºŸå¼ƒçš„å˜é‡.</p>
<p>è¯¥å®å…¶å®ç­‰ä»·äº:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defvaralias OBSOLETE-NAME CURRENT-NAME DOCSTRING)
(make-obsolete-variable OBSOLETE-NAME CURRENT-NAME WHEN)
</code></pre></div><h3 id="å—é™çš„å˜é‡">å—é™çš„å˜é‡<a hidden class="anchor" aria-hidden="true" href="#å—é™çš„å˜é‡">#</a></h3>
<p>é»˜è®¤æƒ…å†µä¸‹,ä¸€ä¸ªLispå˜é‡çš„å€¼å¯ä»¥æ˜¯ä»»ä½•çš„Lisp object. ä½†æœ‰äº›å˜é‡ä¸æ˜¯ç”¨Lispæ¥å®šä¹‰çš„,è€Œæ˜¯ç”¨Cæ¥å®šä¹‰. è¿™äº›ç”¨Cå®šä¹‰çš„å˜é‡æœ‰å¯èƒ½åªèƒ½å­˜å‚¨ç‰¹å®šç±»å‹çš„å€¼. å¦‚æœå˜é‡ç±»å‹ä¸º:</p>
<ul>
<li>DEFVAR_LISP</li>
</ul>
<p>è¯¥å˜é‡è·Ÿåœ¨lispä¸­å®šä¹‰çš„å˜é‡ä¸€æ ·,å®ƒçš„å€¼å¯ä»¥æ˜¯ä»»æ„çš„.</p>
<ul>
<li>DEFVAR_INT</li>
</ul>
<p>è¯¥å˜é‡çš„å€¼åªèƒ½æ˜¯æ•´å‹</p>
<ul>
<li>DEFVAR_BOOL</li>
</ul>
<p>è¯¥å˜é‡çš„å€¼åªèƒ½ä¸ºtæˆ–è€…nil</p>
<p>å…¶ä¸­å˜é‡`byte-boolean-vars`ä¸­åˆ—å‡ºäº†æ‰€æœ‰ç±»å‹çš„DEFVAR_BOOLçš„å˜é‡</p>
<h3 id="å˜é‡çš„ä½œç”¨åŸŸ">å˜é‡çš„ä½œç”¨åŸŸ<a hidden class="anchor" aria-hidden="true" href="#å˜é‡çš„ä½œç”¨åŸŸ">#</a></h3>
<p>ä¸C++ä¸åŒçš„æ˜¯,Elispä¸­çš„å˜é‡é»˜è®¤æƒ…å†µä¸‹æ˜¯å¤„äºåŠ¨æ€ä½œç”¨åŸŸä¸­. å½“ç„¶,Elispä¹Ÿæ”¯æŒé™æ€ä½œç”¨åŸŸ.</p>
<h4 id="åŠ¨æ€ä½œç”¨åŸŸ">åŠ¨æ€ä½œç”¨åŸŸ<a hidden class="anchor" aria-hidden="true" href="#åŠ¨æ€ä½œç”¨åŸŸ">#</a></h4>
<p>å½“ä¸€ä¸ªå˜é‡å¤„äºåŠ¨æ€ä½œç”¨åŸŸä¸­æ—¶,è¿™å°±æ„å‘³ç€,è¿™ä¸ªå˜é‡çš„å€¼æ˜¯å—åˆ°è¿è¡Œç¯å¢ƒçš„å½±å“çš„. ä¸¾ä¸ªä¾‹å­:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq foo <span style="color:#e6db74">&#39;outer</span>)                       <span style="color:#75715e">;outer</span>
(defun say-foo()
  foo)

(say-foo)                               <span style="color:#75715e">;=&gt;outer</span>
(let ((foo <span style="color:#e6db74">&#39;inner</span>))
  (say-foo))                            <span style="color:#75715e">;=&gt;inner,åœ¨è°ƒç”¨say-fooçš„è¿è¡Œç¯å¢ƒä¸­,fooçš„å€¼ä¸ºå±€éƒ¨å®šä¹‰çš„&#39;inner,å› æ­¤say-fooçš„è¿”å›å€¼ä¸º&#39;inner</span>

(say-foo)                               <span style="color:#75715e">;=&gt;outer, åœ¨è°ƒç”¨say-fooçš„è¿è¡Œç¯å¢ƒä¸­,fooçš„å€¼ä¸ºå…¨å±€å€¼&#39;outer,å› æ­¤say-fooçš„è¿”å›å€¼ä¸º&#39;outer</span>
</code></pre></div><p>æ‹¥æœ‰åŠ¨æ€ä½œç”¨åŸŸå€¼çš„å˜é‡è¢«æˆä¸ºspecial-variable,å¯ä»¥ä½¿ç”¨å‡½æ•°special-variable-pæ¥åˆ¤æ–­ä¸€ä¸ªsymbolæ˜¯å¦ä¸ºspecial variable.</p>
<ul>
<li>
<p>(special-variable-p symbol)</p>
<p>åˆ¤æ–­symbolæ‰€è¡¨ç¤ºçš„å˜é‡æ˜¯å¦ä¸ºspecial-variable. (ç”±defvar,defconstå’Œdefcustomå®šä¹‰çš„å˜é‡éƒ½æ˜¯special variable)</p>
</li>
<li></li>
</ul>
<p>elispå®ç°åŠ¨æ€ä½œç”¨åŸŸçš„æ–¹æ³•å¾ˆç®€å•,æ¯ä¸ªsymboléƒ½ç”±ä¸€ä¸ªvalue cell,è¿™ä¸ªvalue cellæ‰€æŒæœ‰çš„å€¼å°±æ˜¯è¯¥å˜é‡åœ¨å½“å‰åŠ¨æ€ä½œç”¨åŸŸä¸‹çš„å€¼. å½“ä¸ºè¯¥å˜é‡åˆ›å»ºä¸€ä¸ªåŠ¨æ€å±€éƒ¨ä½œç”¨åŸŸæ—¶,elispå°†å½“å‰value cellçš„å€¼å‹å…¥ä¸€ä¸ªæ ˆä¸­,å¹¶å°†è¯¥symbolçš„value cellå­˜ä¸Šæ–°å€¼. å½“é€€å‡ºè¯¥åŠ¨æ€å±€éƒ¨ä½œç”¨åŸŸæ—¶,Elispä»æ ˆä¸­å¼¹å‡ºä»¥å‰çš„å€¼,å¹¶é‡æ–°å­˜å…¥symbolçš„value cellä¸­.</p>
<h4 id="é™æ€ä½œç”¨åŸŸ">é™æ€ä½œç”¨åŸŸ<a hidden class="anchor" aria-hidden="true" href="#é™æ€ä½œç”¨åŸŸ">#</a></h4>
<p>å½“ä¸€ä¸ªå˜é‡å¤„äºé™æ€ä½œç”¨åŸŸä¸‹æ—¶,è¯¥å˜é‡çš„å€¼åœ¨å®šä¹‰è¯¥å˜é‡å¤„å°±å·²ç»è¢«ç¡®å®šäº†,å³å®ƒçš„å€¼ä¸ºå®šä¹‰ç¯å¢ƒçš„å€¼. ä¾‹å¦‚</p>
<p>äº‹å®ä¸Š,Elispä½¿ç”¨ä¸€ä¸ªalistæ¥å­˜å‚¨é™æ€ä½œç”¨åŸŸä¸­å„å˜é‡ä¸å€¼çš„å…³ç³». è¿™ç§alistçš„ç»“æ„ä¸º`'((symbol1 value1)(symbol2 value2)&hellip; t)`.
è¿™ç§alistå¯ä»¥ä½œä¸ºevalå‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°ç”¨æ¥æŒ‡æ˜evalæ‰§è¡Œè¯­å¥çš„é™æ€ä½œç”¨åŸŸç¯å¢ƒ.</p>
<p>å¯ä»¥ä½¿ç”¨lexical-letå’Œlexical-let*æ¥åˆ›å»ºé™æ€ä½œç”¨åŸŸ. è¿™ä¸¤ä¸ªè¯­å¥çš„è¯­æ³•è·Ÿletå’Œlet*ä¸€æ ·,ä½†BODYä¸­çš„lambdaå‡½æ•°ä¼šåˆ›å»ºé—­åŒ….</p>
<h3 id="æ³›åŒ–å˜é‡--generalized-variables">æ³›åŒ–å˜é‡(Generalized Variables)<a hidden class="anchor" aria-hidden="true" href="#æ³›åŒ–å˜é‡--generalized-variables">#</a></h3>
<p>æ³›åŒ–å˜é‡(Generalized Variables)æˆ–ç§°ä½ç½®åˆ—è¡¨(place form)å…¶å®å°±æ˜¯å˜é‡å€¼æ‰€è¢«å­˜å‚¨çš„å†…å­˜åœ°å€.</p>
<p>æ³›åŒ–å˜é‡å¯èƒ½æ˜¯: ä¸€ä¸ªæ™®é€šçš„lispå˜é‡æˆ–è€…aref,car,caar,cadr,cdr,cdar,cddr,elt,get,gethash,nth,nthcdr,symbol-function,symbol-plist,symbol-value,default-value,frame-parameter,terminal-parameter,keymap-parent,match-data,overlay-get,overlay-start,overlay-end,process-buffer,process-filter,process-get,process-sentinel,window-buffer,window-display-table,window-dedicated-p,window-hscroll,window-parameter,window-point,window-startå‡½æ•°çš„è¿”å›å€¼.</p>
<ul>
<li>
<p>(setf place-form1 value1 place-form2 value2&hellip;)</p>
<p>å¯ä»¥ä½¿ç”¨setfå®æ¥æ“ä½œæ³›åŒ–å˜é‡. å®ƒçš„ä½œç”¨ç±»ä¼¼setq,ä½†setqåªèƒ½ä¸ºsymbolèµ‹å€¼,è€Œsetfå¯ä»¥ä¸ºä»»ä½•æ³›åŒ–å˜é‡èµ‹å€¼. ä¾‹å¦‚</p>
</li>
</ul>
<!--listend-->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq a <span style="color:#f92672">&#39;</span>(<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span>))                       <span style="color:#75715e">;(1 2 3)</span>
(setf (cadr a) <span style="color:#e6db74">&#39;two</span>)                    <span style="color:#75715e">;å°†aä¸­çš„ç¬¬äºŒä¸ªå…ƒç´ çš„å€¼æ”¹ä¸ºtwo</span>
a                                       <span style="color:#75715e">;(1 two 3)</span>

</code></pre></div><ul>
<li>
<p>(gv-define-simple-setter name setter-function &amp;optional fix-return)</p>
</li>
<li>
<p>(gv-define-setter name arglist &amp;rest body)</p>
</li>
</ul>
<h3 id="å–å˜é‡å€¼">å–å˜é‡å€¼<a hidden class="anchor" aria-hidden="true" href="#å–å˜é‡å€¼">#</a></h3>
<p>å½“åœ¨é™æ€ä½œç”¨åŸŸä¸‹,Elispå–å˜é‡å€¼æ—¶,å®ƒä¼šå…ˆæŸ¥çœ‹è¯¥å˜é‡æ˜¯å¦å­˜åœ¨é™æ€ä½œç”¨åŸŸä¸‹çš„ç»‘å®šå€¼. ç„¶åå†æŸ¥çœ‹è¯¥å˜é‡çš„åŠ¨æ€ä½œç”¨åŸŸä¸‹çš„ç»‘å®šå€¼(å³è¯¥symbolçš„value cellæ‰€å­˜å‚¨çš„å€¼)</p>
<p>é™¤äº†ç›´æ¥å¼•ç”¨å˜é‡å¯ä»¥å–å¾—å˜é‡å€¼å¤–,è¿˜å¯ä»¥ä½¿ç”¨symbol-valueå‡½æ•°æ¥è·å–å˜é‡çš„åŠ¨æ€ä½œç”¨åŸŸä¸‹çš„å€¼</p>
<ul>
<li>(symbol-value symbol)</li>
</ul>
<!--listend-->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defvar num <span style="color:#ae81ff">123</span>)
(<span style="color:#a6e22e">symbol-value</span> <span style="color:#e6db74">&#39;num</span>)                     <span style="color:#75715e">;123</span>
</code></pre></div><p><strong>éœ€è¦æ³¨æ„çš„æ˜¯:</strong> è¯¥å‡½æ•°åªèƒ½ç”¨æ¥è·å–symbolåŠ¨æ€ç»‘å®šçš„å€¼,è€Œä¸èƒ½ç”¨åœ¨é™æ€ç¯å¢ƒä¸‹è·å–å®ƒé™æ€ç»‘å®šçš„å€¼</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(lexical-let ((num <span style="color:#ae81ff">234</span>))
  (<span style="color:#a6e22e">symbol-value</span> <span style="color:#e6db74">&#39;num</span>)                   <span style="color:#75715e">;123</span>
  num)                  <span style="color:#75715e">;234</span>
</code></pre></div><ul>
<li>(buffer-local-value symbol buffer)</li>
</ul>
<p>è¿”å›symbolå˜é‡åœ¨æŒ‡å®šbufferä¸­çš„bufferä½œç”¨åŸŸä¸­çš„å€¼, è‹¥symbolå˜é‡åœ¨æŒ‡å®šbufferä¸­æ²¡æœ‰buffer-localç»‘å®šå€¼,åˆ™è¿”å›å®ƒçš„é»˜è®¤å€¼.</p>
<ul>
<li>
<p>(default-value symbol)</p>
<p>å–symbolå˜é‡çš„é»˜è®¤å€¼</p>
</li>
<li>
<p>(default-boundp symbol)</p>
<p>åˆ¤æ–­symbolå˜é‡çš„é»˜è®¤å€¼æ˜¯å¦ä¸ºä¸ä¸ºç©º</p>
</li>
<li></li>
</ul>
<h2 id="customization">Customization<a hidden class="anchor" aria-hidden="true" href="#customization">#</a></h2>
<p>emacsä¸­å¯ä»¥ä½¿ç”¨`defcustom`å®šä¹‰customizable variables, ä½¿ç”¨deffaceå®šä¹‰customizable face,ä½¿ç”¨defgroupå®šä¹‰cutomization group.</p>
<h3 id="common-item-keywords">Common Item Keywords<a hidden class="anchor" aria-hidden="true" href="#common-item-keywords">#</a></h3>
<p>defcustom,defgroup,deffaceè¿™äº›å®šä¹‰é…ç½®é¡¹çš„å‡½æ•°/å®,éƒ½æ¥æ”¶keywordå‚æ•°.</p>
<p>æ‰€æœ‰è¿™äº›keywordå‚æ•°,é™¤äº†`:tag`ä¹‹å¤–,éƒ½å¯ä»¥è”åˆä½¿ç”¨. ä¸‹é¢æ˜¯ä¸€äº›é€šç”¨çš„å‚æ•°è¯´æ˜.</p>
<ul>
<li>:tag LABEL</li>
</ul>
<p>LABELä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹. è¯¥å‚æ•°è¡¨ç¤ºä½¿ç”¨LABELå–ä»£è¢«å®šä¹‰itemçš„åç§°ä½œä¸ºè¯¥itemçš„æ ‡ç­¾.</p>
<ul>
<li>:group GROUP</li>
</ul>
<p>å®šä¹‰itemæ‰€å±çš„ç»„åˆ«. ä¸€ä¸ªitemå¯ä»¥åŒæ—¶å±äºå¤šä¸ªç»„åˆ«,å› æ­¤ä½ å¯ä»¥å¤šæ¬¡ä½¿ç”¨è¯¥å‚æ•°</p>
<ul>
<li>:link LINK-DATA</li>
</ul>
<p>åœ¨è¯¥itemçš„è¯´æ˜æ–‡æ¡£åé¢å¢åŠ ä¸€ä¸ªå¤–éƒ¨é“¾æ¥. å…¶ä¸­LINK-DATAå¯ä»¥ä»¥ä¸‹æ ¼å¼:</p>
<p>ä½ è¿˜å¯ä»¥åœ¨LINK_DATAçš„ç¬¬ä¸€ä¸ªå…ƒç´ åé¢åŠ ä¸Š`:tag NAME`ç”¨æ¥è¡¨ç¤ºé“¾æ¥æ˜¾ç¤ºä¸ºNAME. ä¾‹å¦‚`(info-link :tag &ldquo;foo&rdquo; &ldquo;(emacs)Top&rdquo;)&lsquo;ä¼šåˆ›å»ºä¸€ä¸ªé“¾æ¥è¿æ¥åˆ°Emacsæ‰‹å†Œ,ä½†æ˜¯æ˜¾ç¤ºä¸ºfoo</p>
<ul>
<li>
<p>(custom-manual INFO-NODE)</p>
<p>é“¾æ¥åˆ°Info node. INFO-NODEä¸ºInfoæ–‡æ¡£ä¸­æŸnodeçš„åç§°,åƒ&quot;(emacs)Top&quot;è¿™æ ·çš„.</p>
<p>è¯¥é“¾æ¥æ˜¾ç¤ºä¸º[manual]</p>
</li>
<li>
<p>(info-link INFO-NODE)</p>
<p>ç±»ä¼¼custom-manual,åªæ˜¯é“¾æ¥çš„æ˜¾ç¤ºä¸ºInfo nodeçš„åç§°</p>
</li>
<li>
<p>(url-link URL)</p>
<p>é“¾æ¥åˆ°webé¡µé¢, ç‚¹å‡»å®ƒä¼šä½¿ç”¨å˜é‡`browse-url-browser-function`å®šä¹‰çš„Webæµè§ˆå™¨æ‰“å¼€</p>
</li>
<li>
<p>(emacs-library-link LIBRARY)</p>
<p>è¿æ¥åˆ°Emacs Lisp libraryæ–‡ä»¶.</p>
</li>
<li>
<p>(file-link FILE)</p>
<p>è¿æ¥åˆ°æŸä¸ªæ–‡ä»¶,Emacsä¼šç”¨find-fileå‡½æ•°æ‰“å¼€å®ƒ</p>
</li>
<li>
<p>(function-link FUNCTION)</p>
<p>é“¾æ¥åˆ°æŸä¸ªå‡½æ•°çš„è¯´æ˜æ–‡æ¡£,å½“ç‚¹å‡»å®ƒ,ä¼šä½¿ç”¨describe-functionæ¥è·å–å‡½æ•°è¯´æ˜</p>
</li>
<li>
<p>(variable-link VARIABLE)</p>
<p>è¿æ¥åˆ°æŸä¸ªå˜é‡çš„è¯´æ˜æ–‡æ¡£</p>
</li>
<li>
<p>(custom-group-link GROUP)</p>
<p>é“¾æ¥åˆ°å…¶ä»–çš„group</p>
</li>
<li>
<p>:load FILE</p>
</li>
</ul>
<p>åœ¨æ˜¾ç¤ºitemå‰å…ˆåŠ è½½FILE</p>
<ul>
<li>:require FEATURE</li>
</ul>
<p>å½“ä¿å­˜itemçš„å€¼æ—¶,æ‰§è¡Œ(require &lsquo;FEATURE)</p>
<ul>
<li>:version VERSION</li>
</ul>
<p>è¡¨ç¤ºè¯¥itemç¬¬ä¸€æ¬¡å‡ºç°åœ¨ç‰ˆæœ¬ä¸ºVERSIONçš„Emacsä¸­,æˆ–è¯¥itemçš„é»˜è®¤å€¼æˆ–æ„ä¹‰åœ¨ç‰ˆæœ¬ä¸ºVERSIONçš„Emacsä¸­æ›´æ”¹äº†.</p>
<p>VERSIONä¸ºå­—ç¬¦ä¸²ç±»å‹</p>
<ul>
<li>:package-version &lsquo;(PACKAGE . VERSION)</li>
</ul>
<p>è¡¨ç¤ºè¯¥itemç¬¬ä¸€æ¬¡å‡ºç°åœ¨ç‰ˆæœ¬ä¸ºVERSIONçš„PACKAGEä¸­,æˆ–è¯¥itemçš„é»˜è®¤å€¼æˆ–æ„ä¹‰åœ¨ç‰ˆæœ¬ä¸ºVERSIONçš„PACKAGEä¸­æ›´æ”¹äº†.</p>
<p>PACKAGEåº”è¯¥æ˜¯ä¸€ä¸ªç¬¦å·,ä¸ºpackageçš„æ­£å¼åç§°. è€ŒVERSIONåº”è¯¥ä¸ºå­—ç¬¦ä¸²ç±»å‹.</p>
<p>è‹¥PACKAGEä¸ºEmacsè‡ªå¸¦çš„,åˆ™PACKAGEå’ŒVERSIONéœ€è¦åœ¨å˜é‡`customize-package-emacs-version-alist`ä¸­</p>
<h3 id="customization-groups">customization groups<a hidden class="anchor" aria-hidden="true" href="#customization-groups">#</a></h3>
<ul>
<li>(defgroup group members doc [keyword value]&hellip;)</li>
</ul>
<p>å®šä¹‰æ–°çš„åä¸ºgroupçš„å®¢æˆ·åŒ–ç»„. è¯¥å®¢æˆ·åŒ–ç»„ä¸­åŒ…å«membersä¸ºå†…å®¹.</p>
<p>å‚æ•°groupä¸ºä¸€ä¸ªä¸è¢«quoteçš„symbol.</p>
<p>å‚æ•°membersä¸ºç”±cusomiztion itemsç»„æˆçš„list,è¡¨ç¤ºè¿™äº›itemså±äºæŸä¸ªgroup. ç„¶è€Œå®é™…ä¸Šä¸€èˆ¬è¯¥å‚æ•°éƒ½ä¸ºnil,è€Œæ˜¯å®šä¹‰itemæ—¶ä½¿ç”¨:groupå…³é”®å­—æ¥æ ‡è¯†è¯¥itemæ‰€å±çš„group</p>
<p>membersçš„å…ƒç´ æ ¼å¼ä¸º(NAME WIDGET). è¿™é‡ŒNAMEä¸ºè¡¨ç¤ºitemçš„symbol. è€ŒWIDGETä¸ºitemçš„ç±»å‹(custom-variable,custom-face,custom-group)</p>
<p>å½“å¯¹groupè®¾ç½®äº†:versionå‚æ•°,åˆ™æ‰€æœ‰å±äºè¯¥groupçš„å…¶ä»–item,é»˜è®¤ç»§æ‰¿è¯¥å‚æ•°å€¼</p>
<p>defgroupå¯ä»¥ä½¿ç”¨:prefixå…³é”®å­—å‚æ•°</p>
<p>:prefix PREFIX</p>
<p>è¡¨ç¤ºè‹¥è¯¥groupä¸­çš„itemä»¥PREFIXä¸ºå‰ç¼€,è€Œå˜é‡`custom-unlispify-remove-prefixes`ä¸ºénil, åˆ™è¯¥itemçš„tagåœ¨æ˜¾ç¤ºæ—¶ä¼šå¿½ç•¥æ‰è¯¥PREFIX.</p>
<p>ä¸€ä¸ªgroupå¯ä»¥è®¾ç½®å¿½ç•¥ä»»æ„æ•°é‡çš„prefix</p>
<h3 id="customizable-variable">customizable variable<a hidden class="anchor" aria-hidden="true" href="#customizable-variable">#</a></h3>
<p>defcusomterçš„è¯­æ³•ä¸defvaræœ‰ç‚¹ç±»ä¼¼,ä½†æ˜¯å®ƒè¿˜å¯ä»¥æ¥æ”¶å¾ˆå¤škeywordå‚æ•°.</p>
<ul>
<li>(defcustom var standard-value doc [keyword value]&hellip;)</li>
</ul>
<p>å‚æ•°varä¸ºä¸è¢«quoteçš„symbol. å®ƒè¡¨ç¤ºå®šä¹‰çš„å¯é…ç½®å˜é‡.</p>
<p>å‚æ•°standard-valueä¸ºä¸€ä¸ªè¡¨è¾¾å¼,å®ƒçš„è®¡ç®—å€¼ä½œä¸ºvarçš„é»˜è®¤å€¼</p>
<p>å‚æ•°docä¸ºå¯¹è¯¥å˜é‡çš„è¯´æ˜.</p>
<p>è‹¥åœ¨defcustomä¸­æ²¡æœ‰é€šè¿‡:groupå…³é”®å­—è®¾ç½®æ‰€å±çš„group,åˆ™åœ¨ç›¸åŒæ–‡ä»¶ä¸­æœ€ådefgroupçš„ç»„ä¼šè‡ªåŠ¨ä½œä¸ºè¯¥itemçš„æ‰€å±ç»„.</p>
<p>defcustomæ”¯æŒçš„keywordå‚æ•°æœ‰:</p>
<ul>
<li>
<p>:type TYPE</p>
<p>æ ‡æ³¨è¯¥å®¢æˆ·åŒ–å˜é‡çš„ç±»å‹,å®ƒæŒ‡å®šäº†å“ªäº›å€¼æ˜¯åˆç†çš„,å¦‚ä½•æ˜¾ç¤ºè¿™äº›å€¼.</p>
<p>ä¹Ÿå¯ä»¥åœ¨defcustomeråä½¿ç”¨å‡½æ•°(custom-add-frequent-value customization-item value)æ¥å¢åŠ é€‰å€¼èŒƒå›´</p>
</li>
<li>
<p>:options VALUE-LIST</p>
<p>æŒ‡å®šå¯é€‰å€¼çš„èŒƒå›´,è¯¥å¯é€‰å€¼çš„èŒƒå›´å¹¶ä¸å…·æœ‰çº¦æŸæ€§.</p>
<p>è¯¥keywordåªæœ‰åœ¨typeä¸ºhook,plistå’Œalistæ—¶æ‰æœ‰æ•ˆ</p>
</li>
<li>
<p>:set SETFUNCTION</p>
<p>å½“ä½¿ç”¨Customizeæ›´æ”¹è¯¥é…ç½®é¡¹æ—¶,å®é™…ä¸Šè°ƒç”¨çš„æ˜¯SETFUNCTIONå‡½æ•°,è¯¥å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°:é…ç½®é¡¹å’Œæ–°å€¼. é»˜è®¤SETFUNCTIONå‡½æ•°ä¸ºset-default</p>
</li>
<li>
<p>:get GETFUNCTION</p>
<p>å½“è·å–è¯¥é…ç½®é¡¹çš„å€¼æ—¶,å®é™…ä¸Šæ˜¯è°ƒç”¨äº†GETFUNCTIONå‡½æ•°. è¯¥å‡½æ•°æ¥æ”¶ä¸€ä¸ªå‚æ•°:é…ç½®é¡¹, å¹¶è¿”å›æŸä¸ªå€¼. é»˜è®¤GETFUNCTIONä¸º`default-value&rsquo;</p>
</li>
<li>
<p>:initialize FUNCTION</p>
<p>å½“defcustomè¯­å¥è¢«æ‰§è¡Œæ—¶,å®é™…ä¸Šæ˜¯è°ƒç”¨äº†FUNCTIONå‡½æ•°. è¯¥å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°:é…ç½®é¡¹å’Œé»˜è®¤å€¼.</p>
<p>elispé¢„å®šä¹‰äº†ä¸€äº›å¯é€‰çš„FUNCTION:</p>
<ul>
<li>
<p>`custom-initialize-set&rsquo;</p>
</li>
<li>
<p>`custom-initialize-default&rsquo;</p>
</li>
<li>
<p>`custom-initialize-reset'</p>
</li>
<li>
<p>`custom-initialize-changed'</p>
</li>
<li>
<p>`custom-initialize-safe-set'</p>
</li>
<li>
<p>`custom-initialize-safe-default'</p>
</li>
</ul>
</li>
<li>
<p>:risky VALUE</p>
<p>è®¾ç½®è¯¥é…ç½®é¡¹å˜é‡çš„`risky-local-variable&rsquo;å±æ€§ä¸ºVALUE</p>
</li>
<li>
<p>:safe FUNCTION</p>
<p>è®¾ç½®è¯¥é…ç½®é¡¹å˜é‡çš„`safe-local-variable&rsquo;å±æ€§ä¸ºFUNCTION</p>
</li>
<li>
<p>:set-after VARIABLES</p>
</li>
<li>
<p>(custom-reevaluate-setting customizable-arg)</p>
</li>
</ul>
<p>å¯ä»¥ç”¨è¯¥å‡½æ•°åœ¨defcustomå¤–,é‡æ–°å¯¹customizablen-argè¿›è¡Œèµ‹å€¼</p>
<ul>
<li>(custom-variable-p arg)</li>
</ul>
<p>åˆ¤æ–­argæ˜¯å¦ä¸ºå¯é…ç½®å˜é‡, è¿™æ„å‘³ç€è¿™ä¸ªå˜é‡æ˜¯å¸¦æœ‰`standard-value&rsquo;å±æ€§çš„symbolæˆ–è€…å¸¦æœ‰`custom-autoload&rsquo;å±æ€§çš„symbol,æˆ–è€…ç”±å…¶ä»–å¯é…ç½®å˜é‡ç»„æˆçš„alist</p>
<ul>
<li>(custom-set-variables &amp;rest args)</li>
</ul>
<p>æ ¹æ®argä¸­çš„è¯´æ˜,æ›´æ”¹é…ç½®é¡¹</p>
<p>æ¯ä¸ªargçš„æ ¼å¼ä¸º'(é…ç½®é¡¹ é…ç½®é¡¹çš„å€¼è¡¨è¾¾å¼ [is-NOW [REQUEST-features-list [doc-string]]])</p>
<h4 id="customization-type">Customization Type<a hidden class="anchor" aria-hidden="true" href="#customization-type">#</a></h4>
<p>æ‰€æœ‰çš„customization typeéƒ½å®ç°ä¸ºwidget. customization widgetå¯ä»¥é€šè¿‡`C-M-i&rsquo;æˆ–`M-&lt;TAB&gt;&lsquo;æ¥è¡¥å…¨</p>
<!--list-separator-->
<ul>
<li>
<p>Simple Types</p>
<ul>
<li>
<p>&lsquo;sexp</p>
<p>ä»»æ„lisp object</p>
</li>
<li>
<p>&lsquo;integer</p>
</li>
<li>
<p>&lsquo;number</p>
</li>
<li>
<p>&lsquo;float</p>
</li>
<li>
<p>&lsquo;string</p>
</li>
<li>
<p>&lsquo;regexp</p>
</li>
<li>
<p>&lsquo;character</p>
</li>
<li>
<p>&lsquo;file</p>
<p>é…ç½®é¡¹å¿…é¡»æ˜¯ä¸€ä¸ªæ–‡ä»¶åç§°</p>
</li>
<li>
<p>&lsquo;(file :must-match t)</p>
<p>é…ç½®é¡¹å¿…é¡»æ˜¯ä¸€ä¸ªå·²å­˜åœ¨çš„æ–‡ä»¶åç§°</p>
</li>
<li>
<p>&lsquo;directory</p>
<p>é…ç½®é¡¹å¿…é¡»æ˜¯ç›®å½•</p>
</li>
<li>
<p>&lsquo;hook</p>
<p>è¯¥é…ç½®é¡¹å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°åˆ—è¡¨</p>
</li>
<li>
<p>&lsquo;symbol</p>
</li>
<li>
<p>&lsquo;function</p>
<p>è¯¥é…ç½®é¡¹å¿…é¡»æ˜¯ä¸€ä¸ªlambdaè¡¨è¾¾å¼æˆ–å‡½æ•°å</p>
</li>
<li>
<p>&lsquo;variable</p>
<p>è¯¥é…ç½®å¿…é¡»æ˜¯ä¸€ä¸ªå˜é‡åç§°</p>
</li>
<li>
<p>&lsquo;face</p>
</li>
<li>
<p>&lsquo;boolean</p>
</li>
<li>
<p>&lsquo;key-sequence</p>
</li>
<li>
<p>&lsquo;coding-system</p>
</li>
<li>
<p>&lsquo;color</p>
</li>
</ul>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Composite Types</p>
<ul>
<li>
<p>&lsquo;(cons CAR-TYPE CDR-TYPE)</p>
<p>è¯¥é…ç½®é¡¹å¿…é¡»æ˜¯cons cell. å¹¶ä¸”å®ƒçš„carå¿…é¡»ä¸ºCAR-TYPE,cdrå¿…é¡»ä¸ºCDR-TYPE</p>
</li>
<li>
<p>&lsquo;(list ELEMENAT1-TYPE ELEMENT2-TYPE &hellip; ELEMENTn-TYPE)</p>
<p>è¯¥é…ç½®é¡¹ä¸ºç”±nä¸ªå…ƒç´ ç»„æˆçš„list,æ¯ä¸ªå…ƒç´ éƒ½éœ€è¦è·Ÿç›¸åº”çš„ELEMENT-TYPEç›¸åŒ¹é…</p>
</li>
<li>
<p>&lsquo;(group ELEMENAT1-TYPE ELEMENT2-TYPE &hellip; ELEMENTn-TYPE)</p>
<p>ç±»ä¼¼&rsquo;(list ELEMENAT1-TYPE ELEMENT2-TYPE &hellip; ELEMENTn-TYPE),åŒºåˆ«åœ¨äºlistä½¿ç”¨elementçš„tagæ¥ä½œä¸ºelement valueçš„æ ‡ç­¾,è€Œgroupä¸ä½œæ ‡ç­¾</p>
</li>
<li>
<p>&lsquo;(vector ELEMENAT1-TYPE ELEMENT2-TYPE &hellip; ELEMENTn-TYPE)</p>
<p>ç±»ä¼¼&rsquo;(list ELEMENAT1-TYPE ELEMENT2-TYPE &hellip; ELEMENTn-TYPE)</p>
<p>åŒºåˆ«åœ¨äºé…ç½®é¡¹çš„ç±»å‹å¿…é¡»æ˜¯vector</p>
</li>
<li>
<p>&lsquo;(alist :key-type KEY-TYPE :value-type VALUE-TYPE)</p>
<p>é…ç½®é¡¹ä¸ºalistç±»å‹,ä¸”æ¯ä¸ªcons ceilå…ƒç´ çš„carå¿…é¡»æ˜¯KEY-TYPEçš„,cons ceilçš„cdrå¿…é¡»æ˜¯VALUE-TYPE</p>
<p>:key-typeå‚æ•°ä¸:value-typeå¯ä»¥çœç•¥,é»˜è®¤ä¸º&rsquo;sexp</p>
</li>
<li>
<p>&lsquo;(plist :key-type KEY-TYPE :value-type VALUE-TYPE)</p>
<p>ç±»ä¼¼&rsquo;(alist :key-type KEY-TYPE :value-type VALUE-TYPE),åªæ˜¯é…ç½®é¡¹ä¸ºplistç±»å‹,ä¸”KEY-TYPEé»˜è®¤ä¸ºsymbolç±»å‹è€Œä¸æ˜¯sexp</p>
</li>
<li>
<p>&lsquo;(choice CUSTOMIZE-TYPE1 CUSTOMIZE-TYPE2 &hellip; CUSTOMIZE-TYPEn)</p>
<p>é…ç½®é¡¹å¯ä»¥æ˜¯CUSTOMIZE-TYPESä¸­çš„ä»»æ„ä¸€ç§.</p>
<p>å¯ä»¥åœ¨CUSTOMIZE-TYPEä¸­é€šè¿‡:tagå…³é”®å­—æ¥æŒ‡æ˜é…ç½®é¡¹ä¸ºæŸç§TYPEæ—¶çš„label.ä¾‹å¦‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">(choice (integer :tag <span style="color:#e6db74">&#34;Number of spaces&#34;</span>)
        (<span style="color:#a6e22e">string</span> :tag <span style="color:#e6db74">&#34;Literal text&#34;</span>))
</code></pre></div></li>
<li>
<p>&lsquo;(radio CUSTOMIZE-TYPE1 CUSTOMIZE-TYPE2 &hellip; CUSTOMIZE-TYPEn)</p>
<p>ç±»ä¼¼&rsquo;(choice CUSTOMIZE-TYPE1 CUSTOMIZE-TYPE2 &hellip; CUSTOMIZE-TYPEn),åªæ˜¯æ˜¾ç¤ºæ—¶ä½¿ç”¨radio buttonçš„æ–¹å¼æ˜¾ç¤ºè€Œä¸æ˜¯ç”¨èœå•æ˜¾ç¤º</p>
</li>
<li>
<p>&lsquo;(const VALUE)</p>
<p>è¯¥é…ç½®é¡¹çš„å€¼å¿…é¡»ä¸ºVALUE. å¸¸ä¸choiceæ­é…</p>
</li>
<li>
<p>&lsquo;(other VALUE)</p>
<p>è¡¨ç¤ºé…ç½®é¡¹å¯ä»¥æ¥æ”¶ä»»æ„çš„lispå€¼,ä½†æ˜¯è¯¥é…ç½®é¡¹å®é™…ä¸Šæ€»æ˜¯è¢«èµ‹å€¼ä¸ºVALUE.</p>
<p>otherä¸»è¦ç”¨åœ¨choiceä¸­ä½œä¸ºæœ€åä¸€ä¸ªå…ƒç´ ä½¿ç”¨. ä¾‹å¦‚:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(choice (const :tag <span style="color:#e6db74">&#34;Yes&#34;</span> <span style="color:#66d9ef">t</span>)
        (const :tag <span style="color:#e6db74">&#34;No&#34;</span> <span style="color:#66d9ef">nil</span>)
        (other :tag <span style="color:#e6db74">&#34;Ask&#34;</span> foo)
</code></pre></div></li>
<li>
<p>&lsquo;(function-item FUNCTION)</p>
<p>ç±»ä¼¼const,ä½†æ˜¯å®ƒçš„å€¼å¿…é¡»æ˜¯function.</p>
</li>
<li>
<p>&lsquo;(variable-item VARIABLE)</p>
<p>ç±»ä¼¼const,ä½†æ˜¯å®ƒçš„å€¼å¿…é¡»æ˜¯è¡¨ç¤ºæŸä¸ªå˜é‡çš„symbol</p>
</li>
<li>
<p>&lsquo;(set TYPE1 TYPE2 &hellip; TYPEn)</p>
<p>è¯¥é…ç½®é¡¹å¿…é¡»æ˜¯ä¸€ä¸ªlist,ä¸”æ¯ä¸ªlistä¸­å…ƒç´ ç±»å‹å¿…é¡»åŒ¹é…TYPESä¸­çš„å…¶ä¸­ä¸€ç§</p>
</li>
<li>
<p>&lsquo;(repeat ELEMENT-TYPE)</p>
<p>è¯¥é…ç½®é¡¹å¿…é¡»æ˜¯ä¸€ä¸ªlist,å¹¶ä¸”æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ELEMENT-TYPEçš„</p>
</li>
<li>
<p>&lsquo;(restricted-sexp :match-alternatives CRITERIA)</p>
<p>è¯¥é…ç½®é¡¹çš„å€¼å¯ä»¥æ˜¯ä»»ä¸€çš„lispå¯¹è±¡,ä½†æ˜¯å¿…é¡»åŒ¹é…CRITERIAä¸­çš„ä»»ä¸€æ¡ä»¶.</p>
<p>CRITERIAæ˜¯ä¸€ä¸ªlist,å…¶ä¸­æ¯ä¸ªå…ƒç´ å¯ä»¥æ˜¯:ä¸€ä¸ªpredicate functionæˆ–è€…A quoted constant</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="color:#75715e">;; allows integers, `t&#39; and `nil&#39; as legitimate values.</span>
(restricted-sexp :match-alternatives
                 (<span style="color:#a6e22e">integerp</span> <span style="color:#e6db74">&#39;t</span> <span style="color:#e6db74">&#39;nil</span>))
</code></pre></div></li>
</ul>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Type Keywords</p>
<p>åœ¨å®šä¹‰é…ç½®é¡¹çš„:typeæ—¶,å¯ä»¥åœ¨customizaton type name symbolåæŒ‡å®šä»¥ä¸‹çš„keyword-argumentå¯¹:</p>
<ul>
<li>
<p>:value DEFAULT</p>
<p>æä¾›é»˜è®¤å€¼. å½“æŸç§ç±»å‹ä¸èƒ½åŒ…å«nilæ—¶,ç‰¹åˆ«æœ‰ç”¨.</p>
</li>
<li>
<p>:format FORMAT-STRING</p>
<p>æ˜¾ç¤ºé…ç½®é¡¹å€¼æ—¶çš„æ ¼å¼.</p>
<table>
<thead>
<tr>
<th>å ä½ç¬¦</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>%[BUTTON%]</td>
<td>ä»¥æŒ‰é’®çš„æ ·å¼æ˜¾ç¤ºæ–‡æœ¬BUTTON,å…¶:actionå±æ€§è¯´æ˜äº†å½“è¯¥æŒ‰é’®è¢«ç‚¹å‡»æ—¶ä½œä»€ä¹ˆæ“ä½œ</td>
</tr>
<tr>
<td>%{SAMPLE}</td>
<td>ä»¥`:sample-face&rsquo;çš„æ ·å¼æ˜¾ç¤ºæ–‡æœ¬SAMPLE</td>
</tr>
<tr>
<td>%v</td>
<td>æ˜¾ç¤ºä¸ºè¯¥é…ç½®é¡¹çš„value</td>
</tr>
<tr>
<td>%d</td>
<td>æ˜¾ç¤ºä¸ºè¯¥é…ç½®é¡¹çš„documentation string</td>
</tr>
<tr>
<td>%h</td>
<td>ç±»ä¼¼%d,ä½†å½“é…ç½®é¡¹çš„doc-stringè¶…è¿‡ä¸€è¡Œæ—¶,ä¼šæä¾›ä¸€ä¸ªæŒ‰é’®éšè—/æ˜¾ç¤ºå‰©ä¸‹çš„è¡Œ</td>
</tr>
<tr>
<td>%t</td>
<td>æ˜¾ç¤ºä¸ºè¯¥é…ç½®é¡¹çš„tag</td>
</tr>
<tr>
<td>%%</td>
<td>æ˜¾ç¤ºä¸º%</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>:action ACTION</p>
<p>å½“ç‚¹å‡»buttonæ—¶æ‰§è¡Œçš„æ“ä½œ. è¿™é‡ŒACTIONä¸ºä¸€ä¸ªå‡½æ•°,å®ƒä¼šæ¥æ”¶ä¸¤ä¸ªå‚æ•°:ç‚¹å‡»çš„æŒ‰é’®æ‰€åœ¨widgetå’Œç‚¹å‡»äº‹ä»¶</p>
</li>
<li>
<p>:button-face FACE</p>
<p>æä¾›:button-faceçš„æ˜¾ç¤ºæ ·å¼,å®ƒä¼šç”¨äºæ˜¾ç¤ºFORMAT-STRINGä¸­çš„%[&hellip;%]ä¸­çš„å†…å®¹</p>
</li>
<li>
<p>:button-prefix PREFIX / :button-suffix SUFFIX</p>
<p>æŒ‡æ˜åœ¨æ˜¾ç¤ºbuttonçš„å‰åæ–‡æœ¬. ä»–ä»¬çš„å€¼å¯ä»¥æ˜¯:</p>
<p>nil: ä¸æ˜¾ç¤ºå¤šäºçš„æ–‡æœ¬</p>
<p>string: æ˜¾ç¤ºæ–‡æœ¬</p>
<p>symbol: æ˜¾ç¤ºsymbolçš„å€¼</p>
</li>
<li>
<p>:tag TAG</p>
<p>æŒ‡å®šTAG(å­—ç¬¦ä¸²ç±»å‹)ä½œä¸ºé…ç½®é¡¹ä¸ºè¯¥ç±»å‹æ—¶çš„tag</p>
</li>
<li>
<p>:doc DOC</p>
<p>æŒ‡å®šDOCä½œä¸ºé…ç½®é¡¹ä¸ºè¯¥ç±»å‹æ—¶çš„doc-string</p>
</li>
<li>
<p>:help-echo MOTION-DOC</p>
</li>
<li>
<p>:match FUNCTION</p>
<p>ä½¿ç”¨FUNCTIONåˆ¤æ–­é…ç½®é¡¹çš„å€¼æ˜¯å¦åŒ¹é…è¯¥ç±»å‹,FUNCTIONä¸ºä¸€ä¸ªå‡½æ•°,å®ƒæ¥æ”¶ä¸¤ä¸ªå‚æ•°:è¡¨ç¤ºCUSTOMIZATION TYPEçš„widgetå’Œé…ç½®é¡¹çš„å€¼</p>
</li>
<li>
<p>:validate FUNCTION</p>
<p>ä½¿ç”¨FUNCTIONæ ¡éªŒé…ç½®é¡¹çš„å€¼æ˜¯å¦æœ‰æ•ˆ. FUNCTIONå‡½æ•°æ¥æ”¶ä¸€ä¸ªå‚æ•°:è¡¨ç¤ºCUSTOMIZATION TYPEçš„widget. è‹¥è¯¥å‡½æ•°åˆ¤æ–­widgetæ˜¯å½“å‰å€¼æ˜¯æœ‰æ•ˆçš„,åˆ™è¿”å› <strong>nil</strong> ,å¦åˆ™è¿”å›åŒ…å«æ— æ•ˆæ•°æ®çš„widget,å¹¶è®¾ç½®è¯¥widgetçš„`:error&rsquo;å±æ€§ä¸ºå‡ºé”™æè¿°.</p>
</li>
</ul>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Defining New Types</p>
<p>å®šä¹‰æ–°Typeå°±æ˜¯ä¸ºä¸€ä¸ªComposite Typeså‘½ä¸€ä¸ªåå­—. ç”±äºä¸€ä¸ªtypeå°±æ˜¯ä¸€ä¸ªwidget,å› æ­¤ä½¿ç”¨define-widgetæ¥å®ç°</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(define-widget <span style="color:#e6db74">&#39;binary-tree-of-string</span> <span style="color:#e6db74">&#39;lazy</span>
  <span style="color:#e6db74">&#34;A binary tree made of cons-cells and strings.&#34;</span>
  :offset <span style="color:#ae81ff">4</span>
  :tag <span style="color:#e6db74">&#34;Node&#34;</span>
  :type <span style="color:#f92672">&#39;</span>(choice (<span style="color:#a6e22e">string</span> :tag <span style="color:#e6db74">&#34;Leaf&#34;</span> :value <span style="color:#e6db74">&#34;&#34;</span>)
                 (<span style="color:#a6e22e">cons</span> :tag <span style="color:#e6db74">&#34;Interior&#34;</span>
                       :value (<span style="color:#e6db74">&#34;&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;&#34;</span>)
                       binary-tree-of-string
                       binary-tree-of-string)))
</code></pre></div><p>è¿™é‡Œdefine-widgetçš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè¡¨ç¤ºæ–°widget typeçš„symbol.</p>
<p>ç¬¬äºŒä¸ªå‚æ•°ä¸ºä¸€ä¸ªå·²ç»å­˜åœ¨çš„widget,è¡¨ç¤ºæ–°widget typeçš„ç±»åˆ«,ä¸€èˆ¬ç”¨&rsquo;lazy</p>
<p>ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºdoc-string</p>
<p>:typeå‚æ•°æè¿°äº†æ‰€ä»£è¡¨çš„composite typeè¯´æ˜</p>
</li>
</ul>
<h3 id="customizable-face">customizable face<a hidden class="anchor" aria-hidden="true" href="#customizable-face">#</a></h3>
<ul>
<li>(custom-set-faces &amp;rest args)</li>
</ul>
<p>æ ¹æ®arg,æ›´æ”¹faceé…ç½®é¡¹.</p>
<p>ä¸€ä¸ªargçš„æ ¼å¼ä¸º&rsquo;(FACE SPEC [is-Now [doc-string]])</p>
<h2 id="loading">Loading<a hidden class="anchor" aria-hidden="true" href="#loading">#</a></h2>
<h3 id="loadå‘½ä»¤">Loadå‘½ä»¤<a hidden class="anchor" aria-hidden="true" href="#loadå‘½ä»¤">#</a></h3>
<ul>
<li>(load filename &amp;optional missing-ok nomessage nosuffix must-suffix)</li>
</ul>
<p>loadå…ˆæŸ¥æ‰¾filename.elcæ–‡ä»¶,å†æŸ¥æ‰¾filename.elæ–‡ä»¶,å†æŸ¥æ‰¾filenameæ–‡ä»¶</p>
<p>è‹¥å¼€å¯äº†Auto-Compression-mode(é»˜è®¤å¼€å¯),åˆ™loadåœ¨æŸ¥æ‰¾åä¸€ä¸ªæ–‡ä»¶å‰è¿˜ä¼šæŸ¥æ‰¾å‰ä¸€ä¸ªæ–‡ä»¶çš„å‹ç¼©ç‰ˆæœ¬(å‚è§å˜é‡`jka-compr-load-suffixes&rsquo;).</p>
<p>è‹¥nosuffixå‚æ•°ä¸ºénil,åˆ™loadä¸ä¼šæŸ¥æ‰¾filename.elcå’Œfilename.el,ä½†ä¸å½±å“auto-compression-modeçš„ä½œç”¨</p>
<p>è‹¥must-suffixå‚æ•°ä¸ºénil,åˆ™loadè®¤ä¸ºåŠ è½½çš„æ–‡ä»¶ååç¼€å¿…é¡»ä¸º.elå’Œ.elc(æˆ–ä»–ä»¬çš„å‹ç¼©ç‰ˆæœ¬),é™¤éfilenameä¸­åŒ…å«äº†æ˜ç¡®çš„ç›®å½•åç§°.</p>
<p>è‹¥å‚æ•°missing-ok,åˆ™åœ¨æ‰¾ä¸åˆ°è¦åŠ è½½çš„æ–‡ä»¶æ—¶,ä¸æŠ›å‡ºé”™è¯¯,åªæ˜¯è¿”å›nil</p>
<p>è‹¥`load-prefer-newer&rsquo;é…ç½®é¡¹ä¸ºénil,åˆ™loadä¼šæŒ‘é€‰filename.elcå’Œfilename.elä¸­æœ€è¿‘è¾ƒæ–°çš„é‚£ä¸ªæ¥åŠ è½½</p>
<p>è‹¥filenameä¸ºç›¸å¯¹è·¯å¾„,åˆ™loadä¼šåœ¨å˜é‡`load-path&rsquo;ä¸­å®šä¹‰çš„è·¯å¾„ä¸­æŸ¥è¯¢,æŸ¥è¯¢åˆ°çš„ç¬¬ä¸€ä¸ªå­˜åœ¨æ–‡ä»¶ä½œä¸ºè¦åŠ è½½çš„æ–‡ä»¶. éœ€è¦æ³¨æ„çš„æ˜¯:éœ€è¦åœ¨`load-path&rsquo;ä¸­æ·»åŠ nilæ‰å›åœ¨å½“å‰è·¯å¾„æœç´¢è¦loadçš„æ–‡ä»¶</p>
<p>loadåœ¨åŠ è½½æ–‡ä»¶æ—¶,ä¼šåŒæ—¶è®¾ç½®å˜é‡`load-file-name&rsquo;çš„å€¼ä¸ºåŠ è½½æ–‡ä»¶çš„æ–‡ä»¶å.</p>
<p>è‹¥loadé¡ºåˆ©åŠ è½½æ–‡ä»¶,åˆ™è¿”å›t</p>
<ul>
<li>(load-file filename)</li>
</ul>
<p>åŠ è½½filenameæ‰€æ˜ç¡®æŒ‡å®šçš„æ–‡ä»¶,å¹¶ä¸ä¼šä¸ºå®ƒæ·»åŠ .elä¼š.elcåç¼€(ä½†ä¸å½±å“Auto Compression Modeçš„ä½œç”¨)</p>
<p>è‹¥filenameä¸ºç›¸å¯¹è·¯å¾„,åˆ™è®¤ä¸ºæ˜¯ç›¸å¯¹äºå½“å‰è·¯å¾„æ¥è¯´çš„. (è¯¥å‡½æ•°å¹¶ä¸æ¶‰åŠåˆ°load-pathå˜é‡)</p>
<ul>
<li>(load-library library)</li>
</ul>
<p>ç±»ä¼¼load</p>
<ul>
<li>å˜é‡`load-file-name&rsquo;</li>
</ul>
<p>å­˜å‚¨çš„æ˜¯loadæ—¶å®é™…åŠ è½½çš„æ–‡ä»¶åç§°.</p>
<ul>
<li>å˜é‡`load-in-progress&rsquo;</li>
</ul>
<p>è‹¥Emacsæ­£åœ¨åŠ è½½æŸä¸ªæ–‡ä»¶,åˆ™è¯¥å€¼ä¸ºénil,å¦åˆ™ä¸ºnil</p>
<ul>
<li>å˜é‡`load-read-functioin&rsquo;</li>
</ul>
<p>è¯¥å˜é‡æŒ‡æ˜çš„å‡½æ•°,ç”¨äºæ›¿ä»£`load&rsquo;å’Œ`eval-region&rsquo;ä¸­çš„`read&rsquo;å‡½æ•°</p>
<p>è¯¥å˜é‡é»˜è®¤ä¸ºnil,è¡¨ç¤º`read&rsquo;</p>
<ul>
<li>å˜é‡`load-suffixes&rsquo;</li>
</ul>
<p>loadåœ¨æœç´¢æ–‡ä»¶æ—¶,ä¼šæ ¹æ®è¯¥å˜é‡ä¸­è®¾ç½®çš„åç¼€,æ·»åŠ åˆ°filenameå‚æ•°åé¢æ¥å¯»æ‰¾æ–‡ä»¶.</p>
<p>é»˜è®¤ä¸º&rsquo;(&quot;.elc&quot; &ldquo;.el&rdquo;)</p>
<ul>
<li>å˜é‡`load-file-rep-suffixes&rsquo;</li>
</ul>
<p>This is a list of suffixes that indicate representations of the same file.</p>
<p>è¯¥å˜é‡ä¸€èˆ¬ä»¥&quot;&ldquo;å¼€å¤´,è‹¥å¼€äº†Auto Compression Modeåˆ™ä¼šæŠŠ`jka-compr-load-suffixes&rsquo;çš„å†…å®¹ä¹ŸåŠ è¿›å».</p>
<ul>
<li>(get-load-suffixes)</li>
</ul>
<p>è¿”å›loadå‡½æ•°å°è¯•æ·»åŠ çš„æ–‡ä»¶åç¼€. å®ƒçš„å€¼ä¸€èˆ¬æ˜¯`load-suffixes&rsquo;ä¸`load-file-rep-suffixes&rsquo;çš„é›†åˆ.</p>
<ul>
<li>é…ç½®é¡¹load-prefer-newer</li>
</ul>
<p>è‹¥è¯¥é…ç½®é¡¹ä¸ºénil,åˆ™loadä¼šæ£€æµ‹æ‰€æœ‰å¯èƒ½çš„åŠ è½½æ–‡ä»¶,å¹¶æŒ‘é€‰æœ€æ–°çš„é‚£ä¸ªæ¥åŠ è½½</p>
<ul>
<li>å˜é‡load-path</li>
</ul>
<p>loadå‡½æ•°æœç´¢åŠ è½½æ–‡ä»¶çš„è·¯å¾„åˆ—è¡¨,nilè¡¨ç¤ºå½“å‰å·¥ä½œç›®å½•</p>
<p>å¯ä»¥åœ¨è¿è¡Œemacsæ—¶ç”¨-Lé€‰é¡¹æŒ‡å®šload-pathçš„å€¼</p>
<p>å¯¹äºæ¯ä¸ªload-pathä¸­çš„ç›®å½•,emacséƒ½ä¼šå»æ£€æŸ¥æ˜¯å¦æœ‰subdirs.elè¿™ä¸ªæ–‡ä»¶,è‹¥å­˜åœ¨è¯¥æ–‡ä»¶,åˆ™åŠ è½½å®ƒ. ç”±emacsè‡ªåŠ¨ç”Ÿæˆçš„subdirs.elä¼šè‡ªåŠ¨å°†è¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰ä»¥ <strong>å­—æ¯ä¸æ•°å­—ç»“å°¾</strong> çš„å­ç›®å½•è·¯å¾„æ·»åŠ åˆ°load-pathä¸­.</p>
<ul>
<li>å‘½ä»¤(locate-library library &amp;optional nosuffix path interactive-call)</li>
</ul>
<p>æ‰¾åˆ°æŒ‡å®šlibraryæ‰€è¡¨ç¤ºçš„ç²¾ç¡®æ–‡ä»¶å. å®ƒçš„æœç´¢æ–¹å¼ä¸loadä¸€è‡´.</p>
<p>å‚æ•°nosuffixä¸loadå‚æ•°ä¸­çš„ä¸€æ ·. énilè¡¨ç¤ºä¸æ·»åŠ .elcå’Œ.elåç¼€</p>
<p>è‹¥PATHä¸ºénil,åˆ™è¡¨ç¤ºç”¨å‚æ•°PATHçš„å€¼ä»£æ›¿load-pathçš„å€¼</p>
<p>å½“ä½œä¸ºå‘½ä»¤è¿è¡Œlocate-libraryæ—¶,å‚æ•°interactive-callçš„å€¼ä¸ºt,åˆ™ä¼šåœ¨echo areaä¸­æ˜¾ç¤ºfile name,å¦åˆ™å‡½æ•°ç›´æ¥è¿”å›æ–‡ä»¶åç§°</p>
<ul>
<li>å‘½ä»¤(list-load-path-shadows &amp;optional stringp)</li>
</ul>
<p>è¯¥å‘½ä»¤åˆ—å‡ºéšè—çš„Emacs Lispæ–‡ä»¶çš„åˆ—è¡¨.</p>
<p>æ‰€è°“éšè—æ–‡ä»¶æŒ‡çš„æ˜¯è¿™æ ·ä¸€äº›æ–‡ä»¶,è™½ç„¶åœ¨load-pathä¸­æœ‰å®šä¹‰å…¶ç›®å½•,ä½†æ˜¯ç”±äºåœ¨æœç´¢åˆ°å…¶ç›®å½•ä¹‹å‰å·²ç»å‘ç°äº†ç¬¦åˆæ¡ä»¶çš„åŠ è½½æ–‡ä»¶,å› æ­¤loadå‘½ä»¤æ— æ³•åŠ è½½åˆ°è¿™äº›æ–‡ä»¶.</p>
<p>å‚æ•°stringpæŒ‡å®šæ˜¯ä»¥å­—ç¬¦ä¸²çš„å½¢å¼è¿”å›æ–‡ä»¶åˆ—è¡¨,è¿˜æ˜¯æ˜¾ç¤ºåœ¨bufferä¸­.</p>
<h3 id="autoload">Autoload<a hidden class="anchor" aria-hidden="true" href="#autoload">#</a></h3>
<p>autoloadè®©ä½ åœ¨ä¸€å¼€å§‹åªæ˜¯è®°å½•å‡½æ•°/å®æ‰€å¯¹åº”çš„åŠ è½½æ–‡ä»¶è·¯å¾„. å½“ç¬¬ä¸€æ¬¡ç”¨åˆ°è¯¥å‡½æ•°/å®(æˆ–æŸ¥çœ‹å…¶å¸®åŠ©æ–‡æ¡£)æ—¶æ‰å¼€å§‹åŠ è½½å¯¹åº”çš„æ–‡ä»¶.</p>
<p>æœ‰ä¸¤ç§æ–¹æ³•è®¾ç½®ä¸€ä¸ªautoloadå‡½æ•°:ä½¿ç”¨autoloadå‡½æ•°å’Œåœ¨æºä»£ç ä¸­ä½¿ç”¨ç‰¹å®šçš„æ³¨é‡Š</p>
<ul>
<li>(autoload function-or-macro filename &amp;optional docstring interactive type)</li>
</ul>
<p>è¯¥å‡½æ•°æŒ‡å®šfunction-or-macroä¸ºautoloadå‡½æ•°/å®. å…¶æºä»£ç å®šä¹‰åœ¨filenameä¸­.</p>
<p>è‹¥filenameä¸­ä¸åŒ…å«ç›®å½•åç§°æˆ–.el/.elcçš„åç¼€,è¯¥å‡½æ•°ä¼šè‡ªåŠ¨åœ¨åŠ è½½æ—¶æ·»åŠ åç¼€,å¹¶ä¸”è¯¥å‡½æ•°ä¸ä¼šåŠ è½½ä¸å¸¦åç¼€çš„æ–‡ä»¶.</p>
<p>å‚æ•°doc-stringä½¿å¾—åœ¨ä¸åŠ è½½å®é™…æ–‡ä»¶å‰,ä¹Ÿèƒ½å¤ŸæŸ¥çœ‹function-or-macroçš„å¯¹åº”è¯´æ˜.</p>
<p>å‚æ•°interactiveä¸ºénil,åˆ™è¡¨ç¤ºfunction-or-macroä¸ºå‘½ä»¤. è¿™ä½¿å¾—Emacsèƒ½å¤Ÿä¸ºM-xæä¾›è¯¥å‘½ä»¤çš„è¡¥å…¨è€Œä¸ç”¨åŠ è½½function-or-macroçš„çœŸå®å®šä¹‰.</p>
<p>å½“å‚æ•°function-or-macroä¸ºmacro/keymapæ—¶,å¯ä»¥å°†typeå‚æ•°è®¾ç½®ä¸º&rsquo;macroæˆ–&rsquo;keymap</p>
<p>è‹¥function-or-macroå·²ç»æœ‰ä¸€ä¸ªéautoloadçš„éç©ºå‡½æ•°,åˆ™autoloadä»€ä¹ˆä¹Ÿä¸åš,åªæ˜¯è¿”å›nil</p>
<ul>
<li>(autoloadp object)</li>
</ul>
<p>åˆ¤æ–­objectæ˜¯å¦ä¸ºautoloadç±»å‹çš„å¯¹è±¡</p>
<ul>
<li>ä½¿ç”¨ç‰¹æ®Šæ³¨é‡Šå®šä¹‰autoloadå¯¹è±¡</li>
</ul>
<p>åœ¨å®šä¹‰çœŸå®çš„å‡½æ•°å®šä¹‰å‰,åŠ ä¸Šæ³¨é‡Š`;;;###autoload&rsquo;(è¿™ç§ç‰¹æ®Šçš„æ³¨é‡Š,è¢«ç§°ä¸ºautoload cookie)</p>
<p>éšåæ‰§è¡ŒM-x update-file-autoloads/update-directory-autoloadså‘½ä»¤,ä¼šå°†autoloadçš„è°ƒç”¨å‘½ä»¤å†™é“ç”Ÿæˆçš„loaddefs.elä¸­.</p>
<ul>
<li>å˜é‡generate-autoload-cookie</li>
</ul>
<p>è¯¥å˜é‡æŒ‡å®šäº†å®šä¹‰autoloadå¯¹è±¡çš„ç‰¹æ®Šæ³¨é‡Šæ ¼å¼,é»˜è®¤ä¸º`;;;###autoload&rsquo;</p>
<ul>
<li>å˜é‡generate-autoload-file</li>
</ul>
<p>è¯¥å˜é‡å®šä¹‰äº†å°†ç”Ÿæˆçš„autoloadè¯­å¥æ”¾åˆ°å“ªä¸ªæ–‡ä»¶ä¸­,é»˜è®¤ä¸º`loaddefs.el&rsquo;</p>
<ul>
<li>(autoload-do-load autoload-object &amp;optional name macro-only)</li>
</ul>
<p>åŠ è½½autoload-objectæ‰€åœ¨çš„æºä»£ç æ–‡ä»¶.</p>
<p>å‚æ•°nameè‹¥ä¸ºénilåˆ™éœ€è¦æ—¶ä¸€ä¸ªè¡¨ç¤ºautoload-functionçš„symbol. è¿™æ—¶å®ƒçš„è¿”å›å€¼ä¸ºè¯¥symbolçš„å®é™…å®šä¹‰å‡½æ•°.</p>
<p>è‹¥å‚æ•°macro-onlyä¸º&rsquo;macro,åˆ™autoload-do-loadä¸åŠ è½½å‡½æ•°,åªåŠ è½½macro</p>
<h3 id="features">Features<a hidden class="anchor" aria-hidden="true" href="#features">#</a></h3>
<p>featuresæ˜¯é™¤autoloadå¤–æ¨è¿ŸåŠ è½½çš„å¦ä¸€ç§æ–¹å¼.</p>
<p>ä¸€ä¸ªfeatureæ˜¯ä¸€ä¸ªè¡¨ç¤ºå‡½æ•°ä¸å˜é‡çš„é›†åˆçš„symbol,å¯ä»¥åœ¨æ–‡ä»¶ä¸­ç”¨provideå£°æ˜ä¸€ä¸ªfeature,åŒæ—¶ä½¿ç”¨requireæ¥åŠ è½½ä¸€ä¸ªfeature</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯: ä¸è¦åœ¨letå†…ä½¿ç”¨require,å¦åˆ™å¯èƒ½ä¼šäº§ç”Ÿä¸å¯é¢„çŸ¥çš„åæœ.</p>
<p>Although top-level calls to `require&rsquo; are evaluated during byte compilation, `provide&rsquo; calls are not.  Therefore, you can ensure that a file of definitions is loaded before it is byte-compiled by including a `provide&rsquo; followed by a `require&rsquo; for the same feature, as in the following example.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(provide <span style="color:#e6db74">&#39;my-feature</span>)  <span style="color:#75715e">; Ignored by byte compiler,</span>
                                        <span style="color:#75715e">;   evaluated by `load&#39;.</span>
(require <span style="color:#e6db74">&#39;my-feature</span>)  <span style="color:#75715e">; Evaluated by byte compiler.</span>
</code></pre></div><ul>
<li>(provide feature &amp;optional subfeatures)</li>
</ul>
<p>è¯¥å‡½æ•°å£°æ˜å·²ç»åŠ è½½äº†feature,ä¸‹æ¬¡å†requireè¯¥featureæ—¶,ä¸ä¼šå»é‡æ–°åŠ è½½è¯¥featureæ‰€åœ¨çš„æ–‡ä»¶</p>
<p>è¿™é‡Œå‚æ•°subfeaturesåº”è¯¥è€Œæˆ‘ä¸€ä¸ªç”±symbolç»„æˆçš„list,è¡¨ç¤ºè¯¥ç‰ˆæœ¬çš„feature,æä¾›äº†ä¸€ç³»åˆ—çš„subfeatures</p>
<ul>
<li>(require feature &amp;optional filename noerror)</li>
</ul>
<p>è¯¥å‡½æ•°æ£€æŸ¥è¯¥Emacs Sessionæ˜¯å¦å·²ç»åŠ è½½äº†feature,è‹¥æ²¡æœ‰,åˆ™ä½¿ç”¨loadåŠ è½½filename.</p>
<p>è‹¥å‚æ•°filenameä¸ºnil,åˆ™ä½¿ç”¨featureçš„å­—ç¬¦ä¸²è¡¨ç¤ºä½œä¸ºloadçš„å‚æ•°. ä½†è¦æ³¨æ„çš„æ˜¯,è¿™ç§æƒ…å†µä¸‹,requireåªä¼šåŠ è½½å¸¦æœ‰.el/.elcä¸ºåç¼€çš„æ–‡ä»¶(auto comression modeä¹Ÿæœ‰æ•ˆæœ). ä¸€ä¸ªåä¸ºfeatureè€Œä¸å¸¦ä»»ä½•åç¼€çš„æ–‡ä»¶ä¸ä¼šè¢«åŠ è½½.</p>
<p>è‹¥noerrorå‚æ•°ä¸ºénil,åˆ™å½“loadæ–‡ä»¶å¤±è´¥æ—¶,åªè¿”å›nil,è€Œä¸æŠ›å‡ºerror.å¦åˆ™è¿”å›å‚æ•°feature.</p>
<p>è‹¥åŠ è½½filenameæˆåŠŸ,è€Œè¯¥æ–‡ä»¶æ²¡æœ‰provide feature,åˆ™requireæŠ›å‡ºerror:`Required feature FEATURE was not provided&rsquo;</p>
<p><strong>requireè¯­å¥ä¼šåœ¨ç¼–è¯‘é˜¶æ®µå¾—åˆ°æ‰§è¡Œ.</strong></p>
<ul>
<li>(featurep feature &amp;optional subfeature)</li>
</ul>
<p>è‹¥featureå·²ç»åŠ è½½åˆ°è¯¥Emacs Session(å³featureæ˜¯å¦ä¸º`features&rsquo;ä¸­çš„member)åˆ™è¿”å›t.</p>
<p>è‹¥subfeatureä¸ºénil,åˆ™åªæœ‰åœ¨subfeatureä¹Ÿè¢«providedäº†çš„æƒ…å†µä¸‹æ‰è¿”å›t</p>
<ul>
<li>å˜é‡features</li>
</ul>
<p>è¯¥å˜é‡ä¸ºä¸€ä¸ªç”±symbolç»„æˆçš„list,æ¯ä¸ªsymboléƒ½æ˜¯åŠ è½½åˆ°è¯¥Emacs Sessionä¸­çš„feature</p>
<h3 id="æŸ¥æ‰¾å®šä¹‰æ‰€åœ¨çš„æ–‡ä»¶">æŸ¥æ‰¾å®šä¹‰æ‰€åœ¨çš„æ–‡ä»¶<a hidden class="anchor" aria-hidden="true" href="#æŸ¥æ‰¾å®šä¹‰æ‰€åœ¨çš„æ–‡ä»¶">#</a></h3>
<ul>
<li>(symbol-file symbol &amp;optional type)</li>
</ul>
<p>æŸ¥æ‰¾å®šä¹‰symbolçš„æ–‡ä»¶è·¯å¾„.</p>
<p>å‚æ•°typeæŒ‡å®šäº†symbolçš„ç±»å‹,å¯ä»¥æ˜¯nil,&lsquo;defun,defvaræˆ–defface</p>
<p>symbol-fileå®é™…æ˜¯ä»`load-history&rsquo;å˜é‡ä¸­æŸ¥æ‰¾symbolæ‰€åœ¨çš„æ–‡ä»¶çš„.</p>
<h3 id="unloading">Unloading<a hidden class="anchor" aria-hidden="true" href="#unloading">#</a></h3>
<ul>
<li>(unload-feature feature &amp;optional force)</li>
</ul>
<p>å›æ”¶featureæ‰€å®šä¹‰çš„å‡½æ•°/å˜é‡,æ¢å¤ä¹‹å‰çš„symbolå®šä¹‰.</p>
<p>è‹¥å˜é‡`FEATURE-unload-function&rsquo;çš„å€¼ä¸ºæŸä¸ªå‡½æ•°,åˆ™unload-featureä¼šåœ¨æ‰§è¡Œæ¸…ç†å‰æ‰§è¡Œè¯¥å‡½æ•°. è‹¥è¯¥å‡½æ•°è¿”å›nil,åˆ™unload-featureæ¥ç€æ‰§è¡Œæ­£å¸¸çš„æ¸…ç†è¿‡ç¨‹,å¦åˆ™,unload-featureä¸å†è¿›è¡Œä¸‹ä¸€æ­¥çš„æ¸…ç†.</p>
<p>é»˜è®¤æƒ…å†µä¸‹,unload-featureä¸ä¼šunloadè¢«å…¶ä»–åº“ä¾èµ–çš„feature, ä½†è‹¥forceå‚æ•°ä¸ºénil,åˆ™unload-featureä¸ä¼šæ£€æŸ¥ä¾èµ–å…³ç³».</p>
<p>unload-featureå‡½æ•°ä¹Ÿæ˜¯æ ¹æ®å˜é‡`load-history&rsquo;çš„å†…å®¹æ¥è¡ŒåŠ¨çš„.</p>
<ul>
<li>å˜é‡unload-feature-special-hooks</li>
</ul>
<p>è¯¥å˜é‡ä¸ºä¸€ä¸ªhooksåˆ—è¡¨,åœ¨æ‰§è¡Œunloadæ“ä½œå‰,ä¼šå…ˆåˆ é™¤è¿™äº›hooksä¸­çš„å®šä¹‰åœ¨libraryä¸­çš„å‡½æ•°.</p>
<h3 id="hooks">Hooks<a hidden class="anchor" aria-hidden="true" href="#hooks">#</a></h3>
<ul>
<li>after-load-functions</li>
</ul>
<p>loadå®ŒæŸä¸ªæ–‡ä»¶å,ä¼šæ‰§è¡Œè¯¥hook,æ¯ä¸ªhookå‡½æ•°ä¼šæ¥æ”¶ä¸€ä¸ªå‚æ•°:åˆšåŠ è½½æ–‡ä»¶çš„ç»å¯¹è·¯å¾„</p>
<ul>
<li>å®(with-eval-after-load library-or-feature bodys&hellip;)</li>
</ul>
<p>è‹¥library-or-featureä¸ºlibrary,åˆ™åœ¨æ¯æ¬¡åŠ è½½å®Œlibraryæ–‡ä»¶å,éƒ½æ‰§è¡Œä¸€æ¬¡bodysä»£ç </p>
<p>è‹¥åœ¨æ‰§è¡Œè¯¥å®çš„æ—¶å€™,libraryå·²ç»è¢«åŠ è½½è¿‡äº†,åˆ™è¯¥å®ä¼šç«‹åˆ»æ‰§è¡Œä¸€æ¬¡bodys</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(with-eval-after-load <span style="color:#e6db74">&#34;edebug&#34;</span> (def-edebug-spec c-point <span style="color:#66d9ef">t</span>)
</code></pre></div><p>è‹¥library-or-featureä¸ºfeature,åˆ™åœ¨æ‰§è¡Œ(provide feature)ä¹‹åæ‰å›æ‰§è¡Œbodysçš„å†…å®¹</p>
<p>è‹¥æ‰§è¡Œbodysæ—¶æŠ›å‡ºerror,ä¸ä¼šunloadå·²åŠ è½½çš„æ–‡ä»¶,ä½†æ˜¯ä¼šé˜»æ­¢bodysä¸­çš„ä¸‹é¢è¯­å¥çš„æ‰§è¡Œ.</p>
<p>ä¸€èˆ¬è¯¥å®æ²¡ä»€ä¹ˆç”¨.</p>
<h2 id="byte-compilation">Byte Compilation<a hidden class="anchor" aria-hidden="true" href="#byte-compilation">#</a></h2>
<p>Elispçš„Byte Compilationä¸ºä¼ªç¼–è¯‘,å®ƒå°†lispç¼–è¯‘ä¸ºå­—èŠ‚ç æ ¼å¼,ç”±ç‰¹å®šçš„å­—èŠ‚ç è§£é‡Šå™¨è§£é‡Š,è€Œä¸æ˜¯ç¼–è¯‘ä¸ºä¸ç¡¬ä»¶ç›¸å…³çš„ä»£ç . è¿™ä½¿å¾—å®ƒçš„é€Ÿåº¦ä¼šç¨å¾®æ…¢ç‚¹,ä½†åŒæ—¶ä¹Ÿä¿è¯äº†ä¸åŒç¡¬ä»¶å¹³å°ä¹‹é—´çš„å¯ç§»æ¤æ€§</p>
<p>è‹¥å¸Œæœ›æŸä¸ªlisp fileä¸è¢«ç¼–è¯‘,è®¾ç½®file-localå˜é‡no-byte-compileçš„å€¼ä¸ºt
æ ¼å¼ä¸º:`;; -<strong>-no-byte-compile: t; -</strong>-&rsquo;</p>
<p>å½“ç¼–è¯‘çš„æ–‡ä»¶ä¸­åŒ…å«å®æ—¶è¦ç‰¹åˆ«æ³¨æ„,å› ä¸ºåœ¨ç¼–è¯‘é˜¶æ®µ,å®ä¼šè¢«å±•å¼€,è¿™æ—¶å¯èƒ½å®çš„å®šä¹‰è¿˜æœªåŠ è½½åˆ°Emacsä¸­. ä¸ºäº†åº”ä»˜è¿™ç§æƒ…å†µ,ä¸€èˆ¬ä½¿ç”¨requireè¯­å¥æŒ‡å®šåŒ…å«æ‰€éœ€å®çš„æ–‡ä»¶(requireåœ¨ç¼–è¯‘é˜¶æ®µä¼šè¢«æ‰§è¡Œ). ä¸ºäº†é˜²æ­¢ç”¨æˆ·åœ¨æ‰§è¡Œç¼–è¯‘åç¨‹åºæ—¶ä¾ç„¶æ‰§è¡Œrequireè¯­å¥,å¯ä»¥ä½¿ç”¨`eval-when-compile&rsquo;åŒ…å«`require&rsquo;è¯­å¥</p>
<h3 id="ç›¸å…³å‡½æ•°">ç›¸å…³å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#ç›¸å…³å‡½æ•°">#</a></h3>
<ul>
<li>(byte-compile symbol)</li>
</ul>
<p>ç¼–è¯‘symbolçš„å‡½æ•°å®šä¹‰æˆå­—èŠ‚ç æ ¼å¼.</p>
<p>å‚æ•°symbolçš„å‡½æ•°å®šä¹‰å¿…é¡»æ˜¯å‡½æ•°çš„çœŸå®ä»£ç ,è€Œä¸èƒ½æ˜¯å¼•ç”¨å‡½æ•°.</p>
<p>å‚æ•°symbolä¹Ÿå¯ä»¥æ˜¯lambdaè¡¨è¾¾å¼,ä½†è¿™ç§æƒ…å†µä¸‹,byte-compileåªæ˜¯è¿”å›å¯¹åº”çš„ç¼–è¯‘åä»£ç ,è€Œå¹¶ä¸å­˜å‚¨å®ƒ</p>
<p>è‹¥symbolçš„å‡½æ•°å®šä¹‰æ˜¯ä¸€ä¸ªå·²ç»ç¼–è¯‘ä¸ºå­—èŠ‚ç æ ¼å¼çš„å‡½æ•°,åˆ™è¯¥å‡½æ•°ä»€ä¹ˆä¹Ÿä¸åš,åªæ˜¯è¿”å›nil</p>
<ul>
<li>å‘½ä»¤(copmile-defun &amp;optional arg)</li>
</ul>
<p>ç¼–è¯‘å¹¶æ‰§è¡Œå½“å‰top-level form,å¹¶å°†ç»“æœè¾“å‡ºåˆ°echo areaä¸­.</p>
<p>è‹¥å‚æ•°argä¸ºénil,åˆ™å°†ç»“æœæ’å…¥åˆ°å½“å‰bufferä¸­,æ‰§è¡Œçš„formä½ç½®å</p>
<ul>
<li>å‘½ä»¤(byte-compile-file filename &amp;optional load)</li>
</ul>
<p>è¯¥å‘½ä»¤å°†lispæ ¼å¼çš„filenameç¼–è¯‘ä¸ºå­—èŠ‚ç æ ¼å¼çš„æ–‡ä»¶,ç”Ÿæˆçš„æ–‡ä»¶åç§°æ˜¯åŸfilenameçš„.elåç¼€æ”¹ä¸º.elcåç¼€,è‹¥filenameä¸å¸¦.elåç¼€,åˆ™ç”Ÿæˆçš„æ–‡ä»¶åä¸ºfilename.elc</p>
<p>è‹¥loadå‚æ•°ä¸ºénil,åˆ™åœ¨ç¼–è¯‘å®Œfilenameå,è¿˜æ˜¯åŠ è½½ç¼–è¯‘åçš„æ–‡ä»¶.</p>
<p>è‹¥byte-compile-fileä½œä¸ºå‘½ä»¤æ‰§è¡Œæ—¶,ä¼šæç¤ºè¾“å…¥è¦ç¼–è¯‘çš„æ–‡ä»¶,è¿™æ—¶å‚æ•°loadé¢å€¼ä¸ºprefix argument</p>
<ul>
<li>å‘½ä»¤(byte-recompile-directory directory &amp;optional flag force)</li>
</ul>
<p>è¯¥å‘½ä»¤é‡æ–°ç¼–è¯‘directoryåŠå…¶å­ç›®å½•ä¸­çš„æ‰€æœ‰éœ€è¦é‡æ–°ç¼–è¯‘çš„.elæ–‡ä»¶(å­˜åœ¨.elcæ–‡ä»¶æ¯”.elæ–‡ä»¶æ—§çš„.elæ–‡ä»¶)</p>
<p>è‹¥å­˜åœ¨æ²¡æœ‰å¯¹åº”.elcæ–‡ä»¶çš„.elæ–‡ä»¶,åˆ™ç”±å‚æ•°flagæ¥è¯´æ˜è¯¥å¦‚ä½•å¤„ç†,nilè¡¨ç¤ºä¸ç¼–è¯‘è¿™äº›æ–‡ä»¶,0è¡¨ç¤ºç¼–è¯‘ä»–ä»¬,å…¶ä»–å€¼è¡¨ç¤ºè¯¢é—®ç”¨æˆ·</p>
<p>è‹¥å‚æ•°forceä¸ºénil,åˆ™å‘½ä»¤åœ¨é‡ç¼–è¯‘æ‰€æœ‰æœ‰å¯¹åº”.elcæ–‡ä»¶çš„.elæ–‡ä»¶.</p>
<ul>
<li>(batch-byte-compile &amp;optional noforce)</li>
</ul>
<p>è¯¥å‡½æ•°è°ƒç”¨`byte-compile-file&rsquo;ç¼–è¯‘å‘½ä»¤è¡Œä¸­æŒ‡å®šçš„æ–‡ä»¶.</p>
<p>è¯¥å‡½æ•°å¿…é¡»å½“Emacså¤„äºbatchçŠ¶æ€æ—¶æ‰èƒ½ä½¿ç”¨,å› ä¸ºå½“ç¼–è¯‘å®Œæˆå,å®ƒä¼šå…³é—­Emacs.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">emacs -batch -f batch-byte-compile *.el
</code></pre></div><p>ç¼–è¯‘ä¸€ä¸ªæ–‡ä»¶å‡ºé”™,ä¸ä¼šå¦¨ç¢å…¶ç¼–è¯‘ä¸‹ä¸€ä¸ªæ–‡ä»¶,ä½†è¿™æ—¶,Emacsé€€å‡ºæ—¶ä¼šè®¾ç½®é0çš„çŠ¶æ€ç .</p>
<p>è‹¥å‚æ•°noforceä¸ºénil,åˆ™,è¯¥å‡½æ•°ä¸ä¼šç¼–è¯‘é‚£äº›å·²ç»æœ‰æ›´æ–°ç‰ˆæœ¬çš„.elcæ–‡ä»¶çš„.elæ–‡ä»¶</p>
<ul>
<li>é…ç½®é¡¹byte-compile-dynamic-docstrings</li>
</ul>
<p>é»˜è®¤æƒ…å†µä¸‹,Emacsä»å­—èŠ‚ç æ–‡ä»¶ä¸­åŠ è½½å‡½æ•°å’Œå˜é‡æ—¶ä¸ä¼šåŠ è½½ ä»–ä»¬çš„doc-string,å½“éœ€è¦æ—¶æ‰åŠ¨æ€çš„ä»å­—èŠ‚ç æ–‡ä»¶ä¸­åŠ è½½è¿›æ¥. è¿™å°±äº§ç”Ÿäº†ä¸€ä¸ªåæœ:è‹¥æ­¤æ—¶å­—èŠ‚ç æ–‡ä»¶è¢«æ›´æ–°äº†,é‚£ä¹ˆåŸæ¥çš„doc-stringå°±è¢«è¦†ç›–äº†.</p>
<p>è®¾ç½®è¯¥é…ç½®é¡¹ä¸ºnil,å¯ä»¥é™æ­¢EmacsåŠ¨æ€åŠ è½½doc-stringçš„è¡Œä¸º.</p>
<p>å¯ä»¥åœ¨lispæ–‡ä»¶ä¸­æ·»åŠ ä¸€è¡Œ&rdquo;-<strong>-byte-compile-dynamic-docstrings: nil;-</strong>&quot;</p>
<ul>
<li>å˜é‡byte-compile-dynamic</li>
</ul>
<p>è‹¥ä¸ºénil,åˆ™è¡¨ç¤ºå¼€å¯&quot;dynamic function loading&quot;åŠŸèƒ½. è¿™æ—¶åŠ è½½è¯¥æ–‡ä»¶å¹¶ä¸ä¼šè¯»å–å…¶ä¸­å‡½æ•°çš„çœŸå®å®šä¹‰,åªæœ‰åœ¨æ­£åœ¨è°ƒç”¨è¯¥å‡½æ•°æ—¶é‡‡å–ä¸´æ—¶è¯»å–è¯¥å‡½æ•°çš„å®šä¹‰.</p>
<ul>
<li>(fetch-bytecode function)</li>
</ul>
<p>è‹¥functionä¸ºbyte-code function object,åˆ™ç«‹å³ä»å­—èŠ‚ç æ–‡ä»¶ä¸­åŠ è½½functionçš„å­—èŠ‚ç .</p>
<p>è¿”å›å‚æ•°function</p>
<h3 id="ç¼–è¯‘æœŸæ‰§è¡Œè¯­å¥">ç¼–è¯‘æœŸæ‰§è¡Œè¯­å¥<a hidden class="anchor" aria-hidden="true" href="#ç¼–è¯‘æœŸæ‰§è¡Œè¯­å¥">#</a></h3>
<ul>
<li>(eval-and-compile bodys&hellip;)</li>
</ul>
<p>åœ¨ç¼–è¯‘æœŸé—´å’Œæ‰§è¡ŒæœŸé—´éƒ½æ‰§è¡Œbodys</p>
<p>æƒ³è¿‡ç±»ä¼¼äºå°†bodysæ”¾å…¥fileä¸­,ç„¶å(require file)</p>
<p>autoloadå’Œrequireåœ¨ç¼–è¯‘æœŸå’Œæ‰§è¡ŒæœŸéƒ½ä¼šæ‰§è¡Œ.</p>
<ul>
<li>(eval-when-compile bodys&hellip;)</li>
</ul>
<p>åªåœ¨ç¼–è¯‘æœŸæ‰è®¡ç®—bodysçš„å€¼. <strong>è¿™æ—¶bodysçš„å€¼è¢«ä½œä¸ºå¸¸é‡å­˜å‚¨èµ·æ¥,å½“æ­£å¸¸æ‰§è¡Œè¯¥æ®µä»£ç æ—¶,ç›´æ¥è¿”å›è¯¥å¸¸é‡</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defvar my-regexp
  (eval-when-compile (regexp-opt <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;aaa&#34;</span> <span style="color:#e6db74">&#34;aba&#34;</span> <span style="color:#e6db74">&#34;abb&#34;</span>))))
</code></pre></div><h3 id="compiler-errors">Compiler Errors<a hidden class="anchor" aria-hidden="true" href="#compiler-errors">#</a></h3>
<ul>
<li>(with-no-warning bodys&hellip;)</li>
</ul>
<p>æ‰§è¡Œbodysæ—¶,ä¸å‡ºç°warnningè­¦å‘Š</p>
<ul>
<li>å˜é‡`byte-compile-warnings&rsquo;</li>
</ul>
<p>æ§åˆ¶ç¼–è¯‘æ—¶ä»€ä¹ˆæ ·çš„è­¦å‘Šä¼šè¢«æŠ›å‡º</p>
<h3 id="disassembly">Disassembly<a hidden class="anchor" aria-hidden="true" href="#disassembly">#</a></h3>
<ul>
<li>(disassemble object &amp;optional buffer-or-name)</li>
</ul>
<p>æ˜¾ç¤ºobjectçš„åç¼–è¯‘ä»£ç </p>
<h2 id="reading-and-printing-lisp-objects">Reading and Printing Lisp Objects<a hidden class="anchor" aria-hidden="true" href="#reading-and-printing-lisp-objects">#</a></h2>
<p>Readingæ˜¯å°†æ–‡æœ¬è½¬æ¢ä¸ºlisp objectçš„è¿‡ç¨‹</p>
<p>Printingæ˜¯å°†lisp objectè½¬æ¢ä¸ºæ–‡æœ¬çš„è¿‡ç¨‹</p>
<h3 id="input-stream">Input Stream<a hidden class="anchor" aria-hidden="true" href="#input-stream">#</a></h3>
<p>è¾“å…¥æµå¯ä»¥æ˜¯ä»¥ä¸‹å‡ ç§ç±»å‹</p>
<ul>
<li>Buffer</li>
</ul>
<p>ä»bufferä¸­å…‰æ ‡æ‰€å¤„ä½ç½®å¼€å§‹è¯»å–</p>
<ul>
<li>Maker</li>
</ul>
<p>ä»bufferä¸­æŒ‡å®šMakerå¤„å¼€å§‹è¯»å–</p>
<ul>
<li>string</li>
</ul>
<p>ä»stringçš„ç¬¬ä¸€ä¸ªå­—æ¯å¼€å§‹è¯»å–</p>
<ul>
<li>function</li>
</ul>
<p>ç”±functionäº§ç”Ÿè¦è¯»å–çš„å­—ç¬¦. è¿™ç§å‡½æ•°å¿…é¡»æ”¯æŒä¸¤ç§è°ƒç”¨æ¨¡å¼:</p>
<ol>
<li>
<p>å½“æ— å‚æ•°è°ƒç”¨æ—¶,è¿”å›ä¸‹ä¸€ä¸ªè¦è¯»å–çš„å­—ç¬¦</p>
</li>
<li>
<p>å½“å¸¦ä¸€ä¸ªå‚æ•°(é€šå¸¸æ˜¯ä¸€ä¸ªå­—ç¬¦)è°ƒç”¨æ—¶,ä¿å­˜è¯¥å‚æ•°,å¹¶åœ¨ä¸‹ä¸€æ¬¡æ— å‚æ•°è°ƒç”¨æ—¶è¿”å›å®ƒ,åŠå®ç°unreadingåŠŸèƒ½.</p>
</li>
<li>
<p>t</p>
</li>
</ol>
<p>è¡¨ç¤ºä»minibufferä¸­è¯»å–,è‹¥Emacsè¿è¡Œåœ¨batch modeçŠ¶æ€ä¸‹,åˆ™ä½¿ç”¨stdin</p>
<ul>
<li>nil</li>
</ul>
<p>è¡¨ç¤ºä½¿ç”¨`standard-input&rsquo;çš„å€¼ä½œä¸ºè¾“å…¥æµ</p>
<ul>
<li>symbol</li>
</ul>
<p>è¡¨ç¤ºä½¿ç”¨symbolçš„å‡½æ•°å®šä¹‰ä½œä¸ºè¾“å…¥,ç±»ä¼¼function</p>
<h4 id="input-functions">Input Functions<a hidden class="anchor" aria-hidden="true" href="#input-functions">#</a></h4>
<ul>
<li>
<p>(read &amp;optional stream)</p>
<p>ä»streamä¸­è¯»å–ä¸€ä¸ªSè¡¨è¾¾å¼,å¹¶è½¬æ¢ä¸ºLisp Objectè¿”å›</p>
</li>
<li>
<p>(read-from-string string &amp;optional start end)</p>
<p>ä»stringä¸­è¯»å–ä¸€ä¸ªSè¡¨è¾¾å¼,å¹¶è¿”å›&rsquo;(lisp-object . postion)</p>
<p>å…¶ä¸­lisp-objectä¸ºSè¯»åˆ°çš„è¡¨è¾¾å¼,postionæ˜¯stringä¸­å‰©ä½™å­—ç¬¦çš„ä½ç½®(ç¬¬ä¸€ä¸ªæœªè¯»å­—ç¬¦çš„ä½ç½®)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">read-from-string</span> <span style="color:#e6db74">&#34;(setq x 55) (setq y 5)&#34;</span>) <span style="color:#75715e">; =&gt; ((setq x 55) . 11)</span>
(<span style="color:#a6e22e">read-from-string</span> <span style="color:#e6db74">&#34;\&#34;A short string\&#34;&#34;</span>)     <span style="color:#75715e">; =&gt; (&#34;A short string&#34; . 16)</span>

<span style="color:#75715e">;; Read starting at the first character.</span>
(<span style="color:#a6e22e">read-from-string</span> <span style="color:#e6db74">&#34;(list 112)&#34;</span> <span style="color:#ae81ff">0</span>)       <span style="color:#75715e">; =&gt; ((list 112) . 10)</span>
<span style="color:#75715e">;; Read starting at the second character.</span>
(<span style="color:#a6e22e">read-from-string</span> <span style="color:#e6db74">&#34;(list 112)&#34;</span> <span style="color:#ae81ff">1</span>)       <span style="color:#75715e">; =&gt; (list . 5)</span>
<span style="color:#75715e">;; Read starting at the seventh character, and stopping at the ninth.</span>
(<span style="color:#a6e22e">read-from-string</span> <span style="color:#e6db74">&#34;(list 112)&#34;</span> <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">8</span>)     <span style="color:#75715e">; =&gt; (11 . 8)</span>
</code></pre></div></li>
<li>
<p>å˜é‡standard-input</p>
<p>å½“streamå‚æ•°ä¸ºnilæ—¶,ä½¿ç”¨è¯¥å˜é‡çš„å€¼ä½œä¸ºsteamå‚æ•°çš„å®å‚</p>
</li>
<li>
<p>å˜é‡read-circle</p>
<p>è‹¥ä¸ºénil,åˆ™å…è®¸è¯»å–å¾ªç¯ç»“æœçš„Sè¡¨è¾¾å¼,é»˜è®¤ä¸ºt</p>
</li>
</ul>
<h3 id="output-stream">Output Stream<a hidden class="anchor" aria-hidden="true" href="#output-stream">#</a></h3>
<p>è¾“å‡ºæµå‚æ•°å¯ä»¥æ˜¯ä»¥ä¸‹ç±»å‹:</p>
<ul>
<li>buffer</li>
</ul>
<p>è¾“å‡ºå­—ç¬¦æ’å…¥åˆ°Bufferä¸­çš„å…‰æ ‡å¤„,å…‰æ ‡ä¼šéšç€å­—ç¬¦çš„æ’å…¥è€Œå‘å‰ç§»åŠ¨.</p>
<ul>
<li>Maker</li>
</ul>
<p>è¾“å‡ºå­—ç¬¦æ’å…¥Bufferä¸­Makerå¤„</p>
<ul>
<li>Function</li>
</ul>
<p>Elispä½¿ç”¨è¾“å‡ºå­—ç¬¦ä½œä¸ºå‚æ•°è°ƒç”¨function,è¯¥functionåº”è¯¥å­˜å‚¨è¿™äº›è¾“å‡ºå­—ç¬¦</p>
<ul>
<li>t</li>
</ul>
<p>è¾“å‡ºç»“æœåˆ°echo area</p>
<ul>
<li>nil</li>
</ul>
<p>ä½¿ç”¨`standard-output&rsquo;çš„å˜é‡å€¼</p>
<ul>
<li>symbol</li>
</ul>
<p>ä½¿ç”¨symbolçš„functionå®šä¹‰</p>
<h4 id="output-functions">Output Functions<a hidden class="anchor" aria-hidden="true" href="#output-functions">#</a></h4>
<ul>
<li>
<p>(print object &amp;optional stream)</p>
<p>è¾“å‡ºobjectçš„æ–‡æœ¬è¡¨ç¤ºåˆ°streamä¸­.</p>
<p>è¾“å‡ºæ—¶,åœ¨objectçš„å‰åéƒ½ä¼šå¢åŠ ä¸€ä¸ªå›è½¦. å¹¶ä¸”ä¼šè¾“å‡ºå¼•ç”¨å­—ç¬¦</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(progn (<span style="color:#a6e22e">print</span> <span style="color:#e6db74">&#39;The\ cat\ in</span>)
       (<span style="color:#a6e22e">print</span> <span style="color:#e6db74">&#34;the hat&#34;</span>)
       (<span style="color:#a6e22e">print</span> <span style="color:#e6db74">&#34; came back&#34;</span>))
<span style="color:#75715e">;; -|</span>
<span style="color:#75715e">;; -| The\ cat\ in</span>
<span style="color:#75715e">;; -|</span>
<span style="color:#75715e">;; -| &#34;the hat&#34;</span>
<span style="color:#75715e">;; -|</span>
<span style="color:#75715e">;; -| &#34; came back&#34;</span>
<span style="color:#75715e">;; =&gt; &#34; came back&#34;</span>
</code></pre></div><p>è¯¥å‡½æ•°è¿”å›objectçš„æ–‡æœ¬è¡¨ç¤ºå­—ç¬¦ä¸²</p>
</li>
<li>
<p>(prin1 object &amp;optional stream)</p>
<p>ç±»ä¼¼print,ä½†æ˜¯ä¸ä¼šåœ¨objectçš„æ–‡æœ¬è¡¨ç¤ºå‰åæ·»åŠ å›è½¦</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(progn (<span style="color:#a6e22e">prin1</span> <span style="color:#e6db74">&#39;The\ cat\ in</span>)
       (<span style="color:#a6e22e">prin1</span> <span style="color:#e6db74">&#34;the hat&#34;</span>)
       (<span style="color:#a6e22e">prin1</span> <span style="color:#e6db74">&#34; came back&#34;</span>))
<span style="color:#75715e">;; -| The\ cat\ in&#34;the hat&#34;&#34; came back&#34;</span>
<span style="color:#75715e">;; =&gt; &#34; came back&#34;</span>
</code></pre></div></li>
<li>
<p>(princ object &amp;optional stream)</p>
<p>è¯¥å‡½æ•°è¾“å‡ºobjectçš„æ–‡æœ¬è¡¨ç¤ºåˆ°streamä¸­,å¹¶è¿”å›å‚æ•°object.</p>
<p>è¯¥å‡½æ•°ä¸€èˆ¬ç”¨æ¥è¾“å‡ºå¯¹äººå¯è¯»çš„ä¿¡æ¯(è€Œä¸æ˜¯å¯¹readå‡½æ•°å¯ä»¥è¯»),å› æ­¤è¯¥å‡½æ•°å¹¶ä¸ä¼šæ’å…¥å¼•ç”¨å­—ç¬¦,ä¹Ÿä¸ä¼šåœ¨å­—ç¬¦ä¸²ä¸¤è¾¹åŠ ä¸ŠåŒå¼•å·,æ›´ä¸ä¼šè‡ªåŠ¨æ’å…¥ç©ºæ ¼åˆ†éš”ä¸¤æ¬¡è°ƒç”¨é—´çš„å†…å®¹</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(progn
  (<span style="color:#a6e22e">princ</span> <span style="color:#e6db74">&#39;The\ cat</span>)
  (<span style="color:#a6e22e">princ</span> <span style="color:#e6db74">&#34; in the \&#34;hat\&#34;&#34;</span>))
<span style="color:#75715e">;; -| The cat in the &#34;hat&#34;</span>
<span style="color:#75715e">;; =&gt; &#34; in the \&#34;hat\&#34;&#34;</span>
</code></pre></div></li>
<li>
<p>(terpri &amp;optional stream)</p>
<p>è¾“å‡ºnewlineåˆ°streamä¸­</p>
</li>
<li>
<p>(write-char char &amp;optional stream)</p>
<p>è¾“å‡ºcharåˆ°streamä¸­,è¿”å›å‚æ•°char</p>
</li>
<li>
<p>(prin1-to-string object &amp;optional noescape)</p>
<p>è¯¥å‡½æ•°è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²,è¯¥å­—ç¬¦ä¸²çš„å†…å®¹å°±æ˜¯(prin1 object)çš„è¾“å‡º</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">prin1-to-string</span> <span style="color:#e6db74">&#39;foo</span>) <span style="color:#75715e">;; =&gt; &#34;foo&#34;</span>
(<span style="color:#a6e22e">prin1-to-string</span> (<span style="color:#a6e22e">mark-marker</span>)) <span style="color:#75715e">;; =&gt; &#34;#&lt;marker at 2773 in strings.texi&gt;&#34;</span>
</code></pre></div><p>è‹¥å‚æ•°noescapeä¸ºénil,åˆ™è¾“å‡ºæ—¶ä¸ä½¿ç”¨å¼•ç”¨å­—ç¬¦</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">prin1-to-string</span> <span style="color:#e6db74">&#34;foo&#34;</span>)                 <span style="color:#75715e">; =&gt; &#34;\&#34;foo\&#34;&#34;</span>
(<span style="color:#a6e22e">prin1-to-string</span> <span style="color:#e6db74">&#34;foo&#34;</span> <span style="color:#66d9ef">t</span>)               <span style="color:#75715e">; =&gt; &#34;foo&#34;</span>
</code></pre></div><p>ä¹Ÿå¯ä»¥ä½¿ç”¨formatå‡½æ•°å®ç°è¯¥åŠŸèƒ½</p>
</li>
<li>
<p>å®(with-output-to-string bodys&hellip;)</p>
<p>è¯¥å®åœ¨å°†`standard-output&rsquo;è®¾ç½®ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²çš„ç¯å¢ƒä¸‹æ‰§è¡Œbodys,ç„¶åè¿”å›è¯¥å­—ç¬¦ä¸²</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(with-output-to-string
  (<span style="color:#a6e22e">princ</span> <span style="color:#e6db74">&#34;The buffer is &#34;</span>)
  (<span style="color:#a6e22e">princ</span> (<span style="color:#a6e22e">buffer-name</span>)))                <span style="color:#75715e">;=&gt;&#34;The buffer is foo&#34;</span>
</code></pre></div></li>
<li>
<p>(pp object &amp;optional stream)</p>
<p>ç±»ä¼¼prin1,ä½†æ˜¯è¾“å‡ºçš„æ ¼å¼æ›´æ–¹ä¾¿é˜…è¯».</p>
</li>
</ul>
<h4 id="output-variables">Output Variables<a hidden class="anchor" aria-hidden="true" href="#output-variables">#</a></h4>
<ul>
<li>
<p>standard-output</p>
<p>å½“å‚æ•°streamä¸ºnilæ—¶,ä½¿ç”¨è¯¥å˜é‡çš„å€¼</p>
</li>
<li>
<p>print-quoted</p>
<p>è‹¥è¯¥å€¼ä¸ºénil,è¡¨ç¤ºä½¿ç”¨ç®€å†™å½¢å¼è¾“å‡ºquoted forms.ä¾‹å¦‚
(quote foo)è¾“å‡ºä¸º&rsquo;foo, (function foo)è¾“å‡ºä¸º#&lsquo;foo</p>
</li>
<li>
<p>print-escape-newlines</p>
<p>è‹¥è¯¥å€¼ä¸ºénil,åˆ™è¡¨ç¤ºå­—ç¬¦ä¸²ä¸­çš„newlineå­—ç¬¦,ä¼šè¢«è¾“å‡ºä¸º\n,formfeedç¬¦ä¼šè¢«è¾“å‡ºä¸º\f</p>
<p>è¯¥å‚æ•°å½±å“prin1å’Œprintå‡½æ•°çš„è¾“å‡ºæ–¹å¼,ä½†æ˜¯ä¸èƒ½å½±å“prncçš„è¾“å‡º</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">prin1</span> <span style="color:#e6db74">&#34;a\nb&#34;</span>)
-| <span style="color:#e6db74">&#34;a
</span><span style="color:#e6db74">-| b&#34;</span>
=&gt; <span style="color:#e6db74">&#34;a
</span><span style="color:#e6db74">   b&#34;</span>

(let ((print-escape-newlines <span style="color:#66d9ef">t</span>))
  (<span style="color:#a6e22e">prin1</span> <span style="color:#e6db74">&#34;a\nb&#34;</span>))
-| <span style="color:#e6db74">&#34;a\nb&#34;</span>
=&gt; <span style="color:#e6db74">&#34;a
</span><span style="color:#e6db74">   b&#34;</span>
</code></pre></div></li>
<li>
<p>print-escape-nonascii</p>
<p>è‹¥è¯¥å˜é‡å€¼ä¸ºénil,åˆ™å­—ç¬¦ä¸²ä¸­çš„unibyteæ ¼å¼éasciiå­—ç¬¦è¾“å‡ºä¸º\XXXçš„æ ¼å¼.</p>
<p>è¯¥å‚æ•°å½±å“prin1å’Œprintå‡½æ•°</p>
</li>
<li>
<p>print-escape-multibyte</p>
<p>è‹¥è¯¥å˜é‡å€¼ä¸ºénil,åˆ™å­—ç¬¦ä¸²ä¸­çš„mutibyteæ ¼å¼éasciiå­—ç¬¦è¾“å‡ºä¸º\XXXçš„æ ¼å¼.</p>
<p>è¯¥å‚æ•°å½±å“prin1å’Œprintå‡½æ•°</p>
</li>
<li>
<p>print-length</p>
<p>è¯¥å˜é‡æŒ‡æ˜äº†è¾“å‡ºlist,vectoræˆ–bool-vectoræ—¶,èƒ½è¾“å‡ºæœ€å¤šå¤šå°‘ä¸ªå…ƒç´ . è‹¥è¶…è¿‡è¿™ä¹ˆå¤šä¸ªå…ƒç´ ,åˆ™ä½¿ç”¨å¼•å·ç¼©å†™</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq print-length <span style="color:#ae81ff">2</span>)                   <span style="color:#75715e">; =&gt; 2</span>
(<span style="color:#a6e22e">print</span> <span style="color:#f92672">&#39;</span>(<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">5</span>))                    <span style="color:#75715e">; =&gt; (1 2 ...)</span>
-| (<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">...</span>)
</code></pre></div><p>nilè¡¨ç¤ºæ— é™åˆ¶</p>
</li>
<li>
<p>print-level</p>
<p>è¯¥å˜é‡å€¼æŒ‡æ˜äº†è¾“å‡ºæ—¶()å’Œ[]èƒ½å¤ŸåµŒå¥—çš„æœ€å¤§æ·±åº¦,è¶…è¿‡è¿™ä¸ªæ·±åº¦ä¼šç”¨çœç•¥å·ä»£æ›¿,nilè¡¨ç¤ºæ— é™åˆ¶</p>
</li>
<li>
<p>é…ç½®é¡¹eval-expression-print-length/eval-expression-print-level</p>
<p>eval-expressionä¸­ä½¿ç”¨çš„print-length/print-levelç‰ˆæœ¬</p>
</li>
<li>
<p>print-circle</p>
<p>è‹¥è¯¥å€¼ä¸ºénil,åˆ™åœ¨è¾“å‡ºæ—¶å¼€å¯æ¢æµ‹objectæ˜¯å¦æœ‰å¾ªç¯ç»“æ„</p>
</li>
<li>
<p>print-gensym</p>
<p>è‹¥è¯¥å€¼ä¸ºénil,åˆ™è¾“å‡ºæ—¶å¼€å¯æ¢æµ‹symbolæ˜¯å¦æ˜¯uninterned.</p>
<p>è¿™æ—¶,uninterned symbolè¾“å‡ºæ—¶ä¼šå¸¦æœ‰å‰ç¼€#:</p>
</li>
<li>
<p>print-continuous-numbering</p>
<p>If non-`nil&rsquo;, that means number continuously across print calls.
This affects the numbers printed for `#N=&rsquo; labels and `#M#&rsquo; references.
Don&rsquo;t set this variable with `setq&rsquo;; you should only bind it temporarily to `t&rsquo; with `let&rsquo;.
When you do that, you should also bind `print-number-table&rsquo; to `nil&rsquo;</p>
</li>
<li>
<p>print-number-table</p>
<p>This variable holds a vector used internally by printing to implement the `print-circle&rsquo; feature.
You should not use it except to bind it to `nil&rsquo; when you bind `print-continuous-numbering&rsquo;.</p>
</li>
<li>
<p>float-output-format</p>
<p>è¯¥å˜é‡æŒ‡æ˜äº†è¾“å‡ºfloatç±»å‹æ•°å­—æ—¶çš„æ ¼å¼. é»˜è®¤ä¸ºnil,è¡¨ç¤ºåœ¨ä¸ä¸¢å¤±ç²¾åº¦çš„æƒ…å†µä¸‹,ä½¿ç”¨æœ€çŸ­çš„æ ¼å¼è¾“å‡º.</p>
</li>
</ul>
<h2 id="documentation">Documentation<a hidden class="anchor" aria-hidden="true" href="#documentation">#</a></h2>
<h3 id="è·å–doc-string">è·å–doc-string<a hidden class="anchor" aria-hidden="true" href="#è·å–doc-string">#</a></h3>
<ul>
<li>(documentation-property symbol property &amp;optional verbatim)</li>
</ul>
<p>æŸ¥çœ‹symbolçš„propertyå±æ€§ä¸­å­˜å‚¨çš„doc-string,å®ƒä¼šè‡ªåŠ¨ä»DOCæ–‡ä»¶ä¸­æˆ–ç¼–è¯‘çš„å­—èŠ‚ç ä»£ç ä¸­æŠ½å–å‡ºå¯¹åº”çš„doc-string</p>
<p>è‹¥å‚æ•°verbatimä¸ºnil,åˆ™,æ‰¾åˆ°çš„doc-stringä¼šä¼ å…¥å‡½æ•°`substitute-command-keys&rsquo;è¿›è¡Œé”®ç»‘å®šè¯´æ˜çš„è½¬æ¢</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">documentation-property</span> <span style="color:#e6db74">&#39;command-line-processed</span>
                        <span style="color:#e6db74">&#39;variable-documentation</span>) <span style="color:#75715e">; =&gt; &#34;Non-nil once command line has been processed&#34;</span>
(<span style="color:#a6e22e">symbol-plist</span> <span style="color:#e6db74">&#39;command-line-processed</span>)           <span style="color:#75715e">; =&gt; (variable-documentation 188902)</span>
(<span style="color:#a6e22e">documentation-property</span> <span style="color:#e6db74">&#39;emacs</span> <span style="color:#e6db74">&#39;group-documentation</span>) <span style="color:#75715e">; =&gt; &#34;Customization of the One True Editor.&#34;</span>
</code></pre></div><ul>
<li>(documentation function &amp;optional verbatim)</li>
</ul>
<p>è¯¥å‡½æ•°è¿”å›functionçš„doc-string,å…¶ä¸­functionå¯ä»¥æ˜¯macro,named keyboard macro,special forms,oridnary function</p>
<p>è‹¥å‚æ•°verbatimä¸ºnil,åˆ™,æ‰¾åˆ°çš„doc-stringä¼šä¼ å…¥å‡½æ•°`substitute-command-keys&rsquo;è¿›è¡Œé”®ç»‘å®šè¯´æ˜çš„è½¬æ¢</p>
<p>è‹¥functionæ²¡æœ‰å‡½æ•°å®šä¹‰,åˆ™æŠ›å‡º`void-function&rsquo;é”™è¯¯,è‹¥å‡½æ•°å®šä¹‰æ²¡æœ‰doc-string,åˆ™è¿”å›nil</p>
<ul>
<li>(face-documentation face)</li>
</ul>
<p>è¿”å›faceçš„doc-string</p>
<ul>
<li>doc-directory</li>
</ul>
<p>DOCæ–‡ä»¶çš„å­˜æ”¾è·¯å¾„,Emacså¯èƒ½è¦ä»DOCæ–‡ä»¶ä¸­è¯»å–doc-string</p>
<h3 id="æ›¿æ¢doc-stringä¸­çš„key-binding">æ›¿æ¢doc-stringä¸­çš„key binding<a hidden class="anchor" aria-hidden="true" href="#æ›¿æ¢doc-stringä¸­çš„key-binding">#</a></h3>
<p>å½“doc-stringä¸­è¦å¼•ç”¨ç»‘å®šçš„é”®åºåˆ—æ—¶,ä½¿ç”¨ç‰¹æ®Šçš„å¼•ç”¨å½¢å¼å¯ä»¥é€šè¿‡å‡½æ•°`substitute-command-keys&rsquo;è½¬æ¢ä¸ºæŒ‡å®šå‘½ä»¤çœŸå®çš„ç»‘å®šé”®åºåˆ—.</p>
<ul>
<li>`\[COMMAND]&rsquo;</li>
</ul>
<p>æ˜¾ç¤ºè°ƒç”¨COMMANDæ—¶çš„é”®åºåˆ—,è‹¥COMMANDæ²¡æœ‰ç»‘å®šé”®åºåˆ—,åˆ™æ˜¾ç¤ºä¸ºM-x COMMAND</p>
<ul>
<li>`\{MAPVAR}&rsquo;</li>
</ul>
<p>ä½¿ç”¨å‡½æ•°`describe-bindings&rsquo;æ˜¾ç¤ºMAPVARæ‰€è¡¨ç¤ºçš„keymapä¸­çš„summary</p>
<ul>
<li>`\&lt;MAPVAR&gt;'</li>
</ul>
<p>è½¬æ¢ä¸ºç©ºå€¼,è¯¥å½¢å¼çš„è¯´æ˜ä¼šäº§ç”Ÿä¸€ä¸ªå‰¯ä½œç”¨:it specifies MAPVAR&rsquo;s value as the keymap for any following `\[COMMAND]' sequences in this documentation string.</p>
<ul>
<li>`\='</li>
</ul>
<p>å¼•ç”¨æ¥ä¸‹æ¥çš„é‚£ä¸ªå­—ç¬¦;ä¾‹å¦‚`\=\[&lsquo;åœ¨æ˜¾ç¤ºæ—¶æ˜¾ç¤ºä¸º`\[',è€Œ`\=\=&lsquo;æ˜¾ç¤ºä¸º`\=&rsquo;</p>
<h3 id="å°†é”®åºåˆ—è¾“å‡ºä¸ºæ–‡æœ¬æ ¼å¼">å°†é”®åºåˆ—è¾“å‡ºä¸ºæ–‡æœ¬æ ¼å¼<a hidden class="anchor" aria-hidden="true" href="#å°†é”®åºåˆ—è¾“å‡ºä¸ºæ–‡æœ¬æ ¼å¼">#</a></h3>
<ul>
<li>(key-description sequence &amp;optional prefix)</li>
</ul>
<p>å°†sequenceä¸­çš„input eventè½¬æ¢ä¸ºæ–‡æœ¬æ ¼å¼</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">key-description</span> [<span style="color:#e6db74">?\M</span><span style="color:#ae81ff">-3</span> <span style="color:#a6e22e">delete</span>])        <span style="color:#75715e">; =&gt; &#34;M-3 &lt;delete&gt;&#34;</span>
(<span style="color:#a6e22e">key-description</span> [<span style="color:#a6e22e">delete</span>] <span style="color:#e6db74">&#34;\M-3&#34;</span>)       <span style="color:#75715e">; =&gt; &#34;M-3 &lt;delete&gt;&#34;</span>
</code></pre></div><ul>
<li>(single-key-description event &amp;optinal no-angles)</li>
</ul>
<p>å°†input eventè½¬æ¢ä¸ºæ–‡æœ¬å½¢å¼å­—ç¬¦ä¸².</p>
<p>è‹¥å‚æ•°no-angleä¸ºénil,åˆ™åœ¨åŒ…å›´åœ¨function keyså’Œevent symolsçš„å°–æ‹¬å·ä¼šè¢«å¿½ç•¥,è¿™æ˜¯ä¸ºäº†ä¸æ—§ç‰ˆæœ¬çš„Emacså…¼å®¹.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">single-key-description</span> <span style="color:#e6db74">?\C</span>-x)          <span style="color:#75715e">; =&gt; &#34;C-x&#34;</span>
(<span style="color:#a6e22e">key-description</span> <span style="color:#e6db74">&#34;\C-x \M-y \n \t \r \f123&#34;</span>) <span style="color:#75715e">; =&gt; &#34;C-x SPC M-y SPC C-j SPC TAB SPC RET SPC C-l 1 2 3&#34;</span>
(<span style="color:#a6e22e">single-key-description</span> <span style="color:#e6db74">&#39;delete</span>)             <span style="color:#75715e">; =&gt; &#34;&lt;delete&gt;&#34;</span>
(<span style="color:#a6e22e">single-key-description</span> <span style="color:#e6db74">&#39;C-mouse-1</span>)          <span style="color:#75715e">; =&gt; &#34;&lt;C-mouse-1&gt;&#34;</span>
(<span style="color:#a6e22e">single-key-description</span> <span style="color:#e6db74">&#39;C-mouse-1</span> <span style="color:#66d9ef">t</span>)        <span style="color:#75715e">; =&gt; &#34;C-mouse-1&#34;</span>
</code></pre></div><ul>
<li>(text-char-description character)</li>
</ul>
<p>è¿”å›æè¿°characterçš„å­—ç¬¦ä¸²,ç±»ä¼¼`single-key-description&rsquo;çš„ä½œç”¨</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">text-char-description</span> <span style="color:#e6db74">?\C</span>-c)           <span style="color:#75715e">; =&gt; &#34;^C&#34;</span>
(<span style="color:#a6e22e">text-char-description</span> <span style="color:#e6db74">?\M</span>-m)           <span style="color:#75715e">; =&gt; &#34;\xed&#34;</span>
(<span style="color:#a6e22e">text-char-description</span> <span style="color:#e6db74">?\C</span>-\M-m)        <span style="color:#75715e">; =&gt; &#34;\x8d&#34;</span>
(<span style="color:#a6e22e">text-char-description</span> (<span style="color:#a6e22e">+</span> <span style="color:#ae81ff">128</span> <span style="color:#e6db74">?m</span>))      <span style="color:#75715e">; =&gt; &#34;M-m&#34;</span>
(<span style="color:#a6e22e">text-char-description</span> (<span style="color:#a6e22e">+</span> <span style="color:#ae81ff">128</span> <span style="color:#e6db74">?\C</span>-m))   <span style="color:#75715e">; =&gt; &#34;M-^M&#34;</span>
</code></pre></div><ul>
<li>å‘½ä»¤(read-kbd-macro string &amp;optional need-vector)</li>
</ul>
<p>`key-description&rsquo;çš„é€†æ“ä½œ</p>
<p>å‚æ•°stringä¸­åŒ…å«äº†ç”¨ç©ºæ ¼åˆ†éš”çš„key descriptions,è¯¥å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªstringæˆ–vector,åŒ…å«äº†å¯¹åº”çš„events.</p>
<p>è‹¥å‚æ•°need-vector,åˆ™æ€»æ˜¯è¿”å›vector</p>
<h2 id="elispä¸­çš„å‡½æ•°">Elispä¸­çš„å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#elispä¸­çš„å‡½æ•°">#</a></h2>
<p>Elispä¸­çš„å‡½æ•°,æ˜¯è·ŸC++ä¸åŒçš„. C++ä¸­çš„å‡½æ•°å¿…é¡»æœ‰ä¸€ä¸ªå‡½æ•°å,ç„¶è€ŒElispä¸­çš„å‡½æ•°æ²¡æœ‰å‡½æ•°å,åªæ˜¯ä½ å¯ä»¥æŠŠå®ƒä¸ä¸€ä¸ªsymbolç›¸è¿æ¥,è¿™æ ·è¿™ä¸ªsymbolçš„åå­—å°±æš‚æ—¶ä½œä¸ºè¯¥å‡½æ•°çš„å‡½æ•°åäº†.</p>
<p>æ­¤å¤–,Elispä¸­çš„å‡½æ•°å¯ä»¥é€šè¿‡ä¸å¤šä¸ªsymbolç›¸å…³è¿çš„æ–¹å¼è€Œä¸ºåŒä¸€ä¸ªå‡½æ•°æä¾›å¤šä¸ªåç§°,è€ŒC++ä¸­çš„å‡½æ•°åªæœ‰ä¸€ä¸ªå‡½æ•°åç§°.</p>
<h3 id="elispä¸­å‡½æ•°çš„åˆ†ç±»">Elispä¸­å‡½æ•°çš„åˆ†ç±»<a hidden class="anchor" aria-hidden="true" href="#elispä¸­å‡½æ•°çš„åˆ†ç±»">#</a></h3>
<p>å‡½æ•°çš„ç‰¹æ€§åœ¨ä¸èƒ½å¤Ÿæ¥æ”¶å‚æ•°,ç„¶åè¿”å›è®¡ç®—ç»“æœ,å¹¶å¯èƒ½äº§ç”Ÿä¸€å®šçš„å‰¯ä½œç”¨. åœ¨Elispä¸­ç¬¦åˆè¿™äº›ç‰¹æ€§çš„ç±»å‡½æ•°å¯¹è±¡æœ‰ä»¥ä¸‹å‡ ç§ç±»å‹:</p>
<ul>
<li>lambda expression</li>
</ul>
<p>åŒ¿åå‡½æ•°</p>
<ul>
<li>primitive</li>
</ul>
<p>ä½¿ç”¨Cè¯­è¨€ç¼–å†™çš„å†…ç½®ç±»å‡½æ•°å¯¹è±¡,special forméƒ½è®¤ä¸ºæ˜¯primitiveçš„ä¸€ç§.</p>
<ul>
<li>special form</li>
</ul>
<p>ç±»ä¼¼Cè¯­è¨€ä¸­çš„å›ºå®šè¯­æ³•çš„è¯­å¥</p>
<ul>
<li>macro</li>
</ul>
<p>å®,è·Ÿfunctionç±»ä¼¼,ä½†å®ƒå¹¶ä¸å¯¹å‚æ•°è¿›è¡Œé¢„è¿ç®—ä¸”è¿”å›çš„ç»“æœå¿…é¡»æ˜¯ä¸€æ®µSè¡¨è¾¾å¼.</p>
<ul>
<li>command</li>
</ul>
<p>å¯ä»¥é€šè¿‡`command-execute`è¿™ä¸ªprimitiveè°ƒç”¨çš„å¯¹è±¡,é€šå¸¸æ˜¯ä¸€ä¸ªå¸¦äº†interactiveå£°æ˜çš„å‡½æ•°(ä¹Ÿå¯èƒ½æ˜¯keyboard macro).</p>
<ul>
<li>closure</li>
</ul>
<p>é—­åŒ…,å¸¦æœ‰é™æ€ä½œç”¨åŸŸä¸‹å˜é‡çš„å‡½æ•°.</p>
<ul>
<li>byte-code function</li>
</ul>
<p>ç¼–è¯‘ä¸ºå­—èŠ‚ç çš„å‡½æ•°</p>
<ul>
<li>autoload object</li>
</ul>
<p>å®ƒæŒ‡å‘ä¸€ä¸ªçœŸå®çš„å‡½æ•°çš„ä½ç½®. å½“çœŸæ­£è°ƒç”¨åˆ°autoload objectæ—¶,Emacsè½½å…¥åŒ…å«çœŸæ­£å‡½æ•°å®šä¹‰çš„é‚£ä¸ªæ–‡ä»¶,å¹¶ä¸”è°ƒç”¨é‚£ä¸ªçœŸæ­£çš„å‡½æ•°.</p>
<h3 id="è·å–å‡½æ•°ä¿¡æ¯">è·å–å‡½æ•°ä¿¡æ¯<a hidden class="anchor" aria-hidden="true" href="#è·å–å‡½æ•°ä¿¡æ¯">#</a></h3>
<ul>
<li>(functionp object)</li>
</ul>
<p>åˆ¤æ–­objectæ˜¯å¦ä¸ºå‡½æ•°. è‹¥ä¸ºå‡½æ•°åˆ™è¿”å›t,ä½†macroå’Œspecial formä¼šè¿”å›nil</p>
<p>objectä¹Ÿå¯ä»¥ä¸ºsymbolç±»å‹,ä¼šè‡ªåŠ¨åˆ¤æ–­å®ƒæ‰€æŒ‡å‘çš„function.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">functionp</span> <span style="color:#e6db74">&#39;goto-line</span>)                  <span style="color:#75715e">;=&gt;t</span>
</code></pre></div><ul>
<li>(subrp object)</li>
</ul>
<p>åˆ¤æ–­objectæ˜¯å¦ä¸ºprimtive.</p>
<p><strong>æ³¨æ„:</strong> ä¸functionpä¸åŒ.objectä¸ºsymbolçš„è¯,ä¼šè¿”å›nil.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">subrp</span> <span style="color:#e6db74">&#39;message</span>)            <span style="color:#75715e">; `message&#39; is a symbol,</span>
=&gt; <span style="color:#66d9ef">nil</span>                 <span style="color:#75715e">;   not a subr object.</span>
(<span style="color:#a6e22e">subrp</span> (<span style="color:#a6e22e">symbol-function</span> <span style="color:#e6db74">&#39;message</span>))
=&gt; <span style="color:#66d9ef">t</span>
</code></pre></div><ul>
<li>(byte-code-function-p object)</li>
</ul>
<p>åˆ¤æ–­objectæ˜¯å¦ä¸ºbyte-code function. objectä¸ºsymbolç±»å‹åˆ™è¿”å›nil</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">byte-code-function-p</span> <span style="color:#e6db74">&#39;next-line</span>) <span style="color:#75715e">; =&gt; nil</span>
(<span style="color:#a6e22e">byte-code-function-p</span> (<span style="color:#a6e22e">symbol-function</span> <span style="color:#e6db74">&#39;next-line</span>)) <span style="color:#75715e">; =&gt; t</span>
</code></pre></div><ul>
<li>(subr-arity subr)</li>
</ul>
<p>è¿™é‡Œsubréœ€è¦ä¸ºä¸€ä¸ªprimitiveå¯¹è±¡(ä¸èƒ½ä¸ºsymbol),è¯¥å‡½æ•°è¿”å›subrçš„æœ€å°‘å‚æ•°ä¸ªæ•°å’Œæœ€å¤§å‚æ•°ä¸ªæ•°.</p>
<p>è¿”å›æ ¼å¼ä¸º&rsquo;(MIN . MAX).</p>
<p>è‹¥å‚æ•°æœ‰&amp;rest,åˆ™MAXä¸ºmany.</p>
<p>è‹¥subrä¸ºspecial form,åˆ™è¯¥å‡½æ•°è¿”å›&rsquo;unevalled</p>
<ul>
<li>(interactive-form function)</li>
</ul>
<p>è·å–functionçš„interactiveä¿¡æ¯</p>
<h3 id="åŒ¿åå‡½æ•°">åŒ¿åå‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#åŒ¿åå‡½æ•°">#</a></h3>
<h4 id="è·å–åŒ¿åå‡½æ•°">è·å–åŒ¿åå‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#è·å–åŒ¿åå‡½æ•°">#</a></h4>
<p>è·å–åŒ¿åå‡½æ•°,ä¸»è¦æœ‰ä¸‰ç§æ–¹æ³•:</p>
<ul>
<li>
<p>ä½¿ç”¨lambdaå®</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">(lambda (å‚æ•°åˆ—è¡¨...)
    [å‡½æ•°æè¿°å­—ç¬¦ä¸²]
    [äº¤äº’æ¨¡å¼å£°æ˜]
    å‡½æ•°ä½“...)
</code></pre></div></li>
<li>
<p>ä½¿ç”¨functionå‡½æ•°</p>
<p>(function function-object)</p>
<p>ç±»ä¼¼quoteå‡½æ•°,å®ƒç›´æ¥è¿”å› <strong>æœªè®¡ç®—</strong> çš„å‚æ•°function-object.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(function <span style="color:#ae81ff">3</span>)                            <span style="color:#75715e">;=&gt;3,functionçš„å‚æ•°å¯ä»¥ä¸ä¸ºlambdaè¡¨è¾¾å¼</span>
(function (lambda add-1(x) (<span style="color:#a6e22e">1+</span> x)))     <span style="color:#75715e">;=&gt;(lambda add-1(x) (1+ x)),ä½†ä¸€èˆ¬functionçš„å‚æ•°éƒ½æ˜¯lambdaè¡¨è¾¾å¼</span>
</code></pre></div><p>æ‰€ä¸åŒçš„æ˜¯,è¯¥å‡½æ•°å‘Šè¯‰Emacs evaluatorå’Œbyte-compiler,function-objectä¸ºå‡½æ•°.</p>
<p>å…·ä½“æ¥è¯´,è‹¥function-objectä¸ºlambdaè¡¨è¾¾å¼,åˆ™æœ‰ä¸¤ä¸ªé™„åŠ æ•ˆæœ:</p>
<ol>
<li>
<p>When the code is byte-compiled, FUNCTION-OBJECT is compiled into a byte-code function object</p>
</li>
<li>
<p>When lexical binding is enabled, FUNCTION-OBJECT is converted into a closure</p>
</li>
</ol>
</li>
<li>
<p>ä½¿ç”¨`#'`æ ‡è¯†</p>
<p>#&lsquo;fæ˜¯(function f)çš„ç¼©å†™å½¢å¼</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="color:#75715e">;; ä¸€ä¸‹ä¸‰ç§å†™æ³•æ˜¯ç­‰ä»·çš„</span>
(lambda (x) (<span style="color:#a6e22e">*</span> x x))
(function (lambda (x) (<span style="color:#a6e22e">*</span> x x)))
<span style="color:#a6e22e">#&#39;</span>(lambda (x) (<span style="color:#a6e22e">*</span> x x))
</code></pre></div></li>
</ul>
<h4 id="å‚æ•°åˆ—è¡¨">å‚æ•°åˆ—è¡¨<a hidden class="anchor" aria-hidden="true" href="#å‚æ•°åˆ—è¡¨">#</a></h4>
<p>å‚æ•°åˆ—è¡¨çš„æ ¼å¼ä¸º:(å¿…é¡»å‚æ•°åˆ—è¡¨&hellip;[&amp;optional å¯é€‰å‚æ•°åˆ—è¡¨] [&amp;rest å‰©ä½™å‚æ•°])</p>
<p>ä½¿ç”¨&amp;optionalè¡¨ç¤ºä¹‹åçš„å‚æ•°æ˜¯å¯é€‰çš„.</p>
<p>ä½¿ç”¨&amp;restè¡¨ç¤ºä¹‹åçš„å‚æ•°ä¸ºä¸å®šå‚æ•°. å®ƒæ˜¯å®é™…å‚æ•°çš„ä¸€ä¸ªåˆ—è¡¨.</p>
<p>è‹¥åœ¨å®é™…è°ƒç”¨å‡½æ•°æ—¶,æ²¡æœ‰ä¸ºå¯é€‰å‚æ•°å’Œå‰©ä½™å‚æ•°æä¾›å®é™…å‚æ•°å€¼,åˆ™è¿™äº›å‚æ•°å€¼ä¸ºnil.</p>
<h3 id="å‘½åå‡½æ•°">å‘½åå‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#å‘½åå‡½æ•°">#</a></h3>
<p>ä½¿ç”¨fset/defaliaså°†åŒ¿åå‡½æ•°ä¸ä¸€ä¸ªsymbolæƒ³ç»“åˆ,å°±ä¸ºè¿™ä¸ªåŒ¿åå‡½æ•°åˆ†é…äº†ä¸€ä¸ªåç§°.</p>
<ul>
<li>(fset symbol lambdaå‡½æ•°)</li>
</ul>
<!--listend-->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">fset</span> <span style="color:#e6db74">&#39;plus-one</span> (lambda (x) (<span style="color:#a6e22e">+</span> x <span style="color:#ae81ff">1</span>)))
(plus-one <span style="color:#ae81ff">10</span>)                           <span style="color:#75715e">;11</span>
</code></pre></div><ul>
<li>(defalias alias-name lambda-function-or-symbol &amp;optional doc-string)</li>
</ul>
<p>ä¸ºå‡½æ•°è®¾å®šåå­—æˆ–åˆ«å,ä¸€èˆ¬å¾ˆå°‘ç”¨åˆ°</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defalias <span style="color:#e6db74">&#39;add-one</span> <span style="color:#e6db74">&#39;1+</span>)
(add-one <span style="color:#ae81ff">11</span>)                            <span style="color:#75715e">;12</span>
(defalias <span style="color:#e6db74">&#39;add-two</span> (lambda (x) (<span style="color:#a6e22e">+</span> x <span style="color:#ae81ff">2</span>)))
(add-two <span style="color:#ae81ff">11</span>)                            <span style="color:#75715e">;13</span>
</code></pre></div><p>å®é™…ä¸Š,æ›´å¸¸è§çš„å®šä¹‰å‘½åå‡½æ•°çš„æ–¹æ³•æ˜¯ä½¿ç”¨defunå®</p>
<ul>
<li>(defun å‡½æ•°å (å‚æ•°åˆ—è¡¨) [å‡½æ•°è¯´æ˜å­—ç¬¦ä¸²] [declare-form] [äº¤äº’æ¨¡å¼å£°æ˜] å‡½æ•°ä½“&hellip;)</li>
</ul>
<p>å®šä¹‰ä¸€ä¸ªå¸¦åå­—çš„å‡½æ•°.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defun add-one (x)
  <span style="color:#e6db74">&#34;return value after plus one&#34;</span>
  (<span style="color:#a6e22e">+</span> x <span style="color:#ae81ff">1</span>))

(add-one <span style="color:#ae81ff">10</span>)                            <span style="color:#75715e">;11</span>
</code></pre></div><p><strong>æ³¨æ„:</strong> å®ƒå¯ä»¥æ¯”lambdaå‡½æ•°å¤šä¸€ä¸ªdeclare-forméƒ¨åˆ†,è¿™ä¸ªdeclare-formé€šå¸¸ç”¨äºæä¾›Elispç¼–è¯‘å™¨ä¸€äº›å‡½æ•°çš„ä¿¡æ¯,ä»¥ä¾¿è¿›è¡Œä¼˜åŒ–.</p>
<ul>
<li>(fboundp symbol)</li>
</ul>
<p>åˆ¤æ–­symbolæ˜¯å¦å¯ä»¥ä½œä¸ºå‡½æ•°ä½¿ç”¨</p>
<ul>
<li>(fmakunbound symbol)</li>
</ul>
<p>åˆ é™¤å‡½æ•°,ä½¿symbolä¸å†ä½œä¸ºå‡½æ•°ä½¿ç”¨.</p>
<h4 id="declare-form">declare form<a hidden class="anchor" aria-hidden="true" href="#declare-form">#</a></h4>
<p>declare formå¸¸ç”¨æ¥ä¸ºå‡½æ•°æˆ–å®æ·»åŠ ä¸€äº›å…³äºå±æ€§çš„å…ƒæ ‡ç­¾. å®ƒçš„è¯­æ³•æ˜¯:</p>
<ul>
<li>
<p>(declare specs&hellip;)</p>
<p>å…¶ä¸­specçš„æ ¼å¼ä¸º(PROPERTY ARGS&hellip;),specå¯ä»¥æ˜¯ä»¥ä¸‹å‡ ç§è¯´æ˜</p>
<ul>
<li>(advertised-call-convention new-arg-list when)</li>
</ul>
<p>new-arg-listä¸ºæ­£ç¡®çš„è°ƒç”¨å‡½æ•°çš„æ–¹æ³•,å…¶ä»–çš„è°ƒç”¨æ–¹æ³•éƒ½è¢«è®¤ä¸ºæ˜¯åºŸå¼ƒçš„.</p>
<p>whenä¸ºä¸€ä¸ªè¡¨ç¤ºä»€ä¹ˆæ—¶å€™åºŸå¼ƒçš„å­—ç¬¦ä¸².</p>
<ul>
<li>(debug EDEBUG-FORM-SPEC)</li>
</ul>
<p>åªèƒ½åœ¨å®šä¹‰å®æ—¶ä½¿ç”¨. å½“ç”¨Edebugæ¥è°ƒè¯•è¯¥å®æ—¶,ä½¿ç”¨EDEBUG-FORM-SPEC</p>
<ul>
<li>(doc-string N)</li>
</ul>
<p>This is used when defining a function or macro which itself will be used to define entities like functions, macros, or variables</p>
<p>å®ƒè¡¨ç¤º,ç¬¬Nä¸ªå‚æ•°ä½œä¸ºdoc-stringæ¥çœ‹å¾…</p>
<ul>
<li>(ident indent-spec)</li>
</ul>
<p>Indent calls to this function or macro according to INDENT-SPEC.</p>
<p>è™½ç„¶å¯ä»¥ç”¨åœ¨å‡½æ•°ä¸Š,ä½†ä¸€èˆ¬è¿˜æ˜¯ç”¨åœ¨å®å®šä¹‰ä¸­</p>
<ul>
<li>(obsolete current-name when)</li>
</ul>
<p>ç±»ä¼¼(make-obsolete),è¡¨ç¤ºè¯¥å‡½æ•°è¢«åºŸå¼ƒäº†</p>
<ul>
<li>(compiler-macro EXPANDER)</li>
</ul>
<p>åªèƒ½ç”¨åœ¨å‡½æ•°å®šä¹‰æ—¶,å‘Šè¯‰ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶,ä½¿ç”¨EXPANDERä»£æ›¿è¯¥å‡½æ•°.</p>
<p>è¿™æ ·çš„è¯,æ‰€æœ‰çš„(function args&hellip;)éƒ½å®é™…ä¸Šè°ƒç”¨çš„æ˜¯(EXPANDER args&hellip;)</p>
<ul>
<li>(gv-expander EXPANDER)</li>
</ul>
<p>Declare EXPANDER to be the function to handle calls to the macro (or function) as a generalized variable, similarly to `gv-define-expander&rsquo;.</p>
<p>EXPANDER can be a symbol or it can be of the form `(lambda (ARG) BODY)' in which case that function will additionally have access to the macro (or function)&rsquo;s arguments.</p>
<ul>
<li>(gv-setter SETTER)</li>
</ul>
<p>Declare SETTER to be the function to handle calls to the macro (or function) as a generalized variable.
SETTER can be a symbol in which case it will be passed to `gv-define-simple-setter', or it can be of the form `(lambda (ARG) BODY)' in which case that function will additionally have access to the macro (or function)&rsquo;s arguments and it will passed to `gv-define-setter'.</p>
</li>
</ul>
<h3 id="è°ƒç”¨å‡½æ•°">è°ƒç”¨å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#è°ƒç”¨å‡½æ•°">#</a></h3>
<p>æœ€å¸¸ç”¨çš„è°ƒç”¨å‡½æ•°çš„æ–¹å¼æ˜¯å°†å‡½æ•°ä½œä¸ºä¸€ä¸ªlistçš„ç¬¬ä¸€ä¸ªå‚æ•°. è¿™æ ·å½“è®¡ç®—è¿™ä¸ªlistæ—¶,ä¼šæŠŠåœ°ä¸€ä¸ªå…ƒç´ ä½œä¸ºå‡½æ•°,å…¶ä»–ä½œä¸ºå‚æ•°æ¥è°ƒç”¨.</p>
<p>ä½†æ˜¯æœ‰çš„æ—¶å€™,éœ€è¦åœ¨è¿è¡ŒæœŸé—´å†³å®šè¦æ‰§è¡Œçš„å‡½æ•°,è¿™æ—¶å€™å°±éœ€è¦ä½¿ç”¨ä»¥ä¸‹å‡½æ•°çš„å¸®åŠ©:</p>
<ul>
<li>(funcall function &amp;rest arguments&hellip;)</li>
</ul>
<p>ä½¿ç”¨å‚æ•°argumentsè°ƒç”¨å‡½æ•°function.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq f <span style="color:#e6db74">&#39;list</span>)                          <span style="color:#75715e">; =&gt; list</span>
(<span style="color:#a6e22e">funcall</span> f <span style="color:#e6db74">&#39;x</span> <span style="color:#e6db74">&#39;y</span> <span style="color:#e6db74">&#39;z</span>)                    <span style="color:#75715e">; =&gt; (x y z)</span>
(<span style="color:#a6e22e">funcall</span> f <span style="color:#e6db74">&#39;x</span> <span style="color:#e6db74">&#39;y</span> <span style="color:#f92672">&#39;</span>(z))                  <span style="color:#75715e">; =&gt; (x y (z))</span>
</code></pre></div><p>å‚æ•°functionå¿…é¡»æ˜¯ä¸€ä¸ªlisp functionæˆ–primitive function,è€Œä¸èƒ½æ˜¯macroæˆ–special form</p>
<ul>
<li>(apply function &amp;rest arguments&hellip;)</li>
</ul>
<p>ç±»ä¼¼funcallå‡½æ•°,ä½†applyçš„argumentsä¸­,æœ€åä¸€ä¸ªå‚æ•° <strong>å¿…é¡»</strong> æ˜¯list. è€Œè¿™ä¸ªlistä¸­çš„å…ƒç´ ä¼šè¢«æ‰“æ•£ä¸ºç‹¬ç«‹çš„å‚æ•°æ¥ä½œä¸ºfunctionçš„å®å‚.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq f <span style="color:#e6db74">&#39;list</span>)                          <span style="color:#75715e">; =&gt; list</span>
(<span style="color:#a6e22e">apply</span> f <span style="color:#e6db74">&#39;x</span> <span style="color:#e6db74">&#39;y</span> <span style="color:#e6db74">&#39;z</span>)                      <span style="color:#75715e">; error--&gt; æœ€åä¸€ä¸ªå‚æ•°zä¸æ˜¯listç±»å‹</span>
(<span style="color:#a6e22e">apply</span> <span style="color:#e6db74">&#39;+</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">&#39;</span>(<span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span>))                   <span style="color:#75715e">; =&gt; 10</span>
(<span style="color:#a6e22e">apply</span> <span style="color:#e6db74">&#39;+</span> <span style="color:#f92672">&#39;</span>(<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span>))                   <span style="color:#75715e">; =&gt; 10</span>

(<span style="color:#a6e22e">apply</span> <span style="color:#e6db74">&#39;append</span> <span style="color:#f92672">&#39;</span>((a b c) <span style="color:#66d9ef">nil</span> (x y z) <span style="color:#66d9ef">nil</span>)) <span style="color:#75715e">; =&gt; (a b c x y z)</span>
</code></pre></div><ul>
<li>(apply-partially func &amp;rest args)</li>
</ul>
<p>apply-partiallyä½¿ç”¨å‚æ•°argsç»‘å®šfuncä¸­çš„å‰(length args)ä¸ªå‚æ•°,å¹¶ç”±æ­¤äº§ç”Ÿä¸€ä¸ªæ–°çš„å‡½æ•°.</p>
<p>è¿”å›çš„æ–°å‡½æ•°æ¥å—å‰©ä½™çš„å‚æ•°,å¹¶åœ¨å†…éƒ¨è°ƒç”¨åŸfuncå‡½æ•°.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defalias <span style="color:#e6db74">&#39;add-1</span> (apply-partially <span style="color:#e6db74">&#39;+</span> <span style="color:#ae81ff">1</span>)
  <span style="color:#e6db74">&#34;Increment argument by one.&#34;</span>)
(add-1 <span style="color:#ae81ff">10</span>)                              <span style="color:#75715e">; =&gt; 11</span>
</code></pre></div><ul>
<li>(identity arg)</li>
</ul>
<p>è¯¥å‡½æ•°è¿”å›å‚æ•°arg,æ²¡æœ‰ä»»ä½•å…¶ä»–å¤„ç†</p>
<ul>
<li>(ignore &amp;rest args)</li>
</ul>
<p>è¯¥å‡½æ•°å¿½ç•¥args,ç›´æ¥è¿”å›nil</p>
<p>è‹¥è¦å¯¹æŸä¸ªé›†åˆ(åŒ…æ‹¬list)ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨æŸä¸ªå‡½æ•°(æ³¨æ„,ä¸èƒ½æ˜¯å®å’Œspecial form),éœ€è¦ä½¿ç”¨åˆ°mapç³»åˆ—çš„å‡½æ•°.</p>
<p><strong>éœ€è¦æ³¨æ„çš„æ˜¯</strong>,char-tableæ¯”è¾ƒç‰¹æ®Š,åªèƒ½ç”¨map-char-tableå‡½æ•°è°ƒç”¨.</p>
<ul>
<li>(mapcar function sequence)</li>
</ul>
<p>mapcarå°†sequenceä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨ä¸€æ¬¡functionæ–¹æ³•,å¹¶å°†ç»“æœç»„æˆä¸€ä¸ªlistè¿”å›.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">mapcar</span> <span style="color:#e6db74">&#39;car</span> <span style="color:#f92672">&#39;</span>((a b) (c d) (e f)))      <span style="color:#75715e">; =&gt; (a c e)</span>
(<span style="color:#a6e22e">mapcar</span> <span style="color:#e6db74">&#39;1+</span> [<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span>])                    <span style="color:#75715e">; =&gt; (2 3 4)</span>
(<span style="color:#a6e22e">mapcar</span> <span style="color:#e6db74">&#39;string</span> <span style="color:#e6db74">&#34;abc&#34;</span>)                  <span style="color:#75715e">; =&gt; (&#34;a&#34; &#34;b&#34; &#34;c&#34;)</span>
</code></pre></div><ul>
<li>(mapc function sequence)</li>
</ul>
<p>ç±»ä¼¼mapcar,ä½†ä¸æ”¶é›†ä¸ªå‡½æ•°çš„è¿ç®—ç»“æ„. mapcçš„è¿”å›å€¼ä¸ºå‚æ•°sequence</p>
<ul>
<li>(mapconcat function sequence separator)</li>
</ul>
<p>å¯¹sequenceä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨functionæ–¹æ³•,å…¶functionæ–¹æ³•è®¡ç®—çš„ç»“æœå¿…é¡»ä¸ºstringç±»å‹. ç„¶åå°†è¿™ä¸ªstringç±»å‹çš„ç»“æœç”¨separatorç»“åˆèµ·æ¥.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">mapconcat</span> <span style="color:#e6db74">&#39;symbol-name</span>
           <span style="color:#f92672">&#39;</span>(The cat in the hat)
           <span style="color:#e6db74">&#34; &#34;</span>)                         <span style="color:#75715e">; =&gt; &#34;The cat in the hat&#34;</span>

(<span style="color:#a6e22e">mapconcat</span> (function (lambda (x) (<span style="color:#a6e22e">format</span> <span style="color:#e6db74">&#34;%c&#34;</span> (<span style="color:#a6e22e">1+</span> x))))
           <span style="color:#e6db74">&#34;HAL-8000&#34;</span>
           <span style="color:#e6db74">&#34;&#34;</span>)                          <span style="color:#75715e">; =&gt; &#34;IBM.9111&#34;</span>
</code></pre></div><ul>
<li>(cl-maplist function list&hellip;)</li>
</ul>
<p>ç±»ä¼¼mapcar,ä½†è°ƒç”¨functionçš„å‚æ•°ä¸º(cdr list)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(maplist <span style="color:#a6e22e">#&#39;</span>(lambda (x) x)
         <span style="color:#f92672">&#39;</span>(a b c))
<span style="color:#75715e">;; ((a b c) (b c) (c))</span>

</code></pre></div><h3 id="åºŸå¼ƒå‡½æ•°">åºŸå¼ƒå‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#åºŸå¼ƒå‡½æ•°">#</a></h3>
<p>ç±»ä¼¼å˜é‡ä¸€æ ·,å‡½æ•°ä¹Ÿå¯ä»¥è¢«æ ‡æ³¨ä¸ºåºŸå¼ƒçš„.</p>
<ul>
<li>(make-obsolete obsolete-name current-name &amp;optional when)</li>
</ul>
<p>è¯¥å‡½æ•°æ ‡æ³¨obsolete-nameä¸ºåºŸå¼ƒçš„. å…¶ä¸­</p>
<p>obsolete-nameå¯ä»¥ä¸ºè¡¨ç¤ºå‡½æ•°æˆ–å®çš„symbol,ä¹Ÿå¯ä»¥ä¸ºå‡½æ•°æˆ–å®çš„åˆ«å.</p>
<p>current-nameå¯ä»¥æ˜¯ä¸€ä¸ªsymbol,è¡¨ç¤ºä½¿ç”¨current-nameä»£æ›¿obsolete-name. ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºåºŸå¼ƒçš„è­¦å‘Šè¯´æ˜. ä¹Ÿå¯æ˜¯nil.</p>
<p>whenåº”è¯¥æ˜¯ä¸€ä¸ªæ—¥æœŸæˆ–ç‰ˆæœ¬å·çš„å­—ç¬¦ä¸²,ç”¨äºè¡¨ç¤ºä»€ä¹ˆæ—¶å€™å¼€å§‹åºŸå¼ƒè¯¥å‡½æ•°.</p>
<ul>
<li>(define-obsolete-function-alias obsolete-name current-name &amp;optional when doc)</li>
</ul>
<p>è¯¥å®å®šä¹‰obsolete-nameä¸ºå‡½æ•°current-nameçš„åˆ«å,åŒæ—¶æ ‡æ³¨obsolet-nameä¸ºåºŸå¼ƒçš„å‡½æ•°.</p>
<p>è¯¥å®ç­‰ä»·äº:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defalias OBSOLETE-NAME CURRENT-NAME DOC)
(make-obsolete OBSOLETE-NAME CURRENT-NAME WHEN)
</code></pre></div><ul>
<li>(set-advertised-calling-convention function new-arg-list when)</li>
</ul>
<p>è¯¥å‡½æ•°ä¸ä¸Šé¢ä¸¤ä¸ªå‡½æ•°ä¸åŒç‚¹åœ¨äº,å®ƒä¸æ˜¯æ ‡æ³¨æŸä¸ªå‡½æ•°ä¸ºåºŸå¼ƒçš„,å®ƒåªæ ‡æ³¨æŸä¸ªå‡½æ•°çš„æŸç§ç”¨æ³•ä¸ºåºŸå¼ƒçš„.</p>
<p>ä»»ä½•ä¸ä½¿ç”¨new-arg-listè¡¨ç¤ºçš„å®å‚è°ƒç”¨functionå‡½æ•°éƒ½ä¼šè¢«è­¦å‘Šä¸ºåºŸå¼ƒçš„.</p>
<p>whenè¡¨ç¤ºä»€ä¹ˆæ—¶å€™å¼€å§‹åºŸå¼ƒfunctionçš„åŸç”¨æ³•,ä¸€èˆ¬ä¸ºè¡¨ç¤ºç‰ˆæœ¬å·çš„å­—ç¬¦ä¸².</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="color:#75715e">;; åœ¨è€ç‰ˆæœ¬ä¸­sit-forå‡½æ•°å¯ä»¥æ¥å—ä¸‰ä¸ªå‚æ•°</span>
(sit-for seconds milliseconds nodisp)

<span style="color:#75715e">;; ç„¶è€Œç”¨è¿™ç§è°ƒç”¨æ–¹æ³•åœ¨Emacs22.1ç‰ˆæœ¬ä¹‹åå°±è¢«åºŸå¼ƒæ‰äº†,å› æ­¤å¯ä»¥è¿™æ ·è®¾ç½®</span>
(set-advertised-calling-convention
 <span style="color:#e6db74">&#39;sit-for</span> <span style="color:#f92672">&#39;</span>(seconds <span style="color:#66d9ef">&amp;optional</span> nodisp) <span style="color:#e6db74">&#34;22.1&#34;</span>) <span style="color:#75715e">;è¡¨ç¤ºæ–°çš„sit-forå‡½æ•°ç­¾åä¸º(defun sit-for (seconds &amp;optional nodisp))</span>
</code></pre></div><h3 id="å†…è”å‡½æ•°">å†…è”å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#å†…è”å‡½æ•°">#</a></h3>
<p>è¦å®šä¹‰å†…è”å‡½æ•°,åªéœ€è¦å°†å®šä¹‰å‡½æ•°çš„defun,æ¢æˆdefsubstå³å¯</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">(defsubst name (arg-list)
   [doc-string]
   [declare-form]
   [interactive]
   bodys)
</code></pre></div><p>æ³¨æ„:è™½ç„¶å†…è”å‡½æ•°ä¼šåŠ å¿«å‡½æ•°çš„æ‰§è¡Œé€Ÿåº¦,ä½†å®ƒä¼šå¢åŠ æ–‡ä»¶å’Œå†…å­˜çš„æ¶ˆè€—é‡,è€Œä¸”å¯¹debugging,tracingå’Œasdisingæ”¯æŒä¸å¤Ÿå¥½,å› æ­¤é™¤éé€Ÿåº¦çœŸçš„å¾ˆé‡,å¦åˆ™ä¸è¦ç”¨å†…è”å‡½æ•°.</p>
<h3 id="å‡½æ•°å£°æ˜">å‡½æ•°å£°æ˜<a hidden class="anchor" aria-hidden="true" href="#å‡½æ•°å£°æ˜">#</a></h3>
<ul>
<li>(declare-function function file &amp;optional arglist fileonly)</li>
</ul>
<p>è¯¥å®å‘Šè¯‰ç¼–è¯‘å™¨,functionå‡½æ•°åœ¨æ–‡ä»¶fileä¸­å®šä¹‰,ä¸”å‚æ•°ç­¾åä¸ºarglist.</p>
<p>ç¼–è¯‘å™¨ä¼šæ£€æŸ¥æ–‡ä»¶fileä¸­æ˜¯å¦åŒ…å«äº†functionå‡½æ•°,ä¸”å‚æ•°ç­¾åæ˜¯å¦ä¸ºarglist,è‹¥æƒ³è®©ç¼–è¯‘å™¨ä¸æ£€æŸ¥å‡½æ•°çš„å‚æ•°ç­¾å,éœ€è¦å°†arglistè®¾ç½®ä¸ºt</p>
<p>è‹¥å‚æ•°fileonyä¸ºénil,è¡¨ç¤ºåªæ£€æŸ¥fileå­˜åœ¨,è€Œä¸æ£€æŸ¥æ–‡ä»¶ä¸­æ˜¯å¦å®šä¹‰äº†function.</p>
<h3 id="å‡½æ•°æè¿°å­—ç¬¦ä¸²--docstring">å‡½æ•°æè¿°å­—ç¬¦ä¸²(docstring)<a hidden class="anchor" aria-hidden="true" href="#å‡½æ•°æè¿°å­—ç¬¦ä¸²--docstring">#</a></h3>
<ul>
<li>ä¸€èˆ¬æ¥è¯´,å‡½æ•°æè¿°å­—ç¬¦ä¸²çš„ç¬¬ä¸€è¡Œä¸ºå¯¹è¯¥å‡½æ•°ä½œç”¨çš„æ€»ç»“.
<ul>
<li>docstringçš„ç¬¬ä¸€è¡Œæœ€å¥½ç‹¬ç«‹çš„,å› ä¸ºaproposå‘½ä»¤åªæ˜¾ç¤ºç¬¬ä¸€è¡Œçš„æ–‡æ¡£</li>
<li>docstringä¸­å‚æ•°æœ€å¥½ç”¨å¤§äº›å­—æ¯</li>
<li>docstringä»¥*å¼€å¤´çš„defvarå˜é‡è¢«è®¤ä¸ºæ˜¯ç”¨æˆ·é€‰é¡¹ï¼ˆuser optionï¼‰</li>
<li>ç”¨æˆ·é€‰é¡¹å¯ä»¥é€šè¿‡å‘½ä»¤set-variableäº¤äº’è®¾ç½®</li>
<li>å¯ä»¥ä½¿ç”¨edit-optionså‘½ä»¤ç¼–è¾‘*scratch*</li>
<li>`ç¬¦å·å&rsquo;ç”Ÿæˆä¸€ä¸ªé“¾æ¥</li>
<li>\\{major-mode-map}å¯ä»¥æ˜¾ç¤ºæ‰©å±•æˆæŒ‰é”®çš„è¯´æ˜</li>
<li>docstringæœ€åé‚£ä¸ªçš„\[ command ]ä¼šè¢«commandçš„ç»‘å®šé”®æ‰€ä»£æ›¿</li>
<li>å¦‚æœä¸æƒ³è¦è¿™ç§ä»£æ›¿ï¼Œéœ€è¦ç”¨\=è½¬ä¹‰ï¼Œå½“ç„¶ï¼Œåœ¨Emacsçš„docstringä¸­ï¼ŒçœŸæ­£çš„å†™æ³•åº”è¯¥æ˜¯
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp"><span style="color:#e6db74">&#34;\\=\\{major-mode-map}&#34;</span>
<span style="color:#e6db74">&#34;\\=\\[command]&#34;</span>
</code></pre></div></li>
</ul>
</li>
<li>å°†`\n(fn ARGLIST)`æ”¾åœ¨æœ€åä¸€è¡Œ,ä¼šè‡ªåŠ¨æ‰©å±•ä¸ºè¯¥å‡½æ•°çš„å®é™…å‚æ•°åˆ—è¡¨.</li>
</ul>
<h3 id="äº¤äº’æ¨¡å¼å£°æ˜">äº¤äº’æ¨¡å¼å£°æ˜<a hidden class="anchor" aria-hidden="true" href="#äº¤äº’æ¨¡å¼å£°æ˜">#</a></h3>
<p>è‹¥ä¸€ä¸ªå‡½æ•°å¸¦äº†äº¤äº’æ¨¡å¼å£°æ˜,åˆ™å®ƒä¹Ÿå°±æ˜¯ä¸€ä¸ªå‘½ä»¤äº†,å³å¯ä»¥é€šè¿‡M-x(execute-command)æ¥è°ƒç”¨äº†.</p>
<p>äº¤äº’æ¨¡å¼å£°æ˜çš„æ ¼å¼ä¸º(interactive code-string),å…¶ä¸­:</p>
<ul>
<li>
<p>è‹¥interactiveçš„å‚æ•°ä»¥*å¼€å¤´ï¼Œåˆ™æ„ä¹‰æ˜¯ï¼Œå¦‚æœå½“å‰bufferæ˜¯åªè¯»çš„ï¼Œåˆ™ä¸æ‰§è¡Œè¯¥å‡½æ•°</p>
</li>
<li>
<p>interactiveå¯ä»¥åæ¥å­—ç¬¦ä¸²,è¡¨ç¤ºè·å¾—å‚æ•°çš„æ–¹å¼</p>
</li>
<li>
<p>p æ¥æ”¶C-uçš„æ•°å­—å‚æ•°</p>
<p>ä¹Ÿå¯ä»¥ä¸ç”¨På‚æ•°,ç›´æ¥åœ¨ä»£ç ä¸­åˆ¤æ–­current-prefix-argçš„å€¼</p>
</li>
<li>
<p>r regionçš„å¼€å§‹/ç»“æŸä½ç½®</p>
</li>
<li>
<p>n æç¤ºç”¨æˆ·è¾“å…¥æ•°å­—å‚æ•°,nåé¢å¯ç”¨æ¥ç€æç¤ºç¬¦</p>
</li>
<li>
<p>s æç¤ºç”¨æˆ·è¾“å…¥å­—ç¬¦ä¸²å‚æ•°</p>
</li>
<li>
<p>è‹¥å‡½æ•°æ¥æ”¶å¤šä¸ªinput,éœ€è¦ç”¨\næ¥åˆ†éš”</p>
</li>
<li>
<p>interactiveå¯ä»¥åæ¥ä¸€ä¸ªform,formçš„æ±‚å€¼ç»“æœåº”è¯¥æ˜¯ä¸€ä¸ªlist,è¿™ä¸ªlistçš„å€¼ä½œä¸ºå‚æ•°çš„å®å‚</p>
</li>
</ul>
<p>åœ¨formä¸­ä¸€èˆ¬ä¼šç”¨åˆ°å¦‚ä¸‹å‡ ä¸ªå‡½æ•°ç”¨äºè·å–ç”¨æˆ·è¾“å…¥</p>
<ul>
<li>read-string</li>
<li>read-file-name</li>
<li>read-directory-name</li>
<li>read-regexp</li>
<li>y-or-n-p</li>
<li>read-from-minibuffer</li>
<li>ä½¿ç”¨å˜é‡`current-prefix-arg`æ¥åˆ¤æ–­æ˜¯å¦æœ‰universal-argument</li>
</ul>
<h3 id="declare-form">declare-form<a hidden class="anchor" aria-hidden="true" href="#declare-form">#</a></h3>
<p>ä½¿ç”¨`declare&rsquo;å®èƒ½å¤Ÿä¸ºå‡½æ•°æˆ–å®å¢åŠ å…ƒå±æ€§. å®ƒçš„è¯­æ³•ä¸º:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(declare specs...)
</code></pre></div><p>å…¶ä¸­specçš„æ ¼å¼ä¸º`(property args&hellip;)'. ç›®å‰æ”¯æŒä»¥ä¸‹å‡ ç§spec</p>
<ul>
<li>
<p>(advertised-calling-convention SIGNATURE WHEN)</p>
<p>è¯¥specçš„åŠŸèƒ½ç±»ä¼¼è°ƒç”¨`set-advertised-calling-convention&rsquo;å‡½æ•°</p>
<p>å…¶ä¸­,SIGNATUREä¸ºå‚æ•°åˆ—è¡¨,æŒ‡å®šäº†è°ƒç”¨å‡½æ•°æˆ–å®çš„æ­£ç¡®ç”¨æ³•. WHENä¸ºä¸€ä¸ªå­—ç¬¦ä¸²æŒ‡æ˜äº†ä»€ä¹ˆæ—¶å€™å¼€å§‹åºŸé™¤åŸå‡½æ•°ç”¨æ³•.</p>
</li>
<li>
<p>(debug edebug-form-spec)
è¯¥specåªå¯¹å®æœ‰æ•ˆ. å½“ä½¿ç”¨edebugè°ƒè¯•å®æ—¶,ä½¿ç”¨edebug-form-spec. å‚è§<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Instrumenting_002520Macro_002520Calls.html" title="Emacs Lisp: (info &quot;(elisp) Instrumenting%20Macro%20Calls&quot;)">Instrumenting Macro Calls</a></p>
</li>
<li>
<p>(doc-string n)
æŒ‡æ˜ç¬¬nä¸ªå‚æ•°ä¸ºdocumentation string</p>
</li>
<li>
<p>(indent indent-spec)
å¯¹å½“å‰å‡½æ•°æˆ–å®ç¼©è¿›æ—¶,æ ¹æ®indent-specæ¥ç¼©è¿›. è¯¥åŠŸèƒ½é€šå¸¸ç”¨åœ¨å®ä¸­,ä½†ä¹Ÿå¯¹å‡½æ•°ç”Ÿæ•ˆ. å‚è§<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Indenting_002520Macros.html" title="Emacs Lisp: (info &quot;(elisp) Indenting%20Macros&quot;)">Indenting Macros</a></p>
<p>indent-specå¯ä»¥æ˜¯:</p>
<ul>
<li>
<p>nil
ä½¿ç”¨æ ‡å‡†ç¼©è¿›æ¨¡å¼</p>
</li>
<li>
<p>defun
å°†è¯¥å®çœ‹æˆæ˜¯ä¸€ä¸ª`def&rsquo;ç»“æ„: è¿™ç§ç»“æ„ä¸­ä¼šå°†ç¬¬äºŒè¡Œçœ‹æˆæ˜¯bodyçš„èµ·å§‹è¡Œ</p>
</li>
<li>
<p>an integer,number
The firstnumberarguments of the function aredistinguishedarguments; the rest are considered the body of the expression.
A line in the expression is indented according to whether the first argument on it is distinguished or not.
If the argument is part of the body, the line is indented lisp-body-indent more columns than the open-parenthesis starting the containing expression.
If the argument is distinguished and is either the first or second argument, it is indented twice that many extra columns.
If the argument is distinguished and not the first or second argument, the line uses the standard pattern.</p>
</li>
<li>
<p>è¡¨ç¤ºå‡½æ•°åç§°çš„symbol
è¯¥å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°`pos&rsquo;å’Œ`state',å¹¶ä¸”åº”è¯¥è¿”å›ä¸€ä¸ªè¡¨ç¤ºåº”è¯¥ç¼©è¿›åˆ°å¤šå°‘åˆ—çš„æ•°å­—,æˆ–ä¸€ä¸ªcarè¡¨ç¤ºç¼©è¿›åˆ—çš„list. å…¶ä¸­</p>
<ul>
<li>
<p><strong>pos:</strong> å…‰æ ‡å½“å‰è¡Œç¼©è¿›çš„èµ·å§‹ä½ç½®(The position at which the line being indented begins.)</p>
</li>
<li>
<p><strong>state:</strong> å‡½æ•°`parse-partial-sexp&rsquo;è§£æä»å…‰æ ‡å½“å‰ä½ç½®åˆ°å½“å‰è¡Œè¡Œé¦–ä¹‹é—´å†…å®¹çš„è¿”å›ç»“æœ</p>
<p>The difference between returning a number and returning a list is that a number says that all following lines at the same nesting level should be indented just like this one; a list says that following lines might call for different indentations. This makes a difference when the indentation is being computed byC-M-q; if the value is a number, C-M-qneed not recalculate indentation for the following lines until the end of the list</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<!--listend-->
<ul>
<li>
<p>(obsolete current-name when)
è¯¥specåŠŸèƒ½ç±»ä¼¼è°ƒç”¨`make-obolete&rsquo;å‡½æ•°</p>
<p>current-nameä¸ºä¸€ä¸ªsymbol,æˆ–string,æˆ–nil</p>
<p>whenä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ç”¨æ¥æŒ‡å®šä»€ä¹ˆæ—¶å€™å¼€å§‹åºŸå¼ƒè¯¥å‡½æ•°/å®</p>
</li>
</ul>
<h3 id="åˆ¤æ–­functionæ˜¯å¦å®‰å…¨">åˆ¤æ–­functionæ˜¯å¦å®‰å…¨<a hidden class="anchor" aria-hidden="true" href="#åˆ¤æ–­functionæ˜¯å¦å®‰å…¨">#</a></h3>
<p>ä½¿ç”¨unsafepæ¥åˆ¤æ–­ä¸€ä¸ªformæ˜¯å¦æ˜¯å®‰å…¨çš„</p>
<ul>
<li>(unsafep form &amp;optional unsafep-vars)</li>
</ul>
<p>è‹¥åˆ¤æ–­formä¸ºå®‰å…¨çš„å¯ä»¥æ‰§è¡Œ,åˆ™è¿”å›nil. å¦åˆ™è¿”å›ä¸€ä¸ªlistæè¿°ä¸ºä»€ä¹ˆformæ˜¯ä¸å®‰å…¨çš„.</p>
<p>The argument UNSAFEP-VARS is a list of symbols known to have temporary bindings at this point;</p>
<p>The current buffer is an implicit argument, which provides a list of buffer-local bindings.</p>
<h2 id="advising-emacs-lisp-functions">Advising Emacs Lisp Functions<a hidden class="anchor" aria-hidden="true" href="#advising-emacs-lisp-functions">#</a></h2>
<p>Emacs&rsquo;s advice system provides two sets of primitives for that:
the core set, for function values held in variables and object fields (with the corresponding primitives being `add-function' and `remove-function') and
another set layered on top of it for named functions (with the main primitives being `advice-add' and `advice-remove').</p>
<h3 id="core-advising-primitives">Core Advising Primitives<a hidden class="anchor" aria-hidden="true" href="#core-advising-primitives">#</a></h3>
<ul>
<li>(add-function where function-place advise-function &amp;optional props)</li>
</ul>
<p>ä¸ºå­˜å‚¨functionçš„place(æ³›åŒ–å˜é‡)åŠ ä¸Šadvise-function,ä½¿ä¹‹ç§°ä¸ºä¸€ä¸ªç»„åˆäº†åŸå§‹å‡½æ•°å’Œadviseå‡½æ•°çš„ç»„åˆå‡½æ•°.</p>
<ul>
<li>
<p>whereå‚æ•°æŒ‡æ˜äº†advise-functionä¸function-placeå¤„å‡½æ•°çš„æ•´åˆæ–¹å¼.</p>
</li>
<li>
<p>:before</p>
</li>
</ul>
<p>åœ¨è°ƒç”¨åŸfunction(function-placeæ‰€å­˜æ”¾çš„function)å‰è°ƒç”¨advise-function.</p>
<p>åŸfunctionä¸advise-functionæ¥æ”¶åŒæ ·çš„å‚æ•°è°ƒç”¨,å¹¶ä»¥åŸfunctionçš„è¿”å›ç»“æœä¸ºç»„åˆå‡½æ•°çš„è¿”å›ç»“æœ</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(add-function :before <span style="color:#e6db74">&#39;old-function</span> <span style="color:#e6db74">&#39;advise-function</span>)
<span style="color:#75715e">;; ç­‰ä»·äº</span>
(lambda (r) (advise-function r) (old-function r))
</code></pre></div><ul>
<li>:after</li>
</ul>
<p>åœ¨åŸfunctionè°ƒç”¨ä¹‹åè°ƒç”¨advise-function.</p>
<p>åŸfunctionä¸advise-functionæ¥æ”¶åŒæ ·çš„å‚æ•°è°ƒç”¨,å¹¶ä»¥åŸfunctionçš„è¿”å›ç»“æœä¸ºç»„åˆå‡½æ•°çš„è¿”å›ç»“æœ</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(add-function :after <span style="color:#e6db74">&#39;old-function</span> <span style="color:#e6db74">&#39;advise-function</span>)
<span style="color:#75715e">;; ç­‰ä»·äº</span>
(lambda (r) (prog1(advise-function r) (old-function r)))
</code></pre></div><ul>
<li>:override</li>
</ul>
<p>ç”¨advise-functionä»£æ›¿åŸfunction</p>
<ul>
<li>:around</li>
</ul>
<p>ä½¿ç”¨advise-functionä»£æ›¿åŸfunction,ä½†åŸfunctionä¼šä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’çµ¦advise-function. è¿™æ ·advise-functionå†…å¯ä»¥è°ƒç”¨åŸå‡½æ•°.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(add-function :around <span style="color:#e6db74">&#39;old-function</span> <span style="color:#e6db74">&#39;advise-function</span>)
<span style="color:#75715e">;; ç­‰ä»·äº</span>
(lambda (r) (<span style="color:#a6e22e">apply</span> <span style="color:#e6db74">&#39;advise-function</span> <span style="color:#e6db74">&#39;old-function</span> r))
</code></pre></div><ul>
<li>:before-while</li>
</ul>
<p>å…ˆæ‰§è¡Œadvise-function,è‹¥advise-functionè¿”å›nil,åˆ™ä¸å†è°ƒç”¨åŸfunction.</p>
<p>advise-functionä¸åŸfunctionå…¬ç”¨ä¸€æ ·çš„å‚æ•°,ä½¿ç”¨åŸfunctionçš„ç»“æœä½œä¸ºç»„åˆå‡½æ•°çš„è¿”å›å€¼</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(add-function :before-while <span style="color:#e6db74">&#39;old-function</span> <span style="color:#e6db74">&#39;advise-function</span>)
<span style="color:#75715e">;; ç­‰ä»·äº</span>
(lambda (r) (and (<span style="color:#a6e22e">apply</span> <span style="color:#e6db74">&#39;old-function</span> r) (appy <span style="color:#e6db74">&#39;advise-function</span> r)))
</code></pre></div><ul>
<li>:before-until</li>
</ul>
<p>å…ˆæ‰§è¡Œadvise-function, åªæœ‰å½“advise-functionè¿”å›nil,æ‰è°ƒç”¨åŸfunction.</p>
<p>advise-functionä¸åŸfunctionå…±ç”¨ä¸€æ ·çš„å‚æ•°,ä½¿ç”¨åŸfunctionçš„ç»“æœä½œä¸ºç»„åˆå‡½æ•°çš„è¿”å›å€¼</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(add-function :before-while <span style="color:#e6db74">&#39;old-function</span> <span style="color:#e6db74">&#39;advise-function</span>)
<span style="color:#75715e">;; ç­‰ä»·äº</span>
(lambda (r) (or (<span style="color:#a6e22e">apply</span> <span style="color:#e6db74">&#39;old-function</span> r) (appy <span style="color:#e6db74">&#39;advise-function</span> r)))
</code></pre></div><ul>
<li>:after-while</li>
</ul>
<p>å…ˆè°ƒç”¨åŸfunction,è‹¥functionè¿”å›nil,åˆ™ä¸è°ƒç”¨advise-function.</p>
<p>åŸfunctionå’Œadvise-functionå…±ç”¨åŒæ ·çš„å‚æ•°. ç»„åˆå‡½æ•°çš„è¿”å›ç»“æœä¸º <strong>advise-function</strong> çš„è¿”å›ç»“æœ</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(add-function :after-while <span style="color:#e6db74">&#39;old-function</span> <span style="color:#e6db74">&#39;advise-function</span>)
<span style="color:#75715e">;; ç­‰ä»·äº</span>
(lambda (rest r) (and (<span style="color:#a6e22e">apply</span> <span style="color:#e6db74">&#39;old-function</span> r) (<span style="color:#a6e22e">apply</span> advise-function r)))
</code></pre></div><ul>
<li>:after-until</li>
</ul>
<p>å…ˆè°ƒç”¨åŸfunction,åªæœ‰å½“functionè¿”å›nilæ—¶,æ‰è°ƒç”¨advise-function.</p>
<p>åŸfunctionå’Œadvise-functionå…±ç”¨åŒæ ·çš„å‚æ•°. ç»„åˆå‡½æ•°çš„è¿”å›ç»“æœä¸º <strong>advise-function</strong> çš„è¿”å›ç»“æœ</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(add-function :after-while <span style="color:#e6db74">&#39;old-function</span> <span style="color:#e6db74">&#39;advise-function</span>)
<span style="color:#75715e">;; ç­‰ä»·äº</span>
(lambda (rest r) (or (<span style="color:#a6e22e">apply</span> <span style="color:#e6db74">&#39;old-function</span> r) (<span style="color:#a6e22e">apply</span> advise-function r)))
</code></pre></div><ul>
<li>:filter-args</li>
</ul>
<p>å…ˆç”¨åŸå§‹å‚æ•°è°ƒç”¨advise-function,å†å°†advise-functionè¿”å›çš„ç»“æœ(advise-functionå¿…é¡»è¿”å›ä¸€ä¸ªlist)ä½œä¸ºå‚æ•°,æ¥è°ƒç”¨åŸfunction.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(add-function :filter-args <span style="color:#e6db74">&#39;old-function</span> <span style="color:#e6db74">&#39;advise-function</span>)
<span style="color:#75715e">;; ç­‰ä»·äº</span>
(lambda (reset&amp; r) (<span style="color:#a6e22e">apply</span> <span style="color:#e6db74">&#39;old-function</span> (<span style="color:#a6e22e">funcall</span> <span style="color:#e6db74">&#39;advise-function</span> r)))
</code></pre></div><ul>
<li>:filter-return</li>
</ul>
<p>å…ˆè°ƒç”¨old-function,å°†ç»“æœä½œä¸ºå‚æ•°è°ƒç”¨advise-function.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(add-function :filter-return <span style="color:#e6db74">&#39;old-function</span> <span style="color:#e6db74">&#39;advise-function</span>)
<span style="color:#75715e">;; ç­‰ä»·äº</span>
(lambda(rest&amp; r) (<span style="color:#a6e22e">funcall</span> <span style="color:#e6db74">&#39;advise-function</span> (<span style="color:#a6e22e">apply</span> <span style="color:#e6db74">&#39;old-function</span> r)))
</code></pre></div><ul>
<li>
<p>function-placeä¸ºè¢«æ·»åŠ advise-functionçš„å‡½æ•°ä½ç½®. å®ƒåŒæ—¶ä¹Ÿå†³å®šäº†è¯¥adviseæ˜¯å…¨å±€éƒ½æœ‰ç”¨,è¿˜æ˜¯åªåœ¨å½“å‰bufferç”Ÿæ•ˆ.</p>
<p>è‹¥function-placeæ˜¯ä¸€ä¸ªsymbol,åˆ™è¯¥adviseå…¨å±€ç”Ÿæ•ˆ</p>
<p>è‹¥function-placeä¸º'(local SYMBOL-expression),è¿™é‡ŒSYMBOL-experssionè¡¨ç¤ºä¸€ä¸ªexpression,å®ƒçš„è®¡ç®—ç»“æœä¸ºä¸€ä¸ªè¡¨ç¤ºå˜é‡çš„symbol. åˆ™è¯¥adviseåªåœ¨å½“å‰bufferç”Ÿæ•ˆ</p>
<p>è‹¥è¦å¯¹é™æ€ä½œç”¨åŸŸä¸‹çš„å˜é‡æå‡ºadvise,åˆ™function-placeçš„æ ¼å¼åº”ä¸º(var VARIABLE)</p>
<ul>
<li>propså‚æ•°ä¸ºä¸€ä¸ªä»£è¡¨å±æ€§çš„alist,ç›®å‰åªæ”¯æŒä¸¤ä¸ªå±æ€§:</li>
</ul>
<p>nameå±æ€§,è¡¨ç¤ºè¯¥adviceçš„åå­—,å½“remove-functionæ—¶æœ‰ç”¨. å°¤å…¶æ˜¯å½“advise-functionä¸ºåŒ¿åå‡½æ•°æ—¶,ç‰¹åˆ«æœ‰ç”¨.</p>
<p>depthå±æ€§,è¡¨ç¤ºä¼˜å…ˆçº§,ç”¨äºå†³å®šå¤šä¸ªadvise-functionçš„æ‰§è¡Œé¡ºåº.
ä»–çš„å–å€¼èŒƒå›´ä»-100(è¡¨ç¤ºæœ€æ¥è¿‘åŸå§‹å‡½æ•°çš„æ‰§è¡Œé¡ºåº)åˆ°100(è¡¨ç¤ºé‡ŒåŸå§‹å‡½æ•°çš„æ‰§è¡Œé¡ºåºæœ€è¿œ). é»˜è®¤ä¸º0
å½“ä¸¤ä¸ªadvise-functionç”¨äº†åŒä¸€ä¸ªä¼˜å…ˆçº§,åˆ™æœ€åæ·»åŠ çš„advise-functionä¼šè¦†ç›–å‰é¢çš„.</p>
<ul>
<li>advise-functionå‚æ•°</li>
</ul>
<p>è‹¥advise-functionæ²¡æœ‰interactiveå£°æ˜,åˆ™adviseåçš„ç»„åˆå‡½æ•°ä¼šç»§æ‰¿åŸå§‹å‡½æ•°çš„interactiveå£°æ˜.</p>
<p>è‹¥advise-functionæœ‰interactiveå£°æ˜,åˆ™adviseåçš„ç»„åˆå‡½æ•°ä½¿ç”¨advise-functionçš„interactiveå£°æ˜.</p>
<p>ä¸Šè¿°å…³äºadvisedåçš„ç»„åˆå‡½æ•°çš„interactiveå£°æ˜,åœ¨æŸä¸€ç§æƒ…å†µä¸‹ä¸æˆç«‹:
if the interactive spec of FUNCTION is a function (rather than an expression or a string), then the interactive spec of the combined function will be a call to that function with as sole argument the interactive spec of the original function.  To interpret the spec received as argument, use `advice-eval-interactive-spec'.</p>
</li>
<li>
<p>(remove-function function-place advise-function)</p>
</li>
</ul>
<p>åˆ é™¤é€šè¿‡add-functionæ·»åŠ åˆ°function-placeçš„advise-function</p>
<ul>
<li>(advice-function-member-p advice-function function-def)</li>
</ul>
<p>åˆ¤æ–­advice-functionæ˜¯å¦å·²ç»function-defçš„advice</p>
<ul>
<li>(advice-function-mapc f function-def)</li>
</ul>
<p>ç”¨æ·»åŠ åˆ°function-defçš„æ¯ä¸ªadvicse-functionå’Œå¯¹åº”çš„proposä½œä¸ºå‚æ•°,éƒ½è°ƒç”¨ä¸€æ¬¡få‡½æ•°.</p>
<ul>
<li>(advice-eval-interactive-spec interactive-spec)</li>
</ul>
<p>æ ¹æ®interactive-specæ‰€å£°æ˜çš„interactiveæ–¹å¼,è¿”å›å¯¹åº”çš„è·å–å€¼.</p>
<h3 id="advising-named-functions">Advising Named Functions<a hidden class="anchor" aria-hidden="true" href="#advising-named-functions">#</a></h3>
<p>adviceçš„æœ€å¸¸ç”¨æ³•æ˜¯çµ¦å‘½åå‡½æ•°æˆ–å®æ·»åŠ advice</p>
<p>è¿™ç§æ–¹æ³•ä¼šå¼•å…¥ä¸€äº›é—®é¢˜,æœ€å¥½åœ¨æ²¡æœ‰åŠæ³•çš„æ—¶å€™,ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•æ·»åŠ advice</p>
<ul>
<li>
<p>(advice-add function-symbol where advice-function &amp;optional props)</p>
<p>ä¸ºfunction-symbolæ·»åŠ åä¸ºadvice-functionçš„advice. whereå’Œpropså‚æ•°ä¸add-functionä¸€è‡´</p>
</li>
<li>
<p>(advice-remove function-symbol advise-function)</p>
</li>
</ul>
<p>åˆ é™¤function-symbolä¸Šçš„advise-function</p>
<ul>
<li>(advice-member-p advise-function function-symbol)</li>
</ul>
<p>åˆ¤æ–­advise-functionæ˜¯å¦å·²ç»æ˜¯function-symbolçš„adviceäº†</p>
<ul>
<li>(advice-mapc f function-symbol)</li>
</ul>
<p>ä½¿ç”¨function-symbolä¸­çš„æ¯ä¸ªadvise-functionåŠå…¶å¯¹åº”çš„propsä½œä¸ºå‚æ•°,ç”¨fæ¥è°ƒç”¨.</p>
<h2 id="å®">å®<a hidden class="anchor" aria-hidden="true" href="#å®">#</a></h2>
<h3 id="å®ä¸å‡½æ•°çš„ä¸åŒ">å®ä¸å‡½æ•°çš„ä¸åŒ<a hidden class="anchor" aria-hidden="true" href="#å®ä¸å‡½æ•°çš„ä¸åŒ">#</a></h3>
<ul>
<li>å®çš„å‚æ•°åœ¨ä¼ é€’çµ¦å®å‰å¹¶ä¸ä¼šä½œè®¡ç®—å¤„ç†,ä¹Ÿå°±æ˜¯è¯´å®çœ‹åˆ°çš„æ˜¯ä¼ é€’ç»™å®ƒçš„åŸå§‹å‚æ•°. è€Œå‡½æ•°å‚æ•°ä¼ é€’çµ¦å‡½æ•°æ—¶æ˜¯å·²ç»ç»è¿‡è®¡ç®—çš„ç»“æœ,ä¹Ÿå°±æ˜¯è¯´å‡½æ•°çœ‹åˆ°çš„æ˜¯å‚æ•°çš„è®¡ç®—ç»“æœ.</li>
<li>å®çš„è®¡ç®—ç»“æœéœ€è¦æ˜¯ä¸€ä¸ªSè¡¨è¾¾å¼(è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸ºå®æ‰©å±•),Elispä¼šå†è®¡ç®—è¿™ä¸ªè¿”å›çš„Sè¡¨è¾¾å¼ä»¥ç®—å‡ºæœ€ç»ˆç»“æœ.</li>
</ul>
<h3 id="å®šä¹‰å®">å®šä¹‰å®<a hidden class="anchor" aria-hidden="true" href="#å®šä¹‰å®">#</a></h3>
<p>å®šä¹‰å®çš„æ ¼å¼ä¸å®šä¹‰å‡½æ•°çš„æ ¼å¼ä¸€æ ·,åªæ˜¯ç”¨defmacroæ›¿ä»£defun</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">(defmacro macro-name (å‚æ•°åˆ—è¡¨...)
        [å‡½æ•°æè¿°å­—ç¬¦ä¸²]
        [declare-form]
        [äº¤äº’æ¨¡å¼å£°æ˜]
        å‡½æ•°ä½“...)
</code></pre></div><p>destructuring-bindå®æ¥å—ä¸€ä¸ªåŒ¹é…æ¨¡å¼,ä¸€ä¸ªæ±‚å€¼åˆ°åˆ—è¡¨çš„å®å‚,ä»¥åŠä¸€ä¸ªè¡¨è¾¾å¼ä½“ï¼Œç„¶ååœ¨æ±‚å€¼è¡¨è¾¾å¼æ—¶å°†æ¨¡å¼ä¸­çš„å‚æ•°ç»‘å®šåˆ°åˆ—è¡¨çš„å¯¹åº”å…ƒç´ ä¸Š.ä¾‹å¦‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(destructuring-bind (x (y) <span style="color:#f92672">.</span> z) <span style="color:#f92672">&#39;</span>(a (b) c d)
  (<span style="color:#a6e22e">list</span> x y z))
</code></pre></div><p>(a b (c d))</p>
<p>defmacroå®å…è®¸ä»»æ„åˆ—è¡¨ç»“æ„ä½œä¸ºå‚æ•°åˆ—è¡¨.å½“å®è°ƒç”¨è¢«å±•å¼€æ—¶,å®è°ƒç”¨ä¸­çš„å„éƒ¨åˆ†å°†ä¼šä»¥ç±»ä¼¼destructuring-bindçš„æ–¹å¼è¢«èµ‹å€¼åˆ°å®çš„å‚æ•°ä¸Šé¢
ä¾‹å¦‚,å¯ä»¥è¿™æ ·å®šä¹‰dolistå®</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defmacro our-dolist ((var <span style="color:#a6e22e">list</span> <span style="color:#66d9ef">&amp;optional</span> result) <span style="color:#66d9ef">&amp;body</span> body)
  <span style="color:#f92672">`</span>(progn
      (<span style="color:#a6e22e">mapc</span> <span style="color:#a6e22e">#&#39;</span>(lambda (<span style="color:#f92672">,</span>var) <span style="color:#f92672">,@</span>body)
               <span style="color:#f92672">,</span><span style="color:#a6e22e">list</span>)
      (let ((<span style="color:#f92672">,</span>var <span style="color:#66d9ef">nil</span>))
        <span style="color:#f92672">,</span>result)))
</code></pre></div><h3 id="å®æ‰©å±•">å®æ‰©å±•<a hidden class="anchor" aria-hidden="true" href="#å®æ‰©å±•">#</a></h3>
<p>è°ƒç”¨å®ä¼šå°†ä¼ é€’çµ¦å®çš„å‚æ•°æ‰©å±•æˆä¸€ä¸ªSè¡¨è¾¾å¼,è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºå®æ‰©å±•è¿‡ç¨‹.</p>
<ul>
<li>
<p>(macroexpand macro-form &amp;optional environment)</p>
<p>é€’å½’æ‰©å±•macro-formç›´åˆ°ç»“æœä¸­ä¸å†ä¸ºå®è°ƒç”¨ä¸ºæ­¢(ä¸ä»£è¡¨ç»“æœä¸­å°±ä¸åŒ…å«å®äº†,åªæ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ä¸ºå®è€Œå·²). ç„¶åè¿”å›æ‰©å±•ç»“æœ.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defmacro inc (var)
  (<span style="color:#a6e22e">list</span> <span style="color:#e6db74">&#39;setq</span> var (<span style="color:#a6e22e">list</span> <span style="color:#e6db74">&#39;1+</span> var)))

(<span style="color:#a6e22e">macroexpand</span> <span style="color:#f92672">&#39;</span>(inc r))                  <span style="color:#75715e">; =&gt; (setq r (1+ r))</span>

(defmacro inc2 (var1 var2)
  (<span style="color:#a6e22e">list</span> <span style="color:#e6db74">&#39;progn</span> (<span style="color:#a6e22e">list</span> <span style="color:#e6db74">&#39;inc</span> var1) (<span style="color:#a6e22e">list</span> <span style="color:#e6db74">&#39;inc</span> var2)))

(<span style="color:#a6e22e">macroexpand</span> <span style="color:#f92672">&#39;</span>(inc2 r s))               <span style="color:#75715e">; =&gt; (progn (inc r) (inc s))  ; `inc&#39;å¹¶æ²¡æœ‰æ‰©å±•</span>
</code></pre></div><p>environmentå‚æ•°ä¸ºä¸€ä¸ªåŒ…å«å®å®šä¹‰çš„alist. macroexpandåœ¨æ‰©å±•å®æ—¶ä¼šä½¿ç”¨environmentä¸­çš„å®å®šä¹‰æ›¿ä»£å½“å‰ç¯å¢ƒä¸‹çš„å®å®šä¹‰.</p>
</li>
<li>
<p>(macroexpand-all macro-form &amp;optional environment)</p>
<p>ç±»ä¼¼macroexpand,ä½†ä¼šé€’å½’æ‰©å±•ç›´åˆ°ç»“æœä¸­ä¸å†åŒ…å«å®ä¸ºæ­¢.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defmacro inc (var)
  (<span style="color:#a6e22e">list</span> <span style="color:#e6db74">&#39;setq</span> var (<span style="color:#a6e22e">list</span> <span style="color:#e6db74">&#39;1+</span> var)))

(<span style="color:#a6e22e">macroexpand</span> <span style="color:#f92672">&#39;</span>(inc r))                  <span style="color:#75715e">; =&gt; (setq r (1+ r))</span>

(defmacro inc2 (var1 var2)
  (<span style="color:#a6e22e">list</span> <span style="color:#e6db74">&#39;progn</span> (<span style="color:#a6e22e">list</span> <span style="color:#e6db74">&#39;inc</span> var1) (<span style="color:#a6e22e">list</span> <span style="color:#e6db74">&#39;inc</span> var2)))

(macroexpand-all <span style="color:#f92672">&#39;</span>(inc r s))           <span style="color:#75715e">; =&gt; (progn (setq r (1+ r)) (setq s (1+ s))) incä¹Ÿæ‰©å±•äº†</span>
</code></pre></div></li>
</ul>
<p>å½“å¯¹ç¨‹åºè¿›è¡Œç¼–è¯‘æ—¶,ç¼–è¯‘å™¨åœ¨é‡åˆ°å®è°ƒç”¨æ—¶,ä¼šå¯¹å®è¿›è¡Œæ‰©å±•,å› æ­¤:</p>
<ul>
<li>
<p>è¦æ³¨æ„åˆ†æ¸…å“ªäº›æ“ä½œåº”è¯¥æ”¾åœ¨å®æ‰©å±•çš„è¿‡ç¨‹ä¸­å®Œæˆ,å“ªäº›æ“ä½œæ”¾åœ¨å®æ‰©å±•åçš„ç»“æœä¸­è¿›è¡Œ. ä¾‹å¦‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defmacro my-set-buffer-multibyte (arg)
  (if (<span style="color:#a6e22e">fboundp</span> <span style="color:#e6db74">&#39;set-buffer-multibyte</span>)
      (<span style="color:#a6e22e">set-buffer-multibyte</span> arg)))      <span style="color:#75715e">;åœ¨ç¼–è¯‘æœŸæ‰§è¡Œè¯¥æ“ä½œå…¶å®æ˜¯æ²¡æœ‰æ„ä¹‰çš„,åº”è¯¥æ”¹ä¸º`(set-buffer-multibyte ,arg)</span>
</code></pre></div></li>
<li>
<p>ä¸è¦åœ¨å®ä¸­å¯¹å®å‚æ•°è¿›è¡Œevalæ“ä½œ. å› ä¸ºè¿™æ—¶å€™å®å‚æ•°è¿˜å¹¶æœªç»‘å®šä»»ä½•å®é™…å‚æ•°.</p>
</li>
<li>
<p>ç”±äºç¼–è¯‘å™¨åªå¯¹å®è¿›è¡Œä¸€æ¬¡æ‰©å±•,åœ¨å…¶ä»–ä½¿ç”¨å®çš„åœ°æ–¹ä¸å†è¿›è¡Œæ‰©å±•åŠ¨ä½œ,è€Œåœ¨è§£é‡Šæ‰§è¡Œæ—¶ä¼šåœ¨æ¯æ¬¡å®è°ƒç”¨æ—¶éƒ½å¯¹å®è¿›è¡Œæ‰©å±•. å› æ­¤å®æ‰©å±•çš„è¿‡ç¨‹,ä¸èƒ½äº§ç”Ÿå‰¯ä½œç”¨,å¦åˆ™å°±ä¼šå‘ç”Ÿç¼–è¯‘å’Œè§£é‡Šæ‰§è¡Œç»“æœä¸ä¸€è‡´çš„æƒ…å†µ. ä¾‹å¦‚:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defmacro empty-object ()
  (<span style="color:#a6e22e">list</span> <span style="color:#e6db74">&#39;quote</span> (<span style="color:#a6e22e">cons</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">nil</span>)))

<span style="color:#75715e">;; ä¸Šé¢çš„å®åœ¨è§£é‡Šæ‰§è¡Œæ—¶,æ¯æ¬¡éƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„(nil).</span>
<span style="color:#75715e">;; ä½†åœ¨ç¼–è¯‘æ‰§è¡Œæ—¶,ä¼šåœ¨ç¼–è¯‘å™¨ç”Ÿæˆä¸€ä¸ª(nil),ç„¶åæ¯æ¬¡éƒ½ä½¿ç”¨å®ƒ</span>
</code></pre></div></li>
<li>
<p>å¦‚æœæˆ‘ä»¬åœ¨ä¸»è°ƒå‡½æ•°ç¼–è¯‘ä»¥åï¼Œé‡å®šä¹‰é‚£ä¸ªå®. ç”±äºå¯¹æœ€åˆçš„å®è°ƒç”¨çš„æ— è¿¹å¯å¯»ï¼Œæ‰€ä»¥å‡½æ•°é‡Œçš„å±•å¼€å¼æ— æ³•æ›´æ–°ã€‚è¯¥å‡½æ•°çš„è¡Œä¸ºå°†ç»§ç»­åæ˜ å‡ºå®çš„åŸæ¥çš„å®šä¹‰</p>
<p>æ­¤å¤–,å¦‚æœåœ¨å®šä¹‰å®ä¹‹å‰ï¼Œå°±å·²ç»ç¼–è¯‘äº†å®çš„è°ƒç”¨ä»£ç ï¼Œä¹Ÿä¼šå‘ç”Ÿç±»ä¼¼çš„é—®é¢˜.</p>
<p>ä¸ºäº†é¿å…è¿™ç±»é—®é¢˜,æˆ‘ä»¬éœ€è¦</p>
<ol>
<li>
<p>åœ¨è°ƒç”¨å®ä¹‹å‰ï¼Œå…ˆå®šä¹‰å®ƒã€‚</p>
</li>
<li>
<p>ä¸€æ—¦é‡å®šä¹‰ä¸€ä¸ªå®ï¼Œå°±é‡æ–°ç¼–è¯‘æ‰€æœ‰ç›´æ¥(æˆ–é€šè¿‡å®é—´æ¥)è°ƒç”¨å®ƒçš„å‡½æ•°(æˆ–å®)ã€‚</p>
</li>
</ol>
</li>
</ul>
<h3 id="å®çš„å·¥ä½œæ¨¡å¼">å®çš„å·¥ä½œæ¨¡å¼<a hidden class="anchor" aria-hidden="true" href="#å®çš„å·¥ä½œæ¨¡å¼">#</a></h3>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå®çš„æ¨¡æ‹Ÿå®ç°</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defmacro our-expander (name) <span style="color:#f92672">`</span>(<span style="color:#a6e22e">get</span> <span style="color:#f92672">,</span>name <span style="color:#e6db74">&#39;expander</span>))
(defmacro our-defmacro (name parms <span style="color:#66d9ef">&amp;body</span> body)
  (let ((g (gensym)))
    <span style="color:#f92672">`</span>(progn
        (setf (our-expander <span style="color:#e6db74">&#39;,name</span>)
              <span style="color:#a6e22e">#&#39;</span>(lambda (<span style="color:#f92672">,</span>g)
                   (block <span style="color:#f92672">,</span>name
                     (destructuring-bind <span style="color:#f92672">,</span>parms (<span style="color:#a6e22e">cdr</span> <span style="color:#f92672">,</span>g)
                       <span style="color:#f92672">,@</span>body))))
        <span style="color:#e6db74">&#39;,name</span>)))
(defun our-macroexpand-1 (expr)
  (if (and (<span style="color:#a6e22e">consp</span> expr) (our-expander (<span style="color:#a6e22e">car</span> expr)))
      (<span style="color:#a6e22e">funcall</span> (our-expander (<span style="color:#a6e22e">car</span> expr)) expr)
    expr))
</code></pre></div><h2 id="è°ƒè¯•elispç¨‹åº">è°ƒè¯•ELispç¨‹åº<a hidden class="anchor" aria-hidden="true" href="#è°ƒè¯•elispç¨‹åº">#</a></h2>
<p>æœ‰ä»¥ä¸‹å‡ ç§è°ƒè¯•Elispç¨‹åºçš„æ–¹æ³•</p>
<ul>
<li>è‹¥è¿è¡Œç¨‹åºæ—¶æŠ›å‡ºå¼‚å¸¸,å¯ä»¥ä½¿ç”¨Emacså†…ç½®çš„debuggeræˆ–edebug</li>
<li>é€šè¿‡æŸ¥çœ‹ç¼–è¯‘å™¨å®šä½é—®é¢˜.</li>
<li>ä½¿ç”¨ERTåŒ…æ¥å†™å›å½’æµ‹è¯•</li>
<li>ä½¿ç”¨profileæ¥å®šä¹‰æ€§èƒ½å…³æ³¨ç‚¹</li>
</ul>
<h3 id="debugger">debugger<a hidden class="anchor" aria-hidden="true" href="#debugger">#</a></h3>
<h4 id="é…ç½®ä½•æ—¶è¿›å…¥debugger">é…ç½®ä½•æ—¶è¿›å…¥debugger<a hidden class="anchor" aria-hidden="true" href="#é…ç½®ä½•æ—¶è¿›å…¥debugger">#</a></h4>
<p>å½“Elispç¨‹åºè¿è¡Œæ—¶,è‹¥å‘ç”Ÿerror,åˆ™æ ¹æ®é…ç½®é¡¹`debug-on-error`å†³å®šæ˜¯å¦è¿›å…¥debugger.</p>
<ul>
<li>é…ç½®é¡¹debug-on-error</li>
</ul>
<p>è‹¥å€¼ä¸ºt,åˆ™ä»»ä½•ç§ç±»çš„erroréƒ½ä¼šè¿›å…¥debugger.</p>
<p>è‹¥å€¼ä¸ºnil,åˆ™ä»»ä½•ç§ç±»çš„erroréƒ½ä¸ä¼šè¿›å…¥debugger</p>
<p>è‹¥å€¼ä¸ºerror conditonçš„åˆ—è¡¨,åˆ™åªæœ‰æŒ‡å®šç§ç±»çš„errorä¼šè¿›å…¥debugger</p>
<ul>
<li>é…ç½®é¡¹debug-ignored-errors</li>
</ul>
<p>è¯¥å˜é‡åœ¨debug-on-errorçš„åŸºç¡€ä¸Š,å±è”½æŒ‡å®šç§ç±»çš„errorä¸è§¦å‘debugger.</p>
<p>è¯¥å˜é‡çš„å€¼ä¸ºä¸€ä¸ªç”±error conditionå’Œæ­£åˆ™è¡¨è¾¾å¼ç»„æˆçš„list. ä»»ä½•ç¬¦åˆerror condtionçš„error,å’Œerror messageåŒ¹é…æŒ‡å®šæ­£åˆ™è¡¨è¾¾å¼çš„error,éƒ½ä¸ä¼šè§¦å‘debugger</p>
<ul>
<li>é…ç½®é¡¹eval-expression-debug-on-error</li>
</ul>
<p>è¯¥é…ç½®é¡¹çš„å€¼ä¸ºtæ—¶,ä½¿ç”¨eval-expressionå‘½ä»¤æ—¶,ä¼šå°†debug-on-errorçš„å€¼ä¸´æ—¶æ”¹ä¸ºt.</p>
<p>è‹¥è¯¥é…ç½®é¡¹ä¸ºnil,åˆ™ä¸ä¼šä¿®æ”¹debug-on-errorçš„å€¼.</p>
<ul>
<li>å˜é‡debug-on-signal</li>
</ul>
<p>é»˜è®¤æƒ…å†µä¸‹,è‹¥errorè¢«condition-caseæ‰€æ•è·,åˆ™ä¸ä¼šè¿›å…¥debugger,ä½†è‹¥è¯¥å˜é‡ä¸ºénil,åˆ™ä¼šå…ˆè¿›å…¥debugger,å†è¢«condition-caseæ‰€æ•è·.</p>
<p>å½“ç„¶,æ˜¯å¦è¿›å…¥debugger,è¿˜è¦çœ‹debug-on-errorå’Œdebug-ignored-errorsçš„å€¼</p>
<p>ä¸€èˆ¬ä¸ä¼šä½¿ç”¨è¯¥å˜é‡,è€Œä½¿ç”¨condition-case-unless-debugä»£æ›¿.</p>
<ul>
<li>debug-on-event</li>
</ul>
<p>å½“Emacsæ•è·åˆ°æŒ‡å®ševentå‘ç”Ÿæ—¶,è¿›å…¥debugger</p>
<ul>
<li>debug-on-message</li>
</ul>
<p>è¯¥å˜é‡ä¸ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼,å½“åœ¨echo areaæ˜¾ç¤ºäº†ç¬¦åˆè¯¥æ­£åˆ™çš„messageæ—¶,è¿›å…¥debugger.</p>
<p>è¯¥å˜é‡å¸¸ç”¨äºå¯»æ‰¾å¼•èµ·ç‰¹å®šmessageçš„åŸå› .</p>
<ul>
<li>
<p>é…ç½®é¡¹debug-on-quit</p>
<p>å½“æŒ‰ä¸‹C-gæ—¶,ä¼šäº§ç”Ÿä¸€ä¸ªquit,quitå’Œerrorä¸æ˜¯ä¸€å›äº‹,å› æ­¤quité»˜è®¤æ˜¯ä¸è¿›å…¥debuggerçš„.</p>
<p>é€šè¿‡è®¾ç½®è¯¥å€¼ä¸ºénil,åˆ™å½“quitå‘ç”Ÿæ—¶,è¿›å…¥debugger</p>
</li>
<li>
<p>å‘½ä»¤(debug-on-entry function-symbol)</p>
<p>è¯¥å‘½ä»¤æ ‡æ³¨å½“æŒ‡å®šçš„functionè¢«è°ƒç”¨æ—¶,ä¸»åŠ¨è¿›å…¥debugger(æ— è®ºæœ‰æ²¡æœ‰error/quitå‘ç”Ÿ)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defun fact (n)
  (if (zerop n) <span style="color:#ae81ff">1</span>
    (<span style="color:#a6e22e">*</span> n (fact (<span style="color:#a6e22e">1-</span> n)))))               <span style="color:#75715e">; =&gt; fact</span>
(debug-on-entry <span style="color:#e6db74">&#39;fact</span>)                  <span style="color:#75715e">; =&gt; fact</span>
(fact <span style="color:#ae81ff">3</span>)                                <span style="color:#75715e">; =&gt; è¿›å…¥debugger</span>
</code></pre></div></li>
<li>
<p>å‘½ä»¤(cancel-debug-on-entry &amp;optional function-symbol)</p>
<p>è¯¥å‡½æ•°å–æ¶ˆdebug-on-entryå¯¹æŒ‡å®šfunctionçš„æ“ä½œ.</p>
<p>è‹¥function-symbolä¸ºnil,åˆ™è¡¨ç¤ºdebug-on-entryå¯¹æ‰€æœ‰å‡½æ•°çš„æ“ä½œ.</p>
</li>
<li>
<p>(debug &amp;rest debugger-args)</p>
<p>æ˜¾å¼è°ƒç”¨debugger. ç¨‹åºæ‰§è¡Œåˆ°è¯¥è¯­å¥,ä¼šç«‹åˆ»è¿›å…¥debugger.</p>
<p>é€šå¸¸debuggeråªæ˜¯æŠŠdebugger-argsçš„å€¼æ˜¾ç¤ºåœ¨backtrace bufferçš„é¦–éƒ¨,ä»¥æ–¹ä¾¿ç”¨æˆ·å¯ä»¥çœ‹åˆ°å®ƒ.</p>
<p>ç„¶è€Œ,æœ‰äº›debugger-argæœ‰å…¶ç‰¹æ®Šçš„æ„ä¹‰:</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºlambda</li>
</ul>
<p>å½“debuggeræ˜¯ç”±äºå‚æ•°`debug-on-next-call`è®¾ç½®ä¸ºénilçš„æƒ…å†µä¸‹è¿›å…¥äº†å‡½æ•°è€Œè§¦å‘çš„,åˆ™è¯¥å˜é‡ä¼šæ˜¾ç¤ºä¸º`Debugger entered&ndash;entering a function:`</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºdebug</li>
</ul>
<p>å½“debuggeræ˜¯ç”±äºè®¾ç½®äº†å‚æ•°`debug-on-entry`çš„æƒ…å†µä¸‹è¿›å…¥äº†å‡½æ•°è€Œè§¦å‘çš„,åˆ™è¯¥å˜é‡ä¼šæ˜¾ç¤ºä¸º`Debugger entered&ndash;entering a function`</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºt</li>
</ul>
<p>å½“debuggeræ˜¯ç”±äºå‚æ•°`debug-on-next-call`è®¾ç½®ä¸ºénilçš„æƒ…å†µä¸‹è¿›å…¥äº†å‡½æ•°è€Œè§¦å‘çš„,åˆ™è¯¥å˜é‡ä¼šæ˜¾ç¤ºä¸º`Debugger entered&ndash;beginning evaluation of function call form`</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºexit,ç¬¬äºŒä¸ªå‚æ•°ä¸ºdebug</li>
</ul>
<p>å½“debuggeræ˜¯ç”±äºä¹‹å‰è¢«bæ ‡è®°è¿‡çš„stack frameé€€å‡ºè€Œè§¦å‘çš„æƒ…å†µä¸‹,ä¼šæ˜¾ç¤ºä¸º`Debugger entered&ndash;returning value:`åŠ ä¸Šè¿”å›çš„å€¼</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºerror</li>
</ul>
<p>å½“debuggeræ˜¯ç”±äºerror/quitæœªæ•è·è€Œè§¦å‘æ—¶,ä¼šæ˜¾ç¤ºä¸º`Debugger entered&ndash;Lisp error:`åŠ ä¸Šerrorçš„ä¿¡æ¯</p>
<ul>
<li>å½“ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºnil</li>
</ul>
<p>TODO ä¸çŸ¥é“ä»€ä¹ˆæ„æ€.</p>
</li>
</ul>
<h4 id="debuggerä½¿ç”¨è¯´æ˜">debuggerä½¿ç”¨è¯´æ˜<a hidden class="anchor" aria-hidden="true" href="#debuggerä½¿ç”¨è¯´æ˜">#</a></h4>
<p>å½“è¿›å…¥debuggerå,ä¼šæœ‰ä¸€ä¸ªåä¸º*Backtrace*çš„bufferå‡ºç°.</p>
<p>åœ¨è¯¥bufferçš„ç¬¬ä¸€è¡Œæ˜¾ç¤ºäº†è¿›å…¥debuggerçš„åŸå› ,ä¸‹é¢æ˜¯backtrace.</p>
<p>backtraceç”±ä¸€ç³»åˆ—çš„stack frameç»„æˆ,æ¯è¡Œä¸€ä¸ªstack frame. å…¶ä¸­</p>
<ul>
<li>å…‰æ ‡æ‰€åœ¨çš„stack frameä¸ºå½“å‰frame,æœ‰äº›debuggerå‘½ä»¤ä¼šå¯¹å½“å‰frameè¿›è¡Œæ“ä½œ</li>
<li>è‹¥æŸstack frameä»¥*å¼€å¤´,è¡¨ç¤ºç¦»å¼€è¿™ä¸ªstack frameä¼šå†æ¬¡è°ƒç”¨debugger.</li>
<li>è‹¥stack frameä¸­çš„å‡½æ•°åå¸¦äº†ä¸‹åˆ’çº¿,è¡¨ç¤ºdebuggerå¯ä»¥æ‰¾åˆ°è¯¥å‡½æ•°çš„æºä»£ç .</li>
</ul>
<p>å½“è¿›å…¥debuggerå,ä¼šæ ¹æ®`eval-expression-debug-on-error`çš„å€¼æ¥ä¸´æ—¶æ›´æ”¹`debug-on-error`çš„å€¼.è‹¥`eval-expression-debug-on-error`çš„å€¼ä¸ºt,åˆ™ä¼šè®¾ç½®debug-on-errorçš„å€¼ä¸ºt. è¿™æ„å‘³ç€åœ¨debugä¸­è§¦å‘çš„ä»»æ„erroréƒ½ä¼šäº§ç”Ÿä¸€ä¸ªbacktrace. è‹¥ä¸æƒ³è¿™æ ·,å¯ä»¥è®¾ç½®`eval-expression-debug-on-error`ä¸ºnil,æˆ–åœ¨`debugger-mode-hook`ä¸­è®¾ç½®`debug-on-error`ä¸ºnil</p>
<p>Debuggerä¸­çš„å‘½ä»¤:</p>
<ul>
<li>
<p>c</p>
<p>continue. é€€å‡ºdebugger,å¹¶ä¸”ç»§ç»­å‘ä¸‹æ‰§è¡Œ.</p>
</li>
<li>
<p>d</p>
<p>æ­¥è¿›ä¸€ä¸ªSè¡¨è¾¾å¼,ç„¶åçœ‹æ­¥è¿›çš„é‚£ä¸ªSè¡¨è¾¾å¼åšäº†ä»€ä¹ˆæ“ä½œ.</p>
</li>
<li>
<p>b</p>
<p>ä¸ºå½“å‰frameåŠ ä¸Šæ–­ç‚¹æ ‡è®°. åŠ äº†æ ‡å¿—çš„frame,åœ¨è¡Œå¤´ä¼šåŠ ä¸Šä¸€ä¸ª*</p>
</li>
<li>
<p>u</p>
<p>å–æ¶ˆbå‘½ä»¤ä¸ºframeåŠ ä¸Šçš„æ–­ç‚¹æ ‡å¿—.</p>
</li>
<li>
<p>j</p>
<p>åƒbå‘½ä»¤ä¸€æ ·ä¸ºå½“å‰frameåŠ ä¸Šæ ‡è®°,ç„¶ååƒå‘½ä»¤cä¸€æ ·ç»§ç»­æ‰§è¡Œç¨‹åº,ä½†æ˜¯åœ¨æ‰§è¡Œæ—¶ä¼šä¸´æ—¶å±è”½`debug-on-entry`æ ‡è®°</p>
</li>
<li>
<p>e</p>
<p>æ‰§è¡Œè¾“å…¥çš„Sè¡¨è¾¾å¼. é€šè¿‡è¯¥å‘½ä»¤,å¯ä»¥ä¿®æ”¹debuggerçš„å˜é‡.</p>
</li>
<li>
<p>R</p>
<p>ç±»ä¼¼e,ä½†æ˜¯ä¼šæŠŠæ‰§è¡ŒSè¡¨è¾¾å¼çš„ç»“æœ,ä¿å­˜åˆ°ä¸€ä¸ªåä¸º*Debugger-record*çš„bufferä¸­.</p>
</li>
<li>
<p>q</p>
<p>é€€å‡ºdebugger,é€€å‡ºç¨‹åºçš„æ‰§è¡Œè¿‡ç¨‹</p>
</li>
<li>
<p>r</p>
<p>è¯»å–ä¸€ä¸ªSè¡¨è¾¾å¼,å¹¶å°†å…¶è®¡ç®—ç»“æœä½œä¸ºå½“å‰frameçš„è¿”å›å€¼.</p>
<p>å½“debuggeræ˜¯ç”±äºæ•è·åˆ°å¼‚å¸¸è€Œè§¦å‘æ—¶,æ— æ³•ä½¿ç”¨è¯¥å‘½ä»¤.</p>
</li>
<li>
<p>l</p>
<p>åˆ—å‡ºä¼šdebug-on-entryçš„å‡½æ•°åˆ—è¡¨. è¯¥åˆ—è¡¨æ ¹æ®`debug-on-entry`çš„å€¼æ¥è¿‡æ»¤å‡½æ•°.</p>
</li>
<li>
<p>v</p>
<p>æ˜¾ç¤º/ä¸ç°å®å½“å‰stack frameä¸­çš„å±€éƒ¨å˜é‡</p>
</li>
</ul>
<h4 id="debuggerå†…éƒ¨å®ç°ä½¿ç”¨åˆ°çš„å˜é‡ä¸å‡½æ•°">debuggerå†…éƒ¨å®ç°ä½¿ç”¨åˆ°çš„å˜é‡ä¸å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#debuggerå†…éƒ¨å®ç°ä½¿ç”¨åˆ°çš„å˜é‡ä¸å‡½æ•°">#</a></h4>
<ul>
<li>
<p>debugger</p>
<p>è¯¥å˜é‡çš„å€¼éœ€è¦æ˜¯ä¸€ä¸ªå‡½æ•°,å½“è§¦å‘debuggeræ—¶,å®é™…ä¸Šæ˜¯é€šè¿‡è°ƒç”¨è¯¥å‡½æ•°æ¥å®ç°çš„.</p>
<p>è¯¥å˜é‡é»˜è®¤å€¼ä¸º`debug`</p>
</li>
<li>
<p>(backtrace)</p>
<p>This function prints a trace of Lisp function calls currently active.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defun show-back-trace()
  (<span style="color:#a6e22e">backtrace</span>))

(show-back-trace)

<span style="color:#75715e">;; ==================&gt;</span>
<span style="color:#a6e22e">backtrace</span>()
show-back-trace()
<span style="color:#a6e22e">eval</span>((show-back-trace) <span style="color:#66d9ef">nil</span>)
eval-last-sexp-1(<span style="color:#66d9ef">nil</span>)
eval-last-sexp(<span style="color:#66d9ef">nil</span>)
<span style="color:#a6e22e">call-interactively</span>(eval-last-sexp <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">nil</span>)
command-execute(eval-last-sexp)


</code></pre></div></li>
<li>
<p>å˜é‡debug-on-next-call</p>
<p>è‹¥è¯¥å€¼ä¸ºnil,åˆ™åœ¨æ‰§è¡Œä¸‹ä¸€ä¸ªeval,applyæˆ–funcallä¹‹å‰,å…ˆä¼šè°ƒç”¨debugger.</p>
<p>è¿›å…¥debuggerå,ä¼šå°†è¯¥å€¼è®¾ç½®ä¸ºnil,ä½†debuggerä¸­çš„då‘½ä»¤ä¼šå°†è¯¥å˜é‡è®¾ç½®ä¸ºt</p>
</li>
<li>
<p>(backtrace-debug level flag)</p>
</li>
<li>
<p>å˜é‡command-debug-status</p>
<p>è¯¥å˜é‡è®°å½•äº†å½“å‰interctive commandçš„debugçŠ¶æ€.</p>
</li>
<li>
<p>(backtrace-frame frame-number)</p>
</li>
</ul>
<h3 id="edebug">edebug<a hidden class="anchor" aria-hidden="true" href="#edebug">#</a></h3>
<h4 id="ä½¿ç”¨edebugçš„ä¸€èˆ¬æ­¥éª¤">ä½¿ç”¨Edebugçš„ä¸€èˆ¬æ­¥éª¤<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨edebugçš„ä¸€èˆ¬æ­¥éª¤">#</a></h4>
<ol>
<li>
<p>å¼•å…¥å‡½æ•°/å®åˆ°edebugä¸­æ¥è°ƒè¯•</p>
<p>å°†å…‰æ ‡ç§»åŠ¨åˆ°è¦debugçš„å‡½æ•°/å®å®šä¹‰ä¸Š,æŒ‰ä¸‹C-u C-M-x(eval-defun)</p>
<p>ä¸€æ—¦å‡½æ•°/å®è¢«å¼•å…¥åˆ°edebugæ¥è°ƒè¯•,ä»»ä½•è°ƒç”¨è¯¥å‡½æ•°/å®çš„æ“ä½œéƒ½ä¼šè§¦å‘edebugæ‰§è¡Œ.</p>
</li>
<li>
<p>Edebugè·³è½¬åˆ°å®šä¹‰Elispæºä»£ç çš„buffer,ä¸”è¯¥bufferæš‚æ—¶å˜ä¸ºåªè¯»çš„.</p>
</li>
<li>
<p>ä½¿ç”¨Edebugå‘½ä»¤å¼€å§‹è°ƒè¯•,å¯ä»¥ä½¿ç”¨`?`æ¥æ˜¾ç¤ºEdebugå‘½ä»¤</p>
</li>
<li>
<p>è‹¥ä¸éœ€è¦åœ¨ç”¨Edebugè°ƒè¯•äº†,éœ€è¦å°†å‡½æ•°/å®å¼•å‡ºEdebug,æ–¹æ³•æ˜¯å†æ‰§è¡Œä¸€è¾¹å‡½æ•°/å®çš„å®šä¹‰å³å¯.</p>
</li>
</ol>
<h4 id="edebugä¸­çš„å‘½ä»¤">Edebugä¸­çš„å‘½ä»¤<a hidden class="anchor" aria-hidden="true" href="#edebugä¸­çš„å‘½ä»¤">#</a></h4>
<!--list-separator-->
<ul>
<li>
<p>Execution Mode</p>
<p>Edebugåœ¨è°ƒè¯•ç¨‹åºæ—¶,ä¹Ÿæ”¯æŒå„ç§execution modes. ä½†å®ƒå¹¶ä¸æ˜¯å®é™…ä¸Šçš„major-modeæˆ–minor-mode</p>
<p>execution modeå†³å®šäº†Edebugä¸‹ä¸€æ¬¡åœ¨å“ªé‡Œæš‚åœ,ä»¥åŠåœ¨æš‚åœæ—¶æ˜¾ç¤ºå¤šå°‘æ‰§è¡Œçš„ä¿¡æ¯.</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>S</td>
<td>Stop:ä¸å†å¾€ä¸‹æ‰§è¡Œç¨‹åº,ç­‰å¾…ç”¨æˆ·è¾“å…¥æ›´å¤šçš„Edebugå‘½ä»¤(edebug-stop)</td>
</tr>
<tr>
<td>&lt;SPC&gt;</td>
<td>Step:æ­¥è¿›ä¸‹ä¸€ä¸ªè¯­å¥(edebug-step-mode)</td>
</tr>
<tr>
<td>n</td>
<td>Next:è·³åˆ°ä¸‹ä¸€ä¸ªForm(edebug-next-mode)</td>
</tr>
<tr>
<td>t</td>
<td>Trace:æ¯æ‰§è¡Œä¸€ä¸ªè¯­å¥(ä¼šåœ¨echo areaæ˜¾ç¤ºæ¯ä¸ªè¯­å¥æ‰§è¡Œçš„ç»“æœ)å°±æš‚åœä¸€æ®µæ—¶é—´(é»˜è®¤ä¸º1s,ç”±å‚æ•°`edebug-sit-for-seconds`ç¡®å®š)</td>
</tr>
<tr>
<td>T</td>
<td>Rapid trace:ç±»ä¼¼t,ä½†å¹¶ä¸æš‚åœ(edebug-Trace-fast-mode)</td>
</tr>
<tr>
<td>g</td>
<td>Go:ç»§ç»­æ‰§è¡Œç›´åˆ°ä¸‹ä¸€ä¸ªç«¯å£(edebug-go-mode)</td>
</tr>
<tr>
<td>c</td>
<td>Continue:ç»§ç»­æ‰§è¡Œ,åœ¨æ¯ä¸ªæ–­ç‚¹å¤„éƒ½åœé¡¿ä¸€ä¸‹,ç„¶åç»§ç»­æ‰§è¡Œ(edebug-continue-mode)</td>
</tr>
<tr>
<td>C</td>
<td>Rapid continue:ç±»ä¼¼c,ä½†åœ¨æ–­ç‚¹å¤„å¹¶ä¸åœé¡¿(edebug-continue-fast-mode)</td>
</tr>
<tr>
<td>G</td>
<td>Go non-stop:å¿½ç•¥æ–­ç‚¹çš„å­˜åœ¨,ç»§ç»­æ‰§è¡Œç¨‹åº.</td>
</tr>
</tbody>
</table>
<p>åœ¨ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­,å¯ä»¥ç”¨Sæˆ–å…¶ä»–å‘½ä»¤æš‚åœç¨‹åºçš„æ‰§è¡Œ</p>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Jumpingå‘½ä»¤</p>
<p>Jumpingç³»åˆ—å‘½ä»¤å‘Šè¯‰Edebug,è®©ç¨‹åºæ‰§è¡Œç›´åˆ°æŒ‡å®šçš„ä½ç½®</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>h</td>
<td>æ‰§è¡Œåˆ°å…‰æ ‡æ‰€åœ¨ä½ç½®(edebug-goto-here)</td>
</tr>
<tr>
<td>f</td>
<td>æ‰§è¡Œä¸€ä¸ªsexp(edebug-forward-sexp)</td>
</tr>
<tr>
<td>o</td>
<td>æ‰§è¡Œå®Œ(è·³å‡º)å½“å‰çš„sexp(edebug-step-out)</td>
</tr>
<tr>
<td>i</td>
<td>è¿›å…¥formæ‰€è°ƒç”¨çš„å‡½æ•°/å®å®šä¹‰(edebug-step-in)</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Breaks</p>
<p>åœ¨ä¸‰ç§æƒ…å†µä¸‹,Edebugä¼šæš‚åœç¨‹åºçš„æ‰§è¡Œ:</p>
<ul>
<li>
<p>è®¾ç½®æ–­ç‚¹</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>b</td>
<td>è®¾ç½®æ–­ç‚¹(edebug-set-breakpoint),è‹¥å¸¦prefix argument,åˆ™è¯¥æ–­ç‚¹ä¸ºä¸´æ—¶æ–­ç‚¹</td>
</tr>
<tr>
<td>u</td>
<td>å–æ¶ˆæ–­ç‚¹(edebug-unset-breakpoint)</td>
</tr>
<tr>
<td>x CONDITION-FORM &lt;RET&gt;</td>
<td>è®¾ç½®æ¡ä»¶æ–­ç‚¹,å½“è¿è¡ŒCONDITION-FORMçš„ç»“æœä¸ºénilæ—¶,æ–­ç‚¹ç”Ÿæ•ˆ(edebug-set-conditional-breakpoint). è‹¥å¸¦prefix argument,åˆ™æ–­ç‚¹ä¸ºé›¶æ—¶æ–­ç‚¹</td>
</tr>
<tr>
<td>B</td>
<td>å…‰æ ‡è·³è½¬åˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹å¤„(edebug-next-breakpoint)</td>
</tr>
</tbody>
</table>
<p>re-evaluting/reinstrumentingå‡½æ•°å®šä¹‰ä¼šç§»é™¤ä¹‹å‰çš„æ‰€æœ‰æ–­ç‚¹</p>
<p>è®¾ç½®æ¡ä»¶æ–­ç‚¹æ—¶,CONDITION-FORMæŠ›å‡ºçš„errorä¼šè¢«å¿½ç•¥,å½“æˆè¿”å›nilæ¥çœ‹å¾….</p>
<p>ä¸€èˆ¬æƒ…å†µä¸‹,Edebugä¼šåœ¨æ–­ç‚¹å¤„æš‚åœç¨‹åºçš„æ‰§è¡Œ. ç„¶è€Œ,å½“Edebugå¤„äºGo-nonstop modeä¸‹æ—¶,ä¼šå®Œå…¨å¿½ç•¥æ–­ç‚¹.</p>
</li>
<li>
<p>å½“æŸä¸ªæ¡ä»¶(Global Condition)åŒ¹é…æ—¶</p>
<p>è‹¥å˜é‡`edebug-global-break-condtion`çš„è®¡ç®—ç»“æœä¸ºénilåˆ™æš‚åœç¨‹åºçš„æ‰§è¡Œ. åŒæ ·çš„,è‹¥è®¡ç®—è¿‡ç¨‹ä¸­æŠ›å‡ºerror,åˆ™å½“è¿”å›nilå¤„ç†.</p>
<p>å¯ä»¥åœ¨edebugæ¨¡å¼ä¸‹ä½¿ç”¨Xå‘½ä»¤æ¥è®¾ç½®è¯¥æ¡ä»¶. ä¹Ÿå¯ä»¥åœ¨ä»»ä½•bufferçš„ä»»ä½•æ—¶å€™,é€šè¿‡C-x X Xæ¥è°ƒç”¨(edebug-set-global-break-condition)è®¾ç½®è¯¥æ¡ä»¶</p>
</li>
<li>
<p>æ’å…¥æ–­ç‚¹ä»£ç </p>
<p>ä½¿ç”¨(edebug)ä¸»åŠ¨è°ƒç”¨edebug,è¿›å…¥æ–­ç‚¹æ¨¡å¼.</p>
<p>è‹¥æ‰§è¡Œ(eedbug)æ—¶,è¯¥å‡½æ•°å¹¶æœªå¼•å…¥åˆ°edebugä¸­,åˆ™è¯¥å‡½æ•°å…¶å®è°ƒç”¨çš„æ˜¯(debug)</p>
</li>
</ul>
</li>
</ul>
<!--list-separator-->
<ul>
<li>Evaluation
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>e EXP &lt;RET&gt;</td>
<td>åœ¨Edebugçš„å¤–éƒ¨ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­è®¡ç®—EXP(edebug-eval-expression)</td>
</tr>
<tr>
<td>M-: EXP &lt;RET&gt;</td>
<td>åœ¨Edebugçš„ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­è®¡ç®—EXP(eval-expression)</td>
</tr>
<tr>
<td>C-x C-e</td>
<td>åœ¨Edebugçš„å¤–éƒ¨ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­è®¡ç®—å…‰æ ‡å‰çš„expression(edebug-eval-last-sexp)</td>
</tr>
</tbody>
</table>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Evalution List Buffer</p>
<p>åœ¨Edebugä¸­å¯ä»¥æŒ‰Eå‘½ä»¤,è¿›å…¥åä¸º*edebug*çš„&quot;evaluation list buffer&quot;.</p>
<p>åœ¨è¯¥bufferä¸­å¯ä»¥äº¤äº’å¼çš„è¿è¡ŒSEXP,ä¸”åœ¨è¯¥bufferä¸­è®¡ç®—çš„SEXP,å¤„äºEdebugå¤–éƒ¨çš„ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­.</p>
<p>å¯ä»¥åœ¨è¯¥bufferä¸­ä½¿ç”¨Lisp Interaction modeä¸­çš„å‘½ä»¤. è¿˜å¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤:</p>
<ul>
<li>
<p>C-j (edebug-eval-print-last-sexp)</p>
<p>åœ¨edebugçš„å¤–éƒ¨ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­,è®¡ç®—å…‰æ ‡å‰çš„expression,å¹¶å°†ç»“æœæ’å…¥åˆ°å½“å‰buffer</p>
</li>
<li>
<p>C-x C-e (edebug-eval-last-sexp)</p>
<p>åœ¨edebugçš„å¤–éƒ¨ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­,è®¡ç®—å…‰æ ‡å‰çš„expression</p>
</li>
<li>
<p>C-c C-u (edebug-update-eval-list)</p>
<p>åŸºäºå½“å‰bufferçš„å†…å®¹,åˆ›å»ºæ–°çš„evaluation list</p>
<p>evalution listç”±å¤šä¸ªevalutation list groupsç»„æˆ. æ¯ä¸ªgroupsç”±å¤šä¸ªLisp expressionç»„æˆ,groupä¹‹é—´ä½¿ç”¨æ³¨é‡Šè¡Œæ¥åŒºåˆ†.</p>
<p>å½“edebugæ¯æ¬¡æš‚åœç¨‹åºæ‰§è¡Œæ—¶,æ¯ä¸ªevaluation list groupä¸­çš„åœ°ä¸€ä¸ªLisp expressionéƒ½ä¼šè‡ªåŠ¨æ‰§è¡Œä¸€é.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">current-buffer</span>)
<span style="color:#960050;background-color:#1e0010">#</span>&lt;buffer *scratch*<span style="color:#a6e22e">&gt;</span>
<span style="color:#75715e">;---------------------------------------------------------------</span>
(<span style="color:#a6e22e">selected-window</span>)
<span style="color:#960050;background-color:#1e0010">#</span>&lt;window <span style="color:#ae81ff">16</span> on *scratch*<span style="color:#a6e22e">&gt;</span>
<span style="color:#75715e">;---------------------------------------------------------------</span>
(<span style="color:#a6e22e">point</span>)
<span style="color:#ae81ff">196</span>
<span style="color:#75715e">;---------------------------------------------------------------</span>
bad-var
<span style="color:#e6db74">&#34;Symbol&#39;s value as variable is void: bad-var&#34;</span>
<span style="color:#75715e">;---------------------------------------------------------------</span>
(<span style="color:#a6e22e">recursion-depth</span>)
<span style="color:#ae81ff">0</span>
<span style="color:#75715e">;---------------------------------------------------------------</span>
this-command
eval-last-sexp
<span style="color:#75715e">;---------------------------------------------------------------</span>

</code></pre></div></li>
<li>
<p>C-c C-d (edebug-delete-eval-list)</p>
<p>ä»evalution listä¸­åˆ é™¤å…‰æ ‡æ‰€åœ¨çš„group</p>
</li>
<li>
<p>C-c C-w (edebug-where)</p>
<p>åˆ‡æ¢å›å½“å‰æš‚åœç‚¹çš„åŸä»£ç bufferå¤„</p>
</li>
</ul>
</li>
</ul>
<!--list-separator-->
<ul>
<li>å…¶ä»–å‘½ä»¤
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>?</td>
<td>æ˜¾ç¤ºEdebugçš„å¸®åŠ©ä¿¡æ¯(edebug-help)</td>
</tr>
<tr>
<td>C-]</td>
<td>Abort one level back to the previous command level(`abort-recursive-edit')</td>
</tr>
<tr>
<td>q</td>
<td>ç»ˆæ­¢ç¨‹åºè¿è¡Œå¹¶é€€å‡ºedebug,ä½†`unwind-protect`å’Œ`condition-case`ä¸­çš„ä»£ç è¿˜æ˜¯ä¼šæ‰§è¡Œ</td>
</tr>
<tr>
<td>Q</td>
<td>ç±»ä¼¼q,ä½†`unwind-protect`å’Œ`condition-case`ä¸­çš„ä»£ç ä¸ä¼šæ‰§è¡Œ(edebug-top-level-nonstop)</td>
</tr>
<tr>
<td>r</td>
<td>é‡æ–°åœ¨echo areaä¸­æ˜¾ç¤ºä¸Šæ¬¡expressionçš„è¿ç®—ç»“æœ(edebug-previous-result)</td>
</tr>
<tr>
<td>d</td>
<td>æ˜¾ç¤ºbacktrace(ä½†æ˜¯ä¸æ˜¾ç¤ºEdebugè‡ªå·±çš„function,å¹¶ä¸”æ­¤æ—¶å¤„äºæ ‡å‡†debuggeræ¨¡å¼ä¸‹),(edebug-backtrace)</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>æ•è·Errors</p>
<p>é»˜è®¤æƒ…å†µä¸‹,è‹¥æŸå‡½æ•°è¢«å¼•å…¥edebugä¸­,åˆ™å½“è¯¥å‡½æ•°æŠ›å‡ºerroræ—¶,ä¼šè‡ªåŠ¨æ¿€æ´»edebug.</p>
<p>ä½†å¯ä»¥é€šè¿‡é…ç½®å˜é‡`edebug-on-error`å’Œ`edebug-on-quit`æ¥æ”¹å˜è¿™ä¸€æƒ…å†µ.</p>
</li>
</ul>
<!--list-separator-->
<ul>
<li>Edebug Views</li>
</ul>
<h4 id="edebugä¸­çš„è¾“å‡ºæ ¼å¼">Edebugä¸­çš„è¾“å‡ºæ ¼å¼<a hidden class="anchor" aria-hidden="true" href="#edebugä¸­çš„è¾“å‡ºæ ¼å¼">#</a></h4>
<p>å½“Edebugè¾“å‡ºå¾ªç¯listç»“æ„æ—¶,å¯èƒ½ä¼šå‡ºé”™,è¿™æ—¶éœ€è¦è®¾ç½®ä¸€ä¸‹å‡ ä¸ªå˜é‡</p>
<ul>
<li>
<p>é…ç½®é¡¹edebug-print-length</p>
</li>
<li>
<p>é…ç½®é¡¹edebug-print-level</p>
</li>
<li>
<p>é…ç½®é¡¹edebug-print-circle</p>
</li>
</ul>
<h4 id="trace-buffer">Trace Buffer<a hidden class="anchor" aria-hidden="true" href="#trace-buffer">#</a></h4>
<p>é€šè¿‡è®¾ç½®å˜é‡`edebug-trace`çš„å€¼ä¸ºénil,å¯ä»¥ä½¿å¾—Edebugå°†æ¯æ¬¡æ‰§è¡Œçš„è¿‡ç¨‹éƒ½è®°å½•ä¸‹æ¥.</p>
<p>è®°å½•å­˜å‚¨åœ¨åä¸º`*edebug-trace*`çš„bufferä¸­. å®ƒè®°å½•äº†ä½¿ç”¨ä»€ä¹ˆå‚æ•°è°ƒç”¨é‚£ä¸ªå‡½æ•°,è¿”å›å€¼æ˜¯ä»€ä¹ˆ.</p>
<h3 id="test-coverage">test coverage<a hidden class="anchor" aria-hidden="true" href="#test-coverage">#</a></h3>
<h4 id="ä½¿ç”¨æ­¥éª¤">ä½¿ç”¨æ­¥éª¤<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨æ­¥éª¤">#</a></h4>
<p>é€šè¿‡testcoveråº“,èƒ½å¤Ÿå¯¹ä»£ç è¿›è¡Œé“ºç›–é¢æµ‹è¯•. æ–¹æ³•æ˜¯:</p>
<ol>
<li>
<p>è½½å…¥testcoveråº“</p>
<p>(require &lsquo;testcover)</p>
</li>
<li>
<p>æ‰§è¡Œå‘½ä»¤testcover-start</p>
<p>M-x testcover-start &lt;RET&gt; FILE &lt;RET&gt;</p>
</li>
<li>
<p>ç„¶åå¯¹ä½ çš„ä»£ç è¿›è¡Œæµ‹è¯•</p>
</li>
<li>
<p>æµ‹è¯•å®Œæˆåæ‰§è¡Œå‘½ä»¤testcover-mark-allå‘½ä»¤ä¼šé«˜äº®å‡ºè¦†ç›–é¢ä¸å®Œå…¨çš„åœ°æ–¹</p>
<p>M-x testcover-mark-all</p>
</li>
<li>
<p>ä½¿ç”¨å‘½ä»¤testcover-next-markè·³è½¬åˆ°ä¸‹ä¸€ä¸ªé«˜äº®ç‚¹</p>
</li>
</ol>
<h4 id="é«˜äº®è¯´æ˜">é«˜äº®è¯´æ˜<a hidden class="anchor" aria-hidden="true" href="#é«˜äº®è¯´æ˜">#</a></h4>
<p>ä¸€èˆ¬æ¥è¯´,çº¢è‰²çš„é«˜äº®è¡¨ç¤ºè¿™ä¸ªåœ°æ–¹ä»æ¥æ²¡æœ‰æµ‹è¯•è¿‡.</p>
<p>æ£•è‰²çš„é«˜äº®è¡¨ç¤ºè¿™ä¸ªåœ°æ–¹çš„è®¡ç®—ç»“æœæ¯æ¬¡éƒ½ä¸€æ ·çš„,è€Œè¿™å¾€å¾€æ„å‘³ç€æµ‹è¯•å¾—è¿˜ä¸å¤Ÿå……åˆ†.</p>
<h4 id="give-advice-to-the-test-coverage-too">give advice to the test coverage too<a hidden class="anchor" aria-hidden="true" href="#give-advice-to-the-test-coverage-too">#</a></h4>
<p>å¯ä»¥é€šè¿‡å°†ä»£ç åŒ…è£¹è¿›ä¸€äº›å®(è¿™äº›å®æœ¬èº«ä¸ä¼šæ”¹å˜ä»£ç çš„æ‰§è¡Œç»“æœ)ä¸­,æ¥å‘Šè¯‰testcoverä¸€äº›ä¿¡æ¯.</p>
<ul>
<li>
<p>(1value form)</p>
<p>è¯¥å®å‘Šè¯‰testcover,formçš„è®¡ç®—ç»“æœæ¯æ¬¡éƒ½åº”è¯¥ä¸€æ ·çš„.</p>
</li>
<li>
<p>(noreturn form)</p>
<p>è¯¥å®å‘Šè¯‰testcover,formä¸åº”è¯¥è¿”å›. è‹¥formè¿”å›äº†,ä¼šæ”¶åˆ°ä¸€ä¸ªrun-time error</p>
</li>
</ul>
<h3 id="profiling">Profiling<a hidden class="anchor" aria-hidden="true" href="#profiling">#</a></h3>
<ul>
<li>
<p>ä½¿ç”¨M-x profiler-startå¼€å¯æ€§èƒ½ç›‘æ§,ç„¶åé€‰æ‹©ç›‘æ§cpuè¿˜æ˜¯memè¿˜æ˜¯ä¸¤è€…éƒ½ç›‘æ§.</p>
</li>
<li>
<p>æ‰§è¡Œæ“ä½œ,è¿è¡Œå¾…æµ‹è¯•çš„å‡½æ•°</p>
</li>
<li>
<p>æ‰§è¡ŒM-x profiler-reportæ˜¾ç¤ºæ€§èƒ½æ£€æµ‹ç»“æœ.</p>
</li>
</ul>
<p>åœ¨æŠ¥å‘Šä¸­</p>
<ul>
<li>æŒ‰jå¯ä»¥è·³è½¬åˆ°å‡½æ•°å®šä¹‰å¤„.</li>
</ul>
<!--listend-->
<ul>
<li>
<p>æŒ‰då¯ä»¥æ˜¾ç¤ºå‡½æ•°çš„documentation</p>
</li>
<li>
<p>å¯ä»¥ä½¿ç”¨C-x C-wä¿å­˜æ£€æµ‹æŠ¥å‘Š</p>
</li>
<li>
<p>ä½¿ç”¨=æ¯”è¾ƒä¸¤ä¸ªæ£€æµ‹ç»“æœ</p>
</li>
<li>
<p>æ‰§è¡ŒM-x profiler-stopç»“æŸç›‘æ§è¿‡ç¨‹</p>
</li>
</ul>
<h3 id="trace">Trace<a hidden class="anchor" aria-hidden="true" href="#trace">#</a></h3>
<h4 id="trace-function-function-and-optional-buffer-context">(trace-function FUNCTION &amp;optional BUFFER CONTEXT)<a hidden class="anchor" aria-hidden="true" href="#trace-function-function-and-optional-buffer-context">#</a></h4>
<p>å¯ä»¥è¿½è¸ªå‡½æ•°FUNCTIONçš„æ‰§è¡Œè¿‡ç¨‹. å½“è°ƒç”¨åˆ°FUNCTIONå‡½æ•°æ—¶,ä¼šåœ¨trace bufferä¸­è¾“å‡ºFUNCTIONçš„å‚æ•°ä»¥åŠè¿”å›å€¼.</p>
<p>å‚æ•°BUFFER,æŒ‡æ˜äº†åœ¨å“ªä¸ªbufferä¸­è¾“å‡ºtraceä¿¡æ¯. é»˜è®¤bufferåç”±å˜é‡`trace-buffer&rsquo;å†³å®š</p>
<p><strong>ä½¿ç”¨è¯¥å‡½æ•°è¿½è¸ªFUNCTIONæ—¶,æ€»ä¼šå¼¹å‡º`trace-buffer&rsquo; buffer.å› æ­¤ä¸è¦ç”¨è¯¥å‡½æ•°è¿½è¸ªå“ªäº›ä¼šåˆ‡æ¢bufferçš„å‡½æ•°,å¯¹äºè¿™ç§å‡½æ•°ä½¿ç”¨`trace-function-background&rsquo;ä»£æ›¿</strong></p>
<p>ä½¿ç”¨`untrace-function&rsquo;æˆ–`untrace-all&rsquo;åœæ­¢å¯¹FUNCTIONçš„è¿½è¸ª.</p>
<h4 id="trace-function-background-function-and-optional-buffercontext">(trace-function-background FUNCTION &amp;optional BUFFERCONTEXT)<a hidden class="anchor" aria-hidden="true" href="#trace-function-background-function-and-optional-buffercontext">#</a></h4>
<p>ç±»ä¼¼`trace-function',ä½†è¿½è¸ªå‡½æ•°FUNCTIONæ—¶,ä¸ä¼šå¼¹å‡ºbufferä¹Ÿä¸ä¼šæ”¹å˜window configuration</p>
<h4 id="untrace-function-function">(untrace-function FUNCTION)<a hidden class="anchor" aria-hidden="true" href="#untrace-function-function">#</a></h4>
<p>å–æ¶ˆå¯¹FUNCTIONçš„è¿½è¸ª</p>
<h4 id="untrace-all">(untrace-all)<a hidden class="anchor" aria-hidden="true" href="#untrace-all">#</a></h4>
<p>å–æ¶ˆå¯¹æ‰€æœ‰çš„å‡½æ•°çš„è¿½è¸ª</p>
<h2 id="command-loop">Command Loop<a hidden class="anchor" aria-hidden="true" href="#command-loop">#</a></h2>
<p>å½“è¿›å…¥Emacså,Emacsä¼šå¾ªç¯è¯»å–key sequences,è¯»å–å¯¹åº”çš„å‘½ä»¤,å¹¶æ˜¾ç¤ºç»“æœ. è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºCommand Loop.</p>
<h3 id="command-loopæ¦‚è¿°">Command Loopæ¦‚è¿°<a hidden class="anchor" aria-hidden="true" href="#command-loopæ¦‚è¿°">#</a></h3>
<ol>
<li>
<p>command loopç¬¬ä¸€æ­¥æ˜¯è°ƒç”¨å‡½æ•°`read-key-sequence&rsquo;æ¥è¯»å–key sequence,å¹¶è½¬æ¢ä¸ºä¸€ä¸ªcommandæˆ–keyboard macro.</p>
</li>
<li>
<p>åœ¨æ‰§è¡Œcommandå‰,è°ƒç”¨`undo-boundary&rsquo;æ¥ä¿å­˜undoä¿¡æ¯</p>
</li>
<li>
<p>æ‰§è¡Œ`pre-command-hook&rsquo;ä¸­çš„å‡½æ•°</p>
<p>åœ¨æ‰§è¡Œcommandå‰,ä¼šè§¦å‘`pre-command-hook',è¿™æ—¶å˜é‡`this-command&rsquo;çš„å€¼ä¸ºå°†è¦è¿è¡Œçš„command,è€Œ`last-command&rsquo;çš„å€¼ä¸ºä¸Šä¸€æ¬¡è¿è¡Œçš„command</p>
<p>æ‰§è¡Œè¯¥hookå‚æ•°æ—¶,ä¸æŠ›å‡ºquitting,ä¹Ÿä¸æŠ›å‡ºerror,ä½†ä¼šæŠŠæŠ›å‡ºerrorçš„å‡½æ•°ç§»é™¤è¯¥hook</p>
</li>
<li>
<p>Emacsé€šè¿‡è°ƒç”¨`command-execute&rsquo;æ¥è¯»å–ä¼ é€’çµ¦commandçš„å‚æ•°åˆ—è¡¨</p>
<ol>
<li>
<p>è‹¥commandä¸ºkeyboard macro,åˆ™Emacsé€šè¿‡`execute-kbd-macro&rsquo;æ¥æ‰§è¡Œcommand</p>
</li>
<li>
<p>è‹¥commandä¸ºå‘½ä»¤(interactively callable function),åˆ™é€šè¿‡`call-interactively&rsquo;æ¥è¯»å–å‚æ•°å¹¶æ‰§è¡Œcommand</p>
</li>
</ol>
</li>
<li>
<p>æ‰§è¡Œ`post-command-hook&rsquo;ä¸­çš„å‡½æ•°</p>
<p>åœ¨æ‰§è¡Œcommandå,ä¼šè§¦å‘`post-command-hook',è¿™æ—¶å˜é‡`this-command&rsquo;çš„å€¼ä¸ºåˆšè¿è¡Œçš„command,è€Œ`last-command&rsquo;çš„å€¼ä¸ºå†ä¸Šä¸€æ¬¡è¿è¡Œçš„command</p>
<p>æ‰§è¡Œè¯¥hookå‚æ•°æ—¶,ä¸æŠ›å‡ºquitting,ä¹Ÿä¸æŠ›å‡ºerror,ä½†ä¼šæŠŠæŠ›å‡ºerrorçš„å‡½æ•°ç§»é™¤è¯¥hook</p>
</li>
</ol>
<h3 id="command">Command<a hidden class="anchor" aria-hidden="true" href="#command">#</a></h3>
<p>æ‰€è°“Command,ä¸ä»…ä»…æŒ‡çš„å¸¦æœ‰top-level `interactive' formçš„å‡½æ•°. è¿˜å¯ä»¥æ˜¯å£°æ˜ä¸ºinteractiveçš„autoload object,æŸäº›primitive functions,ä»¥åŠstringså’Œvectors(è¢«å½“æˆæ˜¯keyboard macroæ¥çœ‹å¾…),</p>
<ul>
<li>(commandp object &amp;optional for-call-interactively)</li>
</ul>
<p>åˆ¤æ–­objectæ˜¯å¦ä¸ºcommand</p>
<p>è‹¥å‚æ•°for-call-interactivelyä¸ºénil,åˆ™åªæœ‰åœ¨objectèƒ½è¢«`call-interactively&rsquo;è°ƒç”¨æ—¶æ‰è¿”å›t,è¿™æ—¶keyboard macroè¿”å›nil</p>
<ul>
<li>(command-execute command &amp;optional record-flag keys special)</li>
</ul>
<p>æ‰§è¡Œcommand</p>
<p>è‹¥commandä¸ºstringæˆ–vector,åˆ™è¢«è®¤ä¸ºæ˜¯keyboard macro,ä¼šä½¿ç”¨`execute-kbd-macro&rsquo;æ‰§è¡Œcommand. å¦åˆ™è¿åŒå‚æ•°keyså’Œrecord-flagä¸€èµ·ä¼ é€’çµ¦`call-interactively&rsquo;ä¸€èµ·è°ƒç”¨</p>
<p>å‚æ•°special,è‹¥ä¸ºénil,åˆ™è¡¨ç¤ºå¿½ç•¥preifix argumentä½†æ˜¯ä¸clearå®ƒ. å¸¸ç”¨æ¥æ‰§è¡Œç‰¹æ®Ševent</p>
<ul>
<li>å‘½ä»¤(execute-extended-command prefix-argument)</li>
</ul>
<p>è¯¥å‘½ä»¤ä½¿ç”¨`completing-read&rsquo;ä»minibufferä¸­è¯»å–å‘½ä»¤,å¹¶ç”¨`command-execute&rsquo;æ‰§è¡Œè¯¥å‘½ä»¤,å¹¶è¿”å›æ‰§è¡Œç»“æœ</p>
<p>è‹¥è¯»å–çš„å‘½ä»¤éœ€è¦prefix argument,åˆ™ä¼šå°†å‚æ•°prefix-argumentä¼ é€’çµ¦å®ƒ.</p>
<p>å½“ç”¨interactivelyçš„æ–¹å¼è¿è¡Œè¯¥å‘½ä»¤æ—¶,å‚æ•°prefix-argumentçš„å€¼å°±æ˜¯ä¼ é€’çµ¦`execute-extended-command&rsquo;çš„prefix-argument</p>
<p>é»˜è®¤æƒ…å†µä¸‹,M-xæ‰§è¡Œçš„å°±æ˜¯è¯¥å‘½ä»¤</p>
<h3 id="disabling-commands">Disabling Commands<a hidden class="anchor" aria-hidden="true" href="#disabling-commands">#</a></h3>
<p>&ldquo;Disabling a Command&quot;çµ¦ä¸€ä¸ªcommandåŠ ä¸Šæ ‡è®°,è¿è¡Œcommandæ—¶å®é™…ä¸Šä¼šè°ƒç”¨`disabled-command-function&rsquo;æ‰€æŒ‡å‘çš„å‡½æ•°,é»˜è®¤çš„è¡Œä¸ºæ˜¯ä¼šè¦æ±‚ç”¨æˆ·ç¡®è®¤æ˜¯å¦æ‰§è¡Œè¯¥å‡½æ•°.</p>
<p>è¢«disableçš„command,å…¶symbolçš„`disabled&rsquo;å±æ€§è¢«è®¾ç½®ä¸ºénil,è‹¥`disabled&rsquo;å±æ€§ä¸ºä¸€ä¸ªstring,åˆ™è­¦å‘Šä¿¡æ¯ä¸­ä¼šåŒ…å«è¯¥string</p>
<ul>
<li>(enable-command command)</li>
</ul>
<p>å…è®¸command(symbolæ ¼å¼)ä¸ç»ç¡®è®¤å°±æ‰§è¡Œè¯¥command</p>
<p><strong>è¯¥å‘½ä»¤ä¼šåŒæ—¶ä¿®æ”¹initæ–‡ä»¶,ä½¿ä¹‹åœ¨ä»¥åçš„sessionä¸­ä¹Ÿç”Ÿæ•ˆ</strong></p>
<ul>
<li>(disable-command command)</li>
</ul>
<p>ä½¿å¾—commandåœ¨ä¹‹å‰,éœ€è¦ç»è¿‡ç¡®è®¤.</p>
<p><strong>è¯¥å‘½ä»¤ä¼šåŒæ—¶ä¿®æ”¹initæ–‡ä»¶,ä½¿ä¹‹åœ¨ä»¥åçš„sessionä¸­ä¹Ÿç”Ÿæ•ˆ</strong></p>
<ul>
<li>å˜é‡disabled-command-function</li>
</ul>
<p>è¯¥å˜é‡çš„å€¼ä¸ºä¸€ä¸ªfunction. å½“ç”¨æˆ·äº¤äº’å¼çš„è°ƒç”¨ä¸€ä¸ªdisabled commandæ—¶,å®é™…ä¸Šè°ƒç”¨çš„æ˜¯è¯¥å‡½æ•°.</p>
<p>åœ¨è¯¥functionä¸­å¯ä»¥ä½¿ç”¨`this-command-keys&rsquo;æ¥æ¢æµ‹ç”¨æˆ·å®é™…çš„è¾“å…¥çš„key sequence,å¹¶ä»¥æ­¤æ¥æ‰¾åˆ°éœ€è¦æ‰§è¡Œçš„å‡½æ•°.</p>
<p>è‹¥å€¼ä¸ºnil,åˆ™disabled functionè·Ÿæ™®é€šfunctionä¸€æ ·æ‰§è¡Œ.</p>
<h3 id="command-history">Command History<a hidden class="anchor" aria-hidden="true" href="#command-history">#</a></h3>
<p>command loopä¼šè®°å½•æ‰§è¡Œè¿‡çš„complex commandçš„å†å²è®°å½•.</p>
<p>æ‰€è°“complex commandæŒ‡çš„æ˜¯å…¶ <strong>interactive argument</strong> ä¼šä»minibufferä¸­è¯»å–å‚æ•°å€¼çš„command.(åœ¨æ‰§è¡Œcommandçš„è¿‡ç¨‹ä¸­æ˜ç¡®ä½¿ç”¨åˆ°minibufferçš„,ä¸ç®—)</p>
<ul>
<li>command-history</li>
</ul>
<p>è®°å½•äº†æœ€è¿‘æ‰§è¡Œè¿‡çš„complex commandçš„list</p>
<ul>
<li>å‘½ä»¤(repeat-complex-command N)</li>
</ul>
<p>ç¼–è¾‘å¹¶é‡æ–°æ‰§è¡Œæœ€åæ‰§è¡Œè¿‡çš„/å€’æ•°ç¬¬Nä¸ªcomplex command</p>
<ul>
<li>å‘½ä»¤(list-command-history)</li>
</ul>
<p>åˆ—å‡ºåœ¨minibufferä¸­è¾“å…¥è¿‡çš„commandçš„å†å²</p>
<h3 id="å¦‚ä½•åˆ†è¾¨commandæ˜¯å¦é€šè¿‡interactiveæ–¹å¼è°ƒç”¨">å¦‚ä½•åˆ†è¾¨Commandæ˜¯å¦é€šè¿‡Interactiveæ–¹å¼è°ƒç”¨<a hidden class="anchor" aria-hidden="true" href="#å¦‚ä½•åˆ†è¾¨commandæ˜¯å¦é€šè¿‡interactiveæ–¹å¼è°ƒç”¨">#</a></h3>
<p>ä¸€ä¸ªæ¯”è¾ƒå¥½çš„æ–¹æ³•æ˜¯åœ¨interactive formä¸­è®¾ç½®æŸä¸ªæ ‡è¯†ä¸ºénil. ä¾‹å¦‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defun foo (<span style="color:#66d9ef">&amp;optional</span> print-message)
  (interactive <span style="color:#e6db74">&#34;p&#34;</span>)
  (when print-message
    (<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;foo&#34;</span>)))
</code></pre></div><p>å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨å‡½æ•°`called-interactively-p'</p>
<ul>
<li>(called-interactively-p kind)</li>
</ul>
<p>è‹¥æ­£åœ¨æ‰§è¡Œçš„functionæ˜¯é€šè¿‡`call-interactively&rsquo;è°ƒç”¨çš„,åˆ™è¿”å›t</p>
<p>å‚æ•°kindåªèƒ½æ˜¯&rsquo;interactiveæˆ–&rsquo;any</p>
<p>è‹¥å‚æ•°kindä¸º&rsquo;interactive,åˆ™åªæœ‰å½“functionæ˜¯ç›´æ¥ç”±ç”¨æˆ·è°ƒç”¨çš„æƒ…å†µä¸‹,æ‰è¿”å›t(ä¾‹å¦‚if the user typed a key sequence bound to the calling function, but <span class="underline">not</span> if the user ran a keyboard macro that called the function)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defun foo ()
  (interactive)
  (when (called-interactively-p <span style="color:#e6db74">&#39;any</span>)
    (<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;Interactive!&#34;</span>)
    <span style="color:#e6db74">&#39;foo-called-interactively</span>))

<span style="color:#75715e">;; Type `M-x foo&#39;.</span>
-| Interactive!

(foo)
=&gt; ni
</code></pre></div><p>è‹¥å‚æ•°kindä¸º&rsquo;any,åˆ™åŒ…æ‹¬keyboard macroåœ¨å†…,ä¹Ÿè¿”å›t</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defun bar ()
  (interactive)
  (<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;%s&#34;</span> (<span style="color:#a6e22e">list</span> (foo) (called-interactively-p <span style="color:#e6db74">&#39;any</span>))))

<span style="color:#75715e">;; Type `M-x bar&#39;.</span>
-| (<span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)
</code></pre></div><h3 id="generic-command">generic command<a hidden class="anchor" aria-hidden="true" href="#generic-command">#</a></h3>
<p>ç¬¬ä¸€æ¬¡æ‰§è¡Œç”¨M-x COMMAND&lt;RET&gt;æ¥æ‰§è¡Œgeneric command,Emacsä¼šæç¤ºä½ é€‰æ‹©å“ªä¸€ç§å…·ä½“å®ç°,å¹¶ä¿å­˜é€‰æ‹©ä¿¡æ¯,ä¸‹ä¸€æ¬¡å°±ä¸ä¼šè¯¢é—®äº†. è‹¥æ‰§è¡Œæ—¶å¸¦äº†prefix argument,åˆ™åˆä¼šé‡å¤è¯¥è¿‡ç¨‹.</p>
<p>COMMANDçš„ä¸åŒå®ç°å­˜å‚¨åœ¨å˜é‡`COMMAND-alternatives&rsquo;ä¸­,åªæœ‰åœ¨è¯¥å˜é‡å­˜åœ¨æ—¶,æ‰èƒ½ä½¿ç”¨å®`define-alternatives&rsquo;å®šä¹‰COMMANDçš„å¦ä¸€ä¸ªå®ç°æ–¹å¼.</p>
<p>If CUSTOMIZATIONS is non-`nil', it should consist of alternating `defcustom' keywords (typically `:group' and `:version') and values to add to the declaration of `COMMAND-alternatives'.</p>
<ul>
<li>å®(define-alternatvies comand &amp;rest customizations)</li>
</ul>
<p>å®šä¹‰æ–°å‘½ä»¤COMMAND,å‚æ•°COMMANDä¸ºä¸€ä¸ªsymbol</p>
<h3 id="è·å–command-loopä¸­çš„ä¿¡æ¯">è·å–Command Loopä¸­çš„ä¿¡æ¯<a hidden class="anchor" aria-hidden="true" href="#è·å–command-loopä¸­çš„ä¿¡æ¯">#</a></h3>
<ul>
<li>last-command</li>
</ul>
<p>ä¸Šæ¬¡è¿è¡Œçš„commandåç§°</p>
<p>å½“ä¸€ä¸ªcommandä»command loopä¸­é€€å‡ºæ—¶,ä¼šä»`this-command&rsquo;ä¸­å¤åˆ¶è¯¥å€¼</p>
<ul>
<li>real-last-command</li>
</ul>
<p>ç±»ä¼¼`last-command',ä½†ä¸ä¼šè¢«Lispç¨‹åºæ‰€ä¿®æ”¹</p>
<ul>
<li>last-repeatable-command</li>
</ul>
<p>ç±»ä¼¼`last-command&rsquo;ä½†ä¸ä¿å­˜input event. è¿™é‡Œé¢ä¿å­˜çš„æ˜¯`repeat&rsquo;å‘½ä»¤ä¼šé‡å¤æ‰§è¡Œçš„command</p>
<ul>
<li>this-command</li>
</ul>
<p>æ­£åœ¨æ‰§è¡Œçš„å‘½ä»¤åç§°,ä½†æœ‰äº›å‘½ä»¤ä¼šåœ¨æ‰§è¡Œæ—¶äººå·¥ä¿®æ”¹è¯¥å€¼</p>
<ul>
<li>this-original-command</li>
</ul>
<p>ç±»ä¼¼this-command,ä½†å½“command remappingå‘ç”Ÿæ—¶,`this-command&rsquo;å­˜å‚¨çš„æ˜¯å®é™…è¿è¡Œçš„commandåç§°,è€Œ`this-original-command&rsquo;å­˜å‚¨çš„æ˜¯è§¦å‘çš„åŸå§‹commandçš„åç§°</p>
<ul>
<li>(this-command-keys)</li>
</ul>
<p>è¿”å›è°ƒç”¨commandçš„key sequence,è¿”å›ç±»å‹ä¸ºstringæˆ–vector</p>
<p>ä½†è‹¥commandè°ƒç”¨äº†`read-key-sequence',åˆ™è¿”å›çš„æ˜¯æœ€åè¯»å–åˆ°çš„key sequence</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">this-command-keys</span>)
<span style="color:#75715e">;; Now use `C-u C-x C-e&#39; to evaluate that.</span>
=&gt; <span style="color:#e6db74">&#34;^U^X^E&#34;</span>
</code></pre></div><ul>
<li>(this-command-keys-vector)</li>
</ul>
<p>ç±»ä¼¼`this-command-keys',åªæ˜¯è¿”å›çš„å€¼æ€»æ˜¯vector</p>
<ul>
<li>(clear-this-command-keys &amp;optional keep-record)</li>
</ul>
<p>This function empties out the table of events for `this-command-keys' to return.</p>
<p>Unless KEEP-RECORD is non-`nil', it also empties the records that the function `recent-keys' will subsequently return.</p>
<p>ä¸€èˆ¬å¸¸ç”¨äºè¯»å–ä¸€ä¸ªå¯†ç å</p>
<ul>
<li>last-nomenu-event</li>
</ul>
<p>è¯¥å˜é‡æ–¥å€™æœ€åå‘ç”Ÿçš„input event(ä¸åŒ…æ‹¬mouse menu event)</p>
<p>ä½¿ç”¨è¯¥å˜é‡çš„ä¸€ä¸ªåœºæ™¯æ˜¯ç”¨æ¥å‘Šè¯‰`x-popup-menu&rsquo;åœ¨å“ªé‡Œå¼¹å‡ºä¸€ä¸ªmenu. åœ¨`y-or-n-p&rsquo;å†…ä¹Ÿç”¨åˆ°äº†è¯¥å˜é‡å€¼</p>
<ul>
<li>last-command-event</li>
</ul>
<p>This variable is set to the last input event that was read by the command loop as part of a command</p>
<p>åœ¨`self-insert-command&rsquo;ä¸­ç”¨åˆ°è¯¥å˜é‡æ¥å†³å®šæ’å…¥å“ªä¸ªcharacter</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">last-command-event
<span style="color:#75715e">;; Now use `C-u C-x C-e&#39; to evaluate that.</span>
=&gt; <span style="color:#ae81ff">5</span>

<span style="color:#75715e">;; The value is 5 because that is the ASCII code for `C-e&#39;.</span>
</code></pre></div><ul>
<li>last-event-frame</li>
</ul>
<p>è¯¥å˜é‡è®°å½•äº†æœ€åçš„input eventæ˜¯åœ¨å“ªä¸ªframeä¸­è°ƒç”¨çš„.</p>
<p>Usually this is the frame that was selected when the event was generated, but if that frame has redirected input focus to another frame, the value is the frame to which the event was redirected.</p>
<h3 id="commandçš„prefix-argument">Commandçš„prefix argument<a hidden class="anchor" aria-hidden="true" href="#commandçš„prefix-argument">#</a></h3>
<p>prefix argumentæœ‰ä¸¤ç§è¡¨ç°å½¢å¼:&ldquo;raw&quot;å’Œ&quot;numeric&rdquo;. coomand loopå†…éƒ¨,å’Œlispå˜é‡ä½¿ç”¨rawè¡¨ç°å½¢å¼</p>
<p>Here are the possible values of a raw prefix argument:</p>
<ul>
<li>
<p>`nil', meaning there is no prefix argument.
Its numeric value is 1, but numerous commands make a distinction between `nil' and the integer 1.</p>
</li>
<li>
<p>An integer, which stands for itself.</p>
</li>
<li>
<p>A list of one element, which is an integer.
This form of prefix argument results from one or a succession of `C-u&rsquo;s with no digits.
The numeric value is the integer in the list, but some commands make a distinction between such a list and an integer alone.</p>
</li>
<li>
<p>The symbol `-'.
This indicates that `M&ndash;' or `C-u -' was typed, without following digits.
The equivalent numeric value is -1, but some commands make a distinction between the integer -1 and the symbol `-'.</p>
</li>
<li>
<p>(prefix-numeric-value arg)</p>
</li>
</ul>
<p>è¿™é‡Œçš„argä¸ºrawæ ¼å¼çš„prefix argument. è¯¥å‡½æ•°å°†argè½¬æ¢ä¸ºå¯¹åº”çš„numericæ ¼å¼.</p>
<p>è‹¥argä¸ºnil,åˆ™è¿”å›1</p>
<p>è‹¥argä¸º-,åˆ™è¿”å›-1</p>
<p>è‹¥argä¸ºæ•°å­—,åˆ™è¿”å›è¯¥æ•°å­—</p>
<p>è‹¥argä¸ºlist,åˆ™è¿”å›(car arg)</p>
<ul>
<li>current-prefix-arg</li>
</ul>
<p>è¯¥å˜é‡å­˜å‚¨çš„æ˜¯å½“å‰å‘½ä»¤çš„raw prefix argument.</p>
<p>commandå¯ä»¥ç›´æ¥æ£€æŸ¥è¯¥å˜é‡çš„å€¼,ä½†å¤§å¤šæ•°æ˜¯ä½¿ç”¨`(interactive &ldquo;P&rdquo;)&lsquo;æ¥è·å–è¯¥å‚æ•°çš„å€¼</p>
<ul>
<li>prefix-arg</li>
</ul>
<p>ä¸‹ä¸€ä¸ªå‘½ä»¤ä½¿ç”¨çš„raw prefix argument.</p>
<p>ç±»ä¼¼`universal-argument&rsquo;è¿™æ ·çš„å‡½æ•°,é€šè¿‡è®¾ç½®è¯¥å˜é‡æ¥ä¸ºæ¥ä¸‹æ¥è¦æ‰§è¡Œçš„å‘½ä»¤è®¾ç½®prefix argument</p>
<ul>
<li>last-prefix-arg</li>
</ul>
<p>ä¸Šä¸€ä¸ªcommandçš„raw prefix argument</p>
<ul>
<li>(universal-argument)</li>
</ul>
<p>è¯¥å‘½ä»¤è¯»å–ç”¨æˆ·çš„è¾“å…¥,å¹¶å°†ç”¨æˆ·çš„è¾“å…¥å€¼è®¾ç½®ä¸ºå˜é‡`prefix-arg&rsquo;çš„å€¼,è¿™æ ·å°±ä¸ºä¸‹ä¸€ä¸ªå¾…æ‰§è¡Œçš„commandè®¾ç½®äº†prefix argument</p>
<p>å°å¿ƒä½¿ç”¨è¯¥å‡½æ•°</p>
<ul>
<li>(digit-argument arg)</li>
</ul>
<p>This command adds to the prefix argument for the following command.
The argument ARG is the raw prefix argument as it was before this command;
it is used to compute the updated prefix argument.</p>
<ul>
<li>(negative-argument arg)</li>
</ul>
<p>This command adds to the numeric argument for the next command.
The argument ARG is the raw prefix argument as it was before this command;
its value is negated to form the new prefix argument</p>
<h3 id="quitting">Quitting<a hidden class="anchor" aria-hidden="true" href="#quitting">#</a></h3>
<p>å½“Lispå‡½æ•°æ­£åœ¨è¿è¡Œæ—¶,å¯ä»¥æŒ‰ä¸‹`C-g&rsquo;,è®©Emacsé€€å‡ºå½“å‰çš„å·¥ä½œ.</p>
<p>ç„¶è€Œå½“command loopåœ¨ç­‰å¾…keyboard inputæ—¶,æŒ‰ä¸‹C-gå¹¶ä¸ä¼šå¼•å‘quitting,Emacsåªæ˜¯æŠŠå®ƒå½“æˆä¸€ä¸ªæ™®é€šçš„input character.</p>
<p>when `C-g' follows a prefix key, they combine to form an undefined key. The effect is to cancel the prefix key as well as any prefix argument.</p>
<p>è€Œå½“åœ¨minibufferä¸­è¾“å…¥æ—¶,`C-g&rsquo;çš„æ„ä¹‰åˆä¸ä¸€æ ·,å®ƒä¸­æ–­å¹¶é€€å‡ºminibuffer</p>
<p>`C-g&rsquo;é€šè¿‡è®¾ç½®å˜é‡`quit-flag&rsquo;ä¸ºtæ¥è¡¨ç¤ºè¦quit,Emacsæ£€æŸ¥è¯¥å˜é‡çš„å€¼å¹¶äº§ç”Ÿquitting</p>
<p>è‹¥æƒ³åœ¨æ‰§è¡ŒLispå‡½æ•°æ—¶é˜»æ­¢quittingçš„äº§ç”Ÿ,åªéœ€è¦å°†å˜é‡`inhibit-quit&rsquo;ç»‘å®šä¸ºénilå€¼å³å¯.è¿™æ—¶,å³ä½¿`quit-falg&rsquo;è®¾ç½®ä¸ºt,ä¾ç„¶ä¸ä¼šäº§ç”Ÿquitting</p>
<ul>
<li>quit-flag</li>
</ul>
<p>è¯¥å€¼ä¸ºénil,é™¤é`inhibit-quit&rsquo;è¢«è®¾ç½®ä¸ºénil,å¦åˆ™Emacsç«‹å³é€€å‡ºå½“å‰æ‰§è¡Œçš„ä»»åŠ¡.</p>
<ul>
<li>inhibit-quit</li>
</ul>
<p>å½“`quit-flag&rsquo;è®¾ç½®ä¸ºénilæ—¶,è¯¥å˜é‡å†³å®šEmacsæ˜¯å¦æ‰§è¡Œé€€å‡º</p>
<ul>
<li>å®(with-local-quit body&hellip;)</li>
</ul>
<p>è¯¥å®æ‰§è¡Œbody,æ‰§è¡Œè¿‡ç¨‹ä¸­,å³ä½¿`inhibit-quit&rsquo;è®¾ç½®ä¸ºénil,ä¹Ÿè¿è¡Œäº§ç”Ÿquitting.</p>
<p>è‹¥bodyè¿è¡Œè¿‡ç¨‹ä¸­,è¢«quittingä¸­æ–­,åˆ™è¿”å›nil,å¦åˆ™è¿”å›æœ€åè¯­å¥çš„æ‰§è¡Œç»“æœ.</p>
<p>è‹¥è¿›å…¥`with-local-quit&rsquo;æ—¶,`inhibit-quit&rsquo;ä¸ºnil,åˆ™æ‰§è¡Œbodyæ—¶è‹¥äº§ç”Ÿquitting,åˆ™Emacsè®¾ç½®`quit-flag&rsquo;å¹¶äº§ç”Ÿä¸€ä¸ªæ™®é€šquit.</p>
<p>è‹¥è¿›å…¥`with-local-quit&rsquo;æ˜¯,`inhibit-quit&rsquo;ä¸ºénil,è¿™æ—¶æ™®é€šçš„quittingè¢«æ¨è¿Ÿ. énilçš„`quit-flag&rsquo;ä¼šè§¦å‘ä¸€ç§ç‰¹æ®Šçš„quit&ndash;local quit. å®ƒä¼šç»ˆæ­¢bodyçš„æ‰§è¡Œå¹¶é€€å‡º`with-local-quit'. <strong>é€€å‡º`with-local-quit&rsquo;åçš„`quit-flag&rsquo;ä¾ç„¶ä¸ºénil</strong>.</p>
<ul>
<li>(keyboard-quit)</li>
</ul>
<p>è¯¥å‡½æ•°è®¾ç½®äº§ç”Ÿquitçš„æ¡ä»¶,é»˜è®¤ç»‘å®šåˆ°C-g</p>
<h3 id="keyboard-macro">Keyboard Macro<a hidden class="anchor" aria-hidden="true" href="#keyboard-macro">#</a></h3>
<p>ä¸€ä¸ª&quot;keyboard macro&quot;æŒ‡çš„æ˜¯ä¸€ç³»åˆ—çš„input event,è¿™ä¸€ç³»åˆ—çš„input eventå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªcommand.(A &ldquo;keyboard macro&rdquo; is a canned sequence of input events that can be considered a command and made the definition of a key)</p>
<p>keyboard macroçš„lispè¡¨ç°å½¢å¼ä¸ºä¸€ä¸ªstringæˆ–ç”±eventç»„æˆçš„vector</p>
<ul>
<li>(execute-kbd-macro kbdmacro &amp;optional count loopfunc)</li>
</ul>
<p>æŠŠkbdmacroå½“ä½œä¸€ç³»åˆ—çš„eventæ¥æ‰§è¡Œ.</p>
<p>è‹¥kbdmacroä¸ºstringæˆ–vector,åˆ™å°±å¥½åƒç”¨æˆ·ç›´æ¥è¾“å…¥ä¸€æ ·.  The sequence is <span class="underline">not</span> expected to be a single key sequence</p>
<p>è‹¥kbdmacroä¸ºsymbol,åˆ™æ‰§è¡Œè¯¥symbolçš„å‡½æ•°å®šä¹‰,è‹¥è¯¥symbolçš„å‡½æ•°å®šä¹‰è¿˜æ˜¯ä¸€ä¸ªsymbol,åˆ™ä¸æ–­çš„é€’å½’ä¸‹å». æœ€ç»ˆ,å…¶å‡½æ•°å®šä¹‰åº”è¯¥æ˜¯ä¸€ä¸ªstringæˆ–vector,å¦åˆ™ä¼šæŠ›å‡ºerror</p>
<p>å‚æ•°countè¡¨ç¤ºé‡å¤æ‰§è¡Œå¤šå°‘æ¬¡kdbmacro,è‹¥countä¸ºnil,åˆ™æ‰§è¡Œä¸€æ¬¡,è‹¥countä¸º0,è¡¨ç¤ºæ‰§è¡Œæ— ç©·å¤šæ¬¡</p>
<p>è‹¥loopfuncä¸ºénil,åˆ™é…æ¬¡å¾ªç¯éƒ½ä¼šä¸å¸¦å‚æ•°è°ƒç”¨è¯¥å‡½æ•°,æˆ–å‡½æ•°è¿”å›nil,åˆ™åœæ­¢æ‰§è¡Œè¯¥macro</p>
<ul>
<li>executing-kbd-macro</li>
</ul>
<p>å½“å‰æ­£åœ¨æ‰§è¡Œçš„kbd-macro,nilè¡¨ç¤ºæ²¡æœ‰åœ¨æ‰§è¡Œkbd-macro</p>
<ul>
<li>defining-kbd-macro</li>
</ul>
<p>åªæœ‰å½“æ­£åœ¨å®šä¹‰çš„kbd-macroçš„æƒ…å†µä¸‹,è¯¥å€¼æ‰ä¸ºénil.</p>
<p>è¯¥å€¼ä¸º&rsquo;appendè¡¨ç¤ºæ­£åœ¨ä¸ºç°æœ‰çš„macroæ·»åŠ å®šä¹‰( The value is `append' while appending to the definition of an existing macro)</p>
<p>å‘½ä»¤`start-kbd-macro',`kmacro-start-macro&rsquo;å’Œ`end-kbd-macro&rsquo;ä¼šè®¾ç½®è¯¥å€¼&ndash;å°½é‡ä¸è¦è‡ªå·±å»è®¾ç½®è¯¥å€¼</p>
<p>The variable is always local to the current terminal and cannot be buffer-local</p>
<ul>
<li>last-kbd-macro</li>
</ul>
<p>æœ€è¿‘æ‰€å®šä¹‰çš„kbd-macro</p>
<ul>
<li>kbd-macro-termination-hook</li>
</ul>
<p>å½“keyboard macroæ‰§è¡Œå®Œæˆåè§¦å‘è¯¥hook(ä¸ç®¡æ˜¯æ­£å¸¸ç»“æŸè¿˜æ˜¯å¼‚å¸¸ç»“æŸéƒ½è§¦å‘)</p>
<h2 id="inputevent">InputEvent<a hidden class="anchor" aria-hidden="true" href="#inputevent">#</a></h2>
<p>Emacs Command Loopè¯»å–ä¸€ç³»åˆ—çš„&quot;input event&quot;æ¥è¡¨ç¤ºé”®ç›˜/é¼ æ ‡çš„åŠ¨ä½œ,æˆ–å‘é€ç»™Emacsçš„ç³»ç»Ÿäº‹ä»¶.</p>
<p>è¡¨ç¤ºé”®ç›˜åŠ¨ä½œçš„event,ç”¨charæˆ–symbolçš„æ ¼å¼è¡¨ç¤º. å…¶ä»–ç±»å‹çš„eventç»Ÿä¸€ç”¨listæ¥è¡¨ç¤º.</p>
<ul>
<li>(eventp object)</li>
</ul>
<p>è‹¥objectä¸ºinput eventæˆ–event type,åˆ™è¿”å›énil</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯,ä»»ä½•symbolæ—¢å¯ä»¥ç”¨æ¥ä½œä¸ºevent,ä¹Ÿå¯ä»¥ä½œä¸ºevent type,å› æ­¤eventpä¸èƒ½åŒºåˆ†ä¸€ä¸ªsymbolæ˜¯è¢«ç”¨äºä½œä¸ºevent,è¿˜æ˜¯event type.</p>
<h3 id="keyboard-event">Keyboard Event<a hidden class="anchor" aria-hidden="true" href="#keyboard-event">#</a></h3>
<p>é”®ç›˜è¾“å…¥å¯ä»¥åˆ†ä¸ºä¸¤ç±»:æ™®é€šçš„æŒ‰é”®å’ŒåŠŸèƒ½é”®.</p>
<h4 id="æ™®é€šæŒ‰é”®äº‹ä»¶">æ™®é€šæŒ‰é”®äº‹ä»¶<a hidden class="anchor" aria-hidden="true" href="#æ™®é€šæŒ‰é”®äº‹ä»¶">#</a></h4>
<p>æ™®é€šæŒ‰é”®äº§ç”Ÿçš„event,åœ¨lispä¸­ç”¨characteræ¥è¡¨ç¤º.</p>
<p>The event type of a character event is the character itself (an integer)</p>
<p>ä¸€ä¸ªinput character eventç”±&quot;basic code&rdquo;(å–å€¼èŒƒå›´ä»0åˆ°524287)åŠ ä¸Š&quot;modifier bits&quot;ç»„æˆ</p>
<p>modifier bitsåŒ…æ‹¬:</p>
<table>
<thead>
<tr>
<th>è¯´æ˜</th>
<th>å€¼</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>meta</td>
<td>2**27</td>
<td></td>
</tr>
<tr>
<td>control</td>
<td>2**26</td>
<td>C-aè¿™æ ·çš„å·²ç»å®šä¹‰åœ¨ASCIIä¸­çš„æ§åˆ¶å­—ç¬¦,ç”±äºå·²ç»æœ‰äº†ç‰¹å®šçš„basic codeäº†,å› æ­¤Emacsä¸éœ€è¦ä½¿ç”¨special bitæ¥æŒ‡ç¤ºå®ƒ</td>
</tr>
<tr>
<td>shift</td>
<td>2**25</td>
<td>å¯¹äºå­—ç¬¦,æ•°å­—å’Œæ ‡ç‚¹æ¥è¯´,basic codeä¸­å·²ç»å®šä¹‰ç›¸å…³çš„shift keyæŒ‰ä¸‹åçš„å¯¹åº”é”®å€¼,å¯¹äºè¿™äº›æŒ‰é”®,Emacsä¸ä½¿ç”¨special bit</td>
</tr>
<tr>
<td>hyper</td>
<td>2**24</td>
<td></td>
</tr>
<tr>
<td>super</td>
<td>2**23</td>
<td></td>
</tr>
<tr>
<td>alt</td>
<td>2**22</td>
<td></td>
</tr>
</tbody>
</table>
<p>æœ€å¥½ä¸è¦ç›´æ¥åœ¨ç¨‹åºä¸­ä½¿ç”¨specific bit(å› ä¸ºè¿™äº›bitçš„ä½ç½®å¯èƒ½ä¼šæ”¹å˜)</p>
<p>åº”è¯¥ä½¿ç”¨`event-modifiers&rsquo;å‡½æ•°æ¥æµ‹è¯•specific bitæ˜¯å¦è¢«è®¾ç½®</p>
<table>
<thead>
<tr>
<th>ç®€å†™å½¢å¼</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>A-</td>
<td>alt</td>
</tr>
<tr>
<td>C-</td>
<td>control</td>
</tr>
<tr>
<td>H</td>
<td>hyper</td>
</tr>
<tr>
<td>M-</td>
<td>meta</td>
</tr>
<tr>
<td>S-</td>
<td>shift</td>
</tr>
<tr>
<td>s-</td>
<td>super</td>
</tr>
</tbody>
</table>
<h4 id="åŠŸèƒ½é”®äº‹ä»¶">åŠŸèƒ½é”®äº‹ä»¶<a hidden class="anchor" aria-hidden="true" href="#åŠŸèƒ½é”®äº‹ä»¶">#</a></h4>
<p>åŠŸèƒ½é”®eventåœ¨elispä¸­ç”¨symbolæ¥è¡¨ç¤º. ä¸€èˆ¬æ¥è¯´,symbolçš„åç§°å°±æ˜¯åŠŸèƒ½é”®çš„label(å…¨å°äº›å½¢å¼). ä¾‹å¦‚&lt;F1&gt;äº§ç”Ÿçš„input eventè¡¨ç¤ºä¸ºç¬¦å·&rsquo;f1</p>
<p>The event type of a function key event is the event symbol itself</p>
<p>è¿˜æœ‰ä¸€äº›åŠŸèƒ½é”®eventçš„è¡¨ç¤ºä¸åŠŸèƒ½é”®çš„labelä¸ä¸€è‡´çš„æƒ…å†µ:</p>
<ul>
<li>
<p>`backspace',`tab',`newline',`return',`delete'</p>
</li>
<li>
<p>`left',`up',`right',`down'</p>
<p>å…‰æ ‡ç®­å¤´æŒ‰é”®</p>
</li>
<li>
<p>`kp-add',`kp-decimal',`kp-divide',&hellip;</p>
<p>å³è¾¹å°é”®ç›˜çš„åŠ å‡ä¹˜é™¤</p>
</li>
<li>
<p>`kp-0',`kp-1',&hellip;</p>
<p>å³è¾¹å°é”®ç›˜çš„æ•°å­—é”®</p>
</li>
<li>
<p>`kp-f1',`kp-f2'&hellip;</p>
<p>å³è¾¹å°é”®ç›˜çš„fn</p>
</li>
<li>
<p>`kp-hoome',`kp-left',`kp-up',`kp-right',`kp-down'</p>
<p>å³è¾¹å°é”®ç›˜çš„å¯¹åº”åŠŸèƒ½é”®</p>
</li>
<li>
<p>`kp-prior',`kp-next',`kp-end',`kp-begin',`kp-insert',`kp-delete'</p>
<p>å³è¾¹å°é”®ç›˜çš„å¯¹åº”åŠŸèƒ½é”®</p>
</li>
</ul>
<h4 id="ä»¥å­—ç¬¦ä¸²è¡¨ç¤ºkeyboard-event">ä»¥å­—ç¬¦ä¸²è¡¨ç¤ºkeyboard event<a hidden class="anchor" aria-hidden="true" href="#ä»¥å­—ç¬¦ä¸²è¡¨ç¤ºkeyboard-event">#</a></h4>
<p>ç°åœ¨ä¸€èˆ¬ä¸å»ºè®®ä½¿ç”¨stringæ¥è¡¨ç¤ºkeyboard event,æœ€å¥½ä½¿ç”¨vectorä»£æ›¿.</p>
<p>å¯ä»¥ä½¿ç”¨å‡½æ•°`listify-key-sequence&rsquo;æ¥è®²stringæ ¼å¼çš„keyboard eventè½¬æ¢ä¸ºlist,æ–¹ä¾¿è§£æå‡ºå…¶ä¸­çš„å†…å®¹.</p>
<p>éœ€è¦æ³¨æ„:å½“ä½¿ç”¨å­—ç¬¦ä¸²æ¥è¡¨ç¤ºkeyboard eventæ—¶,åªæœ‰Meta modifieræ‰èƒ½ä»¥'\M-&lsquo;çš„æ ¼å¼è¡¨ç¤ºåœ¨stringä¸­,å…¶ä»–modifieréƒ½æ— æ³•è¡¨ç¤º.</p>
<p>ä¸‹é¢æ˜¯ä¸€äº›è½¬æ¢è§„åˆ™:</p>
<ul>
<li>è‹¥keyboard characterçš„å€¼èŒƒå›´ä¸º0åˆ°127,åˆ™å¯ä»¥ç›´æ¥å†™è¿›string</li>
<li>è‹¥ä¸Šé¢çš„keyboard characteråŒæ—¶æŒ‰ä¸‹äº†metaé”®(å³2**27 åˆ° 2**27+127),åˆ™éœ€è¦è½¬æ¢ä¸º(2**7åˆ°2**7+127)</li>
<li>è‹¥æ˜¯å¤§äº256çš„éASCIIå­—ç¬¦,å¯ä»¥åŒ…å«è¿›multibyte stringä¸­</li>
<li>å…¶ä»–å­—ç¬¦(128-255èŒƒå›´çš„å­—ç¬¦)æ— æ³•ç”¨stringè¡¨ç¤º.</li>
</ul>
<h3 id="mouse-events">Mouse Events<a hidden class="anchor" aria-hidden="true" href="#mouse-events">#</a></h3>
<p>Emacsæ”¯æŒ4ç§é¼ æ ‡äº‹ä»¶:click event,drag event,button-down eventå’Œmotion event.</p>
<p>æ‰€æœ‰çš„é¼ æ ‡äº‹ä»¶éƒ½ç”¨listæ¥è¡¨ç¤º,ä¸”(car list)ä¸ºevent type(æä¾›äº†æŒ‰ä¸‹çš„æ˜¯å“ªä¸ªé¼ æ ‡æŒ‰é”®,åŒæ—¶æœ‰å“ªä¸ªmodifier keyè¢«æŒ‰ä¸‹äº†,è¿™äº›ä¿¡æ¯). (cdr list)åˆ™æä¾›äº†ä½ç½®ä¸æ—¶é—´çš„ä¿¡æ¯</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯,é¼ æ ‡äº‹ä»¶æ˜¯ç”±é¼ æ ‡æ‰€åœ¨bufferçš„keymapæ¥å¤„ç†çš„,è€Œä¸æ˜¯å…‰æ ‡æ‰€åœ¨çš„bufferçš„keymapæ¥å¤„ç†.</p>
<h4 id="ç‚¹å‡»äº‹ä»¶">ç‚¹å‡»äº‹ä»¶<a hidden class="anchor" aria-hidden="true" href="#ç‚¹å‡»äº‹ä»¶">#</a></h4>
<p>ç‚¹å‡»äº‹ä»¶çš„ç»“æœä¸º&rsquo;(EVENT-TYPE PSITIION CLICK_COUNT)</p>
<p>å…¶ä¸­:</p>
<ul>
<li>
<p>EVENT-TYPE</p>
<p>è¯¥symbolæ ‡è¯†é¼ æ ‡çš„å“ªä¸ªæŒ‰é”®è¢«ç‚¹å‡»,å¯é€‰å€¼ä¸º&rsquo;mouse-1,&lsquo;mouse-2,&lsquo;mouse-3</p>
<p>å½“ç„¶,ä¹Ÿå¯ä»¥é€šè¿‡æ·»åŠ å‰ç¼€`A-&rsquo;,`C-&rsquo;,`H-',`M-',`S-&lsquo;å’Œ`s-&lsquo;æ¥æ ‡è¯†ç‚¹å‡»æ—¶åŒæ—¶æŒ‰ä¸‹äº†å“ªä¸ªmodifier key</p>
<p>è¯¥symbolåŒæ—¶ä¹Ÿä½œæ¥æ ‡è¯†eventçš„event type</p>
</li>
<li>
<p>POSTION</p>
<p>POSTIONå…·ä½“çš„æ ¼å¼,æ ¹æ®ç‚¹å‡»çš„ä½ç½®è€Œä¸åŒ.</p>
<p>å½“ç‚¹å‡»åœ¨text area,mode-line,header-lineæˆ–areaçš„è¾¹ç•Œæ—¶,POSTIONçš„æ ¼å¼ä¸º:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">(WINDOW POS-OR-AREA (X . Y) TIMESTAMP
  OBJECT TEXT-POS (COL . ROW)
  IMAGE (DX . DY) (WIDTH . HEIGHT))
</code></pre></div><p>å…¶ä¸­:</p>
<ul>
<li>
<p>WINDOW</p>
<p>è¡¨ç¤ºç‚¹å‡»çš„é‚£ä¸ªwindow</p>
</li>
<li>
<p>POS-OR-AREA</p>
</li>
</ul>
<p>è‹¥ç‚¹å‡»çš„ä½ç½®åœ¨text areaå†…,åˆ™è¡¨ç¤ºç‚¹å‡»å¤„çš„buffer postion</p>
<p>å¦åˆ™,å®ƒçš„å€¼ä¸ºè¡¨ç¤ºwindow areaçš„symbol:&lsquo;mode-line,&lsquo;header-line,&lsquo;vertical-line,&lsquo;left-margin,&lsquo;right-margin,&lsquo;left-fringe,&lsquo;right-fringe</p>
<ul>
<li>X,Y</li>
</ul>
<p>ç‚¹å‡»çš„ä½ç½®ç›¸å¯¹text areaå·¦ä¸Šè§’çš„åæ ‡</p>
<ul>
<li>TIMESTAMP</li>
</ul>
<p>äº‹ä»¶å‘ç”Ÿçš„æ—¶é—´</p>
<ul>
<li>OBJECT</li>
</ul>
<p>è‹¥ç‚¹å‡»çš„ä½ç½®æ²¡æœ‰stringç±»å‹çš„text property,åˆ™ä¸ºnil.</p>
<p>å¦åˆ™ä¸º&rsquo;(ç‚¹å‡»ä½ç½®çš„å¸¦å±æ€§string . stringçš„ä½ç½®)</p>
<ul>
<li>TEXT-POS</li>
</ul>
<p>å¯¹äºç‚¹å‡»åœ¨marginal areaæˆ–fringeä¸Šæ—¶,è¯¥å€¼ä¸ºå¯¹åº”è¡Œç¬¬ä¸€ä¸ªå­—ç¬¦çš„buffer postion.</p>
<p>å…¶ä»–æƒ…å†µä¸‹,åˆ™å°±æ˜¯å½“å‰buffer position</p>
<ul>
<li>COL,ROW</li>
</ul>
<p>ç‚¹å‡»ä½ç½®ç›¸å¯¹text areaå·¦ä¸Šè§’çš„è¡Œåˆ—æ•°</p>
<ul>
<li>IMAGE</li>
</ul>
<p>è‹¥ç‚¹å‡»çš„ä½ç½®æ˜¯ä¸€ä¸ªIMAGE,åˆ™è¯¥å€¼ä¸º`find-image&rsquo;è¿”å›çš„image object</p>
<p>å¦åˆ™ä¸ºnil</p>
<ul>
<li>DX,DY</li>
</ul>
<p>è‹¥OBJECTä¸ºnil,ä¸ºç‚¹å‡»çš„ä½ç½®ç›¸å¯¹ç‚¹å‡»åˆ°çš„å­—ç¬¦å·¦ä¸Šè§’çš„åæ ‡</p>
<p>å¦åˆ™,ä¸ºç‚¹å‡»çš„ä½ç½®ç›¸å¯¹OBJECTå·¦ä¸Šè§’çš„åæ ‡</p>
<ul>
<li>WIDTH,HEIGTH</li>
</ul>
<p>OBJECTçš„å®½åº¦ä¸é«˜åº¦,è‹¥OBJECTä¸ºnil,åˆ™ä¸ºç‚¹å‡»å¤„æ–‡æœ¬çš„å®½åº¦ä¸é«˜åº¦</p>
<p>è‹¥ç‚¹å‡»çš„åœ°æ–¹ä¸ºscroll bar,åˆ™POSTIONçš„æ ¼å¼ä¸º</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">(WINDOW AREA (PORTION . WHOLE) TIMESTAMP PART
</code></pre></div><p>å…¶ä¸­:</p>
<ul>
<li>WINDOW</li>
</ul>
<p>ç‚¹å‡»åˆ°çš„scroll baræ‰€å±çš„window</p>
<ul>
<li>AREA</li>
</ul>
<p>ä¸º&rsquo;vertical-scroll-bar</p>
<ul>
<li>PORTION</li>
</ul>
<p>ä»scrollbarçš„æœ€é¡¶ç«¯åˆ°ç‚¹å‡»ä½ç½®çš„é•¿åº¦,ä»¥åƒç´ ä¸ºå•ä½</p>
<p>On some toolkits, including GTK+, Emacs cannot extract this data, so the value is always `0&rsquo;.</p>
<ul>
<li>WHOLE</li>
</ul>
<p>scrollbarçš„æ•´ä¸ªé•¿åº¦,ä»¥åƒç´ ä¸ºå•ä½</p>
<p>On some toolkits, including GTK+, Emacs cannot extract this data, so the value is always `0&rsquo;.</p>
<ul>
<li>TIMESTAMP</li>
</ul>
<p>äº‹ä»¶å‘ç”Ÿçš„æ—¶é—´</p>
<ul>
<li>PART</li>
</ul>
<p>ç‚¹å‡»åœ¨äº†scrollbarçš„å“ªä¸ªä½ç½®,å¯ä»¥ä¸º&rsquo;handle,&lsquo;above-handle,&lsquo;below-handle,&lsquo;up,&lsquo;down</p>
</li>
<li>
<p>CLICK-COUNT</p>
<p>å¿«é€Ÿç‚¹å‡»çš„æ¬¡æ•°</p>
</li>
</ul>
<h4 id="æ‹–æ‹½äº‹ä»¶">æ‹–æ‹½äº‹ä»¶<a hidden class="anchor" aria-hidden="true" href="#æ‹–æ‹½äº‹ä»¶">#</a></h4>
<p>æ‹–æ‹½äº‹ä»¶çš„æ ¼å¼ä¸º:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(EVENT-TYPE
 (WINDOW1 START-POSITION)
 (WINDOW2 END-POSITION))
</code></pre></div><p>EVENT-TYPEä»¥`drag-&lsquo;ä¸ºå‰ç¼€,ä¾‹å¦‚`drag-mouse-1&rsquo;è¡¨ç¤ºæŒ‰ä¸‹mouse button 1æ¥æ‹–åŠ¨</p>
<p>æ ¹æ®æ˜¯å¦æŒ‰ä¸‹äº†Modifier Key,è¿˜å¯ä»¥åœ¨`drag-&lsquo;å‰æ·»åŠ `C-&rsquo;,`M-&rsquo;&hellip;ç­‰å‰ç¼€.</p>
<p>WINDOWå’ŒPOSTIONçš„å€¼,åˆ™è·Ÿç‚¹å‡»äº‹ä»¶å®šä¹‰ä¸€æ ·</p>
<p>è‹¥`read-key-sequence&rsquo;æ¥æ”¶åˆ°ä¸€ä¸ªæ‹–æ‹½äº‹ä»¶,ä½†å‘ç°å¹¶æ²¡æœ‰ç›¸åº”çš„key bindingç»‘å®šåˆ°è¿™ä¸ªäº‹ä»¶ä¸Š,è€Œç›¸åº”çš„ç‚¹å‡»äº‹ä»¶æœ‰binding. åˆ™ä¼šè‡ªåŠ¨å°†æ‹–æ‹½äº‹ä»¶è½¬æ¢ä¸ºç‚¹å‡»äº‹ä»¶.</p>
<h4 id="button-downäº‹ä»¶">Button-Downäº‹ä»¶<a hidden class="anchor" aria-hidden="true" href="#button-downäº‹ä»¶">#</a></h4>
<p>Button-Downäº‹ä»¶çš„æ ¼å¼ä¸Clickäº‹ä»¶æ ¼å¼ä¸€æ ·,éƒ½æ˜¯</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(EVENT-TYPE PSITIION CLICK_COUNT)
</code></pre></div><p>ä¸åŒç‚¹åœ¨äºEVENT-TYPEæ˜¯ä»¥`down-&lsquo;ä½œä¸ºå‰ç¼€çš„,æ ¹æ®æ˜¯å¦æŒ‰ä¸‹Modifier key,åœ¨`down-&lsquo;å‰è¿˜æœ‰`C-&lsquo;å’Œ`M-&lsquo;å‰ç¼€</p>
<p>`read-key-sequence&rsquo;å¿½ç•¥ä»»ä½•æ²¡æœ‰command bindingçš„buton-down event.</p>
<h4 id="repeat-event">Repeat Event<a hidden class="anchor" aria-hidden="true" href="#repeat-event">#</a></h4>
<p>è‹¥å¿«é€Ÿç‚¹å‡»åŒä¸€ä¸ªmouse bottonè€Œä¸ç§»åŠ¨mouseä½ç½®çš„è¯,åˆ™Emacsäº§ç”Ÿ&quot;repeat event&quot;</p>
<p>æœ€å¸¸è§çš„&quot;repeat event&quot;å°±æ˜¯&quot;double-click&quot; event(åŒå‡»äº‹ä»¶)</p>
<p>åŒå‡»äº‹ä»¶çš„EVENT-TYPEä»¥`double-&lsquo;ä¸ºå‰ç¼€,æ ¹æ®modifier keyæ˜¯å¦æŒ‰ä¸‹,å¯èƒ½åœ¨`double-&lsquo;å‰æ·»åŠ `M-&rsquo;,`S-&lsquo;ç­‰å‰ç¼€</p>
<p>å½“ç”¨æˆ·æ‰§è¡ŒåŒå‡»æ—¶,å…¶å®äº§ç”Ÿäº†ä¸¤ä¸ªäº‹ä»¶,ç¬¬ä¸€ä¸ªæ˜¯æ™®é€šçš„å•å‡»äº‹ä»¶,ç¬¬äºŒä¸ªä¸ºåŒå‡»äº‹ä»¶. å› æ­¤åœ¨å¤„ç†åŒå‡»äº‹ä»¶å‰å•å‡»äº‹ä»¶çš„ç›¸å…³å‘½ä»¤å·²ç»æ‰§è¡Œäº†.</p>
<p>åŒç†,è‹¥ç‚¹å‡»ä¸€æ¬¡é¼ æ ‡ä¹‹åç«‹å³æŒ‰ä¸‹é¼ æ ‡å¹¶æ‹–åŠ¨é¼ æ ‡,åˆ™äº§ç”Ÿäº†`double-drag&rsquo; event.</p>
<p>è€Œ,åœ¨`double-click&rsquo; eventå’Œ`double-drag&rsquo; eventäº§ç”Ÿå‰,Emacsè¿˜ä¼šäº§ç”Ÿ`double-down&rsquo; event.</p>
<p><strong>æ€»ç»“èµ·æ¥,ä¸€æ¬¡åŒå‡»åŠ¨ä½œä¼šäº§ç”Ÿ4ä¸ªäº‹ä»¶</strong> :down event-&gt;click event-&gt;double-down event-&gt;double-click event.</p>
<p><strong>ä¸€æ¬¡double-dragåŠ¨ä½œä¹Ÿä¼šäº§ç”Ÿ4ä¸ªäº‹ä»¶</strong> :down event-&gt;click event-&gt;double-down event-&gt;double-drag event.</p>
<p>åŒç†,è¿˜æœ‰`triple-down&rsquo;,`triple-click&rsquo;å’Œ`triple-drag&rsquo;</p>
<p><strong>Emacsæœ€å¤šåªäº§ç”Ÿtriple-click event</strong>.</p>
<p>è‹¥æƒ³çŸ¥é“ç²¾ç¡®çš„ç‚¹å‡»å‡ æ¬¡button,ä½¿ç”¨å‡½æ•°`event-click-count&rsquo;</p>
<ul>
<li>
<p>(event-click-count event)</p>
<p>è·å–eventä¸­é¼ æ ‡ç‚¹å‡»çš„æ¬¡æ•°</p>
</li>
<li>
<p>é…ç½®é¡¹double-click-fuzz</p>
<p>å®šä¹‰äº†ä¸¤æ¬¡åŒå‡»ä¹‹é—´,ä½ç½®ä¸èƒ½è¶…è¿‡çš„åƒç´ æ•°</p>
</li>
<li>
<p>é…ç½®é¡¹double-click-time</p>
<p>å®šä¹‰äº†ä¸¤æ¬¡åŒå‡»ä¹‹é—´,ä¸è¶…è¿‡çš„æ—¶é—´,ä»¥æ¯«ç§’ä¸ºå•ä½</p>
<p>nilè¡¨ç¤ºç›´æ¥ä¸æ¢æµ‹multi-click</p>
<p>tè¡¨ç¤ºæ— é™æ—¶é—´.</p>
</li>
</ul>
<h4 id="motion-events">Motion Events<a hidden class="anchor" aria-hidden="true" href="#motion-events">#</a></h4>
<p>åœ¨è¿è¡Œ`trace-mouse&rsquo;çš„bodyæ—¶,ä¸æŒ‰mouse bottonçš„æƒ…å†µä¸‹ç§»åŠ¨mouse,ä¼šäº§ç”Ÿ&quot;mouse motion&quot; event,å®ƒçš„æ ¼å¼ä¸º:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="color:#f92672">&#39;</span>(mouse-movement POSITION)
</code></pre></div><p>è¿™é‡Œçš„POSITIONè·Ÿç‚¹å‡»äº‹ä»¶ä¸­çš„POSITIONä¸€æ ·</p>
<p>åœ¨trace-mouseä¹‹å¤–çš„æƒ…å†µä¸‹,emacsä¸äº§ç”Ÿmouse motion event</p>
<h4 id="focus-events">Focus Events<a hidden class="anchor" aria-hidden="true" href="#focus-events">#</a></h4>
<p>å½“åˆ‡æ¢frameæ—¶,ä¼šäº§ç”ŸFocus Event. å®ƒçš„æ ¼å¼ä¸º:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="color:#f92672">&#39;</span>(switch-frame NEW-FRAME)
</code></pre></div><p>è¿™é‡ŒNEW-FRAMEä¸ºæ–°åˆ‡æ¢åˆ°çš„frame</p>
<p>ç”±äºåœ¨ä¸€ç³»åˆ—æŒ‰é”®åºåˆ—ä¸­é—´äº§ç”Ÿä¸€ä¸ªfocus eventä¼šæ‰°ä¹±åŸæŒ‰é”®åºåˆ—çš„æ‰§è¡Œ,å› æ­¤Emacsä¸ä¼šåœ¨key sequenceä¸­é—´äº§ç”Ÿfocus event.</p>
<p>è‹¥ç”¨æˆ·åœ¨key sequenceä¸­é—´æ›´æ”¹äº†focus,åˆ™Emacsä¼šé‡æ–°æ’åˆ—event,å°†focus eventæ”¾åœ¨multi-event key sequenceçš„æœ€å‰é¢æˆ–æœ€åé¢.</p>
<h4 id="å…¶ä»–system-event">å…¶ä»–System Event<a hidden class="anchor" aria-hidden="true" href="#å…¶ä»–system-event">#</a></h4>
<p>è‹¥ç”¨æˆ·åœ¨key sequenceä¸­é—´å‘ç”Ÿäº†ä¸‹é¢çš„é‚£äº›system event,åˆ™Emacsä¼šé‡æ–°æ’åˆ—event,å°†è¿™äº›system eventæ”¾åœ¨multi-event key sequenceçš„æœ€å‰é¢æˆ–æœ€åé¢.</p>
<ul>
<li>
<p>&lsquo;(delete-frame (FRAME))</p>
<p>è¡¨ç¤ºç”¨æˆ·å¯¹FRAMEå‘é€äº†å…³é—­å‘½ä»¤</p>
</li>
<li>
<p>&lsquo;(iconify-frame (FRAME))</p>
<p>iconifyæŸä¸ªFRAME,é»˜è®¤çš„å®šä¹‰ä¸º`ignore&rsquo;</p>
</li>
<li>
<p>&lsquo;(make-frame-visible (FRAME))</p>
<p>è¡¨ç¤ºç”¨æˆ·deiconified FRAME,é»˜è®¤ä¸º`ignore&rsquo;</p>
</li>
<li>
<p>&lsquo;(wheel-up POSITION) / &lsquo;(wheel-down POSITION)</p>
<p>æ»šåŠ¨é¼ æ ‡wheelæ—¶äº§ç”Ÿçš„event.</p>
<p>POSITIONçš„ç»“æ„è·ŸClick Eventçš„POSITIONä¸€æ ·,æ ‡è¯†äº†eventå‘ç”Ÿæ—¶çš„é¼ æ ‡ä½ç½®</p>
<p>è¿™ç§eventåªåœ¨æŸäº›æ“ä½œç³»ç»Ÿä¸Šä¼šäº§ç”Ÿ,æœ‰äº›æ“ä½œç³»ç»Ÿä¸Šäº§ç”Ÿçš„æ˜¯`mouse-4&rsquo;å’Œ`mouse-5&rsquo; event.</p>
<p>å› æ­¤,ä¸ºäº†å¯ç§»æ¤æ€§,å»ºè®®ä½¿ç”¨å®šä¹‰åœ¨`mwheel.el&rsquo;ä¸­çš„å˜é‡`mouse-wheel-up-event&rsquo;å’Œ`mouse-wheel-down-event&rsquo;æ¥ä»£æ›¿</p>
</li>
<li>
<p>&lsquo;(drag-n-drop POSITION FILES)</p>
<p>å½“ä»Emacså¤–é€‰æ‹©äº†ä¸€äº›æ–‡ä»¶,å¹¶æ‹–åˆ°Emacs frameä¸­æ—¶äº§ç”Ÿ`drag-n-drop&rsquo; event</p>
<p>è¿™é‡ŒPOSITIONçš„æ ¼å¼è·Ÿclick eventä¸­çš„POSITIONä¸€æ ·.</p>
<p>FILESä¸ºæ–‡ä»¶åç§°çš„åˆ—è¡¨.</p>
</li>
<li>
<p>&lsquo;(help-echo FRAME HELP WINDOW OBJECT POS)</p>
<p>ä½†å…‰æ ‡ç§»åŠ¨åˆ°bufferä¸­å¸¦æœ‰`help-echo&rsquo; text propertyçš„æ–‡æœ¬æ—¶,äº§ç”Ÿè¯¥event</p>
</li>
<li>
<p>&lsquo;sigusr1 / &lsquo;sigusr2</p>
<p>å½“Emacsæ”¶åˆ°ä¿¡å·`SIGUSR1&rsquo;å’Œ`SIGUSR2&rsquo;æ—¶è§¦å‘è¯¥event. ä¸€èˆ¬ç”¨äºè°ƒè¯•æ—¶ä½¿ç”¨</p>
<p>è¦æ•è·user signal,ç»‘å®šç›¸åº”çš„eventåˆ°`special-event-map&rsquo;ä¸­çš„å‘½ä»¤. è¿™æ—¶ä¼šä¸å¸¦å‚æ•°åœ°æ‰§è¡Œè¯¥å‘½ä»¤,è€Œsignal eventå¯ä»¥é€šè¿‡å˜é‡`last-input-event&rsquo;æ¥è·å¾—. ä¾‹å¦‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defun sigusr-handler ()
  (interactive)
  (<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;Caught signal %S&#34;</span> last-input-event))

(<span style="color:#a6e22e">define-key</span> special-event-map [sigusr1] <span style="color:#e6db74">&#39;sigusr-handler</span>)
</code></pre></div></li>
<li>
<p>&lsquo;(language-change FRAME CODEPAGE LANGUAGE-ID)</p>
<p>åœ¨MS-Windowsä¸‹æ‰æ›´æ”¹input languageä¼šäº§ç”Ÿè¯¥event.</p>
<p>è¿™é‡ŒFRAMEè¡¨ç¤ºæ”¹å˜input languageæ—¶çš„å½“å‰frame.</p>
<p>CODEPAGEä¸ºæ›´æ”¹ä¸ºçš„æ–°codepage number</p>
<p>LANGUAGE-IDä¸ºæ–°input languageçš„æ•°å­—id</p>
<p>ä¾‹å¦‚:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="color:#75715e">;; Get the abbreviated language name, such as &#34;ENU&#34; for English</span>
(<span style="color:#a6e22e">w32-get-locale-info</span> language-id)
<span style="color:#75715e">;; Get the full English name of the language,</span>
<span style="color:#75715e">;; such as &#34;English (United States)&#34;</span>
(<span style="color:#a6e22e">w32-get-locale-info</span> language-id <span style="color:#ae81ff">4097</span>)
<span style="color:#75715e">;; Get the full localized name of the language</span>
(<span style="color:#a6e22e">w32-get-locale-info</span> language-id <span style="color:#66d9ef">t</span>)
</code></pre></div></li>
</ul>
<h3 id="ç‰¹æ®Ševents">ç‰¹æ®ŠEvents<a hidden class="anchor" aria-hidden="true" href="#ç‰¹æ®Ševents">#</a></h3>
<p>ç‰¹æ®ŠEventåœ¨éå¸¸åº•å±‚çš„åœ°æ–¹è¢«å¤„ç†&ndash;as soon as they are read.</p>
<p>`read-event&rsquo;å‡½æ•°å†…éƒ¨å°±ä¼šæ¶ˆåŒ–æ‰è¿™äº›event,è€Œä¸ä¼šè¿”å›è¿™ç§event. äº‹å®ä¸Š,`read-event&rsquo;ä¼šä¸€ç›´ç­‰å¾…å¹¶è¿”å›åœ°ä¸€ä¸ªéç‰¹æ®Ševent</p>
<p>ç‰¹æ®Ševentä¸ä¼šè¢«æ˜¾ç¤ºå‡ºæ¥,ä¸ä¼šè¢«çº³å…¥key sequenceä¸­,ä¸ä¼šå­˜å…¥`last-command-event&rsquo;å’Œ`(this-command-keys)&rsquo;.
ç‰¹æ®Ševent They do not discard a numeric argument, they cannot be unread with `unread-command-events&rsquo;, they may not appear in a keyboard macro, and they are not recorded in a keyboard macro while you are defining one.</p>
<p>ç„¶è€Œåœ¨è¯»å–åˆ°ç‰¹æ®Ševentæ—¶,ä¼šè®°å½•åœ¨`last-input-event&rsquo;ä¸­,and this is the way for the event&rsquo;s definition to find the actual event.</p>
<p>å¸¸è§çš„ç‰¹æ®Ševent typeæœ‰`iconify-frame&rsquo;,`make-frame-visible&rsquo;,`delete-frame&rsquo;,`drag-n-drop&rsquo;,`language-change&rsquo;ä»¥åŠç”¨æˆ·ä¿¡å·`sigusr1&rsquo;,`sigusr2&rsquo;&hellip;</p>
<p>å®šä¹‰å¦‚ä½•å¤„ç†ç‰¹æ®Ševentçš„keymapä¸ºå˜é‡`special-event-map&rsquo;</p>
<h3 id="åŒºåˆ†events">åŒºåˆ†Events<a hidden class="anchor" aria-hidden="true" href="#åŒºåˆ†events">#</a></h3>
<p>æ¯ä¸ªeventéƒ½æœ‰ä¸€ä¸ª&quot;event type&quot;,ç”¨äºåŒºåˆ†event.</p>
<p>å¯¹äºkeyboard event,event typeå°±æ˜¯event value</p>
<p>å¯¹äºlistæ ¼å¼çš„event,event typeä¸º(car list)</p>
<p>ç›¸åŒçš„event typeè¿è¡Œç›¸åŒçš„å‘½ä»¤. é”®åºåˆ—ä¸event typeç»‘å®š</p>
<ul>
<li>(event-modifiers event)</li>
</ul>
<p>è¿”å›ä¸€ä¸ªlist,åŒ…å«äº†è¯¥eventä¸­æ‰€æœ‰çš„modifiers,modifierçš„ç±»å‹ä¸ºsymbol,
å®ƒçš„å€¼å¯èƒ½æ˜¯&rsquo;shift,&lsquo;control,&lsquo;meta,&lsquo;alt,&lsquo;hyperå’Œ&rsquo;super
å¯¹äºmouse eventæ¥è¯´,è¿˜å¯èƒ½åŒ…æ‹¬&rsquo;click,&lsquo;drag,&lsquo;down,&lsquo;double,&lsquo;triple</p>
<p>å‚æ•°eventå¯ä»¥æ˜¯ä¸€ä¸ªeventå¯¹è±¡,ä¹Ÿå¯ä»¥æ˜¯ä¸ªevent type.</p>
<p>If EVENT is a symbol that has never been used in an event that has been read as input in the current Emacs session, then `event-modifiers&rsquo; can return `nil&rsquo;, even when EVENT actually has modifiers.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(event-modifiers <span style="color:#e6db74">?a</span>)                    <span style="color:#75715e">; =&gt; nil</span>
(event-modifiers <span style="color:#e6db74">?A</span>)                    <span style="color:#75715e">; =&gt; (shift)</span>
(event-modifiers <span style="color:#e6db74">?\C</span>-a)                 <span style="color:#75715e">; =&gt; (control)</span>
(event-modifiers <span style="color:#e6db74">?\C</span>-%)                 <span style="color:#75715e">; =&gt; (control)</span>
(event-modifiers <span style="color:#e6db74">?\C</span>-\S-a)              <span style="color:#75715e">; =&gt; (control shift)</span>
(event-modifiers <span style="color:#e6db74">&#39;f5</span>)                   <span style="color:#75715e">; =&gt; nil</span>
(event-modifiers <span style="color:#e6db74">&#39;s-f5</span>)                 <span style="color:#75715e">; =&gt; (super)</span>
(event-modifiers <span style="color:#e6db74">&#39;M-S-f5</span>)               <span style="color:#75715e">; =&gt; (meta shift)</span>
(event-modifiers <span style="color:#e6db74">&#39;mouse-1</span>)              <span style="color:#75715e">; =&gt; (click)</span>
(event-modifiers <span style="color:#e6db74">&#39;down-mouse-1</span>)         <span style="color:#75715e">; =&gt; (down)</span>
</code></pre></div><ul>
<li>(event-basic-type event)</li>
</ul>
<p>è¿”å›å»æ‰modifieræ ‡å¿—ä¹‹åçš„eventæè¿°. ä¾‹å¦‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(event-basic-type <span style="color:#e6db74">?a</span>)                   <span style="color:#75715e">; =&gt; 97</span>
(event-basic-type <span style="color:#e6db74">?A</span>)                   <span style="color:#75715e">; =&gt; 97</span>
(event-basic-type <span style="color:#e6db74">?\C</span>-a)                <span style="color:#75715e">; =&gt; 97</span>
(event-basic-type <span style="color:#e6db74">?\C</span>-\S-a)             <span style="color:#75715e">; =&gt; 97</span>
(event-basic-type <span style="color:#e6db74">&#39;f5</span>)                  <span style="color:#75715e">; =&gt; f5</span>
(event-basic-type <span style="color:#e6db74">&#39;s-f5</span>)                <span style="color:#75715e">; =&gt; f5</span>
(event-basic-type <span style="color:#e6db74">&#39;M-S-f5</span>)              <span style="color:#75715e">; =&gt; f5</span>
(event-basic-type <span style="color:#e6db74">&#39;down-mouse-1</span>)        <span style="color:#75715e">; =&gt; mouse-1</span>
</code></pre></div><ul>
<li>
<p>(mouse-movement-p object)</p>
<p>objectæ˜¯å¦ä¸ºmouse movent event</p>
</li>
<li>
<p>(event-convert-list list)</p>
<p>This function converts a list of modifier names and a basic event type to an event type which specifies all of them.
The basic event type must be the last element of the list.
ä¾‹å¦‚:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">event-convert-list</span> <span style="color:#f92672">&#39;</span>(control <span style="color:#e6db74">?a</span>))      <span style="color:#75715e">; =&gt; 1,C-a</span>
(<span style="color:#a6e22e">event-convert-list</span> <span style="color:#f92672">&#39;</span>(control meta <span style="color:#e6db74">?a</span>)) <span style="color:#75715e">; =&gt; -134217727</span>
(<span style="color:#a6e22e">event-convert-list</span> <span style="color:#f92672">&#39;</span>(control super f1)) <span style="color:#75715e">; =&gt; C-s-f1</span>
</code></pre></div></li>
</ul>
<h3 id="è·å–mouse-eventsä¸­çš„ä¿¡æ¯">è·å–Mouse Eventsä¸­çš„ä¿¡æ¯<a hidden class="anchor" aria-hidden="true" href="#è·å–mouse-eventsä¸­çš„ä¿¡æ¯">#</a></h3>
<p>è¦æƒ³è·å¾—mouse eventä¸­çš„position list,å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸¤ä¸ªå‡½æ•°</p>
<ul>
<li>(event-start event)</li>
</ul>
<p>è‹¥ä¸ºdrag event,åˆ™è¿”å›start-postion</p>
<p>è‹¥ä¸ºclickæˆ–button-down event,åˆ™è¿”å›å”¯ä¸€çš„é‚£ä¸ªpostion</p>
<ul>
<li>(event-end event)</li>
</ul>
<p>è‹¥ä¸ºdrag event,åˆ™è¿”å›end-postion</p>
<p>è‹¥ä¸ºclickæˆ–button-down event,åˆ™è¿”å›å”¯ä¸€çš„é‚£ä¸ªpostion</p>
<ul>
<li>(posnp object)</li>
</ul>
<p>åˆ¤æ–­objectæ˜¯å¦ä¸ºmouse position</p>
<p>ä¸‹é¢çš„å‡½æ•°,ä¸€mouse postion listä¸ºå‚æ•°,è¿”å›ç›¸åº”éƒ¨åˆ†çš„å€¼</p>
<ul>
<li>(posn-window postion)</li>
</ul>
<p>è¿”å›postion listä¸­çš„window</p>
<ul>
<li>(posn-area position)</li>
</ul>
<p>è¿”å›positionä¸­çš„window areaæ ‡å¿—</p>
<p>è‹¥eventå‘ç”Ÿåœ¨text-areaåˆ™è¿”å›nil,å¦åˆ™è¿”å›è¡¨ç¤ºareaçš„symbol</p>
<ul>
<li>(posn-point position)</li>
</ul>
<p>è¿”å›positionä¸­çš„bufferä½ç½®ä¿¡æ¯.</p>
<p>å½“eventå‘ç”Ÿåœ¨text-area,marginal areaæˆ–fringeä¸Šæ—¶,è¿”å›ä¸€ä¸ªè¡¨ç¤ºbufferä½ç½®çš„æ•´æ•°</p>
<p>å…¶ä»–æƒ…å†µä¸‹,è¿”å›å€¼æ„ä¹‰ä¸æ˜ç¡®</p>
<ul>
<li>(posn-x-y position)</li>
</ul>
<p>ä»¥&rsquo;(X . Y)çš„å½¢å¼è¿”å›ç›¸å¯¹(posn-window postion)çš„åæ ‡,å•ä½ä¸ºåƒç´ .</p>
<p>ä¸‹é¢çš„ä¾‹å­,æ¼”ç¤ºäº†å¦‚ä½•å°†ç›¸å¯¹windowçš„åæ ‡è½¬æ¢ä¸ºç›¸å¯¹frameçš„åæ ‡</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defun frame-relative-coordinates (position)
  <span style="color:#e6db74">&#34;Return frame-relative coordinates from POSITION.
</span><span style="color:#e6db74">          POSITION is assumed to lie in a window text area.&#34;</span>
  (let* ((x-y (posn-x-y position))
         (window (posn-window position))
         (edges (<span style="color:#a6e22e">window-inside-pixel-edges</span> window)))
    (<span style="color:#a6e22e">cons</span> (<span style="color:#a6e22e">+</span> (<span style="color:#a6e22e">car</span> x-y) (<span style="color:#a6e22e">car</span> edges))
          (<span style="color:#a6e22e">+</span> (<span style="color:#a6e22e">cdr</span> x-y) (cadr edges)))))
</code></pre></div><ul>
<li>(posn-col-row postion)</li>
</ul>
<p>ä»¥&rsquo;(COL . ROW)çš„æ ¼å¼è¿”å›buffer postionåœ¨text areaä¸­çš„åˆ—ä¸è¡Œ</p>
<p>å®ƒæ˜¯æ ¹æ®(postion-x-y postion)çš„ä¿¡æ¯ä¸frameçš„é»˜è®¤å­—ç¬¦çš„å®½åº¦å’Œé»˜è®¤è¡Œçš„é«˜åº¦,è®¡ç®—å‡ºæ¥çš„.</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯,ROWæ˜¯ä»text areaçš„æœ€é¡¶ç«¯å¼€å§‹è®¡ç®—çš„,ä¹Ÿå°±æ˜¯è¯´,å¦‚æœ(position-window positon)æ‹¥æœ‰header line,åˆ™å®ƒä¸ä¼šè®¡ç®—å¦‚ROWä¸­</p>
<ul>
<li>(posn-actual-col-row postion)</li>
</ul>
<p>ä»¥&rsquo;(COL . ROW)çš„å½¢å¼è¿”å›çœŸæ­£çš„ç›¸å¯¹(posn-window postion)çš„åˆ—æ•°ä¸è¡Œæ•°</p>
<ul>
<li>(posn-string positiion)</li>
</ul>
<p>è¿”å›positionä¸­çš„string object,å¯èƒ½ä¸ºnilæˆ–&rsquo;(STRING . STRING-POS)</p>
<ul>
<li>(posn-image position)</li>
</ul>
<p>è·å¾—positionä¸­çš„image object,å¯èƒ½ä¸ºnilæˆ–&rsquo;(image&hellip;)</p>
<ul>
<li>(posn-object position)</li>
</ul>
<p>è¿”å›positionä¸­çš„string objectæˆ–image object,å¯èƒ½ä¸ºnilæˆ–&rsquo;(STRING . STRING-POS)æˆ–&rsquo;(image&hellip;)</p>
<ul>
<li>(posn-object-x-y position)</li>
</ul>
<p>è·å–ç›¸å¯¹POSITION listä¸­çš„&rsquo;(DX . DY). å³ä½ç½®ç›¸å¯¹(posn-object position)çš„åæ ‡. å•ä½ä¸ºåƒç´ </p>
<p>è‹¥positionä¸ºbuffer position,åˆ™è¿”å›ç›¸å¯¹è¯¥å¤„å­—ç¬¦å·¦ä¸Šè§’çš„åæ ‡.</p>
<ul>
<li>(posn-object-width-height position)</li>
</ul>
<p>ä»¥&rsquo;(WIDTH. HEIGHT)æ ¼å¼,è¿”å›(posn-object position)çš„å®½åº¦å’Œé«˜åº¦,å•ä½ä¸ºåƒç´ </p>
<p>è‹¥positionä¸ºbuffer position,åˆ™è¿”å›ä½ç½®å¤„å­—ç¬¦çš„å®½åº¦å’Œé«˜åº¦</p>
<ul>
<li>(posn-timestamp position)</li>
</ul>
<p>è¿”å›positionä¸­çš„timestampä¿¡æ¯,è¡¨ç¤ºäº‹ä»¶å‘ç”Ÿçš„æ—¶é—´æˆ³,ä»¥æ¯«ç§’ä¸ºå•ä½</p>
<p>ä»¥ä¸‹å‡½æ•°æ ¹æ®buffer positionæˆ–screen position,è®¡ç®—å‡ºposition list</p>
<ul>
<li>(posn-at-point &amp;optional pos window)</li>
</ul>
<p>è¯¥å‡½æ•°è¿”å›position listç”¨äºè¡¨ç¤ºå‚æ•°posåœ¨å‚æ•°windowä¸­çš„ä½ç½®. è‹¥posåœ¨windowä¸­ä¸å¯è§,åˆ™è¿”å›nil</p>
<p>å‚æ•°posé»˜è®¤ä¸ºå‚æ•°windowä¸­å…‰æ ‡çš„ä½ç½®</p>
<p>å‚æ•°windowé»˜è®¤ä¸ºé€‰ä¸­çš„window</p>
<ul>
<li>(posn-at-x-y x y &amp;optional frame-or-window whole)</li>
</ul>
<p>è¯¥å‡½æ•°è¿”å›position listç”¨äºè¡¨ç¤º(x . y)åœ¨å‚æ•°frame-or-windowä¸­çš„ç›¸å¯¹åæ ‡,</p>
<p>å‚æ•°x,yæ˜¯ç›¸å¯¹frame-or-windowçš„ä»¥åƒç´ ä¸ºå•ä½çš„ä½ç½®.</p>
<p>å‚æ•°frame-or-window,é»˜è®¤ä¸ºå½“å‰window</p>
<p>è‹¥å‚æ•°ä¸ºnil,åˆ™åæ ‡æ˜¯ç›¸å½“ä¸window text areaæ¥è®¡ç®—çš„. å¦åˆ™è®¡ç®—åŒ…æ‹¬æ•´ä¸ªwindow area(text-rea+scroll bar+margin+fringe)</p>
<h3 id="è·å–scroll-bar-eventä¸­çš„ä¿¡æ¯">è·å–scroll bar eventä¸­çš„ä¿¡æ¯<a hidden class="anchor" aria-hidden="true" href="#è·å–scroll-bar-eventä¸­çš„ä¿¡æ¯">#</a></h3>
<ul>
<li>(scroll-bar-event-ratio event)</li>
</ul>
<p>ä»¥æ ¼å¼&rsquo;(PORTION .WHOLE)è¿”å›eventåœ¨scroll-barä¸­çš„ä½ç½®.</p>
<ul>
<li>(scroll-bar-scale ratio total)</li>
</ul>
<p>è¯¥å‡½æ•°äº‹å®ä¸Šå°†å‚æ•°ratioä¸totalç›¸ä¹˜,å¹¶å°†ç»“æœçº¦ä¸ºæ•´æ•°.</p>
<p>è¿™é‡Œå‚æ•°rationä¸æ˜¯æ•°å­—,è€Œæ˜¯æ ¼å¼ä¸º&rsquo;(NUM . DENOM)çš„cons ceil. ä¸€èˆ¬è¯¥å€¼ç”±å‡½æ•°scroll-bar-event-rationè¿”å›.</p>
<p>è¯¥å‡½æ•°ç”¨äºå°†scroll bar positionè½¬æ¢ä¸ºbuffer postionæ˜¯å¾ˆæ–¹ä¾¿:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">+</span> (<span style="color:#a6e22e">point-min</span>)
   (scroll-bar-scale
    (posn-x-y (event-start event))
    (<span style="color:#a6e22e">-</span> (<span style="color:#a6e22e">point-max</span>) (<span style="color:#a6e22e">point-min</span>))))

</code></pre></div><h3 id="æ•è·input-event">æ•è·Input Event<a hidden class="anchor" aria-hidden="true" href="#æ•è·input-event">#</a></h3>
<ul>
<li>(read-key-sequence prompt &amp;optional continue-echo dont-downcase-last switch-frame-ok command-loop)</li>
</ul>
<p>è¯¥å‡½æ•°è¯»å–key sequenceå¹¶ä»¥stringæˆ–vectorçš„å½¢å¼è¿”å›.</p>
<p>è¯¥å‡½æ•°ä¼šä¸€ç›´è¯»å–key sequenceç›´åˆ°è·å–åˆ°ä¸€ä¸ªå®Œæ•´çš„key sequenceä¸ºæ­¢(å³åœ¨å½“å‰keymapä¸‹èƒ½å®šä½åˆ°æŸä¸ªcommand)</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯: <strong>ä»¥mouse eventå¼€å¤´çš„key sequence,æ˜¯åœ¨mouseæ‰€åœ¨çš„windowä¸­keymapä¸­æŸ¥æ‰¾å¯¹åº”commandçš„</strong></p>
<p>å‚æ•°promptä¸ºæç¤ºä¿¡æ¯,nilè¡¨ç¤ºæ²¡æœ‰æç¤º</p>
<p>å‚æ•°continue-echoè¡¨ç¤ºå½“key sequenceä¸å®Œæ•´æ—¶,æ˜¯å¦æ˜¾ç¤ºå·²ç»è¾“å…¥çš„key sequence</p>
<p>é»˜è®¤æƒ…å†µä¸‹,ä»»ä½•upper case eventåœ¨æ‰¾ä¸åˆ°å¯¹åº”commandæ—¶,ä¼šè½¬æ¢ä¸ºlower case eventå†å»æŸ¥æ‰¾ä¸€é(è¿™æ˜¯ä¼šè®¾ç½®å˜é‡`this-command-keys-shift-translated&rsquo;ä¸ºt),å‚æ•°dont-downcase-lastç¦æ­¢è¿™ç§è½¬æ¢</p>
<p>å‚æ•°swith-frame-okè¡¨ç¤ºåœ¨è¾“å…¥key sequenceçš„è¿‡ç¨‹ä¸­,æ˜¯å¦èƒ½åˆ‡æ¢frame</p>
<p>å‚æ•°command-loopè‹¥ä¸ºénil,åˆ™è¡¨ç¤ºå¯ä»¥ä¸€æ¬¡è¾“å…¥å¤šä¸ªkey sequence(ä¸€ä¸ªkey sequenceä¸commandæƒ³å¯¹åº”). nilè¡¨ç¤ºåªè¯»å–è¡¨ç¤ºä¸€ä¸ªkey sequence</p>
<p>`read-key-sequence&rsquo;ä¼šå‹æŠ‘ä½quitting,ä¹Ÿå°±æ˜¯è¯´,åœ¨è¾“å…¥`C-g&rsquo;æ—¶,å°±å¥½åƒå…¶ä»–æ™®é€šçš„å­—ç¬¦ä¸€æ ·,ä¸ä¼šå»è®¾ç½®quit-flag</p>
<p><strong>å½“ä½¿ç”¨`read-key-sequence&rsquo;è¯»å–mouse eventæ—¶,è‹¥mouse eventå‘ç”Ÿåœ¨windowçš„étext areaä¸­,åˆ™ä¼šæ·»åŠ prefix-keyæ¥è¡¨ç¤ºè¯¥area</strong>:&lsquo;header-line,&lsquo;horizontal-scroll-bar,&lsquo;menu-bar,&lsquo;mode-line,&lsquo;vertical-line,&lsquo;vertical-scroll-bar</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">read-key-sequence</span> <span style="color:#e6db74">&#34;Click on the mode line: &#34;</span>)
          =&gt; [mode-line
              (mouse-1
               (<span style="color:#960050;background-color:#1e0010">#</span>&lt;window <span style="color:#ae81ff">6</span> on NEWS&gt; mode-line
                (<span style="color:#ae81ff">40</span> <span style="color:#f92672">.</span> <span style="color:#ae81ff">63</span>) <span style="color:#ae81ff">5959987</span>))]
</code></pre></div><ul>
<li>(read-key-sequence-vector prompt &amp;optional continue-echo dont-downcase-last switch-frame-ok command-loop)</li>
</ul>
<p>ä¸`read-key-sequence&rsquo;ç±»ä¼¼,åªæ˜¯è‚¯å®šä»¥vectorç±»å‹è¿”å›</p>
<ul>
<li>num-input-keys</li>
</ul>
<p>å½“å‰Emacs sessionç›®å‰ä¸ºæ­¢å¤„ç†è¿‡çš„key sequenceçš„æ•°é‡.</p>
<ul>
<li>(read-event &amp;optional prompt inherit-input-method seconds)</li>
</ul>
<p>è¯¥å‡½æ•°åªè¯»å–ä¸€ä¸ªevent,è€Œä¸åƒ`read-key-sequence&rsquo;ä¸€æ ·å¯èƒ½è¯»å–å¤šä¸ªevent.</p>
<p>The returned event may come directly from the user, or from a keyboard macro.
It is not decoded by the keyboard&rsquo;s input coding system</p>
<p>å‚æ•°promptä¸ºæå‡ä¿¡æ¯</p>
<p>è‹¥å‚æ•°inherit-input-methodä¸ºénil,åˆ™æ”¯æŒç”¨å½“å‰è¾“å…¥æ³•è¾“å…¥non-ASCIIå­—ç¬¦. å¦åˆ™ä¼šç¦ç”¨è¾“å…¥æ³•</p>
<p>å‚æ•°secondsè¡¨ç¤ºç­‰å¾…è¾“å…¥çš„è¶…æ—¶ç§’æ•°,è‹¥è¶…æ—¶è¿˜æœªæœ‰eventå‘ç”Ÿ,åˆ™è¿”å›nil.
è‹¥å‚æ•°secondsä¸ºnil,åˆ™Emacsåœ¨ç­‰å¾…ç”¨æˆ·è¾“å…¥æ—¶è¢«è®¤ä¸ºå¤„äºidleçŠ¶æ€,è‹¥è®¾ç½®äº†å€¼,åˆ™ç­‰å¾…æœŸé—´ä¸ä¼šè®¤ä¸ºå¤„äºidleçŠ¶æ€.</p>
<p>If `read-event&rsquo; gets an event that is defined as a help character, then in some cases `read-event&rsquo; processes the event directly without returning.</p>
<p>Certain other events, called &ldquo;special events&rdquo;, are also processed directly within `read-event&rsquo;</p>
<ul>
<li>(read-char &amp;optional prompt inherit-input-method seconds)</li>
</ul>
<p>è¯»å–å¹¶è¿”å›è¾“å…¥çš„character. è‹¥ç”¨æˆ·äº§ç”Ÿçš„eventä¸æ˜¯character(ä¾‹å¦‚ç‚¹å‡»äº‹ä»¶æˆ–åŠŸèƒ½é”®äº‹ä»¶),åˆ™`read-char&rsquo;ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯</p>
<ul>
<li>(read-char-exclusive &amp;optional prompt inherit-input-method seconds)</li>
</ul>
<p>ç±»ä¼¼`read-char&rsquo;,åªæ˜¯å½“è¯»åˆ°çš„eventä¸æ˜¯characteræ—¶,ä¼šå¿½ç•¥è¿™ä¸ªevent,æ¥ç€è¯»å–ä¸‹ä¸€ä¸ªevent,è€Œä¸æ˜¯æŠ›å‡ºé”™è¯¯</p>
<ul>
<li>num-nonmacro-input-events</li>
</ul>
<p>è¯¥å˜é‡å­˜å‚¨äº†åˆ°ç›®å‰ä¸ºæ­¢ä»terminalè¯»å–åˆ°çš„input eventsæ€»æ•°(é‚£äº›ç”±keyboard macro)äº§ç”Ÿçš„ä¸ç®—.</p>
<ul>
<li>(read-key &amp;optional prompt)</li>
</ul>
<p>è¯¥å‡½æ•°è¯»å–single key. å®ƒå¤„äº`read-key-sequence&rsquo;å’Œ`read-event&rsquo;ä¹‹é—´.</p>
<p>è·Ÿ`read-key-sequence&rsquo;ä¸åŒä¹‹å¤„åœ¨äº,å®ƒè¯»å–single keyè€Œä¸æ˜¯å®Œæ•´çš„key sequence</p>
<p>è·Ÿ`read-event&rsquo;ä¸åŒä¹‹å¤„åœ¨äº,å®ƒä¼šæ ¹æ®`input-decode-map&rsquo;,`local-function-key-map&rsquo;å’Œ`key-translation-map&rsquo;è§£ç å¹¶è½¬æ¢ç”¨æˆ·çš„è¾“å…¥.</p>
<ul>
<li>(read-char-choice prompt chars &amp;optional inhibit-quit)</li>
</ul>
<p>è¯¥å‡½æ•°ä½¿ç”¨`read-key&rsquo;è¯»å–å¹¶è¿”å›ä¸€ä¸ªcharacter. å®ƒä¼šå¿½ç•¥ä»»ä½•ä¸æ˜¯å‚æ•°charsä¸­çš„memberçš„character.</p>
<p>charsä¸ºä¸€ä¸ªç”±charactersç»„æˆçš„list. è¡¨ç¤ºå¯æ¥å—çš„characterèŒƒå›´.</p>
<ul>
<li>(read-quoted-char &amp;optional prompt)</li>
</ul>
<p>ç±»ä¼¼`read-char&rsquo;,åªæ˜¯å½“è¯»å–çš„åœ°ä¸€ä¸ªcharacteræ˜¯ä¸€ä¸ª8è¿›åˆ¶æ•°æ—¶(0-7),å®ƒä¼šè¯»å–æ¥ä¸‹æ¥è¾“å…¥çš„æ‰€æœ‰8è¿›åˆ¶æ•°,å¹¶è¿”å›ç”±è¿™äº›8è¿›åˆ¶numeric character codeæ‰€è¡¨ç¤ºçš„character.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(read-quoted-char <span style="color:#e6db74">&#34;What character&#34;</span>)

  ---------- Echo Area ----------
  What character <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">7</span> 7-
  ---------- Echo Area ----------

  =&gt; <span style="color:#ae81ff">127</span>
</code></pre></div><h3 id="modifying-and-translating-input-events">Modifying and Translating Input Events<a hidden class="anchor" aria-hidden="true" href="#modifying-and-translating-input-events">#</a></h3>
<p>åœ¨ä½¿ç”¨`read-event&rsquo;æ—¶,Emacsä¼šæ ¹æ®`extra-keyboard-modifiers&rsquo;çš„å€¼å¯¹è¯»å–åˆ°åˆ°çš„eventåšæ”¹å˜(modify),ç„¶åæ ¹æ®`keyboard-translate-table&rsquo;çš„å€¼åšè½¬æ¢(translate)</p>
<ul>
<li>extra-keyboard-modifiers</li>
</ul>
<p>è¯¥å˜é‡å…è®¸Lispç¨‹åºæ¨¡æ‹ŸæŒ‰ä¸‹é”®ç›˜ä¸Šçš„modifier key.</p>
<p>è¯¥å˜é‡çš„è‡³å¿…é¡»ä¸ºä¸€ä¸ªè®¾ç½®äº†modifier bitä½çš„character(ä¾‹å¦‚'?\C-\M-a'). çœŸæ­£å…¶ä½œç”¨çš„æ˜¯å…¶ä¸­çš„modifier bit(?\C-\M-).</p>
<p>è‹¥å˜é‡çš„å€¼ä¸º`?\C-@',ä¸ä¼šè®¾ç½®Ctrlè¢«æŒ‰ä¸‹,ç›¸å, <strong>è¿™ä¸ªå€¼è¡¨ç¤ºå–æ¶ˆæ‰€æœ‰çš„modification</strong></p>
<p>å¦å¤–,éœ€è¦æ³¨æ„çš„æ˜¯, <strong>è¯¥å˜é‡åªä¼šä¿®æ”¹ä»keyboardè¯»å–åˆ°çš„event,è€Œå¯¹mouse eventæˆ–å…¶ä»–ç±»å‹çš„eventæ— æ•ˆ</strong></p>
<ul>
<li>keyboard-translate-table</li>
</ul>
<p>è¯¥å˜é‡ä¸ºterminal-local variable. å®ƒå…è®¸ä½ å°†ä¸€ä¸ªkeyboard eventé‡æ–°æ˜ å°„æˆå¦ä¸€ä¸ªkeyboard event</p>
<p>ä¸€èˆ¬æƒ…å†µä¸‹,å®ƒçš„å€¼ä¸ºä¸€ä¸ªchar-tableæˆ–nil.</p>
<p>Note that this translation is the first thing that happens to a character after it is read from the terminal.
Record-keeping features such as `recent-keys' and dribble files record the characters after translation.</p>
<ul>
<li>(keyboard-translate from to)</li>
</ul>
<p>è¯¥å‡½æ•°é€šè¿‡ä¿®æ”¹`keyboard-translate-table&rsquo;çš„å€¼æ¥è¾¾åˆ°å°†character code FROMè½¬æ¢ä¸ºcharacter code TOçš„ç›®çš„.</p>
<h3 id="event-inputçš„å…¶ä»–ç‰¹æ€§">Event Inputçš„å…¶ä»–ç‰¹æ€§<a hidden class="anchor" aria-hidden="true" href="#event-inputçš„å…¶ä»–ç‰¹æ€§">#</a></h3>
<ul>
<li>unread-command-events</li>
</ul>
<p>è¯¥å˜é‡å­˜å‚¨çš„å€¼ä¸ºä¸€ä¸ªç”±eventç»„æˆçš„list,è¡¨ç¤ºå¾…è¯»å–çš„event.</p>
<p>è¯¥listä¸­çš„event,ä»¥æ˜¾ç¤ºçš„é¡ºåº(å³æœ€å‰é¢çš„æœ€å…ˆè¢«ä½¿ç”¨)è¢«è¯»å–,å¹¶ä¸”åœ¨ä½¿ç”¨åè¢«åˆ é™¤</p>
<p>ä¸€èˆ¬æƒ…å†µä¸‹,ä»è¯¥listä¸­è¯»å–çš„eventä¸ä¼šæ·»åŠ åˆ°å½“å‰å‘½ä»¤çš„key sequenceä¸­(å³ä¸ä¼šè¢«`this-command-keys'),å› ä¸ºè¯¥eventåœ¨ç¬¬ä¸€æ¬¡è¯»å–æ—¶å·²ç»æ·»åŠ è¿‡ä¸€æ¬¡äº†.
ä½†è‹¥listä¸­çš„elementæ ¼å¼ä¸º'(t . EVENT)åˆ™è¡¨ç¤ºå¼ºåˆ¶å°†è¯¥eventæ”¾å…¥å½“å‰commandçš„key sequenceä¸­</p>
<ul>
<li>(listify-key-sequence key)</li>
</ul>
<p>è¯¥å‡½æ•°å°†key(stringæˆ–vector)è½¬æ¢ä¸ºç”±å•ç‹¬eventç»„æˆçš„list,å¯ä»¥å¾ˆå®¹æ˜“çš„å°†è¿™ä¸ªlistæ”¾å…¥`unread-command-events&rsquo;ä¸­</p>
<ul>
<li>(input-pending-p &amp;optional check-timers)</li>
</ul>
<p>è¯¥å‡½æ•°æ£€æŸ¥æ˜¯å¦æœ‰command inputå¯ä»¥è¢«è¯»å–äº†.</p>
<p>è‹¥å‚æ•°check-timersä¸ºénil,åˆ™è‹¥æ²¡æœ‰inputå¯ä»¥è¢«è¯»å–æ—¶,è¿è¡ŒEmacsè¿è¡Œå·²ç»readyçš„timers</p>
<ul>
<li>last-input-event</li>
</ul>
<p>è¯¥å˜é‡å­˜å‚¨æœ€åçš„terminal input event. whether as part of a command or explicitly by a Lisp program.</p>
<p>åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­,è¿™æ®µLispç¨‹åºè¯»å–å­—ç¬¦'1'(ASCIIç ä¸º49). å‡è®¾æˆ‘ä»¬ç”¨C-x C-eæ¥æ‰§è¡Œè¿™æ®µä»£ç ,åˆ™ä¼šå‘ç°`last-input-event&rsquo;çš„å€¼ä¸º'1'(49),è€Œ`last-command-event&rsquo;åªä¸º?\C-e(5)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(progn (<span style="color:#a6e22e">print</span> (<span style="color:#a6e22e">read-char</span>))
           (<span style="color:#a6e22e">print</span> last-command-event)
           last-input-event)
         -| <span style="color:#ae81ff">49</span>
         -| <span style="color:#ae81ff">5</span>
         =&gt; <span style="color:#ae81ff">49</span>
</code></pre></div><ul>
<li>å®(while-no-input body&hellip;)</li>
</ul>
<p>å½“è¿è¡Œbodyçš„è¿‡ç¨‹ä¸­æ²¡æœ‰è¾“å…¥æ—¶,æ­£å¸¸æ‰§è¡Œbodyå¹¶è¿”å›bodyçš„å€¼.</p>
<p>ä½†è‹¥æ‰§è¡Œbodyçš„è¿‡ç¨‹ä¸­æœ‰è¾“å…¥åˆ°æ¥,åˆ™ä¼šä¸­æ–­bodyçš„æ‰§è¡Œ(ç±»ä¼¼quit),å¹¶è¿”å›t</p>
<p>è‹¥æ‰§è¡Œbodyçš„è¿‡ç¨‹ä¸­,è¢«çœŸæ­£çš„quitæ‰€æ‰“æ–­,åˆ™è¿”å›nil</p>
<p>è‹¥BODYä¸­æŸéƒ¨åˆ†ç»‘å®š`inhibit-quit&rsquo;ä¸ºénil,åˆ™å³ä½¿æœ‰è¾“å…¥åˆ°æ¥,ä¹Ÿä¸ä¼šä¸­æ–­è¯¥éƒ¨åˆ†ä»£ç çš„æ‰§è¡Œ,ç›´åˆ°è¯¥éƒ¨åˆ†ä»£ç è¢«æ‰§è¡Œå®Œæ¯•.</p>
<ul>
<li>(discard-input)</li>
</ul>
<p>è¯¥å‡½æ•°ä¸¢å¼ƒterminal input bufferçš„å†…å®¹å¹¶å–æ¶ˆæ­£åœ¨å¤„ç†çš„keyboard macro,å¹¶è¿”å›nil</p>
<p>ä¾‹å¦‚:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(progn (<span style="color:#a6e22e">sleep-for</span> <span style="color:#ae81ff">2</span>)                    <span style="color:#75715e">;åœ¨ç­‰å¾…æœŸé—´,ç”¨æˆ·å¯èƒ½è¾“å…¥äº†ä¸€äº›ä¸œè¥¿</span>
       (<span style="color:#a6e22e">discard-input</span>))                 <span style="color:#75715e">;ä¼šä¸¢å¼ƒç”¨æˆ·åœ¨ç­‰å¾…æœŸé—´æ‰€è¾“å…¥çš„ä¸œè¥¿</span>
       =&gt; <span style="color:#66d9ef">nil</span>

</code></pre></div><h2 id="å…³äºè¾“å…¥æ³•">å…³äºè¾“å…¥æ³•<a hidden class="anchor" aria-hidden="true" href="#å…³äºè¾“å…¥æ³•">#</a></h2>
<p>è¯»å–eventçš„å‡½æ•°ä¼šè°ƒç”¨å½“å‰ä½¿ç”¨çš„è¾“å…¥æ³•. ä½†`read-event&rsquo;è¯»å–ä¸€ä¸ªprint character(åŒ…æ‹¬&lt;SPC&gt;)æ—¶,ä¼šä»¥è¯¥characterä½œä¸ºå‚æ•°,è°ƒç”¨`input-method-function&rsquo;æ‰€è¡¨ç¤ºçš„å‡½æ•°</p>
<ul>
<li>input-method-function
`read-event&rsquo;è¯»å–ä¸€ä¸ªprint character(åŒ…æ‹¬&lt;SPC&gt;)æ—¶,ä¼šä»¥è¯¥characterä½œä¸ºå‚æ•°,è°ƒç”¨`input-method-function&rsquo;æ‰€è¡¨ç¤ºçš„å‡½æ•°</li>
</ul>
<p>è¯¥input-method-functionçš„è¿”å›å€¼åº”è¯¥æ˜¯ä¸€ç³»åˆ—ç”±eventç»„æˆçš„list. è‹¥è¿”å›nilè¡¨ç¤ºæ²¡æœ‰è¾“å…¥,è¿™æ ·`read-event&rsquo;ä¼šç­‰å¾…ä¸‹ä¸€ä¸ªeventäº§ç”Ÿ.</p>
<p>è‹¥input-method-functionä¸­åˆè°ƒç”¨äº†`read-event&rsquo;æˆ–`read-key-sequence',åˆ™éœ€è¦è®°ä½æŠŠ`input-method-function&rsquo;çš„å€¼ç»‘å®šä¸ºnil,å¦åˆ™ä¼šå‘ç”Ÿæ— é™é€’å½’.</p>
<p>The input method function is not called when reading the second and subsequent events of a key sequence.
Thus, these characters are not subject to input method processing.
The input method function should test the values of `overriding-local-map' and `overriding-terminal-local-map';
if either of these variables is non-`nil', the input method should put its argument into a list and return that list with no further processing.</p>
<h2 id="keymaps">Keymaps<a hidden class="anchor" aria-hidden="true" href="#keymaps">#</a></h2>
<p>input eventä¸commandçš„å¯¹åº”å…³ç³»è¢«è®°å½•åœ¨åä¸º&quot;keymaps&quot;çš„ç»“æ„ä½“ä¸­. æ¯ä¸ªevent typeå¯¹åº”ä¸€ä¸ªcommandæˆ–å¦ä¸€ä¸ªkeymap.</p>
<p>å½“ä¸€ä¸ªevent typeç»‘å®šåˆ°å¦ä¸€ä¸ªkeymapæ—¶,è¿™ä¸ªkeymapè¢«ç”¨äºæŸ¥æ‰¾ä¸‹ä¸€ä¸ªinput eventçš„å¯¹åº”å…³ç³».</p>
<p>è‹¥æŸä¸ªevent sequenceæ‰¾åˆ°çš„æ˜¯ä¸€ä¸ªkeymap,åˆ™æˆ‘ä»¬ç§°è¯¥key sequenceä¸º&quot;prefix key&quot;. å¦åˆ™åˆ™ä¸º&quot;complete key&quot;.</p>
<p>è¿™ä¸ªä»event sequenceä¸€ç›´æ‰¾åˆ°æŸä¸ªcommandçš„è¿‡ç¨‹,è¢«æˆä¸º&quot;key lookup&quot;</p>
<p>Emacsä¸­æœ‰ä¸‰ç±»keymap:</p>
<ul>
<li>global map</li>
</ul>
<p>ç”±æ‰€æœ‰bufferæ‰€å…±äº«</p>
<ul>
<li>local keymap</li>
</ul>
<p>ç”±bufferæŒ‡å®šçš„major modeæ‰€å†³å®š,ä¼šè¦†ç›–global mapçš„key sequence</p>
<ul>
<li>minor mode keymaps</li>
</ul>
<p>ç”±bufferæ‰€å¼€å¯çš„minor modeæ‰€å†³å®š,ä¼šè¦†ç›–global mapå’Œlocal keymapçš„key sequence</p>
<h3 id="key-sequences">Key Sequences<a hidden class="anchor" aria-hidden="true" href="#key-sequences">#</a></h3>
<p>&ldquo;Key sequence&rdquo;,ç®€ç§°ä¸º&quot;key&quot;,æ˜¯æŒ‡ä¸€ä¸ªæˆ–å¤šä¸ªinput eventåšç»„æˆçš„åºåˆ—é›†åˆ. input eventåŒ…æ‹¬characters,function keys,mouse actionsæˆ–system events</p>
<p>å½“ç”¨vectoræ¥è¡¨ç¤ºkey sequencesæ—¶,æ¯ä¸ªvectorçš„å…ƒç´ éƒ½æ˜¯character,æ¯ä¸ªcharacterè¡¨ç¤ºä¸€ä¸ªinput event. ä¾‹å¦‚`[?\C-x ?l]&lsquo;è¡¨ç¤ºkey sequence `C-x l&rsquo;</p>
<ul>
<li>(kbd keyseq-text)</li>
</ul>
<p>å°†stringç±»å‹çš„keyseq-textè½¬æ¢ä¸ºkey sequence.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(kbd <span style="color:#e6db74">&#34;C-x&#34;</span>) =&gt; <span style="color:#e6db74">&#34;\C-x&#34;</span>
(kbd <span style="color:#e6db74">&#34;C-x C-f&#34;</span>) =&gt; <span style="color:#e6db74">&#34;\C-x\C-f&#34;</span>
(kbd <span style="color:#e6db74">&#34;C-x 4 C-f&#34;</span>) =&gt; <span style="color:#e6db74">&#34;\C-x4\C-f&#34;</span>
(kbd <span style="color:#e6db74">&#34;X&#34;</span>) =&gt; <span style="color:#e6db74">&#34;X&#34;</span>
(kbd <span style="color:#e6db74">&#34;RET&#34;</span>) =&gt; <span style="color:#e6db74">&#34;\^M&#34;</span>
(kbd <span style="color:#e6db74">&#34;C-c SPC&#34;</span>) =&gt; <span style="color:#e6db74">&#34;\C-c &#34;</span>
(kbd <span style="color:#e6db74">&#34;&lt;f1&gt; SPC&#34;</span>) =&gt; [f1 <span style="color:#ae81ff">32</span>]
(kbd <span style="color:#e6db74">&#34;C-M-&lt;down&gt;&#34;</span>) =&gt; [C-M-down]
</code></pre></div><h3 id="keymapsçš„å†…éƒ¨ç»“æ„">Keymapsçš„å†…éƒ¨ç»“æ„<a hidden class="anchor" aria-hidden="true" href="#keymapsçš„å†…éƒ¨ç»“æ„">#</a></h3>
<p>keymapæ˜¯ä¸€ä¸ªlist,å®ƒçš„carä¸º&rsquo;keymap. å‰©ä¸‹çš„å…ƒç´ å¯ä»¥æ˜¯å¦‚ä¸‹æ ¼å¼:</p>
<ul>
<li>&lsquo;(EVENT-TYPE . BINDING)</li>
</ul>
<p>è¯¥EVENT-TYPEå¯¹åº”ç€BINDING</p>
<ul>
<li>&lsquo;(EVENT-TYPE ITEM-NAME . BINDING)</li>
</ul>
<p>è¯¥event-typeå¯¹åº”ç€binding,åŒæ—¶è¯¥bindingä¹Ÿæ˜¯ä¸€ä¸ªåä¸ºITEM-NAMEçš„simple menu item</p>
<ul>
<li>&lsquo;(EVENT-TYPE ITEM-NAME HELP-STRING . BINDING)</li>
</ul>
<p>è¯¥event-typeå¯¹åº”ç€binding,åŒæ—¶è¯¥bingdingä¹Ÿæ˜¯ä¸€ä¸ªåä¸ºITEM-NAMEçš„èœå•é¡¹,è€Œå¸¦æœ‰help string</p>
<ul>
<li>&lsquo;(EVENT-TYPE menu-item . DETAILS)</li>
</ul>
<p>EVENT-TYPEå¯¹åº”ç€çš„ç»‘å®š,åŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªextended menu item</p>
<ul>
<li>&lsquo;([t] . BINDING)</li>
</ul>
<p>è®¾ç½®BINDINGä¸º&quot;default key binding&quot;. ä»»ä½•ä¸èƒ½æ‰¾åˆ°å¯¹åº”é¡¹çš„event-typeéƒ½æ‰§è¡Œè¯¥binding</p>
<ul>
<li>
<p>æŸchar-table</p>
</li>
<li>
<p>æŸstring</p>
</li>
<li>
<p>æŸparent-keymap</p>
</li>
</ul>
<p>è‹¥å…ƒç´ ä¸ºkeymap,åˆ™è¡¨ç¤ºè¯¥keymapæ‰€å®šä¹‰çš„ç»‘å®šå…³ç³»éƒ½åµŒå…¥åˆ°åŒ…å«è¯¥keymapçš„keymapä¸­æ¥.</p>
<p>æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„:key `M-a&rsquo;åœ¨keymapä¸­è¢«åˆ†æ‹†è¡¨ç¤ºä¸º`&lt;ESC&gt; a&rsquo;(åªæœ‰åœ¨metaä¸å¦ä¸€ä¸ªæ™®é€šå­—ç¬¦å…³è”æ—¶,æ‰è¢«åˆ†æ‹†),è€Œ`M-&lt;end&gt;&lsquo;ç›´æ¥å­˜å‚¨ä¸º`M-&lt;end&gt;&rsquo;</p>
<ul>
<li>(keymapp object)</li>
</ul>
<p>åˆ¤æ–­objectæ˜¯å¦ä¸ºkeymap,è‹¥objectä¸ºsymbol,åˆ™åˆ¤æ–­è¯¥symbolå¯¹åº”çš„function definitionæ˜¯å¦ä¸ºkeymap</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">keymapp</span> <span style="color:#f92672">&#39;</span>(keymap))                     <span style="color:#75715e">; =&gt; t</span>
(<span style="color:#a6e22e">fset</span> <span style="color:#e6db74">&#39;foo</span> <span style="color:#f92672">&#39;</span>(keymap))
(<span style="color:#a6e22e">keymapp</span> <span style="color:#e6db74">&#39;foo</span>)                          <span style="color:#75715e">; =&gt; t</span>
(<span style="color:#a6e22e">keymapp</span> (<span style="color:#a6e22e">current-global-map</span>))          <span style="color:#75715e">; =&gt; t</span>
</code></pre></div><h3 id="åˆ›å»ºkeymap">åˆ›å»ºkeymap<a hidden class="anchor" aria-hidden="true" href="#åˆ›å»ºkeymap">#</a></h3>
<ul>
<li>(make-sparse-keymap &amp;optional prompt)</li>
</ul>
<p>åˆ›å»ºä¸€ä¸ªç©ºçš„keymap</p>
<p>è‹¥ä¼ é€’äº†å‚æ•°prompt,åˆ™å…¶ç§°ä¸ºkeymapçš„overall prompt string. ä½ åªèƒ½ä¸ºmenu keymapè®¾ç½®è¯¥å€¼,å› ä¸ºä»»ä½•è¢«è®¾äº†overall prompt stringçš„keymapéƒ½è¢«è®¤ä¸ºæ˜¯menu</p>
<ul>
<li>(make-keymap &amp;optional prompt)</li>
</ul>
<p>ç±»ä¼¼(make-spare-keymap),ä½†æ˜¯å®ƒæ‰€åˆ›å»ºçš„ä¸æ˜¯ç©ºkeymap,è€Œæ˜¯åŒ…å«äº†ä¸€ä¸ªchar-table,è¿™ä¸ªchar-tableåŒ…å«äº†æ‰€æœ‰çš„ä¸å¸¦modifierçš„characters</p>
<p>æ–°äº§ç”Ÿçš„keymapç»‘å®šæ‰€æœ‰è¿™äº›charactersåˆ°nil</p>
<ul>
<li>(copy-keymap keymap)</li>
</ul>
<p>æ·±æ‹·è´keymap.  However, recursive copying does not take place when the definition of a character is a symbol whose function definition is a keymap; the same symbol appears in the new copy.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq map (<span style="color:#a6e22e">copy-keymap</span> (<span style="color:#a6e22e">current-local-map</span>)))
    =&gt; (keymap
         <span style="color:#75715e">;; (This implements meta characters.)</span>
         (<span style="color:#ae81ff">27</span> keymap
             (<span style="color:#ae81ff">83</span> <span style="color:#f92672">.</span> center-paragraph)
             (<span style="color:#ae81ff">115</span> <span style="color:#f92672">.</span> center-line))
         (<span style="color:#ae81ff">9</span> <span style="color:#f92672">.</span> tab-to-tab-stop))

    (<span style="color:#a6e22e">eq</span> map (<span style="color:#a6e22e">current-local-map</span>))
        =&gt; <span style="color:#66d9ef">nil</span>
    (<span style="color:#a6e22e">equal</span> map (<span style="color:#a6e22e">current-local-map</span>))
        =&gt; <span style="color:#66d9ef">t</span>

</code></pre></div><h3 id="keymapçš„ç»§æ‰¿">keymapçš„ç»§æ‰¿<a hidden class="anchor" aria-hidden="true" href="#keymapçš„ç»§æ‰¿">#</a></h3>
<p>è‹¥keymapä¸­çš„elementä¸ºæŸkeymap,åˆ™è¯¥è¢«åŒ…å«çš„keymapçš„å†…å®¹ä¼šè¢«å†…åµŒåˆ°åŒ…å«çš„keymapä¸­,å³å®ç°äº†keymapçš„ç»§æ‰¿æœºåˆ¶.</p>
<p>æˆ‘ä»¬ç§°è¢«åŒ…å«çš„keymapä¸ºparent-keymap</p>
<p>å¦‚æœparent-keymapä¸­çš„ç»‘å®šå…³ç³»è¢«æ›´æ”¹äº†,åˆ™è¿™äº›æ”¹å˜ä¹Ÿä¼šå½±å“åˆ°ç»§æ‰¿keymap(å› ä¸ºkeymapä¸­çš„å…ƒç´ ä¸ºæŒ‡å‘parent-keymapçš„å¼•ç”¨). åè¿‡æ¥åˆ™ä¸ä¼šå½±å“parent-keymap,è¿™æ˜¯å› ä¸ºä½¿ç”¨define-keyæ›´æ”¹çš„ç»‘å®šæ˜¯ç›´æ¥è®°å½•åœ¨ç»§æ‰¿çš„keymapä¸­çš„</p>
<ul>
<li>(keymap-parent keymap)</li>
</ul>
<p>è·å–keymapä¸­çš„parent-keymap</p>
<ul>
<li>(set-keymap-parent keymap parent-keymap)</li>
</ul>
<p>è®¾ç½®å‚æ•°parent-keymapä¸ºkeymapçš„parent keymap,è‹¥å‚æ•°parent-keymapä¸ºnil,åˆ™æ¸…ç©ºkeymapçš„æ‰€æœ‰parent keymap</p>
<p>è¯¥å‡½æ•°è¿”å›å‚æ•°parent-keymap</p>
<p>è‹¥keymapæœ¬èº«ä¸ºå…¶ä»–sub-keymapçš„parent keymap,åˆ™è¯¥æ“ä½œä¹Ÿä¼šå½±å“åˆ°sub-keymap</p>
<ul>
<li>(make-composed-keymap maps &amp;optional parent)</li>
</ul>
<p>è‹¥å¸Œæœ›åˆ›å»ºä¸€ä¸ªkeymap,è¿™ä¸ªkeymapç»§æ‰¿äºå¤šä¸ªkeymap, åˆ™éœ€è¦ä½¿ç”¨è¯¥å‡½æ•°</p>
<p>è¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ªkeymap,è¯¥keymapé›†åˆäº†mapsä¸­çš„æ‰€æœ‰keymapçš„ç»‘å®šä¿¡æ¯. è¿˜å¯ä»¥ä¸ºå®ƒè®¾ç½®ä¸€ä¸ªparent keymap</p>
<p>å‚æ•°mapså¯ä»¥æ˜¯å•ä¸ªçš„keymap,æˆ–è€…ä¸€ä¸ªç”±keymapç»„æˆçš„list.</p>
<p>å½“Emacsåœ¨åˆ›å»ºçš„è¿™ä¸ªkeymapä¸­æœç´¢event typeçš„ç»‘å®šä¿¡æ¯æ—¶,Emacsä¼šæŒ‰é¡ºåºæœç´¢mapsä¸­çš„keymap,æœ€åæœç´¢parent. ä»¥æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„ç»‘å®šä¸ºå‡†.</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯: <strong>mapsä¸­çš„nilç»‘å®šä¼šè¦†ç›–parentä¸­çš„ç»‘å®šä¿¡æ¯,ä½†æ˜¯ä¸ä¼šè¦†ç›–mapsä¸­çš„å…¶ä»–keymapçš„ç»‘å®šä¿¡æ¯</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defvar help-mode-map
  (let ((map (<span style="color:#a6e22e">make-sparse-keymap</span>)))
    (<span style="color:#a6e22e">set-keymap-parent</span> map
                       (make-composed-keymap button-buffer-map special-mode-map))
    <span style="color:#f92672">...</span> map) <span style="color:#f92672">...</span> )

</code></pre></div><h3 id="æ ‡å‡†emacs-prefix-key-keymap">æ ‡å‡†Emacs prefix key keymap<a hidden class="anchor" aria-hidden="true" href="#æ ‡å‡†emacs-prefix-key-keymap">#</a></h3>
<ul>
<li>esc-map</li>
</ul>
<p>global keymap. é»˜è®¤ç»‘å®šåˆ°&lt;ESC&gt;</p>
<ul>
<li>help-map</li>
</ul>
<p>global keymap. é»˜è®¤ç»‘å®šåˆ°C-h</p>
<ul>
<li>mode-specific-map</li>
</ul>
<p>global keymap. é»˜è®¤ç»‘å®šåˆ°C-c</p>
<ul>
<li>ctl-x-map</li>
</ul>
<p>global keymap. é»˜è®¤ç»‘å®šåˆ°C-x</p>
<ul>
<li>mule-keymap</li>
</ul>
<p>global keymap. é»˜è®¤ç»‘å®šåˆ°C-x &lt;RET&gt;</p>
<ul>
<li>ctl-x-4-map</li>
</ul>
<p>global keymap. é»˜è®¤ç»‘å®šåˆ°C-x 4</p>
<ul>
<li>ctl-x-5-map</li>
</ul>
<p>global keymap. é»˜è®¤ç»‘å®šåˆ°C-x 5</p>
<ul>
<li>2C-mode-map</li>
</ul>
<p>global keymap. é»˜è®¤ç»‘å®šåˆ°C-x 6</p>
<ul>
<li>vc-prefix-map</li>
</ul>
<p>global keymap. é»˜è®¤ç»‘å®šåˆ°C-x v</p>
<ul>
<li>goto-map</li>
</ul>
<p>global keymap. é»˜è®¤ç»‘å®šåˆ°M-g</p>
<ul>
<li>search-map</li>
</ul>
<p>global keymap. é»˜è®¤ç»‘å®šåˆ°M-s</p>
<ul>
<li>facemenu-keymap</li>
</ul>
<p>global keymap. é»˜è®¤ç»‘å®šåˆ°M-o</p>
<ul>
<li>(define-prefix-command symbol &amp;optioinal mapvar prompt)</li>
</ul>
<p>è¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ªsparse keymapå¹¶å­˜å‚¨åœ¨symbolçš„function definitionä¸­, è¿™æ ·ç»‘å®šåˆ°è¯¥symbolçš„key sequenceå°±ç§°ä¸ºäº†&quot;prefix key&quot;</p>
<p>è¯¥å‡½æ•°è¿”å›symbol</p>
<p>è¯¥å‡½æ•°åŒæ—¶ä¹Ÿä¼šè®¾ç½®symbolçš„valueä¸ºè¯¥keymap,ä½†è‹¥å‚æ•°mapvarä¸ºénil,åˆ™symbolçš„å€¼ä¸ºmapvar</p>
<p>è‹¥å‚æ•°promptä¸ºénil,åˆ™å®ƒç§°ä¸ºè¯¥keymapçš„overall prompt string. åŒæ ·çš„,è¯·åªæœ‰å½“è¯¥keymapä¸ºmenuæ—¶æ‰è¿™ä¹ˆåš</p>
<h3 id="active-keymaps">Active Keymaps<a hidden class="anchor" aria-hidden="true" href="#active-keymaps">#</a></h3>
<p>active keymapsæŒ‰ç…§ä¼˜å…ˆçº§ä»é«˜åˆ°åº•ä»¥æ­¤ä¸º:</p>
<ol>
<li>
<p>ç”±å…‰æ ‡/é¼ æ ‡ç‚¹æ‰€åœ¨çš„stringçš„keymap propertyæŒ‡å®šçš„keymap</p>
</li>
<li>
<p>minor modeå¼€å¯çš„keymap</p>
<p>ç”±å˜é‡`emulation-mode-map-alists&rsquo;,`minor-mode-overriding-map-alist&rsquo;å’Œ`minor-mode-map-alist&rsquo;å†³å®š</p>
</li>
<li>
<p>å½“å‰bufferçš„local keymap</p>
<p>ä¸€èˆ¬ç”±bufferçš„major modeå†³å®š</p>
</li>
<li>
<p>global keymap</p>
<p>ç”±å˜é‡`global-map&rsquo;å†³å®š</p>
</li>
</ol>
<p>é™¤äº†ä¸Šé¢çš„å¸¸è§keymapså¤–,Emacsè¿˜æä¾›äº†ä¸€äº›æ–¹æ³•è®©ç¨‹åºå‘˜æ¿€æ´»å…¶ä»–çš„keymaps.</p>
<ol>
<li>
<p>å˜é‡`overriding-local-map&rsquo;æŒ‡å®šçš„keymapä¼šæ›¿ä»£é™¤äº†globa keymapä¹‹å¤–çš„å…¶ä»–ä¸‰ç§å¸¸è§keymap</p>
</li>
<li>
<p>`overriding-terminal-local-map&rsquo;æŒ‡å®šçš„keymapçš„ä¼˜å…ˆçº§é«˜è¿‡å…¶ä»–ä»»ä½•keymaps(åŒ…æ‹¬`overriding-local-map&rsquo;æŒ‡å®šçš„keymap),
<strong>å¸¸ç”¨äºä¸´æ—¶ä¿®æ”¹keybinding(å‚è§å‡½æ•°`set-transient-map&rsquo;)</strong></p>
</li>
</ol>
<p>æ€»ç»“æ¥è¯´,æœç´¢active keymapçš„é¡ºåºä¸º:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(or (if overriding-terminal-local-map
        (FIND-IN overriding-terminal-local-map))
    (if overriding-local-map
        (FIND-IN overriding-local-map)
      (or (FIND-IN (<span style="color:#a6e22e">get-char-property</span> (<span style="color:#a6e22e">point</span>) <span style="color:#e6db74">&#39;keymap</span>))
          (FIND-IN-ANY emulation-mode-map-alists)
          (FIND-IN-ANY minor-mode-overriding-map-alist)
          (FIND-IN-ANY minor-mode-map-alist)
          (if (<span style="color:#a6e22e">get-text-property</span> (<span style="color:#a6e22e">point</span>) <span style="color:#e6db74">&#39;local-map</span>)
              (FIND-IN (<span style="color:#a6e22e">get-char-property</span> (<span style="color:#a6e22e">point</span>) <span style="color:#e6db74">&#39;local-map</span>))
            (FIND-IN (<span style="color:#a6e22e">current-local-map</span>)))))
    (FIND-IN (<span style="color:#a6e22e">current-global-map</span>)))

<span style="color:#75715e">;; In the above pseudo-code, if a key sequence starts with a mouse event (*note Mouse Events::), that event&#39;s position is used instead of point, and the event&#39;s buffer is used instead of the current buffer.</span>
</code></pre></div><p>ä¸‹é¢æ˜¯ä¸€äº›ç›¸å…³å‡½æ•°ä¸å˜é‡:</p>
<ul>
<li>(current-active-maps &amp;optional olp position)</li>
</ul>
<p>å½“å‰ç¯å¢ƒä¸‹å¤„äºæ¿€æ´»çŠ¶æ€çš„keymapçš„list.</p>
<p>æ­£å¸¸æƒ…å†µä¸‹,è¯¥å‡½æ•°çš„è¿”å›å€¼ä¼šå¿½ç•¥æ‰`overriding-local-map&rsquo;å’Œ`overriding-terminal-local-map&rsquo;çš„å€¼,ä½†è‹¥å‚æ•°olpä¸ºénil,åˆ™ä¸ä¼šå¿½ç•¥æ‰è¿™ä¿©ä¸ªå˜é‡çš„å€¼.</p>
<p>å‚æ•°positionå¯ä»¥æ˜¯`event-start&rsquo;å‡½æ•°è¿”å›çš„event positionæˆ–buffer position,è¡¨ç¤ºä½¿ç”¨positionæ‰€åœ¨çš„stringçš„keymap propertyæŒ‡å®šçš„keymapä»£æ›¿å…‰æ ‡æˆ–é¼ æ ‡ç‚¹æ‰€åœ¨çš„stirngçš„keymap property</p>
<ul>
<li>(key-binding key &amp;optional accept-defaults no-remap position)</li>
</ul>
<p>è¯¥å‡½æ•°æ ¹æ®keyåœ¨å½“å‰active çš„keymapsä¸­æŸ¥æ‰¾å¯¹åº”çš„binding.</p>
<p>å‚æ•°accept-defaultæ§åˆ¶æ˜¯å¦æ£€æŸ¥default binding,å³keymapä¸­æ ¼å¼ä¸º(t . binding)çš„å…ƒç´ </p>
<p>å½“commandè¢«é‡æ˜ å°„è¿‡,key-bindingé»˜è®¤ä¼šæŸ¥æ‰¾è¢«é‡æ–°æ˜ å°„è¿‡çš„binding,ä½†è‹¥å‚æ•°no-remapä¸ºénil,åˆ™`key-binding&rsquo;ä¼šå¿½ç•¥é‡æ˜ å°„</p>
<p>å‚æ•°positionå¯ä»¥æ˜¯`event-start&rsquo;å‡½æ•°è¿”å›çš„event positionæˆ–buffer position,è¡¨ç¤ºä½¿ç”¨positionæ‰€åœ¨çš„stringçš„keymap propertyæŒ‡å®šçš„keymapä»£æ›¿å…‰æ ‡æˆ–é¼ æ ‡ç‚¹æ‰€åœ¨çš„stirngçš„keymap property</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">key-binding</span> <span style="color:#e6db74">&#34;\C-x\C-f&#34;</span>)                <span style="color:#75715e">; =&gt; find-file</span>
</code></pre></div><ul>
<li>global-map</li>
</ul>
<p>æ”¹å˜é‡é¢å€¼ä¸ºé»˜è®¤çš„global keymap</p>
<ul>
<li>(current-global-map)</li>
</ul>
<p>è¿”å›å½“å‰global keymapçš„ <strong>å¼•ç”¨è€Œä¸æ˜¯æ‹·è´</strong>.</p>
<ul>
<li>(current-local-map)</li>
</ul>
<p>è¯¥å‡½æ•°è¿”å›å½“å‰bufferçš„local keymapçš„ <strong>å¼•ç”¨è€Œä¸æ˜¯æ‹·è´</strong></p>
<ul>
<li>(current-minor-mode-maps)</li>
</ul>
<p>è¿”å›å½“å‰minor modeå¼€å¯çš„keymapsçš„list</p>
<ul>
<li>(use-global-map keymap)</li>
</ul>
<p>è®¾ç½®keymapä¸ºglobal keymap</p>
<ul>
<li>(use-local-map keymap)</li>
</ul>
<p>è®¾ç½®keymapä¸ºå½“å‰bufferçš„local keymap(å¤§å¤šæ•°major modeå‘½ä»¤éƒ½ä½¿ç”¨è¯¥å‡½æ•°æ¥è®¾ç½®local keymap)</p>
<p>å‚æ•°keymapå¯ä»¥ä¸ºnil,è¡¨ç¤ºä¸è®¾ç½®local keymap</p>
<ul>
<li>minor-mode-map-alist</li>
</ul>
<p>è¯¥å˜é‡æ˜¯ä¸€ä¸ªç”±å…ƒç´ &rsquo;(variable . keymap)ç»„æˆçš„alist.</p>
<p>å®ƒè¡¨ç¤º,å½“å˜é‡variableçš„å€¼ä¸ºénilæ—¶,å¯¹åº”çš„keymapå¤„äºæ¿€æ´»çŠ¶æ€,å¦åˆ™è‹¥å˜é‡variableçš„å€¼ä¸ºnil,åˆ™keymapè¢«ç¦ç”¨. è¿™é‡Œkeymapå¯ä»¥æ˜¯ä¸€ä¸ªkeymapæˆ–è€…ä¸€ä¸ªfunction definitionä¸ºkeymapçš„symbol</p>
<p>é€šå¸¸æƒ…å†µä¸‹å˜é‡variableè¢«ç”¨äºæ§åˆ¶æ˜¯å¦å¯ç”¨æŸä¸ªminor mode</p>
<ul>
<li>minor-mode-overriding-map-alist</li>
</ul>
<p>è¯¥å˜é‡è¿è¡Œmajor modeè¦†ç›–ç‰¹å®šminor modeçš„key binding.</p>
<p>è¯¥alistçš„å…ƒç´ è·Ÿ`minor-mode-map-alist&rsquo;ç±»ä¼¼,ä¹Ÿæ˜¯(VARIABLE . KEYMAP)</p>
<p>è‹¥ç»Ÿä¸€å˜é‡variable,åŒæ—¶åœ¨`minor-mode-overriding-map-alist&rsquo;å’Œ`minor-mode-map-alist&rsquo;ä¸­å‡ºç°,åˆ™ä½¿ç”¨`minor-mode-overriding-map-alist&rsquo;ä¸­çš„å¯¹åº”keymapè¦†ç›–`minor-mode-map-alist&rsquo;ä¸­çš„keymap</p>
<ul>
<li>overriding-local-map</li>
</ul>
<p>è¯¥å€¼è‹¥ä¸ºnil,åˆ™è¯¥å€¼æ‰€æŒ‡å®šçš„keymapä¼šè¦†ç›–é™¤äº†global mapå¤–çš„æ‰€æœ‰keymap</p>
<ul>
<li>overriding-terminal-local-map</li>
</ul>
<p>è‹¥ä¸ºénil,åˆ™è¯¥å˜é‡æ‰€è¡¨ç¤ºçš„keymap,ä¼šä¼˜å…ˆäº`overriding-local-map&rsquo;,bufferçš„local keymap,text propertyæˆ–overlay keymapå’Œå…¶ä»–æ‰€æœ‰çš„minor mode keymap</p>
<p>æ”¹å˜äº†ä¸ºterminal local variable,ä¸èƒ½è®¾ç½®ä¸ºbuffer-local</p>
<ul>
<li>overriding-local-map-menu-flag</li>
</ul>
<p>è‹¥è¯¥å€¼ä¸ºénil,åˆ™è¡¨ç¤º`overriding-local-map&rsquo;å’Œ`overriding-terminal-local-map&rsquo;çš„å€¼å¯ä»¥å½±å“åˆ°menu barçš„æ˜¾ç¤º, é»˜è®¤ä¸ºnil</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯,æ— è®ºæ˜¯å¦å½±å“menu barçš„æ˜¾ç¤º,`overriding-local-map&rsquo;å’Œ`overriding-terminal-local-map&rsquo;ä¾ç„¶ä¼šå½±å“åˆ°é€šè¿‡menu baräº§ç”Ÿçš„key sequenceçš„æ‰§è¡Œæƒ…å†µ</p>
<ul>
<li>special-event-map</li>
</ul>
<p>å­˜æ”¾special eventä¸commandå¯¹åº”å…³ç³»çš„keymap.</p>
<p>è‹¥æŸevent typeåœ¨è¯¥keymapä¸­æœ‰binding,åˆ™è¯¥event typeè¢«è®¤ä¸ºæ˜¯ç‰¹æ®Šçš„,å¹¶ä¸”è¯¥eventæ‰€å¯¹åº”çš„ç»‘å®šcommandä¼šç›´æ¥è¢«å‡½æ•°`read-event&rsquo;æ‰€æ‰§è¡Œ</p>
<ul>
<li>emulation-mode-map-alist</li>
</ul>
<p>This variable holds a list of keymap alists to use for emulation modes.
It is intended for modes or packages using multiple minor-mode keymaps.
Each element is a keymap alist which has the same format and meaning as `minor-mode-map-alist', or a symbol with a variable binding which is such an alist.
The &ldquo;active&rdquo; keymaps in each alist are used before `minor-mode-map-alist' and `minor-mode-overriding-map-alist'.</p>
<ul>
<li>(set-transient-map keymap &amp;optional keep-pred on-exit)</li>
</ul>
<p>è¯¥å‡½æ•°ä¸´æ—¶å¢åŠ keymapä½œä¸ºä¼˜å…ˆçº§æœ€é«˜çš„keymap</p>
<p>æ­£å¸¸æƒ…å†µä¸‹,keymapåªä¼šè¢«ä½¿ç”¨ä¸€æ¬¡,æ¥æŸ¥æ‰¾ç´§æ¥ç€çš„ä¸‹ä¸€ä¸ªkey sequenceçš„binding. ä½†è‹¥å‚æ•°keep-predä¸ºtåˆ™keymapä¸€ç›´æœ‰æ•ˆ,ç›´åˆ°æŸä¸ªkey sequenceåœ¨keymapä¸­æ‰¾ä¸åˆ°bindingä¸ºæ­¢.</p>
<pre><code> å‚æ•°on-exit,è‹¥ä¸ºénil,åˆ™éœ€è¦æ˜¯ä¸€ä¸ªä¸å¸¦å‚æ•°çš„å›è°ƒå‡½æ•°,ä¼šåœ¨mapå¤±æ•ˆæ—¶è°ƒç”¨è¯¥å‡½æ•°.
</code></pre>
<p>.</p>
<h3 id="key-lookup">Key Lookup<a hidden class="anchor" aria-hidden="true" href="#key-lookup">#</a></h3>
<p>æ ¹æ®key sequenceåœ¨æŒ‡å®škeymapä¸­æŸ¥æ‰¾bindingçš„è¿‡ç¨‹,ç§°ä¸º&quot;Key lookup&quot;</p>
<p>key lookupçš„è¿‡ç¨‹åªä½¿ç”¨key sequenceä¸­å„eventçš„event typeä½œä¸ºæŸ¥æ‰¾çš„æ¡ä»¶,è€Œå¿½ç•¥eventçš„å…¶ä»–éƒ¨åˆ†. å½“eventä¸ºmouse eventæ—¶,ç”šè‡³å¯ä»¥ä½¿ç”¨symbolç±»å‹çš„mouse event typeæ¥ä»£æ›¿listç±»å‹çš„æ•´ä¸ªevent.</p>
<p>é€šè¿‡key lookupæ‰¾åˆ°çš„binding,æˆ‘ä»¬ç§°ä¹‹ä¸º&quot;keymap entry&quot;.</p>
<p>è¿™é‡Œçš„BINDINGå¯ä»¥æ˜¯ä»¥ä¸‹å‡ ç§ç±»å‹çš„å¯¹è±¡</p>
<ul>
<li>
<p>nil</p>
</li>
<li>
<p>command/lambdaè¡¨è¾¾å¼</p>
</li>
<li>
<p>string/vector</p>
</li>
</ul>
<p>bingdingä¸ºkeyboard macro</p>
<ul>
<li>
<p>keymap</p>
</li>
<li>
<p>list</p>
</li>
</ul>
<p>è¿™æ—¶listçš„æ ¼å¼åº”è¯¥ä¸º'(other-keymap . other-event-type),è¡¨ç¤ºä¸º&quot;indirect entry&quot;</p>
<p>å³,å®ƒä¼šåœ¨other-keymapä¸­æœç´¢other-event-typeè¡¨ç¤ºçš„binding</p>
<p>è¯¥åŠŸèƒ½é‡ç”¨ä¸ä¸ºæŸä¸ªkeyåˆ›å»ºå…¶ä»–keyçš„å¼•ç”¨.</p>
<ul>
<li>symbol</li>
</ul>
<p>ä½¿ç”¨symbolçš„function definition</p>
<ul>
<li>å…¶ä»–ç±»å‹</li>
</ul>
<p>ä¸Šé¢å‡ ç§ç±»å‹çš„bindingæ‰¾åˆ°å›,éƒ½ä¼šå½“æˆcommandè¢«execute-commandæ‰§è¡Œ.</p>
<p>ä½†è‹¥ä¸æ˜¯ä¸Šé¢å‡ ç§ç±»å‹çš„å…¶ä»–ç±»å‹,åˆ™ä¸ä¼šè¢«å½“æˆcommandçœ‹å¾…</p>
<h4 id="ç›¸å…³å‡½æ•°">ç›¸å…³å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#ç›¸å…³å‡½æ•°">#</a></h4>
<ul>
<li>
<p>(lookup-key keymap key &amp;optional accept-defaults)</p>
<p>è¿”å›keyåœ¨keymapä¸­çš„binding</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">lookup-key</span> (<span style="color:#a6e22e">current-global-map</span>) <span style="color:#e6db74">&#34;\C-x\C-f&#34;</span>) <span style="color:#75715e">; =&gt; find-file</span>
(<span style="color:#a6e22e">lookup-key</span> (<span style="color:#a6e22e">current-global-map</span>) (kbd <span style="color:#e6db74">&#34;C-x C-f&#34;</span>)) <span style="color:#75715e">; =&gt; find-file</span>
(<span style="color:#a6e22e">lookup-key</span> (<span style="color:#a6e22e">current-global-map</span>) <span style="color:#e6db74">&#34;\C-x\C-f12345&#34;</span>) <span style="color:#75715e">; =&gt; 2</span>
</code></pre></div><p>If the string or vector KEY is not a valid key sequence according to the prefix keys specified in KEYMAP, it must be &ldquo;too long&rdquo; and have extra events at the end that do not fit into a single key sequence.
Then the value is a number, the number of events at the front of KEY that compose a complete key.</p>
<p>è‹¥å‚æ•°accept-defaultsä¸ä¸ºnil,åˆ™`lookup-key&rsquo;åœ¨æ‰¾ä¸åˆ°keyçš„bindingæ˜¯,ä¼šä½¿ç”¨default binding</p>
<p>è‹¥keyä¸ºmeta character+æ™®é€šcharacteråˆ™ä¼šè¢«åˆ†æ‹†ä¸ºä¸€ä¸ªç”±ä¸¤ä¸ªcharacterç»„æˆçš„sequence:`meta-prefix-char&rsquo;è¡¨ç¤ºçš„å€¼+æ™®é€šcharacter</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">lookup-key</span> (<span style="color:#a6e22e">current-global-map</span>) <span style="color:#e6db74">&#34;\M-f&#34;</span>) <span style="color:#75715e">; =&gt; forward-word</span>
(<span style="color:#a6e22e">lookup-key</span> (<span style="color:#a6e22e">current-global-map</span>) <span style="color:#e6db74">&#34;\ef&#34;</span>)  <span style="color:#75715e">; =&gt; forward-word</span>
</code></pre></div><p>Unlike `read-key-sequence', this function does not modify the specified events in ways that discard information .
In particular, it does not convert letters to lower case and it does not change drag events to clicks.</p>
</li>
<li>
<p>(undefined)</p>
<p>è¯¥å‡½æ•°å¸¸ç”¨äºkeymapä¸­ç”¨äºundefineæŸä¸ªkey.</p>
<p>å®ƒè°ƒç”¨`ding',ä½†æ˜¯ä¸ä¼šå¼•å‘error</p>
</li>
<li>
<p>(local-key-binding key &amp;optional accept-default)</p>
<p>è¯¥å‡½æ•°åœ¨å½“å‰çš„local keymap(ç”±major-modeå†³å®šçš„)ä¸­æŸ¥æ‰¾keyçš„binding</p>
<p>å‚æ•°accept-defaultså†³å®šäº†æ˜¯å¦æ£€æŸ¥default binding</p>
</li>
<li>
<p>(global-key-binding key &amp;optional accept-defaults)</p>
<p>è¯¥å‡½æ•°åœ¨global keymapä¸­æŸ¥æ‰¾keyçš„binding</p>
<p>å‚æ•°accept-defaultså†³å®šäº†æ˜¯å¦æ£€æŸ¥default binding</p>
</li>
<li>
<p>(minor-mode-key-binding key &amp;optional accept-defaults)</p>
<p>è¯¥å‡½æ•°è¿”å›æ‰€æœ‰active minor modeä¸­keyæ‰€å¯¹åº”çš„binding.</p>
<p>è¿”å›çš„å€¼ä¸ºç”±'(MODENAME . BINDING)ç»„æˆçš„alist</p>
<p>è‹¥ç¬¬ä¸€ä¸ªæ‰¾åˆ°çš„bindingä¸æ˜¯prefix definition(å³bindingä¸ä¸ºkeymapæˆ–function definitionä¸ä¸ºkeymapçš„symbol),åˆ™æ¥ä¸‹æ¥çš„å…¶ä»–minor modeä¸­çš„bindingéƒ½ä¼šå¿½ç•¥æ‰,å› ä¸ºä»–ä»¬éƒ½ä¼šè¢«æ‰¾åˆ°çš„è¯¥bindingæ‰€å±è”½æ‰.
Similarly, the list omits non-prefix bindings that follow prefix bindings.</p>
<p>å‚æ•°accept-defaultså†³å®šäº†æ˜¯å¦æ£€æŸ¥default binding</p>
</li>
<li>
<p>é…ç½®é¡¹meta-prefix-char</p>
<p>è¯¥å˜é‡ä¸ºmetaä½œä¸ºprefixæ—¶çš„character code,ç”¨äºå°†ä»£metaçš„characterè½¬æ¢ä¸ºä¸€ä¸ªç”±ä¸¤ä¸ªcharacterç»„æˆçš„sequence. é»˜è®¤ä¸º27,è¡¨ç¤º&lt;ESC&gt;çš„character code</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">meta-prefix-char                    <span style="color:#75715e">; The default value.</span>
     =&gt; <span style="color:#ae81ff">27</span>
(<span style="color:#a6e22e">key-binding</span> <span style="color:#e6db74">&#34;\M-b&#34;</span>)
     =&gt; backward-word
<span style="color:#e6db74">?\C</span>-x                               <span style="color:#75715e">; The print representation</span>
     =&gt; <span style="color:#ae81ff">24</span>                          <span style="color:#75715e">;   of a character.</span>
(setq meta-prefix-char <span style="color:#ae81ff">24</span>)
     =&gt; <span style="color:#ae81ff">24</span>
(<span style="color:#a6e22e">key-binding</span> <span style="color:#e6db74">&#34;\M-b&#34;</span>)
     =&gt; switch-to-buffer            <span style="color:#75715e">; Now, typing `M-b&#39; is</span>
                                    <span style="color:#75715e">;   like typing `C-x b&#39;.</span>

(setq meta-prefix-char <span style="color:#ae81ff">27</span>)          <span style="color:#75715e">; Avoid confusion!</span>
     =&gt; <span style="color:#ae81ff">27</span>                          <span style="color:#75715e">; Restore the default value!</span>
</code></pre></div></li>
</ul>
<h3 id="changing-key-binding">Changing Key Binding<a hidden class="anchor" aria-hidden="true" href="#changing-key-binding">#</a></h3>
<ul>
<li>(define-key keymap key binding)</li>
</ul>
<p>è¯¥å‡½æ•°è®¾ç½®keymapä¸­çš„keyçš„å¯¹åº”binding.</p>
<p>è‹¥å‚æ•°keyä¸º`[t]',åˆ™è¡¨ç¤ºè®¾ç½®default binding</p>
<ul>
<li>(substitute-key-definition olddef newdef keymap &amp;optional oldmap)</li>
</ul>
<p>è¯¥å‡½æ•°æ‰«ækeymapä¸­çš„æ‰€æœ‰bindingä¸ºolddefçš„key,å¹¶rebindè¿™äº›keyåˆ°newdef. è¯¥å‡½æ•°è¿”å›nil</p>
<p>è‹¥å‚æ•°oldmapä¸ºénil,åˆ™è¡¨ç¤º <strong>åªæœ‰åœ¨oldmapä¸­åŒ…å«çš„keyæ‰å‚ä¸æ›¿æ¢.</strong></p>
<ul>
<li>(suppress-keymap keymap &amp;optional nodigits)</li>
</ul>
<p>è¯¥å‡½æ•°å°†keymapä¸­çš„æ‰€æœ‰bindingä¸º`self-insert-command&rsquo;çš„keyéƒ½é‡æ˜ å°„åˆ°`undefined&rsquo;ä¸Š,ä½¿å¾—æ’å…¥æ–‡æœ¬å˜å¾—ä¸å¯èƒ½.</p>
<p>è‹¥nodigitsä¸ºnil,åˆ™`suppress-keymap&rsquo;é‡æ–°æ˜ å°„æ•°å­—çš„bindingä¸º`dgit-argument',é‡æ–°æ˜ å°„`-&lsquo;ä¸º`negative-argument&rsquo;</p>
<p>è‹¥nodigitsä¸ºénil,åˆ™æ•°å­—å’Œ`-&lsquo;éƒ½è·Ÿå­—ç¬¦ä¸€æ ·æ˜ å°„ä¸º`undefined&rsquo;</p>
<p>ç”±äºè¯¥å‡½æ•°ä¼šæ›´æ”¹keymapçš„ç»“æ„,å› æ­¤å½“è¯¥keymapè¢«å…¶ä»–keymapå¼•ç”¨æ—¶,å¾ˆå®¹æ˜“äº§ç”Ÿé—®é¢˜,å› æ­¤,ä¸€èˆ¬å‚æ•°keymapéƒ½ä¸ºæ–°åˆ›å»ºçš„keymap</p>
<ul>
<li>(global-set-key key binding)</li>
</ul>
<p>è®¾ç½®global keymapä¸­keyçš„ç»‘å®š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(global-set-key KEY BINDING)
<span style="color:#75715e">;; ==</span>
(<span style="color:#a6e22e">define-key</span> (<span style="color:#a6e22e">current-global-map</span>) KEY BINDING)
</code></pre></div><ul>
<li>(global-unset-key key)</li>
</ul>
<p>åˆ é™¤global-keymapä¸­keyçš„ç»‘å®š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(global-unset-key KEY)
<span style="color:#75715e">;; ==</span>
(<span style="color:#a6e22e">define-key</span> (<span style="color:#a6e22e">current-global-map</span>) KEY <span style="color:#66d9ef">nil</span>)
</code></pre></div><ul>
<li>(local-set-key key binding)</li>
</ul>
<p>è®¾ç½®local keymapä¸­keyçš„ç»‘å®š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(local-set-key KEY BINDING)
<span style="color:#75715e">;; ==</span>
(<span style="color:#a6e22e">define-key</span> (<span style="color:#a6e22e">current-local-map</span>) KEY BINDING)
</code></pre></div><ul>
<li>(local-unset-key key)</li>
</ul>
<p>å–æ¶ˆlocal keymapä¸­keyçš„ç»‘å®š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(local-unset-key KEY)
<span style="color:#75715e">;; ==</span>
(<span style="color:#a6e22e">define-key</span> (<span style="color:#a6e22e">current-local-map</span>) KEY <span style="color:#66d9ef">nil</span>)
</code></pre></div><h3 id="remapping-commands">Remapping Commands<a hidden class="anchor" aria-hidden="true" href="#remapping-commands">#</a></h3>
<p>A special kind of key binding can be used to &ldquo;remap&rdquo; one command to another, without having to refer to the key sequence(s) bound to the original command.</p>
<p>To use this feature, make a key binding for a key sequence that starts with the dummy event `remap', followed by the command name you want to remap;</p>
<p>ä¾‹å¦‚,è¦ç”¨`my-kill-line&rsquo;æ›¿ä»£`kill-line',å¯ä»¥è¿™æ ·:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">define-key</span> my-mode-map [remap kill-line] <span style="color:#e6db74">&#39;my-kill-line</span>)
</code></pre></div><p>éœ€è¦æ³¨æ„çš„æ˜¯: <strong>remapåªå¯¹active keymapæ‰ç”Ÿæ•ˆ</strong>
å¦å¤–, <strong>ä¸èƒ½å¯¹å·²ç»remapçš„bindingå†åšremap</strong>. ä¾‹å¦‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">define-key</span> my-mode-map [remap kill-line] <span style="color:#e6db74">&#39;my-kill-line</span>)
(<span style="color:#a6e22e">define-key</span> my-mode-map [remap my-kill-line] <span style="color:#e6db74">&#39;my-other-kill-line</span>) <span style="color:#75715e">;ä¸ä¼šç”Ÿæ•ˆ</span>
</code></pre></div><p>è¦å–æ¶ˆremap,åªéœ€è¦remapåˆ°nilå³å¯</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">define-key</span> my-mode-map [remap kill-line] <span style="color:#66d9ef">nil</span>)
</code></pre></div><ul>
<li>(command-remapping command &amp;optional position keymap)</li>
</ul>
<p>è¯¥å‘½ä»¤è¿”å›å½“å‰active-keymapä¸­è¢«remapçš„command(a symbol)è¢«remapåˆ°ä»€ä¹ˆbinding</p>
<p>è‹¥commandæ²¡æœ‰è¢«remap,æˆ–è€…ä¸æ˜¯symbolç±»å‹,åˆ™è¯¥å‡½æ•°è¿”å›nil.</p>
<p>å‚æ•°positionå¯ä»¥é€šè¿‡æŒ‡å®šbuffer positionæˆ–mouse event positionæ¥å†³å®šå½“å‰activeçš„keymap</p>
<p>è‹¥æŒ‡å®šäº†å‚æ•°keymaps,åˆ™ä½¿ç”¨å‚æ•°keymapsä¸­çš„keymapä»£æ›¿ä½†é’±active keymaps. <strong>è¯¥å‚æ•°åœ¨positionä¸ºénilæ—¶è¢«å¿½ç•¥</strong></p>
<h3 id="ç”¨äºè½¬æ¢event-sequenceçš„keymap">ç”¨äºè½¬æ¢event sequenceçš„keymap<a hidden class="anchor" aria-hidden="true" href="#ç”¨äºè½¬æ¢event-sequenceçš„keymap">#</a></h3>
<p>å½“`read-key-sequence&rsquo;å‡½æ•°è¯»å–key sequenceæ—¶,å®ƒä½¿ç”¨&quot;translation keymaps&quot;æ¥è½¬æ¢ç‰¹å®šçš„event sequenceä¸ºå…¶ä»–çš„event sequence.</p>
<p>è¿™äº›translation keymapæŒ‰ä¼˜å…ˆçº§æ’åˆ—åˆ†åˆ«ä¸º:`input-decode-map',`local-function-key-map&rsquo;å’Œ`key-translation-map'</p>
<p>å½“è¯»å–key sequenceæ—¶,Emacsä¼šé’ˆå¯¹å…¶ä¸­çš„æ¯ä¸ªeventä½œä¸€æ¬¡æ£€æŸ¥,è‹¥åœ¨translation keymapä¸­å‘ç°æœ‰å¯¹åº”çš„binding,åˆ™å°†è¯¥eventè½¬æ¢ä¸ºç»‘å®šçš„event</p>
<blockquote>
<p>For example, VT100 terminals send `&lt;ESC&gt; O P' when the keypad key
&lt;PF1&gt; is pressed.  On such terminals, Emacs must translate that
sequence of events into a single event `pf1'.  This is done by
&ldquo;binding&rdquo; `&lt;ESC&gt; O P' to `[pf1]' in `input-decode-map'.  Thus, when you
type `C-c &lt;PF1&gt;' on the terminal, the terminal emits the character
sequence `C-c &lt;ESC&gt; O P', and `read-key-sequence' translates this back
into `C-c &lt;PF1&gt;' and returns it as the vector `[?\C-c pf1]'.</p>
</blockquote>
<p>Translation keymaps take effect only after Emacs has decoded the keyboard input (via the input coding system specified by `keyboard-coding-system').</p>
<ul>
<li>input-decode-map</li>
</ul>
<p>è¯¥å˜é‡çš„keymapè½¬æ¢çš„æ˜¯ç”±åŠŸèƒ½é”®äº§ç”Ÿçš„key sequence(This variable holds a keymap that describes the character sequences sent by function keys on an ordinary character terminal.)</p>
<ul>
<li>local-function-key-map</li>
</ul>
<p>This variable holds a keymap similar to `input-decode-map' except that it describes key sequences which should be translated to alternative interpretations that are usually preferred.
It applies after `input-decode-map' and before `key-translation-map'.</p>
<p>æ³¨æ„: <strong>è‹¥`local-function-key-map&rsquo;ä¸­çš„æŸä¸ªkeyä¸minior mode keymap,local keymapæˆ–global keymapæœ‰å†²çª,åˆ™è¯¥keyä¼šè¢«å¿½ç•¥è€Œä¸ä¼šä½œè½¬æ¢</strong></p>
<ul>
<li>key-translation-map</li>
</ul>
<p>ç±»ä¼¼`input-decode-map'. åŒºåˆ«åœ¨äºå®ƒçš„ä¼˜å…ˆçº§æ¯”è¾ƒä½.</p>
<p>ä¸`input-decode-map&rsquo;ç±»ä¼¼,ä¸`local-function-key-map&rsquo;ä¸åŒ,è¯¥keymapä¸å­˜åœ¨ä¸å…¶ä»–æ™®é€škeymapå†²çªå°±ä¸ç”Ÿæ•ˆçš„æƒ…å†µ.</p>
<p>You can use `input-decode-map', `local-function-key-map', and `key-translation-map' for more than simple aliases, by using a function, instead of a key sequence, as the &ldquo;translation&rdquo; of a key. Then this function is called to compute the translation of that key.</p>
<p>The key translation function receives one argument, which is the prompt that was specified in `read-key-sequence'&ndash;or `nil' if the key sequence is being read by the editor command loop.  In most cases you can ignore the prompt value.</p>
<h3 id="scanning-keymaps">Scanning keymaps<a hidden class="anchor" aria-hidden="true" href="#scanning-keymaps">#</a></h3>
<ul>
<li>(accessible-keymaps keymap &amp;optional prefix)</li>
</ul>
<p>è¯¥å‡½æ•°è¿”å›æŒ‡å®škeymapä¸­æ‰€æœ‰å¯ä»¥åˆ°è¾¾çš„'(key . binding)çš„alist</p>
<ul>
<li>(map-keymap function keymap)</li>
</ul>
<p>è¯¥å‡½æ•°å¯¹keymapä¸­çš„æ¯ä¸ªbindingéƒ½è°ƒç”¨functionæ‰§è¡Œä¸€æ¬¡. functionæ¥æ”¶ä¸¤ä¸ªå‚æ•°:event typeå’Œbinding</p>
<p>è‹¥keymapåŒ…å«parent-keymap,è¯¥parent-keymapä¸­çš„bindingä¹Ÿè¢«æ‰§è¡Œ,è¿™è¯ä¼¼ä¸€ä¸ªä¸æ–­é€’å½’çš„è¿‡ç¨‹.</p>
<ul>
<li>(where-is-internal comand &amp;optional keymap firstonly noindirect no-remap)</li>
</ul>
<p>è¯¥å‡½æ•°è¿”å›ä¸€ä¸ªlist,åŒ…å«äº†åœ¨keymapsä¸­ç»‘å®šåˆ°commandçš„æ‰€æœ‰key sequence.</p>
<p><strong>å‚æ•°commandå¯ä»¥ä»»æ„object,è¯¥å‡½æ•°ä½¿ç”¨`eq&rsquo;ä¸keymapçš„bindingè¿›è¡Œæ¯”è¾ƒ</strong></p>
<p>è‹¥å‚æ•°keymapä¸ºnil,åˆ™æœç´¢èŒƒå›´ä¸ºå½“å‰activeçš„keymaps(ä¸ç®¡`overriding-local-map&rsquo;çš„å€¼).</p>
<p>è‹¥å‚æ•°keymapä¸ºkeymap,åˆ™æœç´¢èŒƒå›´ä¸ºå‚æ•°keymapå’Œglobal keymap</p>
<p>è‹¥å‚æ•°keymapä¸ºkeymapç»„æˆçš„list,åˆ™æœç´¢èŒƒå›´ä»…ä»…æ˜¯æŒ‡å®šçš„è¿™äº›keymaps</p>
<ul>
<li>å‘½ä»¤(describe-binding &amp;optional prefix buffer-or-name)</li>
</ul>
<p>è¯¥å‘½ä»¤åˆ—å‡ºå½“å‰key bindingå¹¶æ˜¾ç¤ºåœ¨*Help*</p>
<p>è‹¥å‚æ•°prefixä¸ºénil,åˆ™åªåˆ—å‡ºä»¥prefixä¸ºprefix keyçš„key sequence</p>
<p>é»˜è®¤ç»‘å®šä¸º`C-h b'</p>
<h3 id="menu-keymaps">Menu Keymaps<a hidden class="anchor" aria-hidden="true" href="#menu-keymaps">#</a></h3>
<h4 id="defining-menus">Defining Menus<a hidden class="anchor" aria-hidden="true" href="#defining-menus">#</a></h4>
<p>ä¸€ä¸ªmenuå…¶å®å°±æ˜¯å¸¦æœ‰prompt-stringçš„keymap. è¿™ä¸ªprompt-stringæ˜¯`make-keymap',`make-sparse-keymap&rsquo;å’Œ`define-prefix-command&rsquo;å‡½æ•°çš„æœ€åä¸€ä¸ªå‚æ•°.</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯,ä½¿ç”¨define-keyä¸ºmenuåˆ›å»ºæ–°ç»‘å®šæ—¶,ä¼šå°†æ–°ç»‘å®šæ”¾åœ¨æœ€å‰é¢,å› æ­¤è‹¥å…³å¿ƒmenué¡¹çš„é¡ºåºçš„è¯,è¦æ³¨æ„ä»æœ€åé¡¹å¼€å§‹å‘æœ€å‰é¡¹å®šä¹‰.</p>
<p>å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨`define-key-after&rsquo;æ¥æŒ‡å®šæ–°ç»‘å®šçš„ä½ç½®.</p>
<ul>
<li>
<p>(keymap-prompt keymap)</p>
<p>è·å–keymapä¸­çš„prompt-string</p>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Simple Menu Items</p>
<p>å®šä¹‰menu itemçš„åŸå§‹æ–¹æ³•æ˜¯ç»‘å®ševent type(å…·ä½“æ˜¯ä»€ä¹ˆevent typeæ— æ‰€è°“)åˆ°å¦‚ä¸‹æ ¼å¼çš„list</p>
<ul>
<li>(ITEM-STRING . REAL-BINDING)</li>
<li>(ITEM-STRING HELP-STRING . REAL-BINDING)</li>
</ul>
<p>ä¾‹å¦‚:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defvar menu-lancher-keymap (<span style="color:#a6e22e">make-sparse-keymap</span> <span style="color:#e6db74">&#34;menu-lancher&#34;</span>))

(<span style="color:#a6e22e">define-key</span> menu-lancher-keymap <span style="color:#e6db74">&#34;C-c C-a&#34;</span>
  <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;menu-item&#34;</span> <span style="color:#e6db74">&#34;menu-item-help&#34;</span> (lambda ()
                                   (<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;show menu-item&#34;</span>))))
</code></pre></div><p>éœ€è¦æ³¨æ„çš„æ˜¯, ä½¿ç”¨lookup-keyæ¥æŸ¥æ‰¾é”®ç»‘å®šæ—¶,åªä¼šè¿”å›real-bindingè¿™éƒ¨åˆ†å†…å®¹.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">lookup-key</span> menu-lancher-keymap <span style="color:#e6db74">&#34;C-c C-a&#34;</span>)
<span style="color:#75715e">;; =&gt; ((lambda nil (message &#34;show menu-item&#34;)))</span>
</code></pre></div><p>è‹¥real-bindingä¸ºnil,åˆ™menu-itemæ— æ³•è¢«é€‰ä¸­.</p>
<p>è‹¥real-bindingä¸ºsymbol,ä¸”è¯¥symbolå…·æœ‰énilçš„menu-enableå±æ€§(è¯¥å±æ€§éœ€ä¸ºä¸€ä¸ªS-è¡¨è¾¾å¼),åˆ™æ¯æ¬¡æ˜¾ç¤ºmenuéƒ½ä¼šæ‰§è¡Œè¯¥S-è¡¨è¾¾å¼ä»¥å†³å®šè¯¥itemæ˜¯å¦å¯é€‰.</p>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Extended Menu Item</p>
<p>å®šä¹‰Extended menu itemçš„æ–¹æ³•æ˜¯ç»‘å®ševent type(å…·ä½“æ˜¯ä»€ä¹ˆevent typeæ— æ‰€è°“)åˆ°å¦‚ä¸‹æ ¼å¼çš„list(<strong>è¿™äº›listçš„caréƒ½æ˜¯menu-item</strong>)</p>
<ul>
<li>
<p>(menu-item ITEM-NAME)</p>
<p>å®šä¹‰ä¸å¯é€‰ä¸­çš„menu item.</p>
</li>
<li>
<p>(menu-item ITEM-NAME REAL-BINDING . ITEM-PROPERTY-LIST)</p>
<p>å®šä¹‰å¯é€‰ä¸­çš„menu item. å…¶ä¸­</p>
<ul>
<li>
<p>ITEM-NAMEä¸ºä¸€ä¸ªè¡¨è¾¾å¼,è¯¥è¡¨è¾¾å¼çš„è¿è¡Œç»“æœå¿…é¡»è¿”å›ä¸€ä¸ªstring.</p>
</li>
<li>
<p>REAL-BINDINGä¸ºè¦æ‰§è¡Œçš„command</p>
</li>
<li>
<p>ITEM-PROPERTY-LISTå®šä¹‰äº†menu itemçš„å…¶ä»–ä¿¡æ¯</p>
<table>
<thead>
<tr>
<th>:enable FORM</th>
<th>FORMçš„è®¡ç®—ç»“æœå†³å®šäº†è¯¥menu itemæ˜¯å¦æœ‰ç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>:visible FORM</td>
<td>FORMçš„è®¡ç®—ç»“æœå†³å®šäº†æ˜¯å¦æ˜¾ç¤ºè¯¥menu item</td>
</tr>
<tr>
<td>:helper HELP-STR</td>
<td>HELP-STRä¸ºå›ºå®šå­—ç¬¦ä¸²,å…¶æŒ‡å®šäº†help-echoçš„æ˜¾ç¤ºå†…å®¹</td>
</tr>
<tr>
<td>:button (TYPE . SELECTED)</td>
<td>è¯¥å±æ€§æä¾›äº†ä¸€ç§å®šä¹‰radio buttonæˆ–toggle buttonçš„æ–¹å¼</td>
</tr>
<tr>
<td></td>
<td>TYPEè¡¨ç¤ºbuttonçš„ç±»å‹,å¯ä»¥æ˜¯:toggleæˆ–:radio</td>
</tr>
<tr>
<td></td>
<td>SELECTEDéœ€è¦ä¸ºä¸€ä¸ªFORM,è¯¥FORMçš„è®¡ç®—ç»“æœå†³å®šäº†æ˜¯å¦é€‰ä¸­è¯¥button</td>
</tr>
<tr>
<td></td>
<td>å¯¹äºtoggle buttonæ¥è¯´,SELECTEDçš„è¿”å›å€¼å†³å®šäº†è¯¥buttonä¸ºonè¿˜æ˜¯off</td>
</tr>
<tr>
<td></td>
<td>å¯¹äºradio buttonæ¥è¯´,The SELECTED form for each radio button in the group should check whether the variable has the right value for selecting that button.  Clicking on the button should set the variable so that the button you clicked on becomes selected.</td>
</tr>
<tr>
<td>:key-sequence KEY-SEQUENCE</td>
<td>è¯¥å±æ€§æŒ‡å®šè¯¥menu itemå¯¹åº”çš„commandå¯èƒ½è¢«åˆ†é…åˆ°å“ªä¸ªé”®åºåˆ—ä¸Š.</td>
</tr>
<tr>
<td></td>
<td>è‹¥åˆ†é…çš„é”®åºåˆ—ä¸è¯¥commandå®é™…åˆ†é…çš„é”®åºåˆ—ç›¸åŒ,åˆ™èƒ½å¤ŸåŠ å¿«menuçš„æ˜¾ç¤ºé€Ÿåº¦</td>
</tr>
<tr>
<td></td>
<td>è‹¥åˆ†é…çš„é”®åºåˆ—ä¸å®é™…åˆ†é…çš„é”®åºåˆ—ä¸åŒ,åˆ™æ— æ•ˆæœ</td>
</tr>
<tr>
<td>:key-sequence nil</td>
<td>è¡¨ç¤ºè¯¥menu itemå¯¹åº”çš„commandå¯èƒ½æ²¡æœ‰å¯¹åº”çš„é”®ç»‘å®š,è¿™ä½¿å¾—Emacsä¸ç”¨å»æœç´¢å¯¹åº”çš„é”®åºåˆ—,ä»è€ŒåŠ å¿«menuçš„æ˜¾ç¤ºé€Ÿåº¦</td>
</tr>
<tr>
<td>:keys STRING</td>
<td>STRINGè¢«æ˜¾ç¤ºä¸ºè§¦å‘è¯¥menu itemçš„é”®åºåˆ—,å¯ä»¥åœ¨STRINGä¸­ä½¿ç”¨\\[&hellip;]æ ¼å¼</td>
</tr>
<tr>
<td>:filter FILTER-FN</td>
<td>è¯¥å±æ€§æä¾›äº†ä¸€ç§åŠ¨æ€äº§ç”Ÿmenu itemçš„é€”å¾„.</td>
</tr>
<tr>
<td></td>
<td>FILTER-FNä¸ºä¸€ä¸ªå‡½æ•°,è¯¥å‡½æ•°æ¥æ”¶REAL-BINDINGä½œä¸ºå”¯ä¸€çš„å‚æ•°,è¯¥å‡½æ•°çš„è¿”å›å€¼ä¼šä½œä¸ºè¯¥menu itemçš„çœŸæ­£READL-BINDING.</td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Menu Separator</p>
<p>æ‰€è°“menu separatoræ˜¯ä¸€ç§ç‰¹æ®Šçš„menu item. å®ƒè¢«æ˜¾ç¤ºä¸ºä¸€ä¸ªæ¨ªçº¿,å› æ­¤è¢«ç”¨æ¥å°†menuåˆ†éš”æˆå‡ ä¸ªéƒ¨åˆ†.</p>
<p>menu separatorä¹Ÿæ˜¯ä¸€ä¸ªä»¥symbol menu-itemå¼€å¤´çš„list. å®ƒçš„æ ¼å¼å¦‚ä¸‹:</p>
<ul>
<li>
<p>(menu-item SEPARATOR-TYPE)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(menu-item <span style="color:#e6db74">&#34;--&#34;</span>)
</code></pre></div></li>
<li>
<p>(menu-item SEPARATOR-TYPE nil . ITEM-PROPERTY-LIST)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(menu-item <span style="color:#e6db74">&#34;--&#34;</span> <span style="color:#66d9ef">nil</span> :visible (<span style="color:#a6e22e">boundp</span> <span style="color:#e6db74">&#39;foo</span>))
</code></pre></div></li>
</ul>
<p>è¿™é‡ŒSEPARATOR-TYPEä¸ºä¸€ä¸ªä»¥&quot;&ndash;&ldquo;å¼€å¤´çš„å­—ç¬¦ä¸². å®ƒæœ‰å¦‚ä¸‹å‡ ç§ç±»å‹</p>
<ul>
<li>
<p>&quot;&rdquo; / &ldquo;-&rdquo; / &ldquo;&ndash;&rdquo;</p>
<p>é»˜è®¤çš„sepratoré£æ ¼</p>
</li>
<li>
<p>&ldquo;&ndash;no-line&rdquo; / &ldquo;&ndash;space&rdquo;</p>
<p>ä»¥ç©ºæ ¼åˆ†éš”</p>
</li>
<li>
<p>&ldquo;&ndash;single-line&rdquo;</p>
<p>ä»¥menuå‰æ™¯è‰²ç€è‰²çš„å•è¡Œçº¿</p>
</li>
<li>
<p>&ldquo;&ndash;double-line&rdquo;</p>
<p>ä»¥menuå‰æ™¯è‰²ç€è‰²çš„åŒè¡Œçº¿</p>
</li>
<li>
<p>&ldquo;&ndash;single-dashed-line&rdquo;</p>
<p>ä»¥menuå‰æ™¯è‰²ç€è‰²çš„å•è¡Œé—´æ–­çº¿</p>
</li>
<li>
<p>&ldquo;&ndash;double-dashed-line&rdquo;</p>
<p>ä»¥menuå‰æ™¯è‰²ç€è‰²çš„åŒè¡Œé—´æ–­çº¿</p>
</li>
<li>
<p>&ldquo;&ndash;shadow-etched-in&rdquo;</p>
<p>3Dçš„å‡¹å…¥çº¿</p>
</li>
<li>
<p>&ldquo;&ndash;shadow-etched-out&rdquo;</p>
<p>3Dçš„å‡¸å‡ºçº¿</p>
</li>
<li>
<p>&ldquo;&ndash;shadow-etched-in-dash&rdquo;</p>
<p>3Dçš„å‡¹å…¥é—´æ–­çº¿</p>
</li>
<li>
<p>&ldquo;&ndash;shadow-etched-out-dash&rdquo;</p>
<p>3Dçš„å‡¸å‡ºé—´æ–­çº¿</p>
</li>
<li>
<p>&ldquo;&ndash;shadow-double-etched-in&rdquo;</p>
<p>3Dçš„å‡¹å…¥åŒè¡Œçº¿</p>
</li>
<li>
<p>&ldquo;&ndash;shadow-double-etched-out&rdquo;</p>
<p>3Dçš„å‡¸å‡ºåŒè¡Œçº¿</p>
</li>
<li>
<p>&ldquo;&ndash;shadow-double-etched-in-dash&rdquo;</p>
<p>3Dçš„å‡¹å…¥åŒè¡Œé—´æ–­çº¿</p>
</li>
<li>
<p>&ldquo;&ndash;shadow-double-etched-out-dash&rdquo;</p>
<p>3Dçš„å‡¸å‡ºåŒè¡Œé—´æ–­çº¿</p>
</li>
</ul>
</li>
</ul>
<h4 id="menu-and-the-mouse">Menu and the Mouse<a hidden class="anchor" aria-hidden="true" href="#menu-and-the-mouse">#</a></h4>
<p>è‹¥ä¸€ä¸ªmenu keymapæ˜¯ç”±é¼ æ ‡äº‹ä»¶è§¦å‘çš„,åˆ™ä¼šå¼¹å‡ºä¸€ä¸ªmenu,ä½¿å¾—ç”¨æˆ·å¯ä»¥é€šè¿‡é¼ æ ‡æ¥é€‰æ‹©èœå•é¡¹.</p>
<p>the event generated is whatever character or symbol has the binding that brought about that menu item.</p>
<p><strong>æ¯”è¾ƒå¸¸è§çš„æ–¹å¼æ˜¯ä½¿ç”¨button-downäº‹ä»¶æ¥è§¦å‘menu,è¿™æ ·ä¸€é‡Šæ”¾é¼ æ ‡å°±èƒ½è§¦å‘menu itemäº†</strong></p>
<p>ä¸€èˆ¬æƒ…å†µä¸‹,è‹¥menu keymapçš„bindingä¸­æœ‰å¦ä¸€ä¸ªkeymap,åˆ™è¯¥keymapè¢«è®¤ä¸ºæ˜¯submenu. <strong>ä½†è‹¥è¢«åŒ…å«çš„keymapä¸­æ— å…¶ä»–menu item,åˆ™ä¼šç›´æ¥æ˜¾ç¤ºè¯¥keymapçš„å†…å®¹,è€Œä¸æ˜¯ä½œä¸ºsubmenu</strong></p>
<p>However, if Emacs is compiled without X toolkit support, or on text terminals, submenus are not supported.
Each nested keymap is shown as a menu item, but clicking on it does not automatically pop up the submenu.
If you wish to imitate the effect of submenus, you can do that by giving a nested keymap an item string which starts with â€˜@â€™.
This causes Emacs to display the nested keymap using a separate &ldquo;menu pane&rdquo;; the rest of the item string after the â€˜@â€™ is the pane label.
If Emacs is compiled without X toolkit support, or if a menu is displayed on a text terminal, menu panes are not used; in that case, a â€˜@â€™ at the beginning of an item string is omitted when the menu label is displayed, and has no other effect.</p>
<h4 id="menus-and-the-keyboard">Menus and the Keyboard<a hidden class="anchor" aria-hidden="true" href="#menus-and-the-keyboard">#</a></h4>
<p>è‹¥menuæ˜¯ç”±é”®ç›˜äº‹ä»¶è§¦å‘çš„,åˆ™æˆ‘ä»¬ç§°è¿™ç§menuä¸ºkeyboard menu.</p>
<p>Emacsä½¿ç”¨æ–‡æœ¬çš„æ–¹å¼,åœ¨echo areaä¸­æ˜¾ç¤ºèœå•. è‹¥åœ¨ä¸€æ¬¡æ— æ³•æ˜¾ç¤ºå®Œæ•´çš„èœå•,å¯ä»¥é€šè¿‡æŒ‰&lt;SPC&gt;(ç”±å˜é‡`menu-prompt-more-char&rsquo;å†³å®š)æ¥æ˜¾ç¤ºä¸‹ä¸€å±èœå•.</p>
<h4 id="the-menu-bar">The Menu Bar<a hidden class="anchor" aria-hidden="true" href="#the-menu-bar">#</a></h4>
<p>è¦æ·»åŠ itemåˆ°menu barä¸Š,éœ€è¦å…ˆåˆ›å»ºè‡ªå·±çš„&quot;function key&quot;(ä¾‹å¦‚KEY),ç„¶åä¸º <code>[menu-bar KEY]</code> è¿™æ ·ä¸€ä¸ªé”®åºåˆ—æ·»åŠ ç»‘å®š.</p>
<p>è‹¥ä¸ºåŒä¸€ä¸ª <code>[menu-bar KEY]</code> ç»‘å®šäº†å¤šä¸ªä¸åŒçš„menu item,åˆ™åªä¼šåˆ›å»ºä¸€ä¸ªmenu,ä½†åŒ…å«äº†å¤šä¸ªmenu itemçš„å†…å®¹.</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="color:#75715e">;; Make a menu keymap (with a prompt string)</span>
<span style="color:#75715e">;; and make it the menu bar itemâ€™s definition.</span>
(<span style="color:#a6e22e">define-key</span> global-map [menu-bar words]
  (<span style="color:#a6e22e">cons</span> <span style="color:#e6db74">&#34;Words&#34;</span> (<span style="color:#a6e22e">make-sparse-keymap</span> <span style="color:#e6db74">&#34;Words&#34;</span>)))

<span style="color:#75715e">;; Define specific subcommands in this menu.</span>
(<span style="color:#a6e22e">define-key</span> global-map
  [menu-bar words forward]
  <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;Forward word&#34;</span> <span style="color:#f92672">.</span> <span style="color:#a6e22e">forward-word</span>))
(<span style="color:#a6e22e">define-key</span> global-map
  [menu-bar words backward]
  <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;Backward word&#34;</span> <span style="color:#f92672">.</span> backward-word))
</code></pre></div><p>local keymapå¯ä»¥å–æ¶ˆglobal keymapåˆ›å»ºçš„menu bar item. æ–¹æ³•æ˜¯é‡æ–°ç»‘å®šè¯¥itemçš„keyä¸º&rsquo;undefined.
ä¾‹å¦‚:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">define-key</span> dired-mode-map [menu-bar edit] <span style="color:#e6db74">&#39;undefined</span>)
</code></pre></div><ul>
<li>
<p>menu-bar-final-items</p>
<p>é»˜è®¤æƒ…å†µä¸‹,menu barå…ˆæ˜¾ç¤ºglobal-mapä¸­å®šä¹‰çš„menu item,å†æ˜¾ç¤ºlocal-mapä¸­å®šä¹‰çš„menu item.</p>
<p>è€Œè¯¥å˜é‡ä¸­åŒ…å«ç€çš„å¤šä¸ªitemå¯¹åº”çš„fake function key. è¿™äº›itemä¼šæ˜¾ç¤ºåœ¨menubarçš„æœ€åé¢.</p>
</li>
<li>
<p>menu-bar-update-hook</p>
<p>åœ¨é‡æ–°åˆ·æ–°menu barä¹‹å‰ä¼šè§¦å‘è¯¥hook.</p>
</li>
</ul>
<h4 id="tool-bars">Tool bars<a hidden class="anchor" aria-hidden="true" href="#tool-bars">#</a></h4>
<p>Tool-barçš„å®šä¹‰ä¸menu-barçš„å®šä¹‰åŠå…¶ç±»ä¼¼,åªæ˜¯fake &ldquo;function key&quot;ç”±&quot;menu-bar&quot;å˜ä¸ºäº†&quot;tool-bar&rdquo;. ä¾‹å¦‚:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">define-key</span> global-map [tool-bar KEY] ITEM)
</code></pre></div><p>åŒæ ·,ä¹Ÿå¯ä»¥é€šè¿‡ä¸ºmajor modeçš„local mapæ·»åŠ `[tool-bar FOO]&lsquo;ç»‘å®šæ¥è®¾ç½®ç‰¹å®šmajor-modeçš„tool-bar</p>
<p>ä½ è¿˜å¯ä»¥ä¸ºModifier-key(shift,control,meta&hellip;)+é¼ æ ‡ç‚¹å‡»å®šä¹‰ä¸åŒçš„æ„ä¹‰. ä¾‹å¦‚:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="color:#75715e">;; if the original item was defined this way,</span>
(<span style="color:#a6e22e">define-key</span> global-map [tool-bar shell]
  <span style="color:#f92672">&#39;</span>(menu-item <span style="color:#e6db74">&#34;Shell&#34;</span> shell
              :image (image :type xpm :file <span style="color:#e6db74">&#34;shell.xpm&#34;</span>)))

<span style="color:#75715e">;; here is how you can define clicking on the same tool bar image with the shift modifier:</span>
(<span style="color:#a6e22e">define-key</span> global-map [tool-bar S-shell] <span style="color:#e6db74">&#39;some-command</span>)
</code></pre></div><p><strong>ä½†æ˜¯ITEMä¸­çš„REAL-BINDINGå¿…é¡»æ˜¯ä¸€ä¸ªcommand,è€Œä¸èƒ½æ˜¯keymap</strong></p>
<p>ITEMä¸­é™¤äº†èƒ½ä½¿ç”¨ä¸€èˆ¬çš„extended menu itemä¸­çš„å±æ€§å¤–,è¿˜èƒ½ä½¿ç”¨`:image&rsquo;å±æ€§æ¥æŒ‡å®šæ˜¾ç¤ºçš„å›¾æ ‡.</p>
<ul>
<li>
<p>`:image IMAGE&rsquo;</p>
<p>è¿™é‡ŒIMAGEå¯ä»¥æ˜¯ä¸€ä¸ªimageå¯¹è±¡,æˆ–ä¸€ä¸ªç”±4ä¸ªimageå¯¹è±¡ç»„æˆçš„vector.</p>
<p>è‹¥IMAGEæ˜¯ä¸€ä¸ªç”±4ä¸ªimageå¯¹è±¡ç»„æˆçš„vector,åˆ™åœ¨ä¸åŒçš„æ¡ä»¶ä¸‹ä¼šå±•ç¤ºä¸åŒçš„imageå¯¹è±¡:</p>
<table>
<thead>
<tr>
<th>item 0</th>
<th>Used when the item is enabled and selected.</th>
</tr>
</thead>
<tbody>
<tr>
<td>item 1</td>
<td>Used when the item is enabled and deselected.</td>
</tr>
<tr>
<td>item 2</td>
<td>Used when the item is disabled and selected.</td>
</tr>
<tr>
<td>item 3</td>
<td>Used when the item is disabled and deselected.</td>
</tr>
</tbody>
</table>
<p>è‹¥IMAGEä¸ºå•ä¸ªçš„imageå¯¹è±¡,åˆ™å½“è¯¥menu item disableæ—¶,Emacsè‡ªåŠ¨ä½¿ç”¨edge-detectionç®—æ³•ä¿®æ”¹imageçš„æ˜¾ç¤º</p>
</li>
<li>
<p>`:rtl IMAGE'</p>
<p>è¡¨ç¤ºå½“ä½¿ç”¨right-to-leftè¯­è¨€æ—¶,æ˜¾ç¤ºçš„å›¾åƒå†…å®¹.</p>
</li>
</ul>
<p>ç›¸å…³å‡½æ•°ä¸å˜é‡</p>
<ul>
<li>
<p>tool-bar-map</p>
<p>é»˜è®¤æƒ…å†µä¸‹,`[tool-bar]&lsquo;çš„å®šä¹‰æ˜¯é€šè¿‡å¦‚ä¸‹ä»£ç å®ç°çš„:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(global-set-key [tool-bar]
                <span style="color:#f92672">`</span>(menu-item <span style="color:#f92672">,</span>(<span style="color:#a6e22e">purecopy</span> <span style="color:#e6db74">&#34;tool bar&#34;</span>) ignore
                            :filter tool-bar-make-keymap))
</code></pre></div><p>è¿™é‡Œå‡½æ•°`tool-bar-make-keymap&rsquo;ä¼šä»å˜é‡`tool-bar-map&rsquo;ä¸­åŠ¨æ€æ´¾ç”Ÿå‡ºå®é™…çš„tool-bar map.
å› æ­¤å¯ä»¥é€šè¿‡ä¿®æ”¹è¯¥å˜é‡çš„å€¼æ¥ä¿®æ”¹é»˜è®¤çš„global tool-bar.
åœ¨æŸäº›Major modeä¸­(ä¾‹å¦‚Info mode)æ˜¯é€šè¿‡å°†`tool-bar-map&rsquo;è®¾ä¸ºbuffer-local,å†è®¾ç½®è¯¥å€¼çš„æ–¹å¼æ¥ä»£æ›¿global tool barçš„.</p>
</li>
<li>
<p>(tool-bar-add-item icon def key &amp;rest props)</p>
<p>é€šè¿‡ä¿®æ”¹`tool-bar-map&rsquo;çš„æ–¹å¼,æ·»åŠ itemåˆ°tool barä¸­. å…¶ä¸­</p>
<p>ICONä¸ºXPM,XBMæˆ–PBMæ–‡ä»¶çš„ <strong>base name</strong>. ä¾‹å¦‚è‹¥ICONä¸º&quot;exit&quot;,åˆ™emacsä¼šä¾æ¬¡æŸ¥æ‰¾exit.xpm,exit.pbmå’Œexit.xbm</p>
<p>DEFä¸ºå®é™…è°ƒç”¨çš„å‘½ä»¤</p>
<p>KEYä¸ºthe fake function key symbol in the prefix keymap.</p>
<p>PROPSåˆ™ä¸ºtool bar menu itemçš„å…¶ä»–å±æ€§.</p>
<p>To define items in some local map, bind â€˜tool-bar-mapâ€™ with â€˜letâ€™ around calls of this function:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defvar foo-tool-bar-map
  (let ((tool-bar-map (<span style="color:#a6e22e">make-sparse-keymap</span>)))
    (tool-bar-add-item <span style="color:#960050;background-color:#1e0010">â€¦</span>)
    <span style="color:#960050;background-color:#1e0010">â€¦</span>
    tool-bar-map))
</code></pre></div></li>
<li>
<p>(tool-bar-add-item-from-menu command icon &amp;optional map &amp;rest props)</p>
<p>ç”¨è¯¥å‡½æ•°å¯ä»¥å°†menu barä¸­çš„ç»‘å®šæ·»åŠ åˆ°tool barä¸­æ¥.</p>
<p>å„å‚æ•°è¯´æ˜ä¸tool-bar-add-item iconç±»ä¼¼.</p>
<p>The binding of COMMAND is looked up in the menu bar in MAP (default â€˜global-mapâ€™)</p>
<p>MAP must contain an appropriate keymap bound to â€˜[menu-bar]â€™.</p>
<p>è¯¥å‡½æ•°ä¼šä¿®æ”¹`tool-bar-map&rsquo;,å› æ­¤æœ€å¥½åªåœ¨ä¿®æ”¹global tool bar itemæ—¶æ‰ä½¿ç”¨è¯¥å‡½æ•°</p>
</li>
<li>
<p>(tool-bar-local-item-from-menu command icon in-map &amp;optional from-map &amp;rest prop)</p>
<p>è¯¥å‡½æ•°å¯ä»¥ç”¨æ¥åˆ›å»ºéå…¨å±€çš„tool bar items.</p>
<p>ä½¿ç”¨æ–¹å¼ç±»ä¼¼`tool-baar-add-item-from-menu',åªæ˜¯å¤šäº†ä¸ªIN-MAPå‚æ•°ç”¨æ¥æŒ‡æ˜æ–°åŠ çš„tool bar itemæ”¾åœ¨å“ªä¸ªkeymapä¸­.</p>
</li>
<li>
<p>auto-resize-tool-bars</p>
<p>è‹¥è¯¥å˜é‡å€¼ä¸ºénil,åˆ™tool barä¼šè‡ªåŠ¨æ”¹å˜å¤§å°ä»¥ä¾¿åœ¨ä¸€ä¸ªframeä¸­èƒ½æ˜¾ç¤ºå‡ºæ‰€æœ‰çš„tool bar item</p>
<p>è‹¥å˜é‡å€¼ä¸º&rsquo;grow-only,åˆ™tool baråªè‡ªåŠ¨å¢å¤§,è€Œä¸è‡ªåŠ¨ç¼©å°. è¦æƒ³ç¼©å°tool bar,å¿…é¡»ç”¨æˆ·æ‰‹å·¥è¾“å…¥`C-l'</p>
</li>
<li>
<p>auto-raise-tool-bar-buttons</p>
<p>è‹¥è¯¥å˜é‡ä¸ºénil,åˆ™å½“é¼ æ ‡ç§»åˆ°itemä¸Šæ—¶,è¯¥itemä¼šå‡¸èµ·</p>
</li>
<li>
<p>tool-bar-button-margin</p>
<p>æŒ‡å®šäº†tool bar itemçš„extra margin. å•ä½ä¸ºåƒç´ </p>
</li>
<li>
<p>tool-bar-button-relief</p>
<p>è¯¥å˜é‡å€¼æŒ‡å®šäº†tool bar itemçš„é˜´å½±å®½åº¦,å•ä½ä¸ºåƒç´ </p>
</li>
<li>
<p>tool-bar-border</p>
<p>This variable specifies the height of the border drawn below the tool bar area.  An integer specifies height as a number of pixels.</p>
<p>If the value is one of â€˜internal-border-widthâ€™ (the default) or â€˜border-widthâ€™, the tool bar border height corresponds to the corresponding frame parameter.</p>
</li>
</ul>
<h4 id="modifying-menus">Modifying Menus<a hidden class="anchor" aria-hidden="true" href="#modifying-menus">#</a></h4>
<p>å½“ä½¿ç”¨`define-key&rsquo;å¾€menuä¸­æ·»åŠ itemæ—¶,ä¼šæŠŠæ–°åŠ çš„itemæ”¾åˆ°menuçš„ç¬¬ä¸€é¡¹çš„ä½ç½®.</p>
<p>è‹¥æƒ³æŒ‡å®šæ–°åŠ itemçš„ä½ç½®,éœ€è¦ä½¿ç”¨`define-key-after'</p>
<ul>
<li>
<p>(define-key-after map key binding &amp;optional after)</p>
<p>ä¸`define-key&rsquo;ç±»ä¼¼,åœ¨MAPä¸­å°†KEYç»‘å®šåˆ°BINDING. ä½†æ˜¯ä½ç½®ç”±AFTERå†³å®š.</p>
<p>The argument KEY should be of length oneâ€”a vector or string with just one element.</p>
<p>But AFTER should be a single event typeâ€”a symbol or a character, not a sequence.</p>
<p>å…ˆåŠ å…¥çš„itemä½ç½®åœ¨AFTERä¹‹å,è‹¥AFTERä¸ºtæˆ–nil,åˆ™è¡¨ç¤ºæ–°itemä¼šæ”¾åœ¨æœ€åçš„ä½ç½®.</p>
<p>ä¸‹é¢æ˜¯ä¸€äº›ä¾‹å­</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="color:#75715e">;; makes a binding for the fake function key &lt;DRINK&gt; and puts it right after the binding for &lt;EAT&gt;.</span>
(define-key-after my-menu [drink]
  <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;Drink&#34;</span> <span style="color:#f92672">.</span> drink-command) <span style="color:#e6db74">&#39;eat</span>)


<span style="color:#75715e">;; Here is how to insert an item called â€˜Workâ€™ in the â€˜Signalsâ€™ menu</span>
<span style="color:#75715e">;; of Shell mode, after the item â€˜breakâ€™:</span>
(define-key-after
  (<span style="color:#a6e22e">lookup-key</span> shell-mode-map [menu-bar signals])
  [work] <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;Work&#34;</span> <span style="color:#f92672">.</span> work-command) <span style="color:#e6db74">&#39;break</span>)
</code></pre></div></li>
</ul>
<h4 id="easy-menu">Easy Menu<a hidden class="anchor" aria-hidden="true" href="#easy-menu">#</a></h4>
<p>ä½¿ç”¨å®`easy-menu-define symbol maps doc menu&rsquo;å¯ä»¥å¾ˆå®¹æ˜“çš„å®šä¹‰pop-up-menu / menu-bar-menu</p>
<ul>
<li>
<p>(easy-menu-define symbol maps doc menu)</p>
<p>è¯¥å®å®šä¹‰ä¸€ä¸ªpop-up-menu / menu-bar-menu,å…¶å†…å®¹ç”±MENUå†³å®š.</p>
<p>è‹¥å‚æ•°SYMBOLéç©º,åˆ™ä¼šç”Ÿæˆä¸€ä¸ªåä¸ºSYMBOLçš„å‡½æ•°,è¯¥å‡½æ•°ç”¨æ¥å¼¹å‡ºè¯¥menu. ä¸”è¯¥å‡½æ•°ä½¿ç”¨DOCä½œä¸ºå…¶çš„doc-string.</p>
<p>å‚æ•°SYMBOLä¸éœ€è¦è¢«å¼•ç”¨.</p>
<p>MAPSå¯ä»¥ä¸ºä¸€ä¸ªkeymap,ä¹Ÿå¯ä»¥ä¸ºä¸€ä¸ªç”±keymapç»„æˆçš„list.</p>
<ul>
<li>if MAPS is a keymap, the menu is added to that keymap, as a top-level menu for the menu bar</li>
<li>It can also be a list of keymaps, in which case the menu is added separately to each of those keymaps.</li>
</ul>
<p>MENUå‚æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¿…é¡»ä¸ºå­—ç¬¦ä¸²,è¯¥å­—ç¬¦ä¸²è¢«ä½œä¸ºmenu label.</p>
<p>MENUå‚æ•°ä¸­ç´§è·Ÿç€çš„æ˜¯ä»¥ä¸‹çš„é”®å€¼å¯¹çš„ä»»æ„ç»„åˆ:</p>
<ul>
<li>
<p>:filter FUNCTION</p>
<p>FUNCTIONä¼šæ¥æ”¶å”¯ä¸€çš„ä¸€ä¸ªå‡½æ•°:å…¶ä»–menu itemç»„æˆçš„åˆ—è¡¨. å…¶è¿”å›å€¼ä½œä¸ºmenuä¸­æ˜¾ç¤ºçš„çœŸå®item</p>
</li>
<li>
<p>:visible VISIBLE-FORM</p>
<p>VISIBLE-FORMçš„æ‰§è¡Œç»“æœå†³å®šäº†è¯¥itemæ˜¯å¦å¯è§</p>
</li>
<li>
<p>:active ENABLE-FORM</p>
<p>ENABLE-FORMçš„æ‰§è¡Œç»“æœå†³å®šäº†è¯¥itemæ˜¯å¦å¯é€‰.</p>
</li>
</ul>
<p>å‚æ•°MENUå¯ä»¥æ˜¯å¦‚ä¸‹å‡ ç§å½¢å¼:</p>
<ul>
<li>
<p>[NAME CALLBACK ENABLE]</p>
<p>NAMEä¸ºä¸€ä¸ªå­—ç¬¦ä¸²,è¡¨ç¤ºmenu itemçš„åå­—</p>
<p>CALLBACKä¸ºç‚¹å‡»è¯¥itemæ—¶è¦è¿è¡Œçš„å‘½ä»¤æˆ–S-è¡¨è¾¾å¼</p>
<p>ENABLEä¸ºä¸€ä¸ªS-è¡¨è¾¾å¼,å…¶æ‰§è¡Œç»“æœå†³å®šäº†è¯¥itemæ˜¯å¦å¯ç”¨.</p>
</li>
<li>
<p>[MENU CALLBACK [KEYWORD ARG]&hellip;]</p>
<p>è¿™é‡ŒKEYWORDä¸ARGå¯¹å¿…é¡»æ˜¯å¦‚ä¸‹å‡ ç§:</p>
<ul>
<li>
<p>:keys KEYS</p>
<p>KEYSä¸ºä¸menu itemç­‰ä»·çš„keyboardé”®åºåˆ—,å®ƒéœ€ä¸ºå­—ç¬¦ä¸²æ ¼å¼</p>
</li>
<li>
<p>:key-sequence KEYS</p>
<p>è¯¥KEYSç”¨æ¥åŠ é€ŸEmacsç¬¬ä¸€æ¬¡æ˜¾ç¤ºmenu.</p>
<p>è‹¥ä½ çŸ¥é“è¯¥menu itemæ²¡æœ‰å¯¹åº”çš„keyboardé”®åºåˆ—,åˆ™KEYSåº”è¯¥è®¾æˆnil,å¦åˆ™å®ƒåº”è¯¥æ˜¯è¡¨ç¤ºè¯¥é”®åºåˆ—çš„stringæˆ–vector</p>
</li>
<li>
<p>:active ENABLE</p>
<p>ENABLEä¸ºä¸€ä¸ªSè¡¨è¾¾å¼,å…¶è®¡ç®—ç»“æœå†³å®šäº†è¯¥itemæ˜¯å¦å¯ç”¨</p>
</li>
<li>
<p>:visible INCLUDE</p>
<p>INCLUDEä¸ºä¸€ä¸ªSè¡¨è¾¾å¼,å…¶è®¡ç®—ç»“æœå†³å®šäº†è¯¥itemæ˜¯å¦å¯è§</p>
</li>
<li>
<p>:label FORM</p>
<p>FORMæ˜¯ä¸€ä¸ªSè¡¨è¾¾å¼,å…¶è®¡ç®—ç»“æœä½œä¸ºè¯¥menu itemçš„æ ‡ç­¾(é»˜è®¤ä¸ºå‚æ•°NAME)</p>
</li>
<li>
<p>:suffix FORM</p>
<p>FORMæ˜¯ä¸€ä¸ªSè¡¨è¾¾å¼,å…¶è®¡ç®—ç»“æœä¼šä½œä¸ºåç¼€è‡ªåŠ¨åŠ åˆ°menu itemæ ‡ç­¾å</p>
</li>
<li>
<p>:style STYLE</p>
<p>STYLEä¸ºä¸€ä¸ªsymbol,å®ƒå†³å®šäº†è¯¥itemçš„ç±»å‹.</p>
<p>å®ƒå¯ä»¥æ˜¯ä»¥ä¸‹å‡ ä¸ªå€¼:</p>
<table>
<thead>
<tr>
<th>&lsquo;toggle</th>
<th>checkbox</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lsquo;radio</td>
<td>radio button</td>
</tr>
<tr>
<td>å…¶ä»–</td>
<td>ordinary menu item</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>:selected SELECTED</p>
<p>SELECTEDä¸ºä¸€ä¸ªSè¡¨è¾¾å¼,å…¶è®¡ç®—ç»“æœå†³å®šäº†è¯¥checkbox itemæˆ–radio button itemæ˜¯å¦è¢«é€‰ä¸­</p>
</li>
<li>
<p>:help HELP</p>
<p>HELPä¸ºä¸€ä¸ªå­—ç¬¦ä¸²,æè¿°äº†menu item</p>
</li>
</ul>
</li>
<li>
<p>menu-string</p>
<p>MENUä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²,åˆ™è¯¥å­—ç¬¦ä¸²åœ¨menuä¸­æ˜¾ç¤ºä¸ºä¸€æ®µä¸å¯ç”¨çš„æ–‡æœ¬.</p>
<p>è‹¥å­—ç¬¦ä¸²ä»¥`-&lsquo;å¼€å¤´,åˆ™è§£é‡Šä¸ºmenu-separator</p>
</li>
<li>
<p>(MENU1 MENU2 &hellip;)</p>
<p>MENUè¿˜å¯ä»¥ä½¿ä¸Šè¿°MENUæ ¼å¼ç»„æˆçš„list,åˆ™è¡¨ç¤ºä¸ºsubmenu</p>
</li>
</ul>
</li>
</ul>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(easy-menu-define words-menu global-map
  <span style="color:#e6db74">&#34;Menu for word navigation commands.&#34;</span>
  <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;Words&#34;</span>
    [<span style="color:#e6db74">&#34;Forward word&#34;</span> <span style="color:#a6e22e">forward-word</span>]
    [<span style="color:#e6db74">&#34;Backward word&#34;</span> backward-word]))
</code></pre></div><h2 id="major-mode-and-minor-mode">Major Mode and Minor Mode<a hidden class="anchor" aria-hidden="true" href="#major-mode-and-minor-mode">#</a></h2>
<h3 id="hooks">Hooks<a hidden class="anchor" aria-hidden="true" href="#hooks">#</a></h3>
<p>Emacsä¸­å¤§å¤šæ•°çš„hookä¸º&quot;normal hooks&quot;,è¿™è¡¨ç¤ºè¯¥hookä¸­çš„å‡½æ•°ä¼šè¢«ä¸å¸¦å‚æ•°è°ƒç”¨,ä¸”ä»–ä»¬çš„è¿”å›å€¼ä¼šè¢«å¿½ç•¥. ä»¥`-hook&rsquo;ç»“å°¾çš„hookéƒ½æ˜¯&quot;normal hook&quot;.</p>
<p>é`-hook&rsquo;ç»“å°¾çš„hookå¯èƒ½ä¸º&quot;abnormal hook&quot;,è¿™è¡¨ç¤ºè¯¥hookä¸­çš„å‡½æ•°ä¼šè¢«å¸¦å‚æ•°è°ƒç”¨,æˆ–è€…ä»–ä»¬çš„è¿”å›å€¼ä¼šè¢«ä½¿ç”¨. ä¸€èˆ¬è¿™ç§`abormal hook&rsquo;çš„åç§°æ˜¯ä»¥`-functions&rsquo;ç»“å°¾çš„.</p>
<p>ä»¥`-function&rsquo;ç»“å°¾çš„hookè¡¨ç¤ºå®ƒçš„å€¼ä¸ºå•ä¸ªçš„å‡½æ•°,è€Œä¸æ˜¯å‡½æ•°åˆ—è¡¨,æ­¤æ—¶ <strong>ä¸èƒ½ç”¨`add-hook&rsquo;æ¥æ·»åŠ hookå‡½æ•°,è€Œéœ€è¦ä½¿ç”¨`add-function&rsquo;ä»£æ›¿</strong></p>
<p>hookè§¦å‘å¼,æ’åœ¨å‰é¢çš„hookå‡½æ•°ä¼˜å…ˆè¢«è°ƒç”¨</p>
<h4 id="è°ƒç”¨hookä¸­çš„å‡½æ•°">è°ƒç”¨Hookä¸­çš„å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#è°ƒç”¨hookä¸­çš„å‡½æ•°">#</a></h4>
<ul>
<li>
<p>(run-hooks &amp;rest hookvars)
è¯¥å‡½æ•°ä¾æ¬¡è°ƒç”¨hookvarsä¸­çš„hookå‡½æ•°. æ¯ä¸ªhookvaréƒ½æ˜¯ä¸€ä¸ª <strong>ç¬¦å·</strong>. ä¸”æ¯ä¸ªhookéƒ½éœ€ä¸ºä¸€ä¸ª&quot;normal hook&quot;</p>
<p>è‹¥hookvarä¸ºbuffer-localå˜é‡,åˆ™è°ƒç”¨çš„hookå‡½æ•°ä»¥hookvarçš„buffer-localçš„å€¼ä¸ºå‡†,ä½† <strong>è‹¥æ­¤æ—¶hookå€¼ä¸­æœ‰å…ƒç´ t,åˆ™è¡¨ç¤ºå…¨å±€çš„hookå€¼ä¸­å®šä¹‰çš„å‡½æ•°ä¹Ÿä¼šè¢«è°ƒç”¨</strong></p>
</li>
<li>
<p>(run-hook-with-args hook &amp;rest args)
è¯¥å‡½æ•°ä»¥å‚æ•°argsè°ƒç”¨hookä¸­çš„å‡½æ•°,æ­¤æ—¶hookä¸º&quot;abnormal hook&quot;</p>
</li>
<li>
<p>(run-hook-with-args-until-failure hook &amp;rest args)
ä»¥å‚æ•°argsä¾æ¬¡è°ƒç”¨abnormal hookä¸­çš„å‡½æ•°,ç›´åˆ°æŸä¸ªå‡½æ•°è¿”å›nilä¸ºæ­¢</p>
<p>è¯¥å‡½æ•°è¿”å›æœ€åé‚£æ¬¡è°ƒç”¨å‡½æ•°çš„è¿”å›å€¼. å³è‹¥ç”±äºhookä¸­æŸä¸ªå‡½æ•°è¿”å›nilè€Œé€€å‡ºæ—¶ä¹Ÿè¿”å›nil,å¦åˆ™è¿”å›énilå€¼</p>
</li>
<li>
<p>(run-hook-with-args-until-success hook &amp;rest args)
ä»¥å‚æ•°argsä¾æ¬¡è°ƒç”¨abnormal hookä¸­çš„å‡½æ•°,ç›´åˆ°æŸä¸ªå‡½æ•°è¿”å›énilä¸ºæ­¢</p>
<p>è¯¥å‡½æ•°è¿”å›æœ€åé‚£æ¬¡è°ƒç”¨å‡½æ•°çš„è¿”å›å€¼. å³è‹¥ç”±äºhookä¸­æŸä¸ªå‡½æ•°è¿”å›énilè€Œé€€å‡ºæ—¶åˆ™è¿”å›è¯¥å€¼,å¦åˆ™è¿”å›nilå€¼</p>
</li>
</ul>
<h4 id="è®¾ç½®hookå˜é‡">è®¾ç½®Hookå˜é‡<a hidden class="anchor" aria-hidden="true" href="#è®¾ç½®hookå˜é‡">#</a></h4>
<ul>
<li>
<p>(add-hook hook function &amp;optional append local)
ä¸ºhookæ·»åŠ functionä¸ºhookå‡½æ•°</p>
<p>è‹¥functionå·²ç»å­˜åœ¨(ä½¿ç”¨equalè¿›è¡Œæ¯”è¾ƒ),åˆ™ä¸å†é‡å¤æ·»åŠ </p>
<p>è‹¥functionçš„`permanent-local-hook&rsquo;å±æ€§énil,åˆ™ <strong>`kill-all-local-variables&rsquo;æˆ–æ›´æ”¹major modeéƒ½ä¸ä¼šå°†è¯¥å‡½æ•°ä»hookçš„å½“å‰å€¼ä¸­è¢«åˆ é™¤</strong></p>
<p>é»˜è®¤æƒ…å†µä¸‹,functionä¼šè¢«æ”¾åœ¨hookçš„æœ€å‰æ–¹ä¼˜å…ˆè°ƒç”¨,ä½†`append&rsquo;å‚æ•°å¯ä»¥è®©functionæ·»åŠ åˆ°hookçš„æœ€åæ–¹,æœ€åè¢«è°ƒç”¨</p>
<p>å‚æ•°`local&rsquo;è¡¨ç¤ºå°†functionåŠ å…¥buffer-local hookä¸­,è¯¥æ ‡å¿—ä¼šä½¿hookå˜ä¸ºbuffer-localå˜é‡,å¹¶åœ¨buffer-localå˜é‡å€¼ä¸­æ·»åŠ å…ƒç´ `t&rsquo;(è¡¨ç¤ºåŒæ—¶ä¹Ÿæ‰§è¡Œè¯¥hookçš„global value)</p>
</li>
<li>
<p>(remove-hook hook function &amp;optional local)
è¯¥å‡½æ•°ä»hookä¸­ç§»é™¤function</p>
<p>è‹¥å‚æ•°`local&rsquo;ä¸ºénil,åˆ™è¡¨ç¤ºå°†è¯¥hookå˜ä¸ºbuffer-local hook,ç„¶åç§»é™¤function</p>
</li>
</ul>
<h3 id="major-modes">Major Modes<a hidden class="anchor" aria-hidden="true" href="#major-modes">#</a></h3>
<p>æ¯ä¸ªMajor Modeéƒ½éœ€è¦æœ‰ä¸€ä¸ª&quot;mode hook&quot;. Major Modeåœ¨å®Œæˆåˆå§‹åŒ–è¿‡ç¨‹çš„æœ€åä¸€ä¸ªæ­¥éª¤éƒ½åº”è¯¥æ˜¯è°ƒç”¨&quot;mode hook&quot;</p>
<p>æ¯ä¸ªMajor Modeéƒ½éœ€è¦ä¸€ä¸ªä»¥`-mode&rsquo;ç»“å°¾çš„å‘½ä»¤ç”¨æ¥è¿›å…¥è¯¥Major Mode</p>
<ul>
<li>
<p>å‘½ä»¤(fundamental-mode)
fundamental-modeä¸åŒ…å«ä»»æ„çš„ä¸è¯¥modeç›¸å…³çš„å‡½æ•°å®šä¹‰å’Œå˜é‡è®¾ç½®. å®ƒ <strong>ç”šè‡³æ²¡æœ‰mode hook</strong></p>
</li>
<li>
<p>é…ç½®é¡¹major-mode
è¯¥å˜é‡ä¸ºbuffer-localå˜é‡,å…¶å€¼ä¸ºä¸€ä¸ªsymbol,æ ‡è¯†äº†å½“å‰å¤„äºå“ªä¸ªmajor mode. å…¶æ ‡å‡†çš„é»˜è®¤å€¼ä¸º`fundamental-mode&rsquo;</p>
<p>è‹¥é»˜è®¤å€¼ä¸ºnil,åˆ™å½“Emacsä½¿ç”¨å‘½ä»¤(ä¾‹å¦‚`switch-to-buffer&rsquo;)åˆ›å»ºæ–°buffer(??æ˜¯åˆ›å»ºå—??)æ—¶, <strong>æ–°bufferçš„major modeä¸ä¹‹å‰bufferä¿æŒä¸å˜</strong>
ä½†æ˜¯ä½œä¸ºä¸€ä¸ªç‰¹ä¾‹,è‹¥å‰ä¸€ä¸ªbufferçš„major-modeçš„`mode-class&rsquo;å±æ€§ä¸º`special',åˆ™ <strong>æ–°bufferçš„Major Modeä¸ºFundamental mode</strong> (å…·ä½“å‚è§Major Mode Conventions)</p>
</li>
</ul>
<h4 id="major-mode-conventions">Major Mode Conventions<a hidden class="anchor" aria-hidden="true" href="#major-mode-conventions">#</a></h4>
<p>å®šä¹‰Major Modeæ—¶,æœ‰å¾ˆå¤šæƒ¯ä¾‹éœ€è¦éµå®ˆ,å› æ­¤æ¨èä½¿ç”¨`define-derived-mode&rsquo;ä»ä¸€ä¸ªç°æˆçš„Major Modeä¸­ç»§æ‰¿æ–°Major Mode. è¯¥å®ä¼šè‡ªåŠ¨ç»´æŠ¤è¿™äº›æƒ¯ä¾‹.</p>
<p>ä¸‹é¢æ˜¯ä¸€äº›å¸¸è§çš„æƒ¯ä¾‹</p>
<ul>
<li>
<p>è¿›å…¥Major Modeçš„å‘½ä»¤ä»¥`-mode&rsquo;ç»“å°¾</p>
<p>ä¸”å½“ä¸å¸¦å‚æ•°è°ƒç”¨æ—¶,è¯¥å‘½ä»¤é€šè¿‡è®¾ç½® <strong>keymap,syntax tableå’Œbuffer-localå˜é‡</strong> å°†å½“å‰bufferåˆ‡æ¢åˆ°æ–°çš„Major Mode.</p>
<p>è¯¥å‘½ä»¤ä¸èƒ½ä¿®æ”¹bufferçš„å†…å®¹</p>
</li>
<li>
<p>ä¸ºè¿›å…¥Major Modeçš„å‘½ä»¤æ·»å†™doc-string,ç®€è¦æè¿°ä¸€ä¸‹è¯¥modeæœ‰å“ªäº›ç‰¹æ®Šå‘½ä»¤</p>
<p>doc-stringä¸­å¯ä»¥ä½¿ç”¨`\[COMMAND]',`\[KEYMAP]&lsquo;å’Œ`\&lt;KEYMAP&gt;&lsquo;æ¥è‡ªåŠ¨æ˜¾ç¤ºç”¨æˆ·è‡ªå®šä¹‰çš„é”®ç»‘å®š.</p>
</li>
<li>
<p>è¿›å…¥Major Modeçš„å‘½ä»¤çš„ç¬¬ä¸€ä¸ªåŠ¨ä½œåº”è¯¥æ˜¯è°ƒç”¨`kill-all-local-variables&rsquo;</p>
<p>`kill-all-local-variables&rsquo;ä¼šå…ˆè§¦å‘`change-major-mode-hook&rsquo;,ç„¶åæ¸…ç†ä¹‹å‰çš„Major Modeè®¾ç½®çš„buffer-localå˜é‡</p>
</li>
<li>
<p>Major Mode Commandéœ€è¦è®¾ç½®buffer-localå˜é‡`major-mode&rsquo;çš„å€¼ä¸ºmajor mode commandçš„symbol.</p>
<p>å‘½ä»¤`describe-mode&rsquo;ä¼šæ ¹æ®è¯¥å˜é‡è¾“å‡ºå¸®åŠ©æ–‡æ¡£</p>
</li>
<li>
<p>Major Mode Commandéœ€è¦è®¾ç½®buffer-localå˜é‡`major-name&rsquo;çš„å€¼ä¸ºè¯¥major modeçš„&quot;pretty&quot; name.</p>
<p>`major-name&rsquo;é€šå¸¸ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²,ä¸”å®ƒçš„å€¼ç”¨æ¥ä¼šæ˜¾ç¤ºåœ¨mode lineä¸Š</p>
</li>
<li>
<p>ç”±äºEmacsåªæœ‰ä¸€ä¸ªå‘½åç©ºé—´,å› æ­¤æ‰€æœ‰ä¸Major Modeç›¸å…³çš„å˜é‡,å¸¸é‡å’Œå‡½æ•°,åº”è¯¥ä»¥è¯¥major modeåç§°ä¸ºå‰ç¼€</p>
</li>
<li>
<p>å½“Major Modeæ˜¯ç”¨æ¥ç¼–è¾‘ç‰¹å®šç»“æ„çš„æ–‡æœ¬æˆ–ç¼–ç¨‹è¯­è¨€æ—¶,å…·å¤‡æ ¹æ®ç»“æ„è‡ªåŠ¨ç¼©è¿›æ–‡æœ¬æ˜¯å¾ˆæœ‰ç”¨çš„ä¸€é¡¹åŠŸèƒ½,å› æ­¤è¿™ç±»major modeä¸€èˆ¬éƒ½ä¼šæœ‰ç¼©è¿›å‡½æ•°,å¹¶å°†å…¶è®¾ç½®ä¸ºå˜é‡`indent-line-function&rsquo;çš„å€¼. åŒæ—¶ä¹Ÿå¯èƒ½è®¾ç½®å…¶ä»–ä¸€äº›å…³äºç¼©è¿›çš„å˜é‡çš„å€¼</p>
</li>
<li>
<p>Major Modeé€šå¸¸æœ‰å…¶è‡ªå·±çš„keymap,è¯¥keymapçš„åå­—ä¸€èˆ¬ä¸º`modeåç§°-mode-map'</p>
<p>Major Mode Commandåº”è¯¥è°ƒç”¨`use-local-map&rsquo;å‡½æ•°æ¥å®‰è£…è‡ªå·±çš„keymap</p>
</li>
<li>
<p>Major Mode Keymapä¸­çš„é”®ç»‘å®š,ä¸€èˆ¬ä»¥`C-c'+æ§åˆ¶å­—ç¬¦æˆ–æ•°å­—æˆ–`{}&lt;&gt;:;&lsquo;ä¸ºå‰ç¼€.</p>
<p>`C-c&rsquo;+æ ‡ç‚¹ç¬¦å·æ˜¯ç•™ç»™minor modeä½¿ç”¨çš„.</p>
<p>`C-c'+æ™®é€šå­—æ¯ç•™ç»™ç”¨æˆ·ä½¿ç”¨çš„</p>
<p>major modeä¹Ÿå¯ä»¥é‡æ–°ç»‘å®š`M-n',`M-p&rsquo;ä½†åº”è¯¥è¡¨ç¤ºæŸç§å‘å‰å‘åç§»åŠ¨çš„å‘½ä»¤</p>
</li>
<li>
<p>ç¼–è¾‘æ–‡æœ¬çš„major modeä¸åº”è¯¥é‡å®šä¹‰&lt;RET&gt;ä¸ºä»»ä½•éæ¢è¡Œçš„å‘½ä»¤.</p>
<p>éç¼–è¾‘æ–‡æœ¬çš„major modeæ— æ­¤æ˜¾ç¤º</p>
</li>
<li>
<p>Major modeä¸åº”è¯¥ä¿®æ”¹å“ªäº›ä¼šä¸¥é‡å½±å“ç”¨æˆ·æ€§èƒ½çš„é…ç½®é¡¹(ä¾‹å¦‚æ˜¯å¦å¼€å¯Auto-Fill mode)</p>
</li>
<li>
<p>è‹¥major modeæœ‰è‡ªå·±çš„syntax table,åˆ™è¯¥syntax tableå˜é‡çš„åç§°è§„èŒƒä¸º`modeåç§°-mode-syntax-table'</p>
</li>
<li>
<p>è‹¥major modeå¸Œæœ›æ”¯æŒæŸç§ç¼–ç¨‹è¯­è¨€çš„æ³¨é‡Šè¯­æ³•,åˆ™éœ€è¦è®¾ç½®ä¸æ³¨é‡Šè¯­æ³•ç›¸å…³çš„å˜é‡.</p>
<p>å…·ä½“å‚è§`comment-column',`comment-start-skip',`comment-start',`comment-end'</p>
</li>
<li>
<p>è‹¥major modeæœ‰è‡ªå·±çš„ç¼©å†™è¡¨,åˆ™éœ€è¦å­˜æ”¾åˆ°åä¸º`MODENAME-mode-abbrev-table&rsquo;çš„å˜é‡ä¸­.</p>
<p>If the major mode command defines any abbrevs itself, it should pass â€˜tâ€™for the SYSTEM-FLAG argument to â€˜define-abbrevâ€™. è¯¦æƒ…å‚è§<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Defining_002520Abbrevs.html" title="Emacs Lisp: (info &quot;(elisp) Defining%20Abbrevs&quot;)">Defining Abbrevs</a></p>
</li>
<li>
<p>major modeé€šè¿‡è®¾ç½®buffer-localå˜é‡`font-lock-defaults&rsquo;æ¥è®¾ç½®é«˜äº®</p>
</li>
<li>
<p>major modeä¸­ç”¨åˆ°çš„æ¯ä¸ªfaceéƒ½åº”è¯¥å°½å¯èƒ½çš„ä»å·²æœ‰çš„Emacs faceä¸­ç»§æ‰¿</p>
</li>
<li>
<p>major modeåº”è¯¥å‘Šè¯‰Imenuå¦‚ä½•æ‰¾å‡ºbufferä¸­çš„å„ä¸ªå®šä¹‰å’Œç« èŠ‚çš„ä½ç½®.</p>
<p>æ–¹æ³•æ˜¯é€šè¿‡è®¾ç½®`imeu-generic-expression',`imenu-prev-index-position-function',`imenu-extract-index-name-function',`imenu-create-index-function'. å…·ä½“å‚è§<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Imenu.html" title="Emacs Lisp: (info &quot;(elisp) Imenu&quot;)">Imenu</a></p>
</li>
<li>
<p>major modeå¯ä»¥å®šä¹‰buffer localå˜é‡`eldoc-documentation-function&rsquo;ä»¥ä¾¿eldocèƒ½æ”¯æŒè¯¥mode</p>
</li>
<li>
<p>major modeå¯ä»¥é€šè¿‡è®¾ç½®`completion-at-point-functions&rsquo;æ¥æŒ‡å®šå¦‚ä½•å®ç°è¡¥å…¨. å…·ä½“å‚è§<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Completion_002520in_002520Buffers.html" title="Emacs Lisp: (info &quot;(elisp) Completion%20in%20Buffers&quot;)">Completion in Buffers</a></p>
</li>
<li>
<p>åœ¨major mode commandä¸­ä½¿ç”¨`make-local-variable&rsquo;æ¥åˆ›å»ºbuffer-localå˜é‡.</p>
<p><strong>ä¸è¦ä½¿ç”¨`make-variable-buffer-local&rsquo;æ¥åˆ›å»ºbuffer localå˜é‡</strong> ,å› ä¸ºè¯¥å‡½æ•°ä¼šæ˜¯çš„å³ä½¿ä¸æ˜¯è¯¥modeçš„bufferä¸­çš„å˜é‡ä¹Ÿå˜æˆbuffer-localå˜é‡.</p>
</li>
<li>
<p>æ¯ä¸ªmajor modeéƒ½åº”è¯¥æœ‰ä¸€ä¸ªåä¸º`MODENAME-mode-hook&rsquo;çš„normal hook.</p>
<p>major mode commandçš„æœ€åæ­¥éª¤åº”è¯¥æ˜¯ <strong>ä½¿ç”¨`run-mode-hooks&rsquo;ä¾æ¬¡è°ƒç”¨`change-major-mode-after-body-hook',`MODENAME-mode-hook&rsquo;å’Œ`after-change-major-mode-hook&rsquo;è¿™ä¸‰ä¸ªhook</strong></p>
</li>
<li>
<p>è‹¥major modeä¸ºå­mode,åˆ™åœ¨major mode commandå¼€å§‹æ—¶è¿˜éœ€è¦è°ƒç”¨çˆ¶modeçš„major mode command</p>
<p>é€šè¿‡å®`define-derived-mode&rsquo;å®šä¹‰çš„modeä¼šè‡ªåŠ¨å®Œæˆè¿™ç§è®¾è®¡,ä½†è‹¥æ²¡æœ‰ä½¿ç”¨`define-derived-mode&rsquo;å®,åˆ™éœ€è¦æ‰‹å·¥è°ƒç”¨`delay-mode-hooks&rsquo;ä¸­çš„çˆ¶mode command</p>
</li>
<li>
<p>è‹¥ä»major modeåˆ‡æ¢æˆå…¶ä»–major mode,åˆ™ä¼šè§¦å‘`change-major-mode-hook',å¯ä»¥è¿›è¡Œä¸€äº›ç‰¹æ®Šå¤„ç†</p>
</li>
<li>
<p>è‹¥è¯¥major modeä»…ç”¨æ¥ç®¡ç†ç”±major modeè‡ªå·±äº§ç”Ÿçš„æ–‡æœ¬(è€Œä¸æ˜¯ç”¨æˆ·è¾“å…¥çš„å†…å®¹),åˆ™è¯¥major command symbolçš„`mode-class&rsquo;å±æ€§åº”è¯¥ä¸º`special',åƒä¸‹é¢æ‰€ç¤º:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">put</span> <span style="color:#e6db74">&#39;funny-mode</span> <span style="color:#e6db74">&#39;mode-class</span> <span style="color:#e6db74">&#39;special</span>)
</code></pre></div><p>é»˜è®¤æƒ…å†µä¸‹,è‹¥`major-mode&rsquo;çš„é»˜è®¤å€¼ä¸º`nil',åˆ™æ–°åˆ›å»ºçš„bufferä¼šç»§æ‰¿å½“å‰bufferçš„major mode. ä½†å¯¹äºå±æ€§`mode-class&rsquo;ä¸º`special&rsquo;çš„major modeæ¥è¯´, <strong>æ–°åˆ›å»ºçš„bufferä½¿ç”¨Fundamental Modeä»£æ›¿</strong>,åƒDired,Rmail,Buffer Listè¿™äº›Major Modeéƒ½å¼€å¯äº†è¯¥ç‰¹æ€§</p>
<p>åŒæ—¶,åœ¨è¿™äº›special major modeä¸­è°ƒç”¨`view-buffer&rsquo;å‡½æ•°å¹¶ä¸èƒ½å¯ç”¨`view-mode' minor mode,å› ä¸ºè¿™ç±»çš„modeé€šå¸¸éƒ½æä¾›äº†ä»–ä»¬è‡ªå·±çš„ç±»ä¼¼view-modeçš„é”®ç»‘å®š</p>
<p>è¿™ç±»major mode,æ¨èä½¿ç”¨`define-derived-mode&rsquo;ç›´æ¥ä»`special-mode&rsquo;ä¸­ç»§æ‰¿</p>
</li>
<li>
<p>é€šè¿‡é…ç½®`auto-mode-alist&rsquo;å˜é‡,å¯ä»¥è®©Emacsæ‰“å¼€ç‰¹å®šè§„åˆ™çš„æ–‡ä»¶åæ—¶è‡ªåŠ¨é€‰ä¸­Major Mode.</p>
<p>If you define the mode command to autoload, you should add this element in the same file that calls â€˜autoloadâ€™.</p>
<p>If you use an autoload cookie for the mode command, you can also use an autoload cookie for the form that adds the element (å‚è§<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/autoload_002520cookie.html" title="Emacs Lisp: (info &quot;(elisp) autoload%20cookie&quot;)">autoload cookie</a>)</p>
</li>
<li>
<p>å®šä¹‰modeçš„ä»£ç å¯èƒ½ä¼šè¢«é‡å¤æ‰§è¡Œ</p>
<p>å› æ­¤åœ¨å®šä¹‰ä¸modeç›¸å…³çš„å˜é‡æ—¶,æ¨èä½¿ç”¨`defvar&rsquo;å’Œ`defcustom'</p>
</li>
</ul>
<h4 id="how-emacs-chooses-a-major-mode">How Emacs Chooses a Major Mode<a hidden class="anchor" aria-hidden="true" href="#how-emacs-chooses-a-major-mode">#</a></h4>
<p>å½“Emacsæ‰“å¼€æ–‡ä»¶æ—¶,ä¼šè‡ªåŠ¨æ ¹æ®æ–‡ä»¶åç§°å’Œæ–‡ä»¶å†…å®¹é€‰æ‹©åˆé€‚çš„major mode</p>
<ul>
<li>
<p>å‘½ä»¤(normal-mode &amp;optional find-file)</p>
<p>è®©Emacsä¸ºå½“å‰bufferé€‰æ‹©åˆé€‚çš„major-mode</p>
<p>è¯¥å‡½æ•°å…ˆè°ƒç”¨`set-auto-mode&rsquo;å‡½æ•°,ç„¶åè¿è¡Œ`hack-local-variables&rsquo;æ¥ä½¿file localå˜é‡ç”Ÿæ•ˆ. å‚è§<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Local_002520Variables_002520in_002520Files.html" title="Emacs Lisp: (info &quot;(emacs) Local%20Variables%20in%20Files&quot;)">Local Variables in Files</a> å’Œ<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/File-Local-Variables.html" title="Emacs Lisp: (info &quot;(elisp) File Local Variables&quot;)">File Local Variables</a></p>
<p>è‹¥å‚æ•°`find-file&rsquo;ä¸ºénil,åˆ™normal-modeå‡è®¾æ˜¯è¢«`find-file&rsquo;å‡½æ•°è°ƒç”¨çš„,è¿™ç§æƒ…å†µä¸‹,å®ƒä¼šæ ¹æ®`enable-local-variables&rsquo;çš„å€¼æ¥å†³å®šæ˜¯å¦åº”ç”¨file localå˜é‡çš„å€¼.</p>
<p>è‹¥å‚æ•°`find-file&rsquo;ä¸ºnil,åˆ™æ— æ¡ä»¶åº”ç”¨file localå˜é‡å€¼</p>
<p>è¯¥å‡½æ•°å†…éƒ¨è°ƒç”¨`set-auto-mode&rsquo;æ¥é€‰æ‹©major mode,è‹¥é€‰æ‹©å¤±è´¥,åˆ™æ ¹æ®`major-mode&rsquo;çš„é»˜è®¤å€¼æ¥å†³å®šåº”ç”¨major mode</p>
</li>
<li>
<p>å‡½æ•°(set-auto-mode &amp;optional keep-mode-if-same)</p>
<p>è¯¥å‡½æ•°ä¸ºå½“å‰bufferé€‰æ‹©åˆé€‚çš„major-mode,å…¶é€‰æ‹©çš„ä¾æ®ä¾æ¬¡ä¸º</p>
<ol>
<li>
<p>æ ¹æ®`_*_&lsquo;è¡Œæˆ–æ–‡ä»¶ç»“å°¾å¤„çš„`mode:&rsquo; file localå˜é‡å€¼.</p>
<p>æ³¨æ„: <strong>è‹¥`enable-local-variables&rsquo;ä¸ºnil,æˆ–æ–‡ä»¶åç§°åŒ¹é…`inhibit-local-variables-regexps&rsquo;ä¸­çš„å…ƒç´ ,åˆ™Emacsä¸ä½¿ç”¨file localå˜é‡</strong></p>
</li>
<li>
<p>æ ¹æ®`interpreter-mode-alist&rsquo;å˜é‡å€¼å’Œ`#!&lsquo;è¡Œæ¨æµ‹</p>
</li>
<li>
<p>æ ¹æ®`magic-mode-alist&rsquo;å˜é‡å€¼å’Œbufferå¼€å¤´çš„å†…å®¹æ¨æµ‹</p>
</li>
<li>
<p>æ ¹æ®`auto-mode-alist&rsquo;å˜é‡å€¼å’Œæ–‡ä»¶åç§°æ¨æµ‹</p>
</li>
</ol>
<p>è‹¥å‚æ•°keep-mode-if-sameä¸ºénil,åˆ™è‹¥è¯¥bufferå·²ç»å¤„äºåˆé€‚çš„modeçŠ¶æ€æ—¶,å¹¶ä¸å†æ­¤è°ƒç”¨major mode coomand. <strong>è¿™æ ·æ˜¯ä¸ºäº†é˜²æ­¢ç”¨æˆ·è‡ªå®šä¹‰çš„buffer loal å˜é‡å€¼è¢«é‡è®¾</strong></p>
</li>
<li>
<p>(set-buffer-major-mode buffer)
è®¾ç½®æŒ‡å®šbufferçš„major modeä¸º`major-mode&rsquo;çš„é»˜è®¤å€¼.</p>
<p>è‹¥é»˜è®¤å€¼ä¸ºnil,åˆ™è¡¨ç¤ºä½¿ç”¨å½“å‰bufferçš„major mode.</p>
<p>ä½œä¸ºç‰¹ä¾‹,`*scratch&rsquo; bufferçš„å€¼ä¼šè¢«è®¾ç½®ä¸º`initial-major-mode'</p>
<p>ä½å±‚çš„åŸå§‹åˆ›å»ºbufferçš„å‡½æ•°ä¸ä¼šè°ƒç”¨è¯¥å‡½æ•°,ä½†ä¸­å±‚çš„åˆ›å»ºbufferçš„å‡½æ•°(ä¾‹å¦‚`switch-to-buffer&rsquo;å’Œ`find-file-noselect')åœ¨åˆ›å»ºbufferæ—¶ä¼šä½¿ç”¨è¯¥å‡½æ•°</p>
</li>
<li>
<p>é…ç½®é¡¹initial-major-mode</p>
<p>è¯¥å€¼å†³å®šäº†åˆå§‹çš„`*scratch*' bufferçš„major mode. è¯¥å˜é‡çš„å€¼åº”è¯¥ä¸ºmajor mode commandçš„symbol</p>
</li>
<li>
<p>å˜é‡interpreter-mode-alist</p>
<p>è¯¥å˜é‡å‘Šè¯‰Emacså¦‚ä½•æ ¹æ®`#!&lsquo;è¡Œçš„å†…å®¹åˆ¤æ–­major mode</p>
<p>å®ƒä¸€ä¸ªalist,å…¶å…ƒç´ æ ¼å¼ä¸º`(REGEXP . MODE)&rsquo; è¡¨ç¤º`#!&lsquo;è¡Œå†…å®¹åŒ¹é…REGEXPçš„å…¶Major Modeä¸ºMODE</p>
</li>
<li>
<p>å˜é‡majic-mode-alist</p>
<p>è¯¥å˜é‡å‘Šè¯‰Emacså¦‚ä½•æ ¹æ®bufferå†…å®¹åˆ¤æ–­major mode</p>
<p>è¯¥å€¼ä¸ºä¸€ä¸ªalist,å…¶å…ƒç´ æ ¼å¼ä¸º`(REGEXP . FUNCTION)&rsquo;, è‹¥bufferå¼€å¤´éƒ¨åˆ†çš„å†…å®¹åŒ¹é…REGEXP,ä¸”FUNCTIONä¸ºénil,åˆ™Emacsä¼šé€šè¿‡è°ƒç”¨è¯¥FUNCTIONåˆ‡æ¢Major Mode</p>
<p>è‹¥FUNCTIONä¸ºnil,åˆ™é€šè¿‡å˜é‡`auto-mode-alist&rsquo;åˆ¤æ–­Major Mode</p>
</li>
<li>
<p>å˜é‡`majic-fallback-mode-alist'
è¯¥å˜é‡ç±»ä¼¼`magic-mode-alist',ä½† <strong>åªæœ‰åœ¨`auto-mode-alist&rsquo;ä¸­æ²¡æœ‰ç›¸åº”é…ç½®æ—¶æ‰ç”Ÿæ•ˆ</strong></p>
</li>
<li>
<p>å˜é‡`auto-mode-alist'
è¯¥å˜é‡å‘Šè¯‰Emacså¦‚ä½•æ ¹æ®æ–‡ä»¶åç§°åˆ¤æ–­major mode</p>
<p>è¯¥å€¼ä¸ºä¸€ä¸ªalist,å…¶å…ƒç´ æ ¼å¼ <strong>ä¸€èˆ¬</strong> ä¸º`(REGEXP . MODE-FUNCTOIN)&lsquo;è¡¨ç¤ºæ–‡ä»¶åç§°åŒ¹é…REGEXPçš„è¯,è°ƒç”¨MODE-FUNCTIONæ¥é€‰æ‹©Major Mode(è‹¥è®¿é—®çš„æ–‡ä»¶æ˜¯<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/File_002520Name_002520Expansion.html" title="Emacs Lisp: (info &quot;(elisp) File%20Name%20Expansion&quot;)">æ‰©å±•è¿‡çš„æ–‡ä»¶å</a> ,åˆ™æ–‡ä»¶åä¼šå…ˆç»è¿‡`file-name-sans-versions&rsquo;è¿‡æ»¤æ‰ç‰ˆæœ¬å·æˆ–å¤‡ä»½æ ‡å¿—)</p>
<p>å…ƒç´ è¿˜å¯èƒ½ä¸ºæ ¼å¼`(REGEXP FUNCTION t)',è¡¨ç¤ºè°ƒç”¨FUNCTIONå,Emacsç»§ç»­æœç´¢`auto_mode-alist&rsquo;å¹¶é€‰æ‹©åˆé€‚çš„Major Mode. è¯¥åŠŸèƒ½åœ¨å¤„ç†å‹ç¼©çš„æ–‡ä»¶æ—¶ç‰¹åˆ«æœ‰ç”¨.</p>
</li>
</ul>
<h4 id="mode-help">Mode Help<a hidden class="anchor" aria-hidden="true" href="#mode-help">#</a></h4>
<ul>
<li>
<p>å‘½ä»¤(describe-mode &amp;optional buffer)</p>
<p>è¯¥å‘½ä»¤æ˜¾ç¤ºæŒ‡å®šbuffer(é»˜è®¤ä¸ºå½“å‰buffer)çš„major modeå’Œminior modeçš„ç›¸å…³æ–‡æ¡£.</p>
<p>è¯¥å‡½æ•°ä½¿ç”¨`documentation&rsquo;å‡½æ•°ä»major mode commandå’Œminior mode commandä¸­è·å–doc-string</p>
</li>
</ul>
<h4 id="derived-modes">Derived Modes<a hidden class="anchor" aria-hidden="true" href="#derived-modes">#</a></h4>
<p>åˆ›å»ºä¸€ä¸ªæ–°çš„major modeçš„æ¨èæ–¹æ³•æ˜¯ä½¿ç”¨`define-derived-mode&rsquo;ä»ä¸€ä¸ªç°æœ‰çš„major modeä¸­ç»§æ‰¿å‡ºæ¥.</p>
<p>å³ä½¿æ²¡æœ‰æ¥è¿‘çš„major mode,é‚£ä¹Ÿåº”è¯¥ä»`text-mode&rsquo;,`special-mode&rsquo;æˆ–`prog-mode&rsquo;è¿™ä¸‰å¤§åŸºæœ¬major modeä¸­é€‰ä¸€ä¸ªæ¥ç»§æ‰¿.</p>
<p>å®åœ¨ä¸è¡Œ,é‚£å°±ä»`fundamental-mode&rsquo;ä¸­ç»§æ‰¿</p>
<ul>
<li>
<p>å®(define-derived-mode VARIANT PARENT NAME DOCSTRING KEYWORD-ARGS&hellip; BODY&hellip;)</p>
<p>è¯¥å®å®šä¹‰VARIANTä¸ºæ–°Major Mode Command,è¯¥Major Mode,ç»§æ‰¿è‡ªPARENT,ä¸”ä»¥NAMEä¸ºMode Name</p>
<p>å‚æ•°VARIANTå’ŒPARENTä¸ºä¸è¢«å¼•ç”¨çš„symbol</p>
<p>æ–°çš„Major Modeè¦†ç›–äº†PARENT Modeçš„ä»¥ä¸‹å‡ ä¸ªæ–¹é¢:</p>
<ul>
<li>
<p>æ–°Major Modeæ‹¥æœ‰è‡ªå·±çš„keymap,åä¸º`VARIANT-map'.
é™¤é`VARIANT-map&rsquo;åœ¨è°ƒç”¨`define-derived-mode&rsquo;å‰å·²ç»è¢«è®¾ç½®å¹¶ä¸”å®šä¹‰äº†çˆ¶keymap,å¦åˆ™PARENT modeçš„keymapä¸º`VARIANT-map&rsquo;çš„çˆ¶keymap</p>
</li>
<li>
<p>æ–°Major Modeæ‹¥æœ‰è‡ªå·±çš„syntax table,åä¸º`VARIANT-syntax-table',ä½†è¯¥åå­—å¯ä»¥é€šè¿‡`:syntax-table' keywordå…³é”®å­—ä¿®æ”¹
é™¤é`VARIANT-syntax-tableåœ¨è°ƒç”¨`define-derived-mode&rsquo;å‰å·²ç»è¢«è®¾ç½®å¹¶ä¸”å®šä¹‰äº†çˆ¶syntax-table,å¦åˆ™PARENT modeçš„syntax-tableä¸º`VARIANT-syntax-tableçš„çˆ¶syntax-table</p>
</li>
<li>
<p>æ–°Major Modeæ‹¥æœ‰è‡ªå·±çš„abbrev table,å­˜åœ¨åä¸º`VARIANT-abbrev-table&rsquo;çš„å˜é‡ä¸­,ä½†è¯¥å˜é‡åå¯ä»¥é€šè¿‡`:abbrev-table' keywordå…³é”®å­—ä¿®æ”¹</p>
</li>
<li>
<p>æ–°Major Modeæœ‰è‡ªå·±çš„mode hook,åä¸º`VARIANT-hook'.
è¯¥hookä¼šåœ¨è¿è¡Œå®Œå…¶ç¥–å…ˆçš„mode hookå,é€šè¿‡`run-mode-hooks&rsquo;è°ƒç”¨</p>
</li>
</ul>
<p>å¯ä»¥åœ¨å‚æ•°BODYæŒ‡å®šäº†å¦‚ä½•è¦†ç›–PARENT modeçš„å…¶ä»–è®¾ç½®. <strong>æ³¨æ„ä¸è¦åŠ `interactive&rsquo;è¯­å¥,`define-derived-mode&rsquo;ä¼šè‡ªåŠ¨æ·»åŠ è¯¥è¯­å¥</strong></p>
<p>è‹¥PARENTæœ‰ä¸€ä¸ªénilçš„`mode-class&rsquo;å±æ€§,åˆ™`define-derived-mode&rsquo;ä¼šè®¾ç½®VARIANTçš„`mode-class&rsquo;å±æ€§ä¸ºç›¸åŒçš„å€¼.</p>
<p>å‚æ•°PARENTä¹Ÿå¯ä»¥ä¸ºnil,è¡¨ç¤ºæ–°Major Modeæ²¡æœ‰çˆ¶mode</p>
<p>å‚æ•°DOCSTRINGä¸ºå¯¹æ–°Major Modeçš„è¯´æ˜,`define-derived-mode&rsquo;ä¼šåœ¨æ­¤åŸºç¡€ä¸Šå¢æ·»ä¸€äº›å…³äºmode hook,mode keymapçš„ä¿¡æ¯,è¯¥å‚æ•°å¯ä»¥çœç•¥</p>
<p>`define-drived-mode&rsquo;æ”¯æŒä»¥ä¸‹å‡ ç§KEYWORD-ARG</p>
<ul>
<li>
<p>`:syntax-table'</p>
<p>ä¸ºæ–°Major ModeæŒ‡å®šsyntax tableå˜é‡.</p>
<p>è‹¥å‚æ•°ä¸ºnil,åˆ™è¡¨ç¤ºä½¿ç”¨PARENT modeçš„syntax tableå˜é‡,è‹¥å‚æ•°PARENTä¸ºnil,åˆ™ä½¿ç”¨æ ‡å‡†syntax-table</p>
</li>
<li>
<p>`:abbrev-table'</p>
<p>ä¸ºæ–°Major ModeæŒ‡å®šabbrev-tableå˜é‡.</p>
<p>è‹¥å‚æ•°ä¸ºnil,è¡¨ç¤ºä½¿ç”¨PARENT modeçš„abbrev-tableå˜é‡,è‹¥å‚æ•°PARENTä¸ºnil,åˆ™ä½¿ç”¨`fundamental-mode-abbrev-table'</p>
</li>
<li>
<p>`:group'</p>
<p>æŒ‡å®šäº†è¯¥modeæ‰€å±çš„customization group.</p>
</li>
</ul>
</li>
<li>
<p>å‡½æ•°(derived-mode-p &amp;rest modes)</p>
<p>å½“å‰Major Modeæ˜¯å¦ç»§æ‰¿è‡ªmodesä¸­çš„ä»»æ„ä¸€ä¸ªmode, modesä¸ºsymbolåˆ—è¡¨</p>
</li>
</ul>
<h4 id="basic-major-modes">Basic Major Modes<a hidden class="anchor" aria-hidden="true" href="#basic-major-modes">#</a></h4>
<p>é™¤äº†Fundamental modeå¤–,è¿˜æœ‰ä¸‰ä¸ªæ™®éè¢«ç»§æ‰¿çš„mode:Text mode,Prog modeå’ŒSpecial mode</p>
<ul>
<li>
<p>å‘½ä»¤(text-mode)</p>
<p>Text-modeç”¨äºç¼–è¾‘è‡ªç„¶è¯­è¨€.</p>
<p>It defines the â€˜&quot;â€™ and â€˜\â€™ characters as having punctuation syntax (å‚è§ <a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Syntax_002520Class_002520Table.html" title="Emacs Lisp: (info &quot;(elisp) Syntax%20Class%20Table&quot;)">Syntax Class Table</a>)</p>
<p>è¯¥modeä¸‹ç»‘å®š`M-&lt;TAB&gt;&lsquo;ä¸º`ispell-complete-word&rsquo;</p>
</li>
<li>
<p>Prog-mode</p>
<p>Prog-modeç”¨äºç¼–è¾‘ç¼–ç¨‹è¯­è¨€. å¤§uå¶æ•°çš„ç¼–ç¨‹è¯­è¨€major modeéƒ½ç»§æ‰¿è‡ªè¯¥mode</p>
<p>Prog-modeè®¾ç½®`parse-sexp-ignore-comments&rsquo;ä¸º`t',è®¾ç½®`bidi-paragraph-direction&rsquo;ä¸º`left-to-right'</p>
</li>
<li>
<p>Special-mode</p>
<p>Special-modeå¸¸ç”¨äºé‚£äº›å†…å®¹ç”±Emacsè‡ªåŠ¨äº§ç”Ÿ(è€Œä¸æ˜¯äººå·¥è¾“å…¥æˆ–ä»æ–‡ä»¶è¯»å–)çš„bufferä¸­.</p>
<p>ä»Special modeç»§æ‰¿çš„modeä¼šè®¾ç½®`mode-class&rsquo;å±æ€§ä¸º`special'</p>
<p>Special modeè®¾ç½®modeä¸ºåªè¯»çš„.ä¸”ä¼šé‡æ–°ç»‘å®šå¾ˆå¤šé€šç”¨ç»‘å®š,ä¾‹å¦‚`q&rsquo;ç»‘å®šä¸º`quit-window',`g&rsquo;ç»‘å®šä¸º`revert-buffer'</p>
</li>
</ul>
<h4 id="mode-hooks">Mode Hooks<a hidden class="anchor" aria-hidden="true" href="#mode-hooks">#</a></h4>
<p>æ¯ä¸ªMajor Mode Commandæœ€åä¸‰æ¡æŒ‡ä»¤åº”è¯¥æ˜¯è°ƒç”¨`change-major-mode-after-body-hook',è‡ªå·±çš„`MODE-hook',å’Œ`after-change-major-mode-hook'. <strong>é€šå¸¸æ˜¯é€šè¿‡è°ƒç”¨å‡½æ•°`run-mode-hooks&rsquo;æ¥è‡ªåŠ¨å®Œæˆä¸Šé¢çš„ä¸‰ä¸ªæ­¥éª¤.</strong></p>
<p>å½“major modeä¸ºæŸä¸ªçˆ¶modeçš„å­mode,åˆ™åœ¨bodyä¸­è°ƒç”¨çˆ¶mode commandæ—¶,åº”è¯¥æ”¾å…¥`delay-mode-hooks&rsquo;ç»“æ„å†…,è¿™æ ·æ‰èƒ½ä¿è¯çˆ¶modeçš„hookä¸ä¼šç«‹å³è¢«è§¦å‘,è€Œç»Ÿä¸€ç­‰åˆ°å­modeè°ƒç”¨`run-mode-hooks&rsquo;æ—¶å†è§¦å‘.</p>
<p>è‹¥ä¸ä½¿ç”¨`define-derived-mode&rsquo;å®,è€Œé€‰æ‹©æ‰‹å·¥å®šä¹‰Major Mode,åˆ™å¯èƒ½ä¼šéœ€è¦ç”¨åˆ°ä¸‹åˆ—å‡½æ•°</p>
<ul>
<li>
<p>å‡½æ•°(run-mode-hooks &amp;rest hookvars)</p>
<p>Major Modeåº”è¯¥ä½¿ç”¨è¯¥å‡½æ•°æ¥è¿è¡Œè‡ªå·±çš„mode hook.</p>
<p>è¯¥å‡½æ•°ç±»ä¼¼`run-hooks',ä½†å®ƒè¿˜ä¼šè°ƒç”¨`change-major-mode-after-body-hook&rsquo;å’Œ`after-change-major-mode-hook'.</p>
<p><strong>è‹¥åœ¨`delay-mode-hooks&rsquo;å®çš„bodyä¸­è°ƒç”¨è¯¥å‡½æ•°,å®ƒä¸ä¼šç«‹å³æ‰§è¡Œè¿™äº›hook,è€Œæ˜¯æ¨è¿Ÿåˆ°ä¸‹ä¸€æ¬¡è°ƒç”¨`run-mode-hooks&rsquo;æ—¶å†æ‰§è¡Œ</strong></p>
</li>
<li>
<p>å®(delay-mode-hooks &amp;rest body)
è¯¥å®æ‰§è¡ŒBODYä¸­çš„è¯­å¥,ä½†BODYä¸­çš„æ‰€æœ‰`run-mode-hooks&rsquo;è°ƒç”¨éƒ½ä¼šå»¶è¿Ÿè¿è¡Œä»–ä»¬çš„hook,ç›´åˆ°ä¸‹æ¬¡ä¸åœ¨`delay-mode-hooks&rsquo;ç»“æ„ä¸­çš„è°ƒç”¨`run-mode-hooks&rsquo;æ‰è¿è¡Œ.</p>
</li>
<li>
<p>å˜é‡`change-major-mode-after-body-hook'
è§¦å‘çš„æ—¶æœºåœ¨major mode hookä¹‹å‰</p>
</li>
<li>
<p>å˜é‡`after-change-major-mode-hook'
è§¦å‘æ—¶æœºæ­£å¸¸åº”è¯¥ä¸ºmajor mode commandçš„æœ€åä¸€æ­¥!</p>
</li>
</ul>
<h4 id="generic-modes">Generic Modes<a hidden class="anchor" aria-hidden="true" href="#generic-modes">#</a></h4>
<p>&ldquo;Generic Modes&quot;æ˜¯æŒ‡çš„é‚£äº›åªæ”¯æŒåŸºæœ¬çš„æ³¨é‡Šè¯­æ³•å’ŒFont Lock Modeçš„ç®€å•Major Mode.</p>
<p>ä½¿ç”¨å®`define-generic-mode&rsquo;æ¥å®šä¹‰generic mode,æ›´å¤šä¾‹å­å‚è§`generic-x.el&rsquo;ä¸­çš„å†…å®¹</p>
<ul>
<li>
<p>(define-generic-mode mode comment-list keyword-list font-lock-list auto-mode-list function-list &amp;optional docstring)</p>
<p>è‹¥å‚æ•°docstringä¸ºnil,åˆ™`define-generic-mode&rsquo;ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª</p>
</li>
</ul>
<h3 id="minor-modes">Minor Modes<a hidden class="anchor" aria-hidden="true" href="#minor-modes">#</a></h3>
<p>&ldquo;minor mode&quot;æä¾›äº†ä¸€ç³»åˆ—çš„ä¸major modeæ— å…³çš„ç‰¹æ€§.</p>
<ul>
<li>å˜é‡minor-mode-list
è¯¥å˜é‡å­˜å‚¨äº†æ‰€æœ‰çš„minor mode commands</li>
</ul>
<h4 id="minor-mode-conventions">Minor Mode Conventions<a hidden class="anchor" aria-hidden="true" href="#minor-mode-conventions">#</a></h4>
<p>å®šä¹‰minor modeä¹Ÿæœ‰ä¸€äº›æƒ¯ä¾‹è¦éµå¾ª,è¿™äº›æƒ¯ä¾‹æœ‰:</p>
<ul>
<li>
<p>æ¯ä¸ªminor modeéƒ½åº”è¯¥æœ‰ä¸€ä¸ªä»¥`-mode&rsquo;ç»“å°¾çš„æŒ‡ç¤ºå˜é‡,ç”¨äºåˆ¤æ–­è¯¥minor modeæ˜¯å¦å¯ç”¨.</p>
<p>è‹¥minor modeæ˜¯buffer-localçš„,åˆ™è¯¥æŒ‡ç¤ºå˜é‡ä¹Ÿåº”è¯¥æ˜¯buffer-localçš„</p>
<p>è¯¥æŒ‡ç¤ºå˜é‡å¸¸ä¸å˜é‡`minor-mode-alist&rsquo;ç»“åˆæ¥åœ¨mode lineä¸Šæ˜¾ç¤ºminor mode name.</p>
<p>è¯¥æŒ‡ç¤ºå˜é‡è¿˜ä¸å˜é‡`minor-mode-map-alist&rsquo;ç»“åˆæ¥åˆ¤æ–­æ˜¯å¦æ¿€æ´»minor mode keymap.</p>
</li>
<li>
<p>å®šä¹‰ä¸€ä¸ªä¸ä¸Šé¢çš„æŒ‡ç¤ºå˜é‡åŒåçš„å‘½ä»¤,è¯¥å‘½ä»¤ç”¨äºå¼€å¯/å…³é—­minor mde</p>
<p>è¯¥å‘½ä»¤éœ€è¦èƒ½å¤Ÿæ¥æ”¶ä¸€ä¸ªå¯é€‰å‚æ•°.</p>
<ol>
<li>
<p>å½“ä»¥interactiveæ–¹å¼è°ƒç”¨è¯¥å‘½ä»¤æ—¶,è‹¥ä¸å¸¦å‚æ•°è°ƒç”¨è¯¥å‘½ä»¤,åˆ™åˆ‡æ¢minor-modeçš„çŠ¶æ€,è‹¥å‚æ•°ä¸ºæ­£æ•°,åˆ™å¼€å¯minor-mode,è‹¥ä¸ºè´Ÿæ•°åˆ™å…³é—­minor-mode</p>
</li>
<li>
<p>å½“åœ¨lispä¸­è°ƒç”¨è¯¥å‘½ä»¤æ—¶,è‹¥å‚æ•°ä¸ºnilæˆ–æ­£æ•°,åˆ™å¼€å¯minor mode,å‚æ•°è‹¥ä¸º&rsquo;toggle,åˆ™åˆ‡æ¢minor-mode,å‚æ•°ä¸ºè´Ÿæ•°åˆ™å…³é—­minor-mode</p>
</li>
</ol>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå®ç°æ¨¡æ¿</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(interactive (<span style="color:#a6e22e">list</span> (or current-prefix-arg <span style="color:#e6db74">&#39;toggle</span>)))
(let ((enable (if (<span style="color:#a6e22e">eq</span> arg <span style="color:#e6db74">&#39;toggle</span>)
(not foo-mode) <span style="color:#75715e">; this modeâ€™s mode variable</span>
(<span style="color:#a6e22e">&gt;</span> (<span style="color:#a6e22e">prefix-numeric-value</span> arg) <span style="color:#ae81ff">0</span>))))
(if enable
DO-ENABLE
DO-DISABLE))
</code></pre></div></li>
<li>
<p>è‹¥æƒ³åœ¨mode lineæ˜¾ç¤ºè¯¥minor mode,åˆ™éœ€è¦å¾€å˜é‡ä¸­`minor-mode-alist&rsquo;ä¸­æ·»åŠ ç›¸åº”çš„å…ƒç´ .</p>
<p>`minor-mode-alist&rsquo;ä¸­çš„å…ƒç´ æ ¼å¼åº”è¯¥ä¸º`(MODE-VARIABLE STRING)'. å…¶ä¸­</p>
<ul>
<li>
<p>`MODE-VARIABLE&rsquo;ä¸ºæŒ‡ç¤ºminor-modeæ˜¯å¦å¼€å¯çš„å“ªä¸ªå˜é‡åç§°</p>
</li>
<li>
<p>`STRING&rsquo;ä¸ºåœ¨mode lineä¸Šçš„æ˜¾ç¤ºæ–‡æœ¬.</p>
</li>
<li>
<p><strong>è¦æ³¨æ„ minor-mode-alistä¸­ä¸è¦å‡ºç°é‡å¤çš„MODE-VARIABLE</strong></p>
</li>
</ul>
</li>
<li>
<p>è¿˜æœ‰ä¸€äº›ç±»ä¼¼Major Modeçš„æƒ¯ä¾‹</p>
<ul>
<li>
<p>those regarding the names of global symbols</p>
</li>
<li>
<p>the use of a hook at the end of the initialization function</p>
</li>
<li>
<p>the use of keymaps</p>
</li>
<li>
<p>other</p>
</li>
</ul>
</li>
<li>
<p>å¦å¤–,å°½å¯èƒ½å…è®¸ç”¨æˆ·é€šè¿‡`customization&rsquo;æ¥å¼€é—­minor mode.</p>
<p>å› æ­¤åº”è¯¥å°½é‡ä½¿ç”¨`defcustom&rsquo;æ¥å®šä¹‰minor modeçš„æ ‡è¯†å˜é‡. å¹¶ä¸”è¦è®°å¾— <strong>çµ¦è¯¥æ ‡è¯†å˜é‡åŠ ä¸Šautoload cookieå¹¶æŒ‡å®š`:require&rsquo;å®šä¹‰minor modeçš„åº“</strong>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">   <span style="color:#75715e">;;;###autoload</span>
(defcustom msb-mode <span style="color:#66d9ef">nil</span>
  <span style="color:#e6db74">&#34;Toggle msb-mode.
</span><span style="color:#e6db74">     Setting this variable directly does not take effect;
</span><span style="color:#e6db74">     use either \\[customize] or the function </span><span style="color:#e6db74">`msb-mode&#39;</span><span style="color:#e6db74">.&#34;</span>
  :set <span style="color:#e6db74">&#39;custom-set-minor-mode</span>
  :initialize <span style="color:#e6db74">&#39;custom-initialize-default</span>
  :version <span style="color:#e6db74">&#34;20.4&#34;</span>
  :type    <span style="color:#e6db74">&#39;boolean</span>
  :group   <span style="color:#e6db74">&#39;msb</span>
  :require <span style="color:#e6db74">&#39;msb</span>)
</code></pre></div></li>
</ul>
<h4 id="keymaps-and-minor-modes">Keymaps and Minor Modes<a hidden class="anchor" aria-hidden="true" href="#keymaps-and-minor-modes">#</a></h4>
<p>æ¯ä¸ªminor modeéƒ½å¯ä»¥æœ‰è‡ªå·±çš„keymap. è¦ä¸ºminor modeè®¾ç½®è‡ªå·±çš„keymap,éœ€è¦å¾€å˜é‡`minor-mode-map-alist&rsquo;ä¸­æ·»åŠ å…ƒç´ . å…·ä½“å‚è§<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Definition_002520of_002520minor_002dmode_002dmap_002dalist.html" title="Emacs Lisp: (info &quot;(elisp) Definition%20of%20minor-mode-map-alist&quot;)">Definition of minor-mode-map-alist</a></p>
<h4 id="defining-minor-modes">Defining Minor Modes<a hidden class="anchor" aria-hidden="true" href="#defining-minor-modes">#</a></h4>
<ul>
<li>
<p>(define-minor-mode MODE DOC [INIT-VALUE [LIGHTER [KEYMAP]]] KEYWORD-ARGS&hellip; &amp;rest BODY)</p>
<p>è¯¥å®å®šä¹‰ä¸€ä¸ªæ–°çš„åä¸ºMODEçš„minor mode,å¹¶ç”Ÿæˆä¸€ä¸ªåä¸ºMODEçš„minor mode command. å‚æ•°DOCä¸ºè¯¥minor modeçš„è¯´æ˜æ–‡æ¡£</p>
<p>è¯¥å®è¿˜å®šä¹‰äº†ä¸€ä¸ªåä¸ºMODEçš„æŒ‡ç¤ºå˜é‡,é€šè¿‡è®¾ç½®è¯¥å˜é‡ä¸ºtæˆ–nilå¯ä»¥å¼€å¯/å…³é—­è¯¥minor mode. è¯¥å˜é‡çš„é»˜è®¤å€¼ä¸ºINIT-VALUE.</p>
<p>å‚æ•°LIGHTERä¸ºä¸€ä¸ªå­—ç¬¦ä¸²æˆ–nil,å½“å¼€å¯äº†è¯¥minor modeåå°±ä¼šåœ¨mode-lineä¸­æ˜¾ç¤ºè¯¥å­—ç¬¦ä¸², è‹¥ä¸ºnilåˆ™è¡¨ç¤ºä¸æ˜¾ç¤ºåœ¨mode-lineä¸Š</p>
<p>å‚æ•°KEYMAPä¸ºnil,å€¼ä¸ºkeymapçš„å˜é‡å,keymap,æˆ–å…ƒç´ ä¸º`(KEY-SEQUENCE . DEFINITION)&lsquo;çš„alist. å®ƒæŒ‡å®šäº†è¯¥minor modeæ‰€ä½¿ç”¨çš„keymap,å¹¶ç”Ÿæˆåä¸º`MODE-map&rsquo;çš„å˜é‡ç”¨äºå­˜æ”¾keymap
è¿™é‡Œçš„KEY-SEQUENCEå’ŒDEFINITIONå‚æ•°æ ¼å¼è¦åŒ¹é…`define-key&rsquo;å‡½æ•°çš„å‚æ•°æ ¼å¼.</p>
<p>ç›®å‰å‚æ•°KEYWORD-ARGSæ”¯æŒå¦‚ä½•keywordå‚æ•°:</p>
<ul>
<li>
<p>`:group GROUP&rsquo;</p>
<p>æŒ‡å®šBODYä¸­çš„`defcustom&rsquo;è¯­å¥å®šä¹‰é…ç½®é¡¹æ—¶æ‰€å±çš„é»˜è®¤ç»„ä¸ºGROUP, è‹¥ä¸æŒ‡å®šè¯¥å‚æ•°,åˆ™æ‰€å±çš„é»˜è®¤ç»„ä¸ºå‚æ•°MODE</p>
<p><strong>ä½¿ç”¨è¯¥å‚æ•°å‰,è¯·ç¡®ä¿å·²ç»é¢„å…ˆç”¨`defgroup&rsquo;å®šä¹‰äº†åˆ†ç»„</strong></p>
</li>
<li>
<p>`:global GLOBAL-P'</p>
<p>æŒ‡æ˜è¯¥minor-modeä½œç”¨äºä¸ºglobalè¿˜æ˜¯buffer-local, é»˜è®¤ä¸ºnilå³ä¸ºbuffer-localçš„.</p>
<p>å°†ä¸€ä¸ªminor-modeå˜ä¸ºglobalçš„,æ„å‘³ç€å®ƒçš„æŒ‡ç¤ºå˜é‡`MODE&rsquo;è¢«å®šä¹‰ä¸ºç”¨æˆ·é…ç½®é¡¹, é€šè¿‡é…ç½®é¡¹ç•Œé¢æ”¹å˜è¯¥å˜é‡çš„å€¼ä¼šåŒæ—¶å…³é—­/å¼€å¯è¯¥minor mode.</p>
<p>è¿™ç§æƒ…å†µä¸‹,éœ€è¦ <strong>ä¿è¯åœ¨é…ç½®è¯¥é…ç½®é¡¹æ—¶æœ‰è¿è¡Œç›¸åº”çš„minor modeä»£ç </strong>,æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨`:require&rsquo;å…³é”®å­—</p>
</li>
<li>
<p>`:init-value INIT-VALUE'</p>
<p>è®¾ç½®æŒ‡ç¤ºå˜é‡`MODE&rsquo;çš„åˆå§‹å€¼</p>
</li>
<li>
<p>`:lighter LIGHTER'</p>
<p>è®¾ç½®æ˜¾ç¤ºåœ¨mode-lineä¸Šçš„å†…å®¹</p>
</li>
<li>
<p>`:keymap KEYMAP'</p>
<p>è®¾ç½®minor modeçš„KEYMAP</p>
</li>
<li>
<p>`:variable PLACE'</p>
<p>ä½¿ç”¨PLACEä½œä¸ºminor modeçš„æŒ‡ç¤ºå˜é‡(é»˜è®¤ä¸ºå‚æ•°MODE).</p>
<p>è¿™é‡ŒPLACEå¯ä»¥æ˜¯ä¸€ä¸ªå˜é‡åç§°,æˆ–è€…å¯ä»¥è¢«`setf&rsquo;èµ‹å€¼çš„æ³›å‹å˜é‡(å‚è§<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Generalized_002520Variables.html" title="Emacs Lisp: (info &quot;(elisp) Generalized%20Variables&quot;)">Generalized Variables</a>).</p>
<p>PLACEè¿˜å¯ä»¥æ˜¯æ ¼å¼ä¸º`(GET . SET)&lsquo;çš„cons cell. å…¶ä¸­GETä¸ºè·å–minor modeçŠ¶æ€çš„è¡¨è¾¾å¼, SETä¸ºæ¥æ”¶ä¸€ä¸ªå‚æ•°å¹¶è®¾ç½®minor modeçš„å‡½æ•°</p>
</li>
<li>
<p>`:after-hook AFTER-HOOK-FORM&rsquo;</p>
<p>AFTER-HOOK-FORMä¸ºä¸€ä¸ªSè¡¨è¾¾å¼(ä¸éœ€è¦è¢«å¼•ç”¨), å®ƒä¼šåœ¨minor mode hookè§¦å‘åè¿è¡Œ.</p>
</li>
<li>
<p>å…¶ä»–ä»»æ„çš„keywordå‚æ•°</p>
<p><strong>è¿™äº›keywordå‚æ•°ç›´æ¥è¢«ä¼ é€’çµ¦`defcustom&rsquo;ç”¨æ¥ä½œä¸ºç”Ÿæˆminor modeæŒ‡ç¤ºå˜é‡æ—¶çš„å‚æ•°</strong>. æ¯”è¾ƒå¸¸è§çš„æœ‰`:require&rsquo;å‚æ•°.</p>
</li>
</ul>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨`define-minor-mode&rsquo;çš„ä¾‹å­</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(define-minor-mode hungry-mode
<span style="color:#e6db74">&#34;Toggle Hungry mode.
</span><span style="color:#e6db74">Interactively with no argument, this command toggles the mode.
</span><span style="color:#e6db74">A positive prefix argument enables the mode, any other prefix
</span><span style="color:#e6db74">argument disables it.  From Lisp, argument omitted or nil enables
</span><span style="color:#e6db74">the mode, </span><span style="color:#e6db74">`toggle&#39;</span><span style="color:#e6db74"> toggles the state.
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">When Hungry mode is enabled, the control delete key
</span><span style="color:#e6db74">gobbles all preceding whitespace except the last.
</span><span style="color:#e6db74">See the command \\[hungry-electric-delete].&#34;</span>
<span style="color:#75715e">;; The initial value.</span>
<span style="color:#66d9ef">nil</span>
<span style="color:#75715e">;; The indicator for the mode line.</span>
<span style="color:#e6db74">&#34; Hungry&#34;</span>
<span style="color:#75715e">;; The minor mode bindings.</span>
<span style="color:#f92672">&#39;</span>(([C-backspace] <span style="color:#f92672">.</span> hungry-electric-delete))
:group <span style="color:#e6db74">&#39;hunger</span>)
</code></pre></div></li>
<li>
<p>å®(define-globalized-minor-mode GLOBAL-MODE MODE TURN-ON KEYWORD-ARGS)
åˆ›å»ºä¸€ä¸ªä¸MODEå¯¹åº”çš„åä¸ºGLOBAL-MODEçš„minor mode.</p>
<p>`GLOBAL-MODE&rsquo;çš„æ„ä¹‰åœ¨äºåŒæ—¶å¯ç”¨/å…³é—­æ‰€æœ‰bufferä¸­çš„åä¸º`MODE&rsquo;çš„minor mode</p>
<p>å®ƒä¼šä½¿ç”¨å‡½æ•°`TURN-ON&rsquo;æ¥å¼€å¯bufferä¸­çš„minor mode,ä½¿ç”¨`(MODE -1)&lsquo;æ¥å…³é—­bufferä¸­çš„minor mode</p>
<p>è¯¥å®ä¼šå®šä¹‰ä¸€ä¸ªåä¸º`GLOBAL-MODE&rsquo;çš„é…ç½®é¡¹,ç”¨æˆ·å¯ä»¥é€šè¿‡customizeé€šè¿‡æ›´æ”¹è¯¥é…ç½®é¡¹çš„å€¼æ¥å¼€å¯/å…³é—­è¯¥minor mode. <strong>å½“æ›´æ”¹è¯¥é…ç½®é¡¹æ—¶,è¯·ä¿è¯å·²ç»æ‰§è¡Œäº†è¯¥`define-globalized-minor-mode&rsquo;ä»£ç ,æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨`:require&rsquo;å…³é”®å­—å‚æ•°</strong></p>
<p>ä½¿ç”¨`:group GROUP&rsquo; keyword å‚æ•°æŒ‡å®šäº†`GLOBAL-MODE&rsquo;æ‰€å±çš„ç»„åˆ«.</p>
<p><strong>ä¸€èˆ¬æƒ…å†µä¸‹,å®šä¹‰äº†ä¸€ä¸ªglobal minor modeçš„åŒæ—¶,éœ€è¦å®šä¹‰ä¸€ä¸ªbuffer local minor buffer,è¿™æ ·æ‰èƒ½å…è®¸æŸäº›bufferä¸å¼€å¯è¯¥minor mode</strong></p>
</li>
</ul>
<h3 id="mode-line-format">Mode Line Format<a hidden class="anchor" aria-hidden="true" href="#mode-line-format">#</a></h3>
<p>æ¯ä¸ªEmacs windowçš„åº•éƒ¨ä¸€èˆ¬éƒ½ä¼šæœ‰ä¸€ä¸ªmode line,ç”¨æ¥æ˜¾ç¤ºbufferçš„ä¿¡æ¯.</p>
<p>æ¯ä¸ªEmacs Windowçš„é¡¶éƒ¨ä¹Ÿå¯ä»¥æœ‰ä¸€ä¸ªheader line,å…¶ä½œç”¨ä¸mode lineç±»ä¼¼.</p>
<h4 id="mode-lineåŸºç¡€è¯´æ˜">Mode LineåŸºç¡€è¯´æ˜<a hidden class="anchor" aria-hidden="true" href="#mode-lineåŸºç¡€è¯´æ˜">#</a></h4>
<p>mode lineæ˜¾ç¤ºä»€ä¹ˆå†…å®¹ç”±buffer localå˜é‡`mode-line-format&rsquo;å†³å®š.</p>
<p>header lineæ˜¾ç¤ºä»€ä¹ˆå†…å®¹åˆ™ç”±buffer localå˜é‡`header-line-format&rsquo;å†³å®š</p>
<p>å½“å‰é€‰ä¸­çš„windowçš„mode lineä½¿ç”¨åä¸º`mode-line&rsquo;çš„faceæ˜¾ç¤º, å…¶ä»–ä¸ºé€‰ä¸­çš„mode lineä½¿ç”¨åä¸º`mode-line-inactive&rsquo;çš„faceæ˜¾ç¤º</p>
<p>å‡ºäºæ•ˆç‡è€ƒè™‘,Emacsä¸ä¼šä¸åœåœ°æ›´æ–°mode lineå’Œheader line. åªæœ‰å½“ä½ è¿›è¡Œå¦‚ä¸‹æ“ä½œæ—¶æ‰å›å»æ›´æ–°mode-lineå’Œheader-line</p>
<ol>
<li>
<p>æ›´æ”¹window configuration</p>
</li>
<li>
<p>åˆ‡æ¢buffer</p>
</li>
<li>
<p>narrowæˆ–widen buffer</p>
</li>
<li>
<p>scroll buffer</p>
</li>
<li>
<p>ä¿®æ”¹äº†bufferå†…å®¹</p>
</li>
<li>
<p>è°ƒç”¨äº†å‡½æ•°`force-mode-line-update'</p>
</li>
<li>
<p>(force-mode-line-update &amp;optional all)
è¯¥å‡½æ•°å¼ºåˆ¶æ›´æ–°å½“å‰bufferçš„mode-lineå’Œheader-line</p>
<p>ä½†è‹¥å‚æ•°allä¸ºénil,åˆ™è¡¨ç¤ºå¼ºåˆ¶æ›´æ–°æ‰€æœ‰bufferçš„mode-lineå’Œheader-line</p>
</li>
</ol>
<h4 id="mode-line-format-header-line-formatå’Œframe-title-formatçš„æ ¼å¼">mode-line-format,header-line-formatå’Œframe-title-formatçš„æ ¼å¼<a hidden class="anchor" aria-hidden="true" href="#mode-line-format-header-line-formatå’Œframe-title-formatçš„æ ¼å¼">#</a></h4>
<p>mode-line-format,header-line-formatå’Œframe-title-formatçš„æ ¼å¼å¯èƒ½æ˜¯ä»¥ä¸‹å‡ ç§ç±»å‹:</p>
<ul>
<li>
<p>å­—ç¬¦ä¸²
ç±»ä¼¼`format&rsquo;å‡½æ•°ä¸­çš„æ ¼å¼è¯´æ˜ç¬¦.</p>
<p>é™¤äº†å­—ç¬¦ä¸²ä¸­çš„&rdquo;%-Constructs&quot;ä¼šè¢«æ›¿æ¢ä¸ºå…¶ä»–æ•°æ®å¤–,å…¶ä»–çš„å†…å®¹åŸæ ·æ˜¾ç¤º</p>
<p>è‹¥éƒ¨åˆ†å­ä¸²åŒ…å«`face&rsquo;å±æ€§,åˆ™è¯¥éƒ¨åˆ†å­—ä¸²æ˜¾ç¤ºæ—¶ä½¿ç”¨`face&rsquo;å±æ€§æŒ‡å®šçš„faceæ¥æ˜¾ç¤º, å…¶ä»–æ²¡æœ‰`face&rsquo;å±æ€§çš„å­—ä¸²,ä½¿ç”¨`mode-line&rsquo;æˆ–`mode-line-inactive&rsquo;æ¥æ˜¾ç¤º.</p>
<p><strong>å­—ä¸²ä¸­çš„`help-echo&rsquo;å’Œ`keymap&rsquo;å±æ€§å…·æœ‰ç‰¹æ®Šçš„æ„ä¹‰</strong>,å…·ä½“å‚è§<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Properties_002520in_002520Mode.html" title="Emacs Lisp: (info &quot;(elisp) Properties%20in%20Mode&quot;)">Properties in Mode</a></p>
</li>
<li>
<p>SYMBOLç±»å‹çš„å˜é‡</p>
<p>æ˜¾ç¤ºä¸ºsymbolçš„å€¼.</p>
<p>ä½† <strong>å³ä½¿symbolçš„å€¼ä¸ºå¸¦&rdquo;%-constructs&quot;çš„å­—ç¬¦ä¸²,å…¶ä¸­çš„&quot;%-constructs&quot;ä¹Ÿä¸ä¼šè¢«è½¬ä¹‰!!</strong></p>
<p>æ­¤å¤–,è‹¥symbolçš„å€¼ä¸ºtæˆ–nil,æˆ–è€…è¯¥symbolè¢«æ ‡è®°ä¸º&quot;risky&quot;(è¯¥symbolçš„`risky-local-variable&rsquo;å±æ€§énil),åˆ™è¿™äº›symbolçš„å€¼ä¼šè¢«å¿½ç•¥</p>
</li>
<li>
<p>(å­—ç¬¦ä¸² å…¶ä»–æ•°æ®&hellip;) / (åˆ—è¡¨ å…¶ä»–æ•°æ®&hellip;)</p>
<p>è‹¥æ•°æ®ä¸ºä¸€ä¸ªlist,ä¸”è¯¥listçš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºå­—ç¬¦ä¸²ç±»å‹æˆ–listç±»å‹,åˆ™è¡¨ç¤ºé€’å½’å¤„ç†æ‰€æœ‰çš„åˆ—è¡¨å…ƒç´ ,å¹¶å°†ç»“æœåˆå¹¶æ˜¾ç¤º.</p>
</li>
<li>
<p>(:eval FORM)</p>
<p>è‹¥æ•°æ®ä¸ºä¸€ä¸ªlist,ä¸”ç¬¬ä¸€ä¸ªå…ƒç´ ä¸º`:eval',åˆ™è¡¨ç¤ºè¿è¡Œ`FORM',å¹¶å°†ç»“æœä½œä¸ºæ˜¾ç¤ºå†…å®¹</p>
<p><strong>æ³¨æ„ FORMä¸­ä¸è¦loadä»»ä½•æ–‡ä»¶,å› ä¸ºè¿™æ ·å¯èƒ½å¯¼è‡´æ— ç©·å¾ªç¯</strong></p>
</li>
<li>
<p>(:propertize ELT PROPS&hellip;)</p>
<p>è‹¥æ•°æ®ä¸ºä¸€ä¸ªlist,ä¸”ç¬¬ä¸€ä¸ªå…ƒç´ ä¸º`:propertize',åˆ™è¡¨ç¤ºé€’å½’å¤„ç†ELT,å¹¶ä¸ºç»“æœåŠ ä¸ŠPROPSæä¾›çš„å­—ç¬¦ä¸²å±æ€§.</p>
<p>å‚æ•°PROPSåº”è¯¥ç”±0åˆ°å¤šä¸ª&quot;TEXT-PROPERTY&quot; &ldquo;VALUE&quot;ç»„æˆ</p>
</li>
<li>
<p>(SYMBOL THEN ELSE)</p>
<p>è‹¥æ•°æ®ä¸ºä¸€ä¸ªlist,ä¸”ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºéæ¡ä»¶è¯­å¥çš„å…³é”®å­—,åˆ™è¡¨ç¤ºè‹¥SYMBOLçš„å€¼ä¸ºénilåˆ™æ˜¾ç¤ºé€’å½’å¤„ç†THENçš„å¤„ç†ç»“æœ,å¦åˆ™æ˜¾ç¤ºELSEçš„å¤„ç†è®°è¿‡.</p>
<p>ELSEå¯ä»¥çœç•¥,åˆ™è¡¨ç¤ºè‹¥symbolå€¼ä¸ºnil,ä»€ä¹ˆä¹Ÿä¸æ˜¾ç¤º</p>
</li>
<li>
<p>(WIDTH REST&hellip;)</p>
<p>è‹¥æ•°æ®ä¸ºä¸€ä¸ªlist,ä¸”ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºæ•´æ•°,åˆ™è¡¨ç¤ºé™å®šRESTçš„ç»“æœæ˜¾ç¤ºå®½åº¦ä¸ºWIDTH.</p>
<p>è‹¥WIDTHä¸ºæ­£æ•°,è¡¨ç¤ºå‘å·¦å¯¹é½,WIDTHä¸ºè´Ÿæ•°,è¡¨ç¤ºå‘å³å¯¹é½.</p>
</li>
</ul>
<h4 id="mode-line-formatä¸­å¸¸ç”¨åˆ°çš„å˜é‡">Mode-line-formatä¸­å¸¸ç”¨åˆ°çš„å˜é‡<a hidden class="anchor" aria-hidden="true" href="#mode-line-formatä¸­å¸¸ç”¨åˆ°çš„å˜é‡">#</a></h4>
<p>ä¸‹é¢æ‰€åˆ—ä¸¾çš„å˜é‡,éƒ½æ˜¯mode-line-formatçš„ç»„æˆéƒ¨åˆ†</p>
<ul>
<li>
<p>mode-line-mule-info</p>
<p>è¯¥å˜é‡åœ¨mode-line-formatä¸­å¯ä»¥æ˜¾ç¤ºè¯­è¨€ç¯å¢ƒ,bufferçš„å­—èŠ‚ç¼–ç ,å½“å‰çš„è¾“å…¥æ³•</p>
</li>
<li>
<p>mode-line-modified</p>
<p>è¯¥å˜é‡ä¼šæ˜¾ç¤ºå½“å‰bufferæ˜¯å¦è¢«ä¿®æ”¹. é»˜è®¤æƒ…å†µä¸‹:</p>
<ol>
<li>
<p>è‹¥bufferè¢«ä¿®æ”¹æ˜¾ç¤º'**'</p>
</li>
<li>
<p>è‹¥bufferæœªè¢«ä¿®æ”¹æ˜¾ç¤ºä¸º'&ndash;'</p>
</li>
<li>
<p>è‹¥bufferåªè¯»æ˜¾ç¤ºä¸º'%%'</p>
</li>
<li>
<p>è‹¥bufferåªè¯»å•è¢«ä¿®æ”¹,æ˜¾ç¤ºä¸º'%*'</p>
</li>
</ol>
</li>
<li>
<p>mode-line-frame-identification</p>
<p>è¯¥å˜é‡å¯ä»¥ç”¨æ¥æ ‡è¯†å½“å‰frame</p>
<p>åœ¨å›¾å½¢ç•Œé¢ä¸‹,è¯¥å˜é‡é»˜è®¤ä¸º&rdquo; &ldquo;. åœ¨å­—ç¬¦ç•Œé¢ä¸‹,è¯¥å˜é‡é»˜è®¤ä¸º&rdquo;-%F &quot;</p>
</li>
<li>
<p>mode-line-buffer-identification</p>
<p>è¯¥å˜é‡å¯ä»¥ç”¨æ¥æ ‡è¯†å½“å‰buffer.</p>
<p>å®ƒçš„é»˜è®¤å€¼ä¸º&quot;%12b&quot;,é™„å¸¦ä¸€äº›text properties</p>
</li>
<li>
<p>mode-line-position</p>
<p>è¯¥å˜é‡æ ‡è¯†å…‰æ ‡æ‰€åœ¨å½“å‰bufferçš„ä½ç½®.</p>
<p>å®ƒé»˜è®¤ä¸º&quot;%p&quot;,æ˜¾ç¤ºå½“å‰æ‰€åœ¨ä½ç½®æ˜¯æ•´ä¸ªbufferçš„ç™¾åˆ†ä¹‹å¤šå°‘å¤„.</p>
<p>ä½†ä¹Ÿå¯ä»¥ç»™å®ƒæ·»åŠ æ³¨å…¥bufferå¤§å°,è¡Œå·,åˆ—å·ç­‰ä¿¡æ¯</p>
</li>
<li>
<p>vc-mode</p>
<p>è¯¥å˜é‡æŒ‡ç¤ºbufferæ‰€å…³è”çš„æ–‡ä»¶çº³å…¥çš„ç‰ˆæœ¬æ§åˆ¶ä¿¡æ¯.</p>
<p>è‹¥æ–‡ä»¶æœªçº³å…¥ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸­,åˆ™è¯¥å˜é‡å€¼ä¸ºnil</p>
</li>
<li>
<p>mode-line-modes</p>
<p>è¯¥å˜é‡æ˜¾ç¤ºbufferæ‰€å¼€å¯çš„major mode,minor mode,é€’å½’ç¼–è¾‘å±‚æ¬¡,bufferæ‰€å…³è”è¿›ç¨‹çš„çŠ¶æ€,æ˜¯å¦å‡ºäºnarrowçŠ¶æ€</p>
<p>è¯¥å˜é‡å€¼ä¸­åˆåŒ…å«äº†ä¸‰ä¸ªå˜é‡:</p>
<ul>
<li>
<p>mode-name</p>
<p>Major Modeçš„åç§°</p>
</li>
<li>
<p>mode-line-process</p>
<p>ä¸å½“å‰bufferç›¸å…³çš„processçš„çŠ¶æ€.</p>
<p>è¯¥å˜é‡ç´§æŒ¨ç€major-nameæ˜¾ç¤º. é»˜ä¸ºnil</p>
</li>
<li>
<p>minor-mode-alist</p>
<p>è¯¥å˜é‡æ˜¯ä¸€ä¸ªbuffer localå˜é‡,å®ƒæŒ‡ç¤ºäº†å¦‚ä½•æ˜¾ç¤ºminor-mode.</p>
<p>è¯¥å˜é‡çš„å…ƒç´ ç»„æˆæ ¼å¼ä¸º`(MINOR-MODE-VARIABLE MODE-LINE-STRING)'</p>
<p>å½“MINOR-MODE-VARIABLEçš„å€¼ä¸ºénilæ—¶,åˆ™æ˜¾ç¤ºMODE-LINE-STRING,å¦åˆ™ä»€ä¹ˆä¹Ÿä¸æ˜¾ç¤º</p>
</li>
</ul>
</li>
</ul>
<!--listend-->
<ul>
<li>
<p>mode-line-remote</p>
<p>è¯¥å˜é‡ç”¨æ¥æ˜¾ç¤ºå½“å‰bufferçš„`default-directory&rsquo;æ˜¯å¦æ˜¯è¿œç¨‹ç›®å½•</p>
</li>
<li>
<p>mode-line-client</p>
<p>è¯¥å˜é‡ç”¨æ¥æ ‡è¯†å“ªäº›frameä¸º`emacsclient&rsquo;çš„frame</p>
</li>
<li>
<p>global-mode-string</p>
<p>è‹¥å¼€å¯äº†è¯¥minor modeçš„è¯,è¯¥å˜é‡çš„å†…å®¹ä¼šæ˜¾ç¤ºåœ¨`which-func-mode' minor modeå,å¦åˆ™ä¼šæ˜¾ç¤ºåœ¨`mode-line-modes&rsquo;å</p>
</li>
</ul>
<h4 id="constructsè¯´æ˜">%-constructsè¯´æ˜<a hidden class="anchor" aria-hidden="true" href="#constructsè¯´æ˜">#</a></h4>
<p>ç±»ä¼¼formatå‡½æ•°ä¸­çš„æ ¼å¼å­—ç¬¦ä¸²,%-constructsçš„æ ¼å¼ä¸º`%[æ•´æ•°]æ ‡è¯†',è¿™é‡Œçš„æ•´æ•°æŒ‡å®šäº†æœ€å°çš„é•¿åº¦,æ ‡è¯†æŒ‡å®šäº†æ›¿æ¢ä¸ºä½•å€¼</p>
<table>
<thead>
<tr>
<th>%%</th>
<th>%å­—ç¬¦</th>
</tr>
</thead>
<tbody>
<tr>
<td>%b</td>
<td>å½“å‰bufferåç§°</td>
</tr>
<tr>
<td>%c</td>
<td>å½“å‰å…‰æ ‡æ‰€åœ¨çš„åˆ—æ•°</td>
</tr>
<tr>
<td>%e</td>
<td>å½“Emacsæ¥è¿‘å†…å­˜è€—å°½æ—¶,æ˜¾ç¤ºè­¦å‘Šä¿¡æ¯,å¦åˆ™ä¸ºç©º</td>
</tr>
<tr>
<td>%f</td>
<td>å½“å‰bufferè®¿é—®çš„æ–‡ä»¶åç§°</td>
</tr>
<tr>
<td>%F</td>
<td>å½“å‰frameçš„titleæˆ–name</td>
</tr>
<tr>
<td>%i</td>
<td>å½“å‰bufferå¯è®¿é—®éƒ¨åˆ†çš„size,å•ä½ä¸ºå­—èŠ‚</td>
</tr>
<tr>
<td>%I</td>
<td>ç±»ä¼¼%i,ä½†ä»¥æ›´äººæ€§åŒ–çš„æ–¹å¼æ˜¾ç¤º,ä¾‹å¦‚ä¼šè½¬æ¢ä¸ºå¤šå°‘k,M,G</td>
</tr>
<tr>
<td>%l</td>
<td>å½“å‰å…‰æ ‡æ‰€åœ¨çš„è¡Œæ•°</td>
</tr>
<tr>
<td>%n</td>
<td>è‹¥å½“å‰bufferå‡ºäºnarrowçŠ¶æ€,åˆ™æ˜¾ç¤º&quot;Narrow&quot;,å¦åˆ™æ˜¾ç¤ºç©º</td>
</tr>
<tr>
<td>%P</td>
<td>The percentage of the buffer text above the <strong>top</strong> of window, or â€˜Topâ€™, â€˜Bottomâ€™ or â€˜Allâ€™.  Note that the default mode line construct truncates this to three characters.</td>
</tr>
<tr>
<td>%p</td>
<td>The percentage of the buffer text that is above the <strong>bottom</strong> of the window (which includes the text visible in the window, as well as the text above the top), plus â€˜Topâ€™ if the top of the buffer is visible on screen; or â€˜Bottomâ€™ or â€˜Allâ€™.</td>
</tr>
<tr>
<td>%s</td>
<td>ä¸å½“å‰bufferç›¸å…³çš„processçš„çŠ¶æ€</td>
</tr>
<tr>
<td>%z</td>
<td>é”®ç›˜,ä¸­æ–­,bufferç¼–ç æ ¼å¼çš„ä¿¡æ¯</td>
</tr>
<tr>
<td>%Z</td>
<td>ç±»ä¼¼%z,ä½†è¿˜åŒ…æ‹¬æ¢è¡Œç¬¦çš„ä¿¡æ¯</td>
</tr>
<tr>
<td>%*</td>
<td>è‹¥bufferåªè¯»,æ˜¾ç¤º&quot;%&quot;,è‹¥bufferè¢«ä¿®æ”¹è¿‡,æ˜¾ç¤º&quot;*&quot;,å¦åˆ™æ˜¾ç¤º&quot;-&quot;</td>
</tr>
<tr>
<td>%+</td>
<td>ç±»ä¼¼%*,ä½†è‹¥ä¸€ä¸ªread-only bufferè¢«ä¿®æ”¹äº†,å®ƒæ˜¾ç¤º&quot;*&quot;,è€Œ%*ä¼šæ˜¾ç¤º&quot;%&quot;</td>
</tr>
<tr>
<td>%&amp;</td>
<td>è‹¥bufferè¢«ä¿®æ”¹åˆ™æ˜¾ç¤º&quot;*&quot;,å¦åˆ™æ˜¾ç¤º&quot;-&quot;</td>
</tr>
<tr>
<td>%[</td>
<td>æ˜¾ç¤ºé€’å½’ç¼–è¾‘çš„å±‚æ¬¡,å¤šå°‘å±‚å°±æœ‰å¤šå°‘ä¸ª&quot;[&quot;</td>
</tr>
<tr>
<td>%]</td>
<td>æ˜¾ç¤ºé€’å½’ç¼–è¾‘çš„å±‚æ¬¡,å¤šå°‘å±‚å°±æœ‰å¤šå°‘ä¸ª&quot;]&quot;</td>
</tr>
<tr>
<td>%-</td>
<td>ä½¿ç”¨&quot;-&ldquo;å¡«å……å‰©ä½™çš„mode line</td>
</tr>
</tbody>
</table>
<h4 id="mode-lineä¸­çš„text-properties">Mode Lineä¸­çš„text properties<a hidden class="anchor" aria-hidden="true" href="#mode-lineä¸­çš„text-properties">#</a></h4>
<p>æŸäº›text propertiesåœ¨mode lineä¸­æœ‰å…¶ç‰¹æ®Šçš„æ„ä¹‰:</p>
<ul>
<li>`face&rsquo;å±æ€§å½±å“textçš„æ˜¾ç¤º</li>
<li>`help-echo&rsquo;å±æ€§æä¾›äº†å…‰æ ‡æŒ‡å‘ä»–textåå¼¹å‡ºçš„å¸®åŠ©å†…å®¹</li>
<li>`keymap&rsquo;å±æ€§æ˜¯çš„textèƒ½å¤„ç†é¼ æ ‡ç‚¹å‡»äº‹ä»¶</li>
</ul>
<h4 id="æ¨¡æ‹Ÿmode-lineçš„æ˜¾ç¤ºç»“æœ">æ¨¡æ‹Ÿmode lineçš„æ˜¾ç¤ºç»“æœ<a hidden class="anchor" aria-hidden="true" href="#æ¨¡æ‹Ÿmode-lineçš„æ˜¾ç¤ºç»“æœ">#</a></h4>
<ul>
<li>
<p>(format-mode-line format &amp;optional face window buffer)
è¯¥å‡½æ•°,å°†formatå½“æˆæ˜¯`mode-line-format&rsquo;çš„å€¼,æ¨¡æ‹Ÿå½“æŒ‡å®šçš„WINDOWæ˜¾ç¤ºæŒ‡å®šBUFFERæ—¶ä¼šæ˜¾ç¤ºæ€æ ·çš„mode-line.</p>
<p>å‚æ•°faceæŒ‡å®šäº†é‚£äº›æ²¡æœ‰æŒ‡å®š`face&rsquo;å±æ€§çš„textåº”è¯¥å¦‚ä½•æ˜¾ç¤º</p>
</li>
</ul>
<h4 id="window-header-line">Window Header Line<a hidden class="anchor" aria-hidden="true" href="#window-header-line">#</a></h4>
<p>head-lineä¸mode-lineæå…¶ç±»ä¼¼,å®ƒçš„æ˜¾ç¤ºæ˜¯ç”±å˜é‡`header-line-format&rsquo;æŒ‡å®šçš„. ä¸”`header-line-format&rsquo;çš„æ ¼å¼ä¸`mode-line-format&rsquo;çš„æ ¼å¼ä¸€æ ·</p>
<p>å½“ä¸€ä¸ªWindowåªèƒ½æ˜¾ç¤ºä¸€è¡Œå†…å®¹æ—¶,åˆ™å®ƒä¸ä¼šæ˜¾ç¤ºheader line.</p>
<p>è‹¥ä¸€ä¸ªwindowåªèƒ½æ˜¾ç¤ºä¸¤è¡Œå†…å®¹æ—¶,å®ƒæ— æ³•åŒæ—¶æ˜¾ç¤ºmode-lineå’Œheader-line. è¿™æ—¶è‹¥mode-lineä¸ä¸ºnil,åˆ™ä¼šæ˜¾ç¤ºmode-lineè€Œä¸æ˜¯header-line</p>
<ul>
<li>(window-header-line-height &amp;optional window)
è¯¥å‡½æ•°è¿”å›æŒ‡å®šWINDOWçš„header lineçš„é«˜åº¦,å•ä½ä¸ºåƒç´ </li>
</ul>
<h3 id="imenu">Imenu<a hidden class="anchor" aria-hidden="true" href="#imenu">#</a></h3>
<p>Imenuä¼šåœ¨imenuèœå•(å‚è§<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Imenu.html" title="Emacs Lisp: (info &quot;(emacs) Imenu&quot;)">Imenu</a>)ä¸­åˆ—å‡ºbufferä¸­çš„è¯­æ³•å®šä¹‰åç§°æˆ–ç« èŠ‚åç§°,ç„¶åé€šè¿‡ç‚¹å‡»èœå•ä¸­çš„å®šä¹‰åç§°æˆ–ç« èŠ‚åç§°å°±èƒ½ç›´æ¥è·³è½¬åˆ°ç›¸åº”ä½ç½®ä¸Šäº†.</p>
<ul>
<li>
<p>å‘½ä»¤(imenu-add-to-enubar NAME)</p>
<p>è¯¥å‘½ä»¤ä¼šäº§ç”Ÿä¸€ä¸ªåä¸ºNAMEçš„imenuèœå•</p>
</li>
</ul>
<p>å½“ç„¶,ä½¿ç”¨Imenuçš„å‰ææ˜¯,èƒ½å¤Ÿäº§ç”Ÿä¸€ä¸ªå®šä¹‰/ç« èŠ‚åç§°ä¸bufferä½ç½®ä¹‹é—´å…³ç³»çš„ç´¢å¼•.</p>
<h4 id="é€šè¿‡è®¾ç½®-imenu-generic-expression-å®šä¹‰imenu">é€šè¿‡è®¾ç½®`imenu-generic-expression&rsquo;å®šä¹‰Imenu<a hidden class="anchor" aria-hidden="true" href="#é€šè¿‡è®¾ç½®-imenu-generic-expression-å®šä¹‰imenu">#</a></h4>
<p>é€šè¿‡è®¾ç½®`imenu-generic-expression&rsquo;å®šä¹‰Imenu,æ˜¯æœ€å¸¸ç”¨çš„æ–¹å¼</p>
<ul>
<li>
<p>imenu-generic-expression</p>
<p>è¯¥å˜é‡ä¸ºä¸€ä¸ªlist,å®ƒæŒ‡å®šäº†ä½¿ç”¨é‚£ç§æ­£åˆ™è¡¨è¾¾å¼æ¥å®šä½å®šä¹‰/ç« èŠ‚çš„ä½ç½®. å®ƒçš„å…ƒç´ å¯ä»¥æ˜¯ä»¥ä¸‹ä¸¤ç§æ ¼å¼</p>
<ul>
<li>
<p>(SUB-MENU-TITLE REGEXP INDEX)</p>
<p>è¿™é‡ŒSUB-MENU-TITLEè¡¨ç¤ºé€šè¿‡REGXPæ‰¾åˆ°çš„é¡¹ç›®åº”è¯¥æ”¾åˆ°åä¸º`SUB-MENU-TITLE&rsquo;çš„å­èœå•ä¸­.
è‹¥å…¶å€¼ä¸ºnil,åˆ™è¡¨ç¤ºæ‰¾åˆ°çš„é¡¹ç›®ç›´æ¥æ”¾åˆ°Imenuèœå•ä¸­.</p>
<p>å‚æ•°REGEXPåˆ™è¡¨ç¤ºbufferä¸­ä»»ä½•åŒ¹é…REGEXPçš„å†…å®¹éƒ½è¢«è®¤ä¸ºæ˜¯å®šä¹‰/ç« èŠ‚.</p>
<p>å‚æ•°INDEXåˆ™è¯´æ˜äº†,REGEXPä¸­å“ªä¸ªåŒ¹é…çš„å­ç»„ä¸ºå®šä¹‰/ç« èŠ‚çš„åç§°</p>
</li>
<li>
<p>(SUB-MENU-TITLE REGEXP INDEX FUNCTION ARGUMENTS&hellip;)</p>
<p>è¿™ç§æ ¼å¼çš„`SUB-MENU-TITLE',`REGEXP&rsquo;å’Œ`INDEX&rsquo;ä¸ä¸Šé¢æ ¼å¼çš„æ„ä¹‰ç›¸åŒ.</p>
<p>ä¸åŒä¹‹å¤„åœ¨äº,å½“ç‚¹å‡»Imenuä¸­çš„ç›¸å…³é¡¹æ˜¯,ä¼šè°ƒç”¨`FUNCTION&rsquo;å‡½æ•°,ä¸”ä¼ å…¥å‚æ•°ä¸º:èœå•é¡¹çš„åç§°,å®šä¹‰çš„ä½ç½®å’Œå‚æ•°ARGUMENTS</p>
</li>
</ul>
</li>
<li>
<p>imenu-case-fold-search</p>
<p>è¯¥å˜é‡å†³å®šäº†ä½¿ç”¨`imenu-generic-expression&rsquo;ä¸­çš„æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…bufferå†…å®¹æ—¶,æ˜¯å¦å¤§å°å†™æ•æ„Ÿ.</p>
<p>é»˜è®¤ä¸ºt,è¡¨ç¤ºå¤§å°å†™æ•æ„Ÿ.</p>
</li>
<li>
<p>imenu-syntax-alist</p>
<p>è¯¥å˜é‡æ˜¯ä¸€ä¸ªå…ƒç´ ä¸º'(CHARACTER-OR-STRING . SYNTAX-DESCRIPTION)çš„alist.</p>
<p>å½“Imenuå¤„ç†`imenu-generic-expression&rsquo;æ—¶,ä¼šä½¿ç”¨è¯¥å˜é‡æ¥ä¿®æ”¹å½“å‰bufferçš„syntax table(é€šè¿‡è°ƒç”¨`modfy-syntax-entry&rsquo;æ¥å®ç°,å…·ä½“å‚è§<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Syntax_002520Table_002520Functions.html" title="Emacs Lisp: (info &quot;(elisp) Syntax%20Table%20Functions&quot;)">Syntax Table Functions</a>).</p>
</li>
</ul>
<h4 id="é€šè¿‡è®¾ç½®-imenu-prev-index-position-function-å’Œ-imenu-extract-index-name-function-æ¥å®šä¹‰imenu">é€šè¿‡è®¾ç½®`imenu-prev-index-position-function&rsquo;å’Œ`imenu-extract-index-name-function&rsquo;æ¥å®šä¹‰Imenu<a hidden class="anchor" aria-hidden="true" href="#é€šè¿‡è®¾ç½®-imenu-prev-index-position-function-å’Œ-imenu-extract-index-name-function-æ¥å®šä¹‰imenu">#</a></h4>
<ul>
<li>
<p>imenu-prev-index-position-function</p>
<p>è¯¥å˜é‡çš„å‡½æ•°,éœ€è¦ä»å…‰æ ‡å¼€å§‹å¤„å‘å‰æ‰«æ,å¹¶å°†å…‰æ ‡å®šä½åˆ°å‘ç°å®šä¹‰/ç« èŠ‚çš„ä½ç½®,ç„¶åè¿”å›énilå€¼.</p>
<p>è‹¥å‘å‰å†æ‰¾ä¸åˆ°ä»»ä½•å®šä¹‰/ç« èŠ‚äº†,åˆ™è¯¥å‡½æ•°éœ€è¦è¿”å›nil</p>
</li>
<li>
<p>imenu-extract-index-name-function</p>
<p>è¯¥å˜é‡çš„å‡½æ•°,éœ€è¦ä»å…‰æ ‡æ‰€åœ¨ä½ç½®å‡ºæŠ½å–å‡ºå®šä¹‰/ç« èŠ‚çš„åå­—</p>
</li>
</ul>
<h4 id="é€šè¿‡è®¾ç½®-imenu-create-index-function-æ¥å®šä¹‰imenu">é€šè¿‡è®¾ç½®`imenu-create-index-function&rsquo;æ¥å®šä¹‰Imenu<a hidden class="anchor" aria-hidden="true" href="#é€šè¿‡è®¾ç½®-imenu-create-index-function-æ¥å®šä¹‰imenu">#</a></h4>
<p>è¯¥å˜é‡çš„å‡½æ•°ä¸æ¥å—å‚æ•°,å¹¶ä¸”è¿”å›å½“å‰bufferçš„index alist.</p>
<p>è¯¥å˜é‡çš„é»˜è®¤å€¼ä¸º`imenu-default-create-index-function',è¯¥å‡½æ•°é€šè¿‡è°ƒç”¨`imenu-prev-index-position-function&rsquo;å’Œ`imenu-extract-index-name-function&rsquo;çš„å€¼æ¥äº§ç”Ÿindex alist. ä½†è‹¥è¿™ä¸¤ä¸ªå‚æ•°æœ‰ä¸€ä¸ªä¸ºnil,åˆ™æ ¹æ®`imenu-generic-expression&rsquo;æ¥äº§ç”Ÿindex alist</p>
<p>è¿™é‡Œindex alistçš„å…ƒç´ æœ‰ä¸‰ç§æ ¼å¼</p>
<ul>
<li>
<p>&lsquo;(INDEX-NAME . INDEX-POSITION)</p>
<p>è¡¨ç¤ºé€‰æ‹©INDEX-NAMEé¡¹,åˆ™è·³è½¬åˆ°INDEX-POSITIONä½ç½®</p>
</li>
<li>
<p>&lsquo;(INDEX-NAME INDEX-POSITION FUNCTION ARGUMENTS&hellip;)</p>
<p>è¡¨ç¤ºé€‰æ‹©INDEX-NAMEé¡¹,åˆ™æ‰§è¡Œ`(funcall FUNCTION INDEX-NAME INDEX-POSITION ARGUMENTS&hellip;)&rsquo;</p>
</li>
<li>
<p>&lsquo;(SUB-MENU-TITLE . SUB-INDEX-ALIST)</p>
<p>è¡¨ç¤ºæ ¹æ®SUB-INDEX-ALISTåˆ›å»ºå­èœå•SUB-MENU-TITLE</p>
</li>
</ul>
<h2 id="font-lock-mode">Font Lock Mode<a hidden class="anchor" aria-hidden="true" href="#font-lock-mode">#</a></h2>
<p>Font Lock Modeæ ¹æ®Major Modeçš„è¯­æ³•è§„åˆ™æ¥å¯¹bufferå†…å®¹è¿›è¡Œä½œè‰².</p>
<p>Font Lock Modeé€šè¿‡ä¸¤ç§é€”å¾„æ¥å¯»æ‰¾è¦é«˜äº®ä½œè‰²çš„æ–‡æœ¬:</p>
<ul>
<li>æ ¹æ®syntax tableçš„è¯­æ³•è§„åˆ™æ¥ä½œè‰²,è¿™ç§æ–¹æ³•ä¼˜å…ˆè¿›è¡Œ</li>
<li>é€šè¿‡æŸ¥è¯¢(é€šå¸¸é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼),è¿™ç§æ–¹æ³•éšåè¿è¡Œ</li>
</ul>
<h3 id="font-lock-modeçš„åŸºç¡€è¯´æ˜">Font Lock Modeçš„åŸºç¡€è¯´æ˜<a hidden class="anchor" aria-hidden="true" href="#font-lock-modeçš„åŸºç¡€è¯´æ˜">#</a></h3>
<p>å¾ˆå¤šå˜é‡ç”¨æ¥æ§åˆ¶Font Lock Modeå¦‚ä½•é«˜äº®æ˜¾ç¤º. ä½†Major Modeä¸åº”è¯¥ç›´æ¥è®¾ç½®è¿™äº›å˜é‡,å®ƒåº”è¯¥é€šè¿‡è®¾ç½®`font-lock-defaults&rsquo;å˜é‡æ¥å®ç°è¿™ä¸€ç›®çš„.</p>
<p>Font Lock minor modeå¯åŠ¨æ—¶,ä¼šæ ¹æ®`font-lock-defaults&rsquo;çš„å€¼æ¥è‡ªåŠ¨è®¾ç½®å…¶ä»–å˜é‡.</p>
<ul>
<li>
<p>font-lock-defaults</p>
<p>è¯¥å˜é‡çš„å€¼å¯ä»¥ä¸ºnil,è¡¨ç¤ºFont Lock modeä¸åšä»»ä½•é«˜äº®,éœ€è¦ç”¨æˆ·æ‰‹å·¥é€šè¿‡Edit-&gt;Text Properties-&gt;Facesèœå•æ‰‹å·¥æŒ‡å®šé‚£äº›æ–‡æœ¬é«˜äº®.</p>
<p>è‹¥è¯¥å˜é‡çš„å€¼ä¸ºénil,åˆ™å…¶æ ¼å¼åº”è¯¥ä¸º:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(KEYWORDS [KEYWORDS-ONLY [CASE-FOLD [SYNTAX-ALIST [SYNTAX-BEGIN OTHER-VARS...]]]])
</code></pre></div><p>å…¶ä¸­:</p>
<ul>
<li>
<p>KEYWORDS</p>
<p>ä¼šè¢«è®¾ç½®ä¸º`font-lock-keywords&rsquo;çš„å€¼. è¯¥å˜é‡ä¼šå½±å“åŸºäºæŸ¥è¯¢çš„é«˜äº®.</p>
<p>KEYWORDSå¯èƒ½æ˜¯ä¸€ä¸ªsymbol,ä¸€ä¸ªå˜é‡æˆ–ä¸€ä¸ªè¿”å›å€¼ä¸ºlistçš„å‡½æ•°</p>
<p>KEYWORDSä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªç”±å¤šä¸ªsymbolç»„æˆçš„list,æ¯ä¸ªsymbolå¯¹åº”é«˜äº®çš„ä¸€ä¸ªç­‰çº§. å…¶ä¸­ç¬¬ä¸€ä¸ªsymbolå¯¹åº”&rsquo;mode default&rsquo;ç­‰çº§çš„é«˜äº®,ä¸‹ä¸€ä¸ªsymbolå¯¹åº”&rsquo;level 1&rsquo;çº§çš„é«˜äº®,å†ä¸‹ä¸€ä¸ªsymbolå¯¹åº”&rsquo;level2&rsquo;çº§åˆ«çš„é«˜äº®ä¾æ¬¡ç±»æ¨.</p>
<p>&lsquo;mode default&rsquo;çº§åˆ«çš„é«˜äº®é€šå¸¸ä¸&rsquo;level 1&rsquo;çº§åˆ«çš„é«˜äº®ä¸€æ ·,å®ƒåœ¨å½“å˜é‡`font-lock-maximum-decoration&rsquo;ä¸ºnilæ—¶è¢«ä½¿ç”¨.</p>
</li>
<li>
<p>KEYWORD-ONLY</p>
<p>ä¼šè¢«ç”¨æ¥è®¾ç½®`font-lock-keyword-only&rsquo;çš„å€¼. è¯¥å˜é‡æ ‡è¯†äº†æ˜¯å¦åªé‡‡ç”¨åŸºäºæœç´¢çš„é«˜äº®.</p>
<p>è‹¥è¯¥å˜é‡ä¸ºnil,åˆ™Font Lock modeä¼šä½¿ç”¨åŸºäºè¯­æ³•çš„é«˜äº®,å¦åˆ™Font Lock modeä¸ä¼šä½¿ç”¨åŸºäºè¯­æ³•çš„é«˜äº®</p>
</li>
<li>
<p>CASE-FOLD</p>
<p>è¢«ç”¨æ¥è®¾ç½®`font-lock-keywords-case-fold-search&rsquo;çš„å€¼. è¯¥å˜é‡è¡¨æ˜äº†åœ¨åŸºäºæœç´¢çš„é«˜äº®æ—¶,æ˜¯å¦å¿½ç•¥å¤§å°å†™çš„å·®å¼‚.</p>
<p>è‹¥ä¸ºénil,åˆ™è¡¨ç¤ºFont Lock modeåœ¨æœç´¢æ—¶å¿½ç•¥å¤§å°å†™</p>
</li>
<li>
<p>SYNTAX-ALIST</p>
<p>è¢«ç”¨æ¥ä½œä¸ºFont Lock modeåŸºäºè¯­æ³•é«˜äº®æ—¶ä½¿ç”¨çš„syntax table.</p>
<p>è¯¥å˜é‡çš„å€¼è‹¥ä¸ºnil,åˆ™å…¶åº”è¯¥ä¸ºç”±æ ¼å¼`(CHAR-OR-STRING . STRING)&lsquo;ç»„æˆçš„list.</p>
<p>è‹¥å˜é‡çš„å€¼ä¸ºnil,åˆ™Font Lock modeä½¿ç”¨å‡½æ•°`syntax-table&rsquo;è¿”å›çš„syntax tableä½œä¸ºä¾æ®.</p>
</li>
<li>
<p>SYNTAX-BEGIN</p>
<p>è¯¥å˜é‡ç”¨äºè®¾ç½®`font-lock-beginning-of-syntax-function&rsquo;çš„å€¼.</p>
<p>ä¸€èˆ¬è®¾ç½®è¯¥å€¼ä¸ºnil,è€Œä½¿ç”¨`syntax-begin-function&rsquo;ä»£æ›¿</p>
</li>
<li>
<p>OTHER-VARS</p>
<p>å‰©ä¸‹çš„æ‰€æœ‰å…ƒç´ éƒ½ç»Ÿä¸€å«åšOTHER-VARS, å…¶ä¸­æ¯ä¸ªå…ƒç´ çš„æ ¼å¼åº”è¯¥ä¸º(VARIABLE . VALUE),è¡¨ç¤ºå°†VARIABLEè®¾ç½®ä¸ºbuffer localå˜é‡,ç„¶åè®¾ç½®å€¼ä¸ºVALUE</p>
<p>ä¸€æ ·ç”¨äºè®¾ç½®å½±å“Font Lock modeé«˜äº®çš„å…¶ä»–å˜é‡</p>
</li>
</ul>
</li>
</ul>
<h3 id="åŸºäºæœç´¢çš„é«˜äº®">åŸºäºæœç´¢çš„é«˜äº®<a hidden class="anchor" aria-hidden="true" href="#åŸºäºæœç´¢çš„é«˜äº®">#</a></h3>
<p>ç›´æ¥æ§åˆ¶åŸºäºæœç´¢é«˜äº®çš„å˜é‡æ˜¯`font-lock-keywords&rsquo;,å®ƒä¸€èˆ¬ç”±`font-lock-defautls&rsquo;çš„&rsquo;KEYWORDS&rsquo;å…ƒç´ æŒ‡å®š</p>
<h2 id="auto-indentation">Auto-Indentation<a hidden class="anchor" aria-hidden="true" href="#auto-indentation">#</a></h2>
<h2 id="tabulated-list-mode">Tabulated List Mode<a hidden class="anchor" aria-hidden="true" href="#tabulated-list-mode">#</a></h2>
<p>Tabulated List Modeæ˜¯ä¸€ç§ç”¨åˆ—è¡¨æ¥æ˜¾ç¤ºæ•°æ®çš„Major Mode,è¿™ç§æ•°æ®å¾€å¾€ç”±ä¸€æ¡æ¡çš„è®°å½•ç»„æˆ,æ¯æ¡è®°å½•çš„å†…å®¹åˆå¯ä»¥åˆ’åˆ†åˆ°å¤šä¸ªåˆ—ä¸­.</p>
<p>Tabulated List Modeç»§æ‰¿è‡³Special mode,ä¸”åŒæ—¶è¢«å¤šä¸ªå­modeç»§æ‰¿,ä¾‹å¦‚Process Menu modeå’ŒPackage Menu Mode</p>
<p>è¦æƒ³ç»§æ‰¿Tabulated List Mode,éœ€è¦åœ¨`define-derived-mode&rsquo;ä¸­çš„BODYä¸­é€šè¿‡è®¾ç½®ä¸€äº›å˜é‡(ä¸‹é¢ä¼šè®²åˆ°)æ¥å®šä¹‰æ•°æ®çš„ç»“æ„,ç„¶åè°ƒç”¨å‡½æ•°`tabulated-list-init-header&rsquo;æ¥åˆå§‹åŒ–header line
åŒæ—¶,ç»§æ‰¿çš„å­modeè¿˜éœ€è¦å®šä¹‰ä¸€ä¸ª&quot;listing command&rdquo;,è¯¥å‘½ä»¤ä¸æ˜¯major mode command,å®ƒæ˜¯çµ¦ç”¨æˆ·ä½¿ç”¨çš„å‘½ä»¤å°è£…,è¯¥å‘½ä»¤é€šå¸¸å®Œæˆä»¥ä¸‹å‡ ä¸ªåŠ¨ä½œ</p>
<ol>
<li>åˆ›å»ºæˆ–åˆ‡æ¢åˆ°æŸä¸ªç‰¹å®šbuffer</li>
<li>å¼€å¯æ–°çš„Major mode</li>
<li>æŒ‡å®šè¦ä»¥åˆ—è¡¨æ–¹å¼æ˜¾ç¤ºçš„æ•°æ®.</li>
<li>è°ƒç”¨`tabulated-list-print&rsquo;å‡½æ•°,ä»¥å¼¹å‡ºè¯¥buffer</li>
</ol>
<h3 id="æŒ‡å®štabulated-dataçš„æ ¼å¼">æŒ‡å®štabulated dataçš„æ ¼å¼<a hidden class="anchor" aria-hidden="true" href="#æŒ‡å®štabulated-dataçš„æ ¼å¼">#</a></h3>
<p>é€šè¿‡å®šä¹‰ä»¥ä¸‹å˜é‡æ¥æŒ‡å®štabulated dataçš„æ ¼å¼</p>
<ul>
<li>
<p>tabulated-list-format
è¯¥å˜é‡ä¸ºbuffer-localå˜é‡,å®ƒå®šä¹‰äº†æ•°æ®çš„æ ¼å¼.</p>
<p>è¯¥å˜é‡ä¸ºä¸€ä¸ªvector,ä¸”vectorä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è¡¨ç¤ºä¸€ä¸ªæ•°æ®åˆ—,å…¶æ ¼å¼ä¸º`(NAME WIDHT SORT)&rsquo;. å…¶ä¸­:</p>
<ul>
<li>
<p>NAMEä¸ºåˆ—çš„åç§°</p>
</li>
<li>
<p>WIDHTä¸ºæ¯åˆ—çš„ä¿ç•™å®½åº¦,è¯¥å‚æ•°å¯¹æœ€åä¸€åˆ—æ¥è¯´æ— æ„ä¹‰</p>
</li>
<li>
<p>SORTæŒ‡å®šäº†æ ¹æ®è¯¥åˆ—æ’åºè®°å½•çš„æ–¹å¼.</p>
<table>
<thead>
<tr>
<th>å€¼</th>
<th>æ„ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>nil</td>
<td>è¡¨ç¤ºä¸æ’åº</td>
</tr>
<tr>
<td>t</td>
<td>è¡¨ç¤ºæ ¹æ®å­—ç¬¦ä¸²æ’åº</td>
</tr>
<tr>
<td>å…¶ä»–åˆ¤æ–­å‡½æ•°</td>
<td>ä½¿ç”¨è¯¥åˆ¤æ–­å‡½æ•°ä¼ å…¥`sort&rsquo;è¿›è¡Œæ’åº. è¯¥åˆ¤æ–­å‡½æ•°çš„å‚æ•°ä¸º`tabulated-list-entries&rsquo;ä¸­çš„å…ƒç´ </td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>
<li>
<p>tabulated-list-entries</p>
<p>è¯¥å˜é‡ä¸ºbuffer-localå˜é‡,å®ƒæŒ‡å®šäº†è¦æ˜¾ç¤ºçš„è®°å½•æ•°æ®. å®ƒçš„å€¼ <strong>å¯ä»¥ä¸ºä¸€ä¸ªlist,æˆ–ä¸€ä¸ªå‡½æ•°</strong></p>
<p>è‹¥è¯¥å€¼ä¸ºlist,åˆ™listä¸­çš„æ¯ä¸ªå…ƒç´ æ ¼å¼åº”è¯¥ä¸º`(ID CONTENTS)',å…¶ä¸­</p>
<ul>
<li>
<p>IDå¯ä»¥ä¸ºnil,æˆ–ä¸€ä¸ªæ ‡è¯†æŸæ¡è®°å½•çš„lisp object</p>
</li>
<li>
<p>CONTENTä¸ºä¸€ä¸ªè¡¨ç¤ºè®°å½•å†…å®¹çš„vector,å…¶ä¸­vectorä¸­çš„æ¯ä¸ªå…ƒç´ è¡¨ç¤ºè®°å½•çš„ä¸€åˆ—å†…å®¹.</p>
<p>vectorä¸­çš„å…ƒç´ å¯èƒ½ä¸ºå­—ç¬¦ä¸²æˆ–è€…æ ¼å¼ä¸º`(LABEL . PROPERTIES)&lsquo;çš„list,</p>
<p>è‹¥å…ƒç´ ä¸ºå­—ç¬¦ä¸²åˆ™è¡¨ç¤ºç›´æ¥æ˜¾ç¤ºè¯¥å­—ç¬¦ä¸²</p>
<p>è‹¥å…ƒç´ ä¸º`(LABEL . PROPERTIES)&lsquo;æ ¼å¼çš„list,åˆ™è¡¨ç¤ºç”¨`LABEL&rsquo;å’Œ`PROPERTIES&rsquo;ä½œä¸ºå‚æ•°è°ƒç”¨`insert-text-button&rsquo;çš„æ–¹å¼æ¥æ’å…¥ä¸€ä¸ªtext button(å‚è§<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Making_002520Buttons.html" title="Emacs Lisp: (info &quot;(elisp) Making%20Buttons&quot;)">Making Buttons</a>)</p>
</li>
</ul>
<p>è‹¥`tabulated-list-entries&rsquo;çš„å€¼ä¸ºä¸ºä¸€ä¸ªå‡½æ•°,åˆ™ä¸å¸¦å‚æ•°è°ƒç”¨è¯¥å‡½æ•°åº”è¯¥è¿”å›ä¸Šé¢æ ¼å¼çš„list</p>
</li>
<li>
<p>tabulated-list-revert-hook</p>
<p>è¯¥hookåœ¨é‡è½½å…¥Tabulated List Bufferå‰ä¼šè¢«è§¦å‘, <strong>å¸¸ç”¨äºå¯¹`tabulated-list-entries&rsquo;çš„å€¼ä½œé¢„å¤„ç†.</strong></p>
</li>
<li>
<p>tabulated-list-printer</p>
<p>è¯¥å˜é‡çš„å€¼åº”è¯¥ä¸ºä¸€ä¸ªå‡½æ•°, è¯¥å‡½æ•°æ¥æ”¶`tabulated-list-entries&rsquo;ä¸­çš„IDå’ŒCONTENTSä¸¤ä¸ªå‚æ•°, <strong>å…¶è¿”å›å€¼æ‰ä½œä¸ºçœŸæ­£çš„åˆ—å†…å®¹æ˜¾ç¤º</strong></p>
<p>é»˜è®¤è¯¥å˜é‡çš„å‡½æ•°,ç›´æ¥æ’å…¥CONTENTS</p>
</li>
<li>
<p>tabulated-list-sort-key</p>
<p>è¯¥å˜é‡æŒ‡å®šäº†æ ¹æ®é‚£å‡ åˆ—å¯¹è®°å½•è¿›è¡Œæ’åº.ä»¥åŠæ˜¯ä»å¤§åˆ°å°è¿˜æ˜¯ä»å°åˆ°å¤§æ’åº</p>
<ul>
<li>
<p>nilè¡¨ç¤ºä¸æ’åº</p>
</li>
<li>
<p>(NAME . FLIP)æ ¼å¼çš„consè¡¨ç¤ºæ ¹æ®åä¸ºNAMEçš„åˆ—æ’åº,FLIPè¡¨ç¤ºæ˜¯å¦åè½¬æ’åºé¡ºåº</p>
</li>
</ul>
</li>
<li>
<p>å‡½æ•°(tabulated-list-init-header)
è¯¥å‡½æ•°ä¸ºTabulated List bufferç”Ÿæˆå¹¶è®¾ç½®`header-line-format&rsquo;(å‚è§<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Header_002520Lines.html" title="Emacs Lisp: (info &quot;(elisp) Header%20Lines&quot;)">Header Lines</a>),å¹¶ä¸ºheader lineåˆ†é…keymapä»¥ä¾¿å…è®¸é€šè¿‡ç‚¹å‡»headeråˆ—æ¥æ’åº</p>
<p>è¯¥å‡½æ•°ä¾èµ–ä¸Šé¢æ‰€è¿°çš„å˜é‡</p>
</li>
<li>
<p>å‡½æ•°(tabulated-list-print &amp;optional remember-pos)
è¯¥å‡½æ•°åˆ·æ–°tabulated list buffer. <strong>è¯¥å‡½æ•°é€šå¸¸è¢«list commandæ‰€è°ƒç”¨</strong></p>
<p>è¯¥å‡½æ•°ä¼šä½œä»¥ä¸‹åŠ¨ä½œ:</p>
<ol>
<li>
<p>æ¸…ç©ºbuffer</p>
</li>
<li>
<p>æ ¹æ®`tabulated-list-sort-key&rsquo;å¯¹`tabulated-list-entries&rsquo;ä¸­çš„æ•°æ®è¿›è¡Œæ’åº</p>
</li>
<li>
<p>è°ƒç”¨`tabulated-list-printer&rsquo;æ‰€è¡¨ç¤ºçš„å‡½æ•°è¾“å‡ºè®°å½•</p>
</li>
</ol>
<p>è‹¥å‚æ•°REMEMBER-POSä¸ºénil,åˆ™è¯¥å‡½æ•°åœ¨åˆ·æ–°bufferå‰ä¼šè®°ä½å½“å‰è¡Œçš„ID,å¹¶åœ¨åˆ·æ–°åè‡ªåŠ¨å®šä½åˆ°è¯¥IDè¡Œ</p>
</li>
<li>
<p>(tabulated-list-print-entry id cols)</p>
<p>åœ¨å…‰æ ‡å¤„æ’å…¥æ–°entry,entryä¿¡æ¯ç”±IDå’ŒCOLSå†³å®š</p>
<p>å…¶ä¸­IDæ˜¯ä¸€ä¸ªç”¨äºæ ‡ç¤ºentryçš„lispå¯¹è±¡,è€ŒCOLSä¸ºä¸€ä¸ªç”±å„åˆ—ä¿¡æ¯ç»„æˆçš„vector</p>
</li>
<li>
<p>(tabulated-list-print-col n col-desc x) ??</p>
<p>ä¸ºå…‰æ ‡å¤„entryæ’å…¥ä¸€ä¸ªç‰¹å®šçš„entryåˆ—</p>
<p>å…¶ä¸­Nä¸ºåˆ—ç¼–å·,COL-DESCä¸ºåˆ—æè¿°,Xä¸ºå…‰æ ‡å¤„çš„åˆ—ç¼–å·</p>
<p>è¯¥å‡½æ•°åœ¨æ’å…¥å,è¿”å›åˆ—ç¼–å·</p>
</li>
</ul>
<h3 id="å…¶ä»–å‡½æ•°">å…¶ä»–å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#å…¶ä»–å‡½æ•°">#</a></h3>
<ul>
<li>
<p>(tabulated-list-get-id &amp;optional POS)</p>
<p>è¿”å›POSä½ç½®entryçš„ID. POSé»˜è®¤ä¸ºå…‰æ ‡å½“å‰ä½ç½®</p>
</li>
<li>
<p>(tabulated-list-get-entry &amp;optional POS)</p>
<p>è¿”å›POSä½ç½®entryçš„ä¿¡æ¯. è¿”å›çš„æ ¼å¼ä¸ºä¸€ä¸ªç”±åˆ—ä¿¡æ¯ç»„æˆçš„vector</p>
<p>POSé»˜è®¤ä¸ºå…‰æ ‡å½“å‰ä½ç½®</p>
</li>
<li>
<p>(tabulated-list-delete-entry)</p>
<p>åˆ é™¤å…‰æ ‡æ‰€åœ¨ä½ç½®çš„entry. å¹¶è¿”å›ä¸€ä¸ª(ID COLS&hellip;)çš„åˆ—è¡¨æ¥æš‚æ—¶è¢«åˆ é™¤entryçš„ä¿¡æ¯.</p>
<p><strong>è¯¥å‡½æ•°åŒæ—¶ä¼šå°†å…‰æ ‡ç§»åŠ¨åˆ°entryçš„æœ€å¼€å¤´ä½ç½®</strong></p>
<p><strong>è¯¥å‡½æ•°åªä¼šæ›´æ”¹bufferå†…å®¹,è€Œä¸ä¼šæ›´æ”¹`tabulated-list-entries&rsquo;çš„å€¼</strong></p>
</li>
<li>
<p>(tabulated-list-set-col COL DESC &amp;optional CHANGE-ENTRY-DATA)</p>
<p>æ›´æ”¹å½“å‰ä½ç½®çš„entryä¸­ç¬¬COLåˆ—çš„å†…å®¹ä¸ºDESC</p>
<p>COLå¯ä»¥æ˜¯åˆ—çš„ä½ç½®,ä¹Ÿå¯ä»¥æ˜¯åˆ—çš„åç§°.</p>
<p>CHANGE-ENTRY-DATAæŒ‡ç¤ºäº†æ˜¯å¦åŒæ—¶æ›´æ”¹`tabulated-list-entries&rsquo;çš„å€¼</p>
</li>
<li>
<p>(tabulated-list-put-tag tag &amp;optional advance)</p>
<p>å°†TAGæ”¾å…¥å½“å‰entryçš„paddingåŒºåŸŸ</p>
<p>TAGä¸ºå­—ç¬¦ä¸²,ä¸”å¤§å°ä¸èƒ½å¤§äº`tabulated-list-padding&rsquo;çš„å€¼</p>
<p>è‹¥ADVANCEä¸ºénil,åˆ™å…‰æ ‡åŒæ—¶ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œ</p>
</li>
<li>
<p>tabulated-list-padding</p>
<p>æ¯ä¸ªentryå‰é¢„ç•™äºpaddingçš„å­—ç¬¦ä¸ªæ•°</p>
</li>
</ul>
<h2 id="desktop-save-mode">Desktop Save Mode<a hidden class="anchor" aria-hidden="true" href="#desktop-save-mode">#</a></h2>
<h2 id="emacs-display">Emacs Display<a hidden class="anchor" aria-hidden="true" href="#emacs-display">#</a></h2>
<h3 id="the-display-property">The Display Property<a hidden class="anchor" aria-hidden="true" href="#the-display-property">#</a></h3>
<h3 id="images">Images<a hidden class="anchor" aria-hidden="true" href="#images">#</a></h3>
<h2 id="numberç›¸å…³å‡½æ•°">Numberç›¸å…³å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#numberç›¸å…³å‡½æ•°">#</a></h2>
<ul>
<li>åˆ¤æ–­æ˜¯å¦ä¸ºè‡ªç„¶æ•°(0+æ­£æ•´æ•°)</li>
</ul>
<p>(natnump object)</p>
<ul>
<li>åˆ¤æ–­æ˜¯å¦ä¸º0</li>
</ul>
<p>(zerop number)</p>
<ul>
<li>å–ä½™æ•°</li>
</ul>
<p>(% dividend divisor)</p>
<p>%çš„å‚æ•°å¿…é¡»æ˜¯æ•´æ•°,å¯¹äºä»»ä½•ä¸¤ä¸ªæ•´æ•°dividendå’Œdivisoréƒ½æœ‰(+(% DIVIDEND DIVISOR) (* (/ DIVIDEND DIVISOR) DIVISOR)) == DIVIDEND</p>
<p>(mod dividend divisor)</p>
<p>modeçš„å‚æ•°å¯ä»¥æ˜¯Floatå‹,å®ƒçš„è¿”å›å€¼çš„æ­£è´Ÿå·ä¸DIVISORä¸€è‡´,å¹¶ä¸”modçš„å•†å€¼ä½¿ç”¨floorè¿›è¡Œæˆªæ–­åˆ°æ•´æ•°,ç„¶åå†è®¡ç®—è¿”å›çš„ä½™å€¼.</p>
<p>(+ (mod DIVIDEND DIVISOR) (* (floor DIVIDEND DIVISOR) DIVISOR)) == DIVIDEND</p>
<ul>
<li>
<p>ä¸‰è§’å‡½æ•°</p>
</li>
<li>
<p>(sin arg)</p>
</li>
<li>
<p>(cos arg)</p>
</li>
<li>
<p>(tan arg)</p>
</li>
<li>
<p>(asin arg)</p>
</li>
<li>
<p>(acos arg)</p>
</li>
<li>
<p>(atan y &amp;optional x)</p>
</li>
<li>
<p>æŒ‡æ•°è®¡ç®—</p>
</li>
<li>
<p>(exp arg)
eçš„argæ¬¡æ–¹</p>
</li>
<li>
<p>(expt x y)
xçš„yæ¬¡æ–¹</p>
</li>
<li>
<p>(log arg &amp;optional base)
baseé»˜è®¤ä¸ºe,å–argçš„æŒ‡æ•°</p>
</li>
<li>
<p>(aqrt arg)
å–argçš„å¹³æ–¹æ ¹,è‹¥arg&lt;0,åˆ™è¿”å›NaN</p>
</li>
<li>
<p>å¸¸é‡float-e</p>
</li>
<li>
<p>å¸¸é‡float-pi</p>
</li>
<li>
<p>è·å–éšæœºå€¼
(random &amp;optional limit)</p>
<ul>
<li>
<p>è‹¥limitä¸ºæ­£æ•´æ•°ï¼Œåˆ™è¿”å›0åˆ°limitçš„éšæ„æ•´æ•°</p>
</li>
<li>
<p>è‹¥limitä¸ºtï¼Œåˆ™è¡¨ç¤ºä½¿ç”¨å½“å‰æ—¶é—´å’ŒEmacsçš„è¿›ç¨‹å·é‡æ–°é€‰æ‹©ä¸€ä¸ªç§å­</p>
</li>
<li>
<p>è‹¥limitä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå®ƒè¡¨ç¤ºä½¿ç”¨stringçš„å†…å®¹ä½œä¸ºç§å­</p>
</li>
</ul>
</li>
</ul>
<h2 id="äºŒè¿›åˆ¶å‡½æ•°">äºŒè¿›åˆ¶å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#äºŒè¿›åˆ¶å‡½æ•°">#</a></h2>
<p>äºŒè¿›åˆ¶å‡½æ•°åªèƒ½ä½œç”¨äºIntegerå‹å‚æ•°.</p>
<ul>
<li>é€»è¾‘ä½ç§»</li>
</ul>
<p>(lsh Integer count)</p>
<p>lshæ˜¯logical shiftçš„ç¼©å†™,å®ƒå‘å·¦ç§»åŠ¨countä½(è‹¥countä¸ºè´Ÿæ•°,åˆ™è¡¨ç¤ºå‘å³ç§»åŠ¨), ä½¿ç”¨0å¡«å……</p>
<ul>
<li>ç®—æœ¯ä½ç§»</li>
</ul>
<p>(ash Integer count)</p>
<p>ashæ˜¯arithmetic shiftçš„ç¼©å†™,å®ƒè·Ÿlshç±»ä¼¼,ä½†å½“å¯¹è´Ÿæ•°è¿›è¡Œå³ç§»æ—¶,ä½¿ç”¨ç¬¦å·ä½è¿›è¡Œå¡«å……,å³è¯¥å‡½æ•°ä¸ä¼šæ”¹å˜Integerçš„æ­£è´Ÿå·</p>
<ul>
<li>andæ“ä½œ</li>
</ul>
<p>(logand &amp;rest ints-or-markers)</p>
<p>å¯¹æ‰€æœ‰Integerçš„æ‰€æœ‰ä½åšandæ“ä½œ,è‹¥æ²¡æœ‰å‚æ•°,åˆ™è¿”å›-1,å³æ‰€æœ‰ä½éƒ½æ˜¯1çš„Integer</p>
<ul>
<li>oræ“ä½œ</li>
</ul>
<p>(logior &amp;rest ints-or-markers)
å¯¹æ‰€æœ‰Integerçš„æ‰€æœ‰ä½åšoræ“ä½œ,è‹¥æ²¡æœ‰å‚æ•°,åˆ™è¿”å›0,å³æ‰€æœ‰ä½éƒ½æ˜¯0çš„Integer</p>
<ul>
<li>xoræ“ä½œ</li>
</ul>
<p>(logxor &amp;rest ints-or-markers)
å¯¹æ‰€æœ‰Integerçš„æ‰€æœ‰ä½åšxoræ“ä½œ,è‹¥æ²¡æœ‰å‚æ•°,åˆ™è¿”å›0,å³æ‰€æœ‰ä½éƒ½æ˜¯0çš„Integer</p>
<ul>
<li>notæ“ä½œ</li>
</ul>
<p>(lognot integer)
å¯¹Integerçš„æ‰€æœ‰ä½åšnotæ“ä½œ</p>
<h2 id="å­—ç¬¦ä¸²å¤„ç†ç›¸å…³å‡½æ•°">å­—ç¬¦ä¸²å¤„ç†ç›¸å…³å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#å­—ç¬¦ä¸²å¤„ç†ç›¸å…³å‡½æ•°">#</a></h2>
<p>Emacs has only very few functions that takes a string as argument. Any non-trivial string processing is done with a buffer. Use with-temp-buffer, then insert your string, process it, then use
buffer-string to get the whole buffer content.</p>
<h3 id="åˆ¤æ–­å‡½æ•°">åˆ¤æ–­å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#åˆ¤æ–­å‡½æ•°">#</a></h3>
<ul>
<li>(stringp object)</li>
<li>(string-or-null-p object)</li>
<li>(char-or-string-p object)</li>
<li>(string-prefix-p prefix str &amp;optional ignore-case)</li>
<li>(string-suffix-p suffix str &amp;optional ignore-case)</li>
<li>(compare-strings str1 start1 end1 str2 start2 end2 &amp;optional ignore-case)</li>
</ul>
<p>æ¯”è¾ƒçš„åŒºé—´ä¸º[start end),startä¸ºnilåˆ™é»˜è®¤ä¸º0,endä¸ºnilåˆ™è¡¨ç¤ºå­—ç¬¦ä¸²çš„ç»“å°¾.</p>
<p>è¯¥å‡½æ•°ä¼šæŠŠunibyte stringå…ˆè½¬æ¢ä¸ºmultibyte stringå†è¿›è¡Œæ¯”è¾ƒ.</p>
<p>è‹¥æ¯”è¾ƒçš„åŒºé—´,ä¸¤ä¸ªstringæ˜¯ç›¸ç­‰çš„,åˆ™è¿”å›t.
è‹¥str1&lt;str2,åˆ™è¿”å›è´Ÿæ•°,è‹¥str1&gt;str2åˆ™è¿”å›æ­£æ•°.
è¯¥æ•´æ•°çš„ç»å¯¹å€¼æŒ‡ç¤ºäº†ä¸åŒç‚¹å¼€å§‹çš„åœ°æ–¹</p>
<h3 id="è·å–å­—ç¬¦ä¸²çš„å‡½æ•°">è·å–å­—ç¬¦ä¸²çš„å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#è·å–å­—ç¬¦ä¸²çš„å‡½æ•°">#</a></h3>
<ul>
<li>
<p>(make-string count character)</p>
<p>countå¿…é¡»ä¸ºæ•´æ•°ï¼Œè¿”å›ç”±countä¸ªcharacterç»„æˆçš„å­—ç¬¦ä¸²</p>
</li>
<li>
<p>(string &amp;rest characters)</p>
<p>è¿”å›ç”±charactersç»„æˆçš„å­—ç¬¦ä¸²</p>
</li>
<li>
<p>å¸¦text propertiesæˆªå–å­å­—ç¬¦ä¸²</p>
</li>
</ul>
<p>(substring myStr startIndex &amp;optional endIndex)</p>
<p>startIndexå’ŒendIndexè‹¥ä¸ºè´Ÿæ•°,åˆ™è¡¨ç¤ºä»å°¾éƒ¨å¼€å§‹å¾€å›æ•°.</p>
<p>å› æ­¤(substring str 0)è¡¨ç¤ºè¿”å›strçš„ä¸€ä¸ªcopy,ä½†æ¨èç”¨copy-sequenceä»£æ›¿</p>
<p>substringä¸­çš„å‚æ•°strä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªvector,ä¾‹å¦‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">substring</span> [a b (c) <span style="color:#e6db74">&#34;d&#34;</span>] <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">3</span>)           <span style="color:#75715e">; =&gt; [b (c)]</span>
</code></pre></div><p>è‹¥stringå¸¦æœ‰text properties,åˆ™æ–°äº§ç”Ÿçš„stringä¹Ÿä¼šå¸¦æœ‰text properties</p>
<ul>
<li>
<p>ä¸å¸¦text propertiesæˆªå–å­—ç¬¦ä¸²</p>
<p>(substring-no-peroperties string &amp;optional start end)</p>
</li>
<li>
<p>ç»„åˆå­—ç¬¦ä¸²</p>
</li>
</ul>
<p>(concat &amp;rest sequences) è¿”å›è¿æ¥å¤šä¸ªå­—ç¬¦ä¸²çš„å­—ç¬¦ä¸²</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">concat</span> <span style="color:#e6db74">&#34;abc&#34;</span> (<span style="color:#a6e22e">list</span> <span style="color:#ae81ff">120</span> <span style="color:#ae81ff">121</span>) [<span style="color:#ae81ff">122</span>])     <span style="color:#75715e">; =&gt; &#34;abcxyz&#34;</span>
</code></pre></div><p>(mapconcat function sequence separator)</p>
<p>å¯¹sequenceçš„æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨function,ç„¶åå°†ç»“æœç”¨separator concatèµ·æ¥ä½œä¸ºå­—ç¬¦ä¸²è¿”å›.å½“functionä¸º&rsquo;identityæ—¶åˆ™èµ·åˆ°joinçš„ä½œç”¨</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">mapconcat</span> <span style="color:#e6db74">&#39;identity</span> <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;abc&#34;</span> <span style="color:#e6db74">&#34;123&#34;</span> <span style="color:#e6db74">&#34;one&#34;</span> <span style="color:#e6db74">&#34;two&#34;</span> <span style="color:#e6db74">&#34;three&#34;</span>) <span style="color:#e6db74">&#34; &#34;</span>) <span style="color:#75715e">;=&gt;&#34;abc 123 one two three&#34;</span>
</code></pre></div><ul>
<li>ä»bufferè·å–å­—ç¬¦ä¸²</li>
</ul>
<p>(buffer-substring myStartPos myEndPos)</p>
<p>(buffer-substring-no-properties myStartPos myEndPos)</p>
<ul>
<li>è·å–å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å†…å®¹</li>
</ul>
<p>(thing-at-point THING),è¿™é‡ŒTHINGæŒ‡æ˜äº†å„ç§ç±»å‹:</p>
<p>(thing-at-point &lsquo;word) // å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å•è¯</p>
<p>(thing-at-point &lsquo;symbol) // å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å•è¯(åŒ…æ‹¬è¿å­—ç¬¦å’Œä¸‹åˆ’çº¿)</p>
<p>(thing-at-point &lsquo;line) // å…‰æ ‡æ‰€åœ¨ä½ç½®çš„è¡Œ, <strong>ä¸€èˆ¬æƒ…å†µä¸‹å®ƒè·å–ä¸€è¡ŒåŠè¡Œç»“æŸç¬¦,ç„¶è€Œè‹¥å…‰æ ‡å¤„äºè¡Œçš„æœ€åä¸€ä¸ªå­—ç¬¦,åˆ™ä¸è·å–è¡Œç»“æŸç¬¦</strong></p>
<p>(thing-at-point &lsquo;sexp) // å…‰æ ‡æ‰€åœ¨ä½ç½®çš„sè¡¨è¾¾å¼</p>
<p>(thing-at-point &lsquo;sentence) // å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å¥å­</p>
<p>(thing-at-point &lsquo;defun) // å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å‡½æ•°</p>
<p>(thing-at-point &lsquo;url) // å…‰æ ‡æ‰€åœ¨ä½ç½®çš„url, <strong>è‹¥urlä¸ä»¥httpå¼€å¤´,åˆ™ä¼šè‡ªåŠ¨åŠ ä¸Šhttp</strong></p>
<p>&hellip;è¿˜æœ‰å¾ˆå¤šç±»å‹</p>
<ul>
<li>è·å–å…‰æ ‡æ‰€åœ¨THINGçš„å¼€å§‹/ç»“æŸä½ç½®</li>
</ul>
<p>(bounds-of-thing-at-point THING)</p>
<ul>
<li>ä»æŠ¥æ–‡ä¸­æˆªå–å­—ç¬¦ä¸²</li>
</ul>
<p>(setq myStr (buffer-substring startPos endPos))</p>
<h3 id="å­—ç¬¦ä¸²æ“ä½œ">å­—ç¬¦ä¸²æ“ä½œ<a hidden class="anchor" aria-hidden="true" href="#å­—ç¬¦ä¸²æ“ä½œ">#</a></h3>
<ul>
<li>è·å–å­—ç¬¦ä¸²é•¿åº¦</li>
</ul>
<p>(string-width myStr)</p>
<p>è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼Œä¸èƒ½ç”¨(lenth myStr)æ¥è·å–å­—ç¬¦ä¸²é•¿åº¦</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">length</span> <span style="color:#e6db74">&#34;æˆ‘çš„&#34;</span>)                         <span style="color:#75715e">;=&gt;2</span>
(<span style="color:#a6e22e">string-width</span> <span style="color:#e6db74">&#34;æˆ‘çš„&#34;</span>)                   <span style="color:#75715e">;=&gt;4</span>
</code></pre></div><ul>
<li>
<p>ä¿®æ”¹å­—ç¬¦ä¸²å†…å®¹</p>
<p>ç”±äºå­—ç¬¦ä¸²æ˜¯characterçš„æ•°ç»„,å› æ­¤æœ€åŸºç¡€çš„ä¿®æ”¹å­—ç¬¦ä¸²å†…å®¹çš„å‡½æ•°æ˜¯ä½¿ç”¨(aset str idx char)æ¥å°†strçš„åœ°idxä½ç½®çš„å†…å®¹æ›¿æ¢ä¸ºchar.
ç”±äºå­—ç¬¦ä¸²æ˜¯æ•°ç»„,è€Œæ•°ç»„çš„é•¿åº¦æ˜¯ä¸å¯å˜çš„,å› æ­¤è‹¥æ›¿æ¢çš„characterå’Œè¢«æ›¿æ¢çš„characterçš„å­—èŠ‚æ•°ä¸ç›¸åŒ,åˆ™ä¼šæŠ¥é”™</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq str <span style="color:#e6db74">&#34;æˆ‘çš„&#34;</span>)
(<span style="color:#a6e22e">aset</span> str <span style="color:#ae81ff">0</span> <span style="color:#e6db74">?\m</span>)                        <span style="color:#75715e">;strå˜ä¸ºäº†&#34;mçš„&#34;</span>
</code></pre></div><p>(store-substring str idx string-or-char)</p>
<p>ä½¿ç”¨string-or-charä»idxå¼€å§‹æ›¿æ¢strçš„å†…å®¹,è‹¥æ›¿æ¢çš„å†…å®¹è¿‡é•¿,åˆ™ä¼šæŠ¥é”™</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq str <span style="color:#e6db74">&#34;æˆ‘çš„&#34;</span>)
(store-substring str <span style="color:#ae81ff">0</span> <span style="color:#e6db74">?n</span>)              <span style="color:#75715e">;strå˜ä¸º&#34;nçš„&#34;</span>
(store-substring str <span style="color:#ae81ff">1</span> <span style="color:#e6db74">&#34;nm&#34;</span>)            <span style="color:#75715e">;ä¼šraise args-out-of-range error</span>
</code></pre></div></li>
<li>
<p>æ¸…ç©ºå­—ç¬¦ä¸²</p>
<p>(clear-string str)
è¯¥å‡½æ•°ä¼šä½¿å¾—strå˜ä¸ºäºŒè¿›åˆ¶å­—ç¬¦ä¸²,å¹¶ä¸”å°†å†…éƒ¨ç»“æ„æ¸…ç©ºä¸º0</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq str <span style="color:#e6db74">&#34;æˆ‘çš„&#34;</span>)
(<span style="color:#a6e22e">clear-string</span> str)                      <span style="color:#75715e">;=&gt;strç°åœ¨ä¸º&#34;      &#34;</span>
</code></pre></div></li>
</ul>
<!--listend-->
<ul>
<li>åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…æŸæ­£åˆ™è¡¨è¾¾å¼</li>
</ul>
<p>(string-match myRegex myStr)</p>
<ul>
<li>è·å–æ•è·åˆ°çš„åˆ†ç»„å†…å®¹</li>
</ul>
<p>(match-string N myStr) ,è¿™é‡ŒmyStrå¯ä»¥å¿½ç•¥,è¡¨ç¤ºåœ¨bufferä¸­ä½œçš„æŸ¥è¯¢. ä½†è‹¥ä¸Šä¸€æ¬¡çš„åŒ¹é…ä½¿ç”¨string-matchå‡½æ•°ä½œçš„,åˆ™éœ€è¦è¯¥å‚æ•°</p>
<ul>
<li>å¯¹å­—ç¬¦ä¸²è¿›è¡Œæ­£åˆ™æ›¿æ¢</li>
</ul>
<p>(replace-regexp-in-string myRegex myReplacement myStr)  ;è¿™é‡ŒmyReplacementå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°,è¯¥å‡½æ•°æ¥æ”¶åŒ¹é…çš„å­—ç¬¦ä¸²,ç„¶åè¿”å›è¦æ›¿æ¢çš„å­—ç¬¦ä¸²</p>
<ul>
<li>splitå­—ç¬¦ä¸²</li>
</ul>
<p>(split-string myStr &amp;optiional mySepeartor omit-nulls)</p>
<p>æ ¹æ®separatoræ‹†åˆ†myStr,é»˜è®¤å€¼ä¸ºå˜é‡`split-string-default-separators`çš„å€¼(é»˜è®¤ä¸º&quot;[ \f\t\n\r\v]+&quot;)</p>
<p>è‹¥omit-nullsä¸ºtåˆ™åœ¨ç»„æˆlistæ—¶,ä¼šå¿½ç•¥ç©ºå­—ç¬¦ä¸².</p>
<p>è‹¥å¸Œæœ›æŠŠå­—ç¬¦ä¸²åˆ†è§£ä¸º(split-string-and-unquote &ldquo;cd &lsquo;abc edf&rsquo;&quot;)</p>
<ul>
<li>å­—ç¬¦ä¸²æ­£åˆ™æ›¿æ¢</li>
</ul>
<p>(replace-regexp-in-string myRegxp myReplace myStr)</p>
<ul>
<li></li>
</ul>
<h3 id="formatå‡½æ•°">Formatå‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#formatå‡½æ•°">#</a></h3>
<ul>
<li>%s</li>
</ul>
<p>objectçš„è¾“å‡ºæ ¼å¼,ä½†æ˜¯ä¸å¸¦å¼•å·. è‹¥objectä¸ºå¸¦text propertiesçš„string,åˆ™text propertiesä¹Ÿè¢«å¤åˆ¶è¿›å»äº†.</p>
<ul>
<li>%S</li>
</ul>
<p>objectçš„è¾“å‡ºæ ¼å¼,å¸¦å¼•å·</p>
<ul>
<li>%.Ns / %.NS</li>
</ul>
<p>æˆªå–å­—ç¬¦ä¸²çš„å‰Nä½æ˜¾ç¤º</p>
<ul>
<li>%o</li>
</ul>
<p>8è¿›åˆ¶çš„Integerå‹</p>
<ul>
<li>%d</li>
</ul>
<p>åè¿›åˆ¶çš„Integerå‹</p>
<ul>
<li>%x</li>
</ul>
<p>åå…­è¿›åˆ¶çš„Integerå‹,å­—æ¯ç”¨å°äº›å½¢å¼</p>
<ul>
<li>%X</li>
</ul>
<p>åå…­è¿›åˆ¶çš„Integerå‹,å­—æ¯ç”¨å¤§å†™å½¢å¼</p>
<ul>
<li>%c</li>
</ul>
<p>è¾“å‡ºCharacter</p>
<ul>
<li>%e</li>
</ul>
<p>ä½¿ç”¨æŒ‡æ•°å½¢å¼è¡¨ç¤ºFloatå‹</p>
<ul>
<li>%f</li>
</ul>
<p>ä½¿ç”¨å°æ•°å½¢å¼è¡¨ç¤ºFloatå‹</p>
<ul>
<li>%g</li>
</ul>
<p>ä½¿ç”¨æŒ‡æ•°æˆ–å°æ•°å½¢å¼è¡¨ç¤ºFloatå‹,ä½¿ç”¨å“ªç§è¡¨ç¤ºæ–¹å¼å°±çœ‹å“ªä¸ªæ›´ç®€çŸ­.</p>
<ul>
<li>%%</li>
</ul>
<p>%</p>
<h2 id="listç›¸å…³å‡½æ•°">listç›¸å…³å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#listç›¸å…³å‡½æ•°">#</a></h2>
<h3 id="åˆ¤æ–­å‡½æ•°">åˆ¤æ–­å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#åˆ¤æ–­å‡½æ•°">#</a></h3>
<ul>
<li>(consp object)</li>
</ul>
<p>objectæ˜¯å¦ä¸ºcons cell. ä¸€èˆ¬æƒ…å†µä¸‹,listå°±æ˜¯cons cell,ä½†nilæ¯”è¾ƒç‰¹æ®Š,è™½ç„¶å®ƒæ˜¯list,ä½†ä¸æ˜¯cons clell</p>
<ul>
<li>(atom object)</li>
</ul>
<p>nilå³æ˜¯atom,ä¹Ÿæ˜¯list</p>
<ul>
<li>(listp object)</li>
</ul>
<p>objectæ˜¯å¦ä¸ºlist</p>
<ul>
<li>(nlistp object)</li>
</ul>
<p>objectæ˜¯å¦ä¸æ˜¯list</p>
<ul>
<li>(null object)</li>
<li>(memq object list)</li>
</ul>
<p>åˆ¤æ–­listä¸­æ˜¯å¦åŒ…å«object,å®ƒè¿”å›listä¸­ç¬¬ä¸€æ¬¡å‡ºç°objectçš„ä½ç½®.å‡½æ•°åä¸­çš„qè¡¨ç¤ºä½¿ç”¨ <strong>eq</strong> ä½œä¸ºæ¯”è¾ƒå‡½æ•°.</p>
<ul>
<li>(memql object list)</li>
</ul>
<p>ç±»ä¼¼memq,ä½†æ˜¯å‡½æ•°åä¸­çš„qlè¡¨ç¤ºä½¿ç”¨ <strong>eql</strong> ä½œä¸ºæ¯”è¾ƒå‡½æ•°.</p>
<ul>
<li>(member object list)</li>
</ul>
<p>ç±»ä¼¼memq,ä½†æ˜¯ä½¿ç”¨ <strong>equal</strong> ä½œä¸ºæ¯”è¾ƒå‡½æ•°</p>
<ul>
<li>(member-ignore-case str list)</li>
</ul>
<p>ç±»ä¼¼member,ä½†å‚æ•°strå¿…é¡»æ˜¯stringç±»å‹,å¹¶ä¸”æ¯”è¾ƒæ—¶ä¸åŒºåˆ†å¤§å°å†™,å•å­—èŠ‚å­—ç¬¦ä¸²ä¹Ÿè¢«è½¬æ¢ä¸ºå¤šå­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒ.</p>
<h3 id="è·å–listä¸­çš„å…ƒç´ ">è·å–listä¸­çš„å…ƒç´ <a hidden class="anchor" aria-hidden="true" href="#è·å–listä¸­çš„å…ƒç´ ">#</a></h3>
<ul>
<li>(car-safe object)</li>
</ul>
<p>å®ƒä¸carä¸åŒç‚¹åœ¨äº,è‹¥objectä¸æ˜¯cons ceil,åˆ™carä¼šæŠ¥é”™,è€Œcar-safeåªæ˜¯è¿”å›nil</p>
<ul>
<li>(cdr-safe object)</li>
</ul>
<p>å®ƒä¸cdrä¸åŒç‚¹åœ¨äº,è‹¥objectä¸æ˜¯cons ceil,åˆ™cdrä¼šæŠ¥é”™,è€Œcdr-safeåªæ˜¯è¿”å›nil</p>
<ul>
<li>(pop list)</li>
</ul>
<p>å¼¹å‡ºlistä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ </p>
<ul>
<li>(nth n list)</li>
</ul>
<p>è¿”å›listä¸­çš„ç¬¬nä¸ªå…ƒç´ (ä»0å¼€å§‹è®¡ç®—), è‹¥nä¸ºè´Ÿæ•°,åˆ™è¿”å›listä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ .</p>
<ul>
<li>(nthcdr n list)</li>
</ul>
<p>è¿”å›ç¬¬nä¸ªcdråçš„list,è‹¥nä¸º0æˆ–è´Ÿæ•°,åˆ™è¿”å›åŸlist</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">nthcdr</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">&#39;</span>(<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span>))                   <span style="color:#75715e">;=&gt;(3 4)</span>
(<span style="color:#a6e22e">nthcdr</span> <span style="color:#ae81ff">10</span> <span style="color:#f92672">&#39;</span>(<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span>))                  <span style="color:#75715e">;=&gt;nil</span>
(<span style="color:#a6e22e">nthcdr</span> <span style="color:#ae81ff">-3</span> <span style="color:#f92672">&#39;</span>(<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span>))                  <span style="color:#75715e">;=&gt;(1 2 3 4)</span>
</code></pre></div><ul>
<li>(last list &amp;optional n)</li>
</ul>
<p>è¿”å›listä¸­æœ€ånä¸ªå…ƒç´ ç»„æˆçš„list,é»˜è®¤n=1</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(last <span style="color:#f92672">&#39;</span>(<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">5</span>) )                    <span style="color:#75715e">;=&gt;(5)</span>
(last <span style="color:#f92672">&#39;</span>(<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">5</span>) <span style="color:#ae81ff">3</span> )                  <span style="color:#75715e">;=&gt;(3 4 5)</span>
</code></pre></div><ul>
<li>(safe-length list)</li>
</ul>
<p>å¯¹äºcircular list,åªèƒ½è¡¨ç¤ºlistçš„é•¿åº¦æœ€å¤§ä¸ä¼šè¶…è¿‡safe-lengthè¿”å›çš„å€¼,è€Œä¸æ˜¯å®é™…å€¼.</p>
<ul>
<li>(butlast l &amp;optional n)</li>
</ul>
<p>è¿”å›lå»æ‰äº†åé¢nä¸ªå…ƒç´ åçš„åˆ—è¡¨,é»˜è®¤nä¸º1</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(butlast <span style="color:#f92672">&#39;</span>(<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span>) <span style="color:#ae81ff">1</span>)                  <span style="color:#75715e">;=&gt;(1 2 3)</span>
(butlast <span style="color:#f92672">&#39;</span>(<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span>) <span style="color:#ae81ff">2</span>)                  <span style="color:#75715e">;=&gt;(1 2)</span>
</code></pre></div><ul>
<li>(nbutlast l &amp;optional n)</li>
</ul>
<p>ç±»ä¼¼(butlast,ä½†æ˜¯ä¼šåŒæ—¶æ›´æ”¹lçš„å€¼</p>
<h3 id="åˆ›å»ºcons-cellå’Œlist">åˆ›å»ºcons cellå’Œlist<a hidden class="anchor" aria-hidden="true" href="#åˆ›å»ºcons-cellå’Œlist">#</a></h3>
<ul>
<li>(cons obj1 obj2)</li>
</ul>
<p>consä¸€èˆ¬ç”¨æ¥å°†ä¸€ä¸ªå…ƒç´ æ·»åŠ åˆ°æŸä¸ªlistä¸­çš„å¤´éƒ¨.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">cons</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">&#39;</span>(<span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span>))                       <span style="color:#75715e">;=&gt;(1 2 3 4)</span>
</code></pre></div><ul>
<li>(list &amp;rest objects)</li>
<li>(make-list n object)</li>
</ul>
<p>è¿”å›ç”±nä¸ªobjectç»„æˆçš„list</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">make-list</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">2</span>)                         <span style="color:#75715e">;=&gt;(2 2 2)</span>
</code></pre></div><ul>
<li>(append &amp;rest sequences)</li>
</ul>
<p>å°†æ‰€æœ‰çš„sequencesä¸­çš„å…ƒç´ ä¸²åœ¨ä¸€èµ·ç»„æˆä¸€ä¸ªlist, éœ€è¦æ³¨æ„çš„æ˜¯,å‡ºäº†æœ€åä¸€ä¸ªå‚æ•°ä»¥å¤–,å…¶ä»–çš„å‚æ•°éƒ½è¢«copyä¸€ä»½,ç”¨äºä¸æœ€åé‚£ä¸ªå‚æ•°è¿›è¡Œè¿æ¥.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq trees <span style="color:#f92672">&#39;</span>(pine oak))                <span style="color:#75715e">;=&gt;(pine oak)</span>
(setq more-trees (<span style="color:#a6e22e">append</span> <span style="color:#f92672">&#39;</span>(maple birch) trees)) <span style="color:#75715e">;=&gt;(maple birch pine oak)</span>
(<span style="color:#a6e22e">eq</span> trees (last more-trees <span style="color:#ae81ff">2</span>))                  <span style="color:#75715e">;=&gt;t</span>
</code></pre></div><p>é€šè¿‡åœ¨æœ€åçš„å‚æ•°åæ·»åŠ nil,å¯ä»¥è®©æ‰€æœ‰çš„å‚æ•°éƒ½å¼ºåˆ¶copy</p>
<p>æœ€åçš„å‚æ•°åœ¨å¤„ç†ä¸Šä¼šæœ‰äº›ç‰¹æ®Š,æœ€åä¸€ä¸ªå‚æ•°åªæ˜¯å•çº¯çš„è¢«å®‰ç½®åˆ°å‰é¢å‚æ•°ç»„æˆlistçš„cdrä½ç½®,ä¾‹å¦‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">append</span> <span style="color:#f92672">&#39;</span>(x y) [z])                     <span style="color:#75715e">;=&gt;(x y . [z]),æœ€åçš„å‚æ•°åªæ˜¯æ”¾åœ¨cdrçš„ä½ç½®è€Œå·²,å› æ­¤æœ€ç»ˆç»“æœä¸æ˜¯(x y z)</span>
</code></pre></div><ul>
<li>(reverse list)</li>
<li>(copy-tree tree *optional vecp)</li>
<li>(number-sequence from &amp;optional to step)</li>
</ul>
<p>è¿”å›ä¸€ä¸ªnumber list,å€¼çš„èŒƒå›´ä¸ºä»fromå¼€å§‹åˆ°toç»“æŸ,æ­¥è¿›ä¸ºstep(é»˜è®¤ä¸º1)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(number-sequence <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">9</span>)                   <span style="color:#75715e">;=&gt;(4 5 6 7 8 9)</span>
</code></pre></div><p>è‹¥toä¸ºnilæˆ–ä¸fromç›¸ç­‰,åˆ™è¿”å›å•å…ƒç´ åˆ—è¡¨(from)</p>
<p>è‹¥stepä¸º0,ä¸”toä¸ä¸ºnilæˆ–ä¸fromçš„å€¼ç›¸ç­‰,åˆ™elispä¼šæŠ¥å‡ºé”™è¯¯,å› ä¸ºè¿™ä¼šäº§ç”Ÿä¸€ä¸ªæ­»å¾ªç¯</p>
<p>è‹¥stepä¸ä¸º0,è€Œfromç´¯åŠ stepæ°¸è¿œä¸ä¼šè¶…è¿‡æˆ–åˆ°è¾¾to,åˆ™å‡½æ•°è¿”å›nil</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(number-sequence <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">1</span>)                 <span style="color:#75715e">;nil</span>
(number-sequence <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">-1</span>)                    <span style="color:#75715e">;nil</span>
</code></pre></div><h3 id="ä¿®æ”¹listå˜é‡">ä¿®æ”¹listå˜é‡<a hidden class="anchor" aria-hidden="true" href="#ä¿®æ”¹listå˜é‡">#</a></h3>
<h4 id="ä¼šç ´ååŸå‚æ•°ä¸­çš„å€¼">ä¼šç ´ååŸå‚æ•°ä¸­çš„å€¼<a hidden class="anchor" aria-hidden="true" href="#ä¼šç ´ååŸå‚æ•°ä¸­çš„å€¼">#</a></h4>
<p>è¿™é‡Œçš„å‡½æ•°éƒ½ä¼šç›´æ¥ä¿®æ”¹å‚æ•°ä¸­çš„list</p>
<ul>
<li>
<p>(push element list)</p>
<p>æŠŠelementæ”¾åœ¨listçš„ç¬¬ä¸€ä½,ä½œç”¨ç±»ä¼¼cons</p>
</li>
<li>
<p>(add-to-list listname element &amp;optional append compare-fn)</p>
<p>ç±»ä¼¼push,ä½†è‹¥listä¸­å·²ç»æœ‰äº†element,åˆ™ä¿æŒlistä¸å˜</p>
<p>è‹¥appendä¸ºénil,åˆ™å°†elementæ”¾åœ¨listçš„æœ€åä½ç½®</p>
<p>compare-fné»˜è®¤ä½¿ç”¨equalè¿›è¡Œæ¯”è¾ƒ</p>
</li>
<li>
<p>(add-to-ordered-list listname element &amp;optional order)</p>
<p>è¿™é‡Œçš„orderéœ€è¦æ˜¯numberç±»å‹,</p>
<p>orderçš„å€¼å†³å®šäº†elementçš„ä½ç½®,è‹¥orderä¸ºnil,åˆ™å°†elementæ”¾åœ¨listä¸­æœ€åå¸¦orderçš„å…ƒç´ åé¢</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq foo <span style="color:#66d9ef">nil</span>)
(add-to-ordered-list <span style="color:#e6db74">&#39;foo</span> <span style="color:#e6db74">&#39;a</span> <span style="color:#ae81ff">1</span>)         <span style="color:#75715e">;=&gt;(a)</span>
(add-to-ordered-list <span style="color:#e6db74">&#39;foo</span> <span style="color:#e6db74">&#39;c</span> <span style="color:#ae81ff">3</span>)         <span style="color:#75715e">;=&gt;(a c)</span>
(add-to-ordered-list <span style="color:#e6db74">&#39;foo</span> <span style="color:#e6db74">&#39;b</span> <span style="color:#ae81ff">2</span>)         <span style="color:#75715e">;=&gt;(a b c)</span>
(add-to-ordered-list <span style="color:#e6db74">&#39;foo</span> <span style="color:#e6db74">&#39;b</span> <span style="color:#ae81ff">4</span>)         <span style="color:#75715e">;=&gt;(a c b)  è‹¥elementå·²ç»å­˜åœ¨,ä¸”è®¾å®šäº†order,åˆ™ä½¿ç”¨æ–°ordeæ”¾ç½®elementçš„ä½ç½®</span>
(add-to-ordered-list <span style="color:#e6db74">&#39;foo</span> <span style="color:#e6db74">&#39;d</span>)           <span style="color:#75715e">;=&gt;(a c b d)</span>
(add-to-ordered-list <span style="color:#e6db74">&#39;foo</span> <span style="color:#e6db74">&#39;e</span>)           <span style="color:#75715e">;=&gt;(a c b e d)</span>
(add-to-ordered-list <span style="color:#e6db74">&#39;foo</span> <span style="color:#e6db74">&#39;f</span>)           <span style="color:#75715e">;=&gt;(a c b f e d)  è‹¥orderä¸ºnil,åˆ™å°†elementæ”¾åœ¨listä¸­æœ€åå¸¦orderçš„å…ƒç´ åé¢</span>

</code></pre></div></li>
<li>
<p>(setcar cons-ceil object) / (setcdr cons-ceil object)</p>
<p>ä¿®æ”¹cons-ceilçš„car/cdréƒ¨åˆ†,å¹¶è¿”å›å‚æ•°objectä½œä¸ºè¿”å›å€¼</p>
<p>é€šè¿‡setcdrå¯ä»¥å®ç°åˆ é™¤/æ·»åŠ listä¸­elementçš„ç›®çš„</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq x1 <span style="color:#f92672">&#39;</span>(a b c d))
(<span style="color:#a6e22e">setcdr</span> x1 (cddr x1))<span style="color:#75715e">;=&gt;&#39;(a c d)</span>
(<span style="color:#a6e22e">setcdr</span> x1 (<span style="color:#a6e22e">append</span> <span style="color:#f92672">&#39;</span>(<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span>) (<span style="color:#a6e22e">cdr</span> x1)))    <span style="color:#75715e">;=&gt; (a 1 2 c d)</span>
</code></pre></div></li>
<li>
<p>(nconc &amp;rest lists)</p>
<p>ç±»ä¼¼append,æ‰€ä¸åŒçš„æ˜¯å®ƒç›´æ¥ä¿®æ”¹æ‰€æœ‰å‚æ•°çš„last elementçš„cdr,è€Œä¸ä¼šå…ˆåšcopy-sequenceæ“ä½œ.</p>
<p>ç”±äºé™¤äº†æœ€åä¸€ä¸ªå‚æ•°ä¸ç”¨è¢«ä¿®æ”¹ä¹‹å¤–,å…¶ä»–å‚æ•°çš„ç»“æ„éƒ½ä¼šè¢«ä¿®æ”¹,å› æ­¤é™¤äº†æœ€åä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯const listå¤–,å…¶ä»–å‚æ•°å¿…é¡»æ˜¯ä¸ªå˜é‡.</p>
<p>è·Ÿappendä¸€æ ·çš„,æœ€åä¸€ä¸ªå‚æ•°å¯ä»¥ä¸æ˜¯list</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq x <span style="color:#f92672">&#39;</span>(<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span>))                       <span style="color:#75715e">; =&gt; (1 2 3)</span>
(<span style="color:#a6e22e">nconc</span> x <span style="color:#e6db74">&#39;z</span>)                            <span style="color:#75715e">; =&gt; (1 2 3 . z)</span>
x                                       <span style="color:#75715e">; =&gt; (1 2 3 . z)</span>
</code></pre></div></li>
<li>
<p>(nreverse list)</p>
<p>ç¿»è½¬å‚æ•°list</p>
</li>
<li>
<p>(sort list predicate-less)</p>
<p>ä½¿ç”¨predicate-lessè¿›è¡Œä»å°åˆ°å¤§çš„æ’åº,è‹¥å­˜åœ¨ç›¸ç­‰çš„å€¼,åˆ™ä¿æŒç›¸ç­‰å€¼çš„ä½ç½®ä¸å˜</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq x1 <span style="color:#f92672">&#39;</span>(<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">7</span> <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">5</span>))<span style="color:#75715e">;=&gt;(1 2 4 3 7 6 5)</span>
(<span style="color:#a6e22e">sort</span> x1 <span style="color:#e6db74">&#39;&lt;</span>)     <span style="color:#75715e">;=&gt;(1 2 3 4 5 6 7)</span>
</code></pre></div><p>è¿™é‡Œçš„predicate-lessä¸ºæ¯”è¾ƒå‡½æ•°,å®ƒæ¥æ”¶ä¸¤ä¸ªå‚æ•°,å¹¶åˆ¤æ–­ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¦å°äºç¬¬äºŒä¸ªå‚æ•°.</p>
<p>predicate-lesså‡½æ•°å¿…é¡»æœ‰ä¸‹é¢ä¸¤ä¸ªç‰¹æ€§:</p>
<ol>
<li>
<p>A&lt;B,åˆ™B!&lt;A</p>
</li>
<li>
<p>è‹¥A&gt;B,B&gt;C,åˆ™A&gt;C</p>
</li>
</ol>
<p><strong>æ³¨æ„:</strong></p>
<p>sortæœ‰ä¸€ä¸ªå¾ˆå˜æ€çš„ç‰¹æ€§:sortå‡½æ•°ä¼šè®©å‚æ•°listä¾ç„¶æŒ‡å‘åŸæ¥çš„å“ªä¸ªcons-cellçš„ä½ç½®,è€Œä¸ç®¡è¿™ä¸ªcons-cellæ˜¯å¦åœ¨sortåä¾ç„¶æ˜¯å¤„äºç¬¬ä¸€ä¸ªå…ƒç´ çš„ä½ç½®. ä¾‹å¦‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq x1 <span style="color:#f92672">&#39;</span>(<span style="color:#ae81ff">9</span> <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">7</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span>))
(<span style="color:#a6e22e">sort</span> x1 <span style="color:#e6db74">&#39;&lt;</span>)                            <span style="color:#75715e">;=&gt;(2 3 7 8 9)</span>
x1                                      <span style="color:#75715e">;=&gt;(9),æ³¨æ„,x1å®é™…ä¸Šä¾ç„¶æŒ‡å‘äº†9è¿™ä¸ªcons cellçš„ä½ç½®</span>
</code></pre></div><p><strong>å› æ­¤ä¸€èˆ¬æƒ…å†µä¸‹,éƒ½éœ€è¦æŠŠsortçš„è¿”å›ç»“æœèµ‹å€¼å›å‚æ•°list</strong></p>
</li>
<li>
<p>(delq object list)</p>
<p>ç§»é™¤listä¸­æ‰€æœ‰ä¸objectç›¸ç­‰çš„element,å‡½æ•°ä¸­çš„qè¡¨ç¤ºä½¿ç”¨eqä½œä¸ºæ¯”è¾ƒå‡½æ•°.</p>
<p>ç”±äºdelqåœ¨åˆ é™¤listå¤´éƒ¨çš„elementæ—¶,ä»…ä»…æ˜¯è¿”å›è·³è¿‡å¤´éƒ¨elementçš„cdrä½ç½®,è€Œä¸ä¼šæ”¹å˜listå‚æ•°æ‰€æŒ‡å‘çš„ä½ç½®.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq x1 <span style="color:#f92672">&#39;</span>(a b c))
(<span style="color:#a6e22e">delq</span> <span style="color:#e6db74">&#39;a</span> x1)                            <span style="color:#75715e">;=&gt;(b c)</span>
x1                                      <span style="color:#75715e">;=&gt;(a b c)</span>
</code></pre></div><p><strong>å› æ­¤ä½¿ç”¨delq,ä¸€èˆ¬æˆ‘ä»¬ä¹Ÿéœ€è¦å°†è¿”å›å€¼èµ‹å€¼å›å‚æ•°list</strong></p>
</li>
<li>
<p>(delete object seq)</p>
<p>deleteå‡½æ•°æ¯”è¾ƒç‰¹æ®Š,å®ƒæ ¹æ®seqçš„ç±»å‹ä¸åŒè€Œæœ‰ä¸åŒçš„è¡Œä¸º.</p>
<p>å½“seqä¸ºlistç±»å‹æ—¶,å®ƒè·Ÿdelqä¸€æ ·ä¼šä¿®æ”¹seqçš„å€¼,æ‰€ä¸åŒçš„æ˜¯å®ƒä½¿ç”¨equalä½œä¸ºæ¯”è¾ƒå‡½æ•°.</p>
<p>å½“seqä¸ºvectoræˆ–string,åˆ™deleteä¸ä¼šä¿®æ”¹åŸseqçš„å€¼</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq l <span style="color:#f92672">&#39;</span>((<span style="color:#ae81ff">2</span>) (<span style="color:#ae81ff">1</span>) (<span style="color:#ae81ff">2</span>)))
(<span style="color:#a6e22e">delete</span> <span style="color:#f92672">&#39;</span>(<span style="color:#ae81ff">2</span>) l)                         <span style="color:#75715e">; =&gt; ((1))</span>
l                                       <span style="color:#75715e">; =&gt; ((2) (1))</span>
<span style="color:#75715e">;; If you want to change `l&#39; reliably,</span>
<span style="color:#75715e">;; write `(setq l (delete &#39;(2) l))&#39;.</span>
(setq l <span style="color:#f92672">&#39;</span>((<span style="color:#ae81ff">2</span>) (<span style="color:#ae81ff">1</span>) (<span style="color:#ae81ff">2</span>)))
(<span style="color:#a6e22e">delete</span> <span style="color:#f92672">&#39;</span>(<span style="color:#ae81ff">1</span>) l)                         <span style="color:#75715e">; =&gt; ((2) (2))</span>
l                                       <span style="color:#75715e">; =&gt; ((2) (2))</span>
<span style="color:#75715e">;; In this case, it makes no difference whether you set `l&#39;,</span>
<span style="color:#75715e">;; but you should do so for the sake of the other case.</span>
(setq v [(<span style="color:#ae81ff">2</span>) (<span style="color:#ae81ff">1</span>) (<span style="color:#ae81ff">2</span>)])
(<span style="color:#a6e22e">delete</span> <span style="color:#f92672">&#39;</span>(<span style="color:#ae81ff">2</span>) v)             <span style="color:#75715e">; =&gt; [(1)]</span>
v                           <span style="color:#75715e">; =&gt; [(2) (1) (2)]</span>
</code></pre></div></li>
<li>
<p>(delete-dups list)</p>
<p>åˆ é™¤listä¸­æ‰€æœ‰é‡å¤çš„å…ƒç´ ,ä½¿ç”¨equalä½œä¸ºæ¯”è¾ƒå‡½æ•°.</p>
<p>å½“listä¸­æœ‰å¤šä¸ªé‡å¤å…ƒç´ æ—¶,delete-dupsä¿ç•™ç¬¬ä¸€ä¸ªå…ƒç´ .</p>
</li>
</ul>
<h4 id="ä¸ç ´ååŸå‚æ•°çš„å€¼">ä¸ç ´ååŸå‚æ•°çš„å€¼<a hidden class="anchor" aria-hidden="true" href="#ä¸ç ´ååŸå‚æ•°çš„å€¼">#</a></h4>
<ul>
<li>
<p>(remq object list)
ç±»ä¼¼delq,ä½†ä¸æ”¹å˜åŸå‚æ•°listçš„å€¼. è¿™é‡Œçš„qä¹Ÿè¡¨ç¤ºä½¿ç”¨eqä½œä¸ºåˆ¤æ–­å‡½æ•°.</p>
</li>
<li>
<p>(remove object seq)
ç±»ä¼¼å‡½æ•°delete,ä½†å®ƒä¿è¯ä¸ä¿®æ”¹å‚æ•°seqçš„å€¼</p>
</li>
</ul>
<h3 id="alistç›¸å…³å‡½æ•°">alistç›¸å…³å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#alistç›¸å…³å‡½æ•°">#</a></h3>
<h4 id="è·å–alist">è·å–alist<a hidden class="anchor" aria-hidden="true" href="#è·å–alist">#</a></h4>
<ul>
<li>(copy-alist alist)</li>
</ul>
<p>æ‹·è´alistçš„ä¸€ä¸ªå‰¯æœ¬(two-level deep copy)</p>
<h4 id="æ ¹æ®keyå–key-valueé”®å€¼å¯¹">æ ¹æ®keyå–key-valueé”®å€¼å¯¹<a hidden class="anchor" aria-hidden="true" href="#æ ¹æ®keyå–key-valueé”®å€¼å¯¹">#</a></h4>
<ul>
<li>(assoc key alist)</li>
</ul>
<p>å½“ä½¿ç”¨assocåœ¨alistä¸­å–é”®å€¼å¯¹æ—¶,åªä¼šå–å‘ç°çš„ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„é”®å€¼å¯¹. å› æ­¤å¯ä»¥ç›´æ¥ç”¨pushå‘½ä»¤å°†è¦ä¿®æ”¹ä¸ºçš„æ–°é”®å€¼å¯¹æ”¾åˆ°alistçš„å‰é¢,ä»¥æ­¤æ¥æ¨¡æ‹Ÿå¯¹è€é”®å€¼å¯¹çš„ä¿®æ”¹,åŒæ—¶ä¿ç•™äº†è€é”®å€¼å¯¹çš„å†å².</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-lisp" data-lang="lisp">(<span style="color:#a6e22e">assoc</span> <span style="color:#e6db74">&#39;garden</span> *nodes*)
</code></pre></div><p>assocä½¿ç”¨equalå‡½æ•°ä½œä¸ºæ¯”è¾ƒå‡½æ•°</p>
<ul>
<li>(assq key alist)
ç±»ä¼¼assoc,ä½†å‡½æ•°åä¸­çš„qè¡¨ç¤ºä½¿ç”¨eqä½œä¸ºæ¯”è¾ƒå‡½æ•°. ä¸€èˆ¬ç”¨äºkeyä¸ºsymbolç±»ä¼¼æ—¶,å› ä¸ºeqé€Ÿåº¦æ¯”equalå¿«å¾—å¤š.</li>
</ul>
<h4 id="æ ¹æ®valueæŸ¥æ‰¾key-valueé”®å€¼å¯¹">æ ¹æ®valueæŸ¥æ‰¾key-valueé”®å€¼å¯¹<a hidden class="anchor" aria-hidden="true" href="#æ ¹æ®valueæŸ¥æ‰¾key-valueé”®å€¼å¯¹">#</a></h4>
<ul>
<li>
<p>(rassoc value alist)</p>
<p>rassocä¹Ÿä½¿ç”¨equalä½œä¸ºæ¯”è¾ƒå‡½æ•°.</p>
</li>
<li>
<p>(rassq value alist)</p>
<p>ç±»ä¼¼rassoc,ä½†æ˜¯å‡½æ•°åä¸­çš„qæ ‡è¯†ç”¨eqä½œä¸ºæ¯”è¾ƒå‡½æ•°</p>
</li>
<li>
<p>(assoc-default key alist &amp;optional test default)</p>
<p>assoc-defaultä¸å…¶ä»–assocç³»åˆ—å‡½æ•°ä¸åŒä¹‹å¤„åœ¨äº, <strong>å®ƒç›´æ¥è¿”å›keyéƒ¨åˆ†,è€Œä¸”å®ƒä¹Ÿæ¯”è¾ƒä¸ä¸ºcons cellçš„element</strong>.</p>
<p>è‹¥alistä¸­æŸelementä¸ºatom,åˆ™è¯¥elementæ•´ä¸ªè¢«ç”¨äºä¸å¯ä»¥è¿›è¡Œæ¯”è¾ƒ,ä¸”ä½¿ç”¨defaultä½œä¸ºè¿”å›å€¼.
å¦åˆ™è‹¥elementä¸ºcons cell,åˆ™ä½¿ç”¨(car element)è¿›è¡Œæ¯”è¾ƒ. ä½¿ç”¨(cdr element)ä½œä¸ºè¿”å›å€¼.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq x1 <span style="color:#f92672">&#39;</span>(<span style="color:#ae81ff">0</span> (<span style="color:#ae81ff">1</span> <span style="color:#e6db74">&#34;one&#34;</span>) (<span style="color:#ae81ff">2</span> <span style="color:#e6db74">&#34;two&#34;</span>)(<span style="color:#ae81ff">3</span> <span style="color:#e6db74">&#34;three&#34;</span> )))
(assoc-default <span style="color:#ae81ff">1</span> x1)<span style="color:#75715e">;=&gt;(&#34;one&#34;)</span>
  (assoc-default <span style="color:#ae81ff">0</span> x1 <span style="color:#e6db74">&#39;equal</span> <span style="color:#e6db74">&#34;zero&#34;</span>) <span style="color:#75715e">;=&gt;&#34;four&#34;</span>
  (assoc-default <span style="color:#ae81ff">4</span> x1) <span style="color:#75715e">;=&gt;nil</span>
</code></pre></div><p>testä¸ºæ¯”è¾ƒå‡½æ•°,é»˜è®¤ä¸ºequal</p>
</li>
</ul>
<h4 id="æ›´æ–°æ–°å€¼-æ·»åŠ æ–°å€¼">æ›´æ–°æ–°å€¼/æ·»åŠ æ–°å€¼<a hidden class="anchor" aria-hidden="true" href="#æ›´æ–°æ–°å€¼-æ·»åŠ æ–°å€¼">#</a></h4>
<p>ä½¿ç”¨pushå°†æ–°é”®å€¼å¯¹æ”¾å…¥alistä¸­å³å¯</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">(push <span style="color:#f92672">&#39;</span>(old-key new-value) *alist*)
(push <span style="color:#f92672">&#39;</span>(new-key new-value) *alist*)
</code></pre></div><h4 id="åˆ é™¤é”®å€¼å¯¹">åˆ é™¤é”®å€¼å¯¹<a hidden class="anchor" aria-hidden="true" href="#åˆ é™¤é”®å€¼å¯¹">#</a></h4>
<ul>
<li>
<p>æ ¹æ®keyåˆ é™¤
(assq-delete-all key alist)</p>
<p>ç±»ä¼¼delqçš„alistç‰ˆ,ä»–å¯èƒ½ä¼šä¹Ÿå¯èƒ½ä¸ä¼šä¿®æ”¹åŸalistçš„ç»“æ„,å› æ­¤ <strong>éœ€è¦å°†è¿”å›å€¼èµ‹å€¼å›åŸå‚æ•°alist</strong></p>
<p>å‡½æ•°åä¸­çš„qè¡¨ç¤ºæ¯”è¾ƒæ—¶ä½¿ç”¨eqå‡½æ•°</p>
</li>
<li>
<p>æ ¹æ®valueåˆ é™¤
(rassq-delete-all value alist)</p>
<p>ç±»ä¼¼assq-delete-all,ä½†æ˜¯å®ƒæ¯”è¾ƒvalueè€Œä¸æ˜¯key</p>
</li>
</ul>
<h3 id="property-listç›¸å…³å‡½æ•°">Property listç›¸å…³å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#property-listç›¸å…³å‡½æ•°">#</a></h3>
<ul>
<li>åˆ¤æ–­plistä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„property</li>
</ul>
<p>(plist-member plist property)</p>
<p>è¿”å›plistä¸­æŒ‡å‘propertyçš„ä½ç½®. ä½¿ç”¨eqä½œä¸º</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">plist-member</span> <span style="color:#f92672">&#39;</span>((<span style="color:#ae81ff">1</span>) <span style="color:#e6db74">&#34;one&#34;</span> <span style="color:#ae81ff">2</span> two) <span style="color:#ae81ff">2</span>)     <span style="color:#75715e">;=&gt;(2 two)</span>
</code></pre></div><ul>
<li>
<p>è¿”å›plistä¸­åŒ¹é…å‚æ•°propertyçš„valueå€¼
(plist-get plist property)</p>
<p>è¯¥å‡½æ•°ä½¿ç”¨eqä½œä¸ºæ¯”è¾ƒå‡½æ•°</p>
</li>
</ul>
<!--listend-->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">plist-get</span> <span style="color:#f92672">&#39;</span>(foo <span style="color:#ae81ff">4</span>) <span style="color:#e6db74">&#39;foo</span>)               <span style="color:#75715e">; =&gt; 4</span>
(<span style="color:#a6e22e">plist-get</span> <span style="color:#f92672">&#39;</span>(foo <span style="color:#ae81ff">4</span> bad) <span style="color:#e6db74">&#39;foo</span>)           <span style="color:#75715e">; =&gt; 4</span>
(<span style="color:#a6e22e">plist-get</span> <span style="color:#f92672">&#39;</span>(foo <span style="color:#ae81ff">4</span> bad) <span style="color:#e6db74">&#39;bad</span>)           <span style="color:#75715e">; =&gt; nil</span>
(<span style="color:#a6e22e">plist-get</span> <span style="color:#f92672">&#39;</span>(foo <span style="color:#ae81ff">4</span> bad) <span style="color:#e6db74">&#39;bar</span>)           <span style="color:#75715e">; =&gt; nil</span>
</code></pre></div><p>(lax-plist-get plist property)</p>
<p>ç±»ä¼¼plist-get,ä½†æ˜¯è¯¥å‡½æ•°ä½¿ç”¨equalæ¥ä½œä¸ºæ¯”è¾ƒå‡½æ•°</p>
<ul>
<li>å¢åŠ /ä¿®æ”¹plistä¸­çš„é”®å€¼å¯¹</li>
</ul>
<p>(plist-put plist peroperty value)</p>
<p>è¯¥å‡½æ•°å¯èƒ½/å¯èƒ½ä¸ä¼šä¿®æ”¹åŸå‚æ•°plistçš„ç»“æ„.å› æ­¤ä½ éœ€è¦æŠŠè¿”å›å€¼é‡æ–°èµ‹å€¼å›åŸplistä¸­</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq my-plist <span style="color:#f92672">&#39;</span>(bar <span style="color:#66d9ef">t</span> foo <span style="color:#ae81ff">4</span>))               <span style="color:#75715e">; =&gt; (bar t foo 4)</span>
(setq my-plist (<span style="color:#a6e22e">plist-put</span> my-plist <span style="color:#e6db74">&#39;foo</span> <span style="color:#ae81ff">69</span>)) <span style="color:#75715e">; =&gt; (bar t foo 69)</span>
(setq my-plist (<span style="color:#a6e22e">plist-put</span> my-plist <span style="color:#e6db74">&#39;quux</span> <span style="color:#f92672">&#39;</span>(a))) <span style="color:#75715e">; =&gt; (bar t foo 69 quux (a))</span>
</code></pre></div><p>(lax-plist-put plist property value)
ç±»ä¼¼plist-putå‡½æ•°,ä½†æ˜¯ä½¿ç”¨equalä½œä¸ºæ¯”è¾ƒå‡½æ•°æ¥å†³å®šæ˜¯æ·»åŠ è¿˜æ˜¯æ›´æ–°å€¼</p>
<h2 id="ç¯çŠ¶ç»“æ„ä½“ç›¸å…³å‡½æ•°">ç¯çŠ¶ç»“æ„ä½“ç›¸å…³å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#ç¯çŠ¶ç»“æ„ä½“ç›¸å…³å‡½æ•°">#</a></h2>
<p>æœ‰æ—¶æˆ‘ä»¬ä¼šä½¿ç”¨ä¸€ç§ç¯çŠ¶ç»“æ„ä½“æ¥å­˜å‚¨æ•°æ®,æˆ‘ä»¬å¯ä»¥æ’å…¥æ•°æ®åˆ°ç¯çŠ¶ç»“æ„ä½“ä¸­,ä¹Ÿå¯ä»¥åˆ é™¤,æ—‹è½¬ç¯çŠ¶ç»“æ„ä¸­çš„æ•°æ®,è¿˜å¯ä»¥éå†æ•°æ®æˆ–è€…æ ¹æ®ç´¢å¼•çš„æ¨¡å€¼è®¿é—®æ•°æ®(åœ¨è¿™ç§ç¯çŠ¶ç»“æ„ä½“ä¸­,æœ€æ–°æ’å…¥çš„æ•°æ®ç´¢å¼•ä¸º0,ç„¶åä»æ–°åˆ°å°±ä»¥æ­¤ç´¯åŠ ).</p>
<p>elispæä¾›äº†åä¸º`ring`çš„package,ä¾›æˆ‘ä»¬æ–¹ä¾¿æ“ä½œè¿™ç§ç¯çŠ¶ç»“æ„ä½“.</p>
<ul>
<li>(make-ring size)</li>
</ul>
<p>åˆ›å»ºä¸€ä¸ªå¤§å°ä¸ºsizeçš„ç¯çŠ¶ç»“æ„</p>
<ul>
<li>(ring-p object)</li>
</ul>
<p>åˆ¤æ–­objectæ˜¯å¦ä¸ºç¯çŠ¶ç»“æ„ä½“</p>
<ul>
<li>(ring-size ring)</li>
</ul>
<p>è·å–è¯¥ringä¸Šå®é™…åŒ…å«äº†å¤šå°‘æ•°æ®</p>
<ul>
<li>(ring-elements ring)</li>
</ul>
<p>æŠŠringä¸­çš„æ•°æ®,ä»æ–°åˆ°æ—§,ä»¥listçš„å½¢å¼è¿”å›</p>
<ul>
<li>(ring-emplty-p ring)</li>
</ul>
<p>åˆ¤æ–­ringæ˜¯å¦ä¸ºç©º</p>
<ul>
<li>(ring-ref ring index)</li>
</ul>
<p>æ ¹æ®ç´¢å¼•,æŸ¥æ‰¾ringä¸­ç›¸åº”çš„å€¼.</p>
<p>æœ€æ–°æ’å…¥çš„æ•°æ®ç´¢å¼•ä¸º0,ç„¶åä»æ–°åˆ°æ—§ä¾æ¬¡ç´¯åŠ .</p>
<p>ç´¢å¼•ä¹Ÿå¯ä»¥ä¸ºè´Ÿæ•°,-1è¡¨ç¤ºæœ€æ—§æ’å…¥çš„æ•°æ®,-2è¡¨ç¤ºç¬¬äºŒæ—§çš„æ•°æ®,ä»¥æ­¤ç±»æ¨.</p>
<ul>
<li>(ring-insert ring object)</li>
</ul>
<p>å¾€ringä¸­æ’å…¥object,è¯¥objectä½œä¸ºæœ€æ–°æ’å…¥çš„æ•°æ®,å®ƒçš„ç´¢å¼•ä¸º0.</p>
<p>è‹¥ringä¸­çš„æ•°æ®å·²ç»æ»¡äº†,åˆ™è¯¥æ“ä½œä¼šåŒæ—¶åˆ é™¤æœ€æ—§çš„é‚£ä¸ªæ•°æ®</p>
<p>è¯¥å‡½æ•°çš„è¿”å›å€¼ä¸ºobject</p>
<ul>
<li>(ring-insert-at-beginning ring object)</li>
</ul>
<p>å¾€ringä¸­æ’å…¥æ•°æ®,ä½†è¯¥æ•°æ®è¢«ä½œä¸ºæœ€æ—§çš„æ•°æ®é¡¹æ¥å¤„ç†.</p>
<p>è‹¥ringä¸­çš„æ•°æ®å·²ç»æ»¡äº†,åˆ™è¯¥æ“ä½œä¼šåˆ é™¤æœ€æ—§çš„é‚£ä¸ªæ•°æ®.</p>
<ul>
<li>(ring-remove ring &amp;optional index)</li>
</ul>
<p>é™¤å¹¶è¿”å›ringä¸­çš„æ•°æ®. indexè‹¥ä¸ºnilåˆ™è¡¨ç¤ºæœ€æ—§çš„æ•°æ®</p>
<ul>
<li>è‹¥èƒ½å¤Ÿä¿è¯ä¸è¶…å‡ºringçš„å®¹é‡,åˆ™å¯ä»¥ä½¿ç”¨ringç»“æ„ä½“ä½œä¸ºå…ˆè¿›å…ˆå‡ºé˜Ÿåˆ—æ¥ä½¿ç”¨.ä¾‹å¦‚</li>
</ul>
<!--listend-->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(let ((fifo (make-ring <span style="color:#ae81ff">5</span>)))
  (<span style="color:#a6e22e">mapc</span> (lambda (obj) (ring-insert fifo obj))
        <span style="color:#f92672">&#39;</span>(<span style="color:#ae81ff">0</span> one <span style="color:#e6db74">&#34;two&#34;</span>))
  (<span style="color:#a6e22e">list</span> (ring-remove fifo) <span style="color:#66d9ef">t</span>
        (ring-remove fifo) <span style="color:#66d9ef">t</span>
        (ring-remove fifo)))
<span style="color:#75715e">;; =&gt; (0 t one t &#34;two&#34;)</span>

</code></pre></div><h2 id="sequencesç›¸å…³å‡½æ•°">Sequencesç›¸å…³å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#sequencesç›¸å…³å‡½æ•°">#</a></h2>
<ul>
<li>(sequencep object)</li>
</ul>
<p>åˆ¤æ–­objectæ˜¯å¦ä¸ºsequence</p>
<ul>
<li>(length sequence)</li>
</ul>
<p>è·å–sequenceä¸­çš„elementä¸ªæ•°</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯lengthä¸èƒ½å¯¹ç‚¹åˆ—è¡¨å’Œç¯å½¢åˆ—è¡¨æ±‚é•¿åº¦,ä½†æ˜¯å¯ä»¥ç”¨safe-lengthä»£æ›¿</p>
<ul>
<li>(elt sequence index)</li>
</ul>
<p>è¿”å›sequenceä¸­indexæ‰€æ ‡ç¤ºçš„element(indexä»0å¼€å§‹æ ‡ç¤º)</p>
<p>è‹¥indexçš„å€¼ä¸ä¸º0åˆ°(1- (length sequence)),åˆ™è‹¥å‚æ•°sequenceä¸æ˜¯list,åˆ™elispæŠ¥`args-out-of-range`é”™è¯¯</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">string</span> (<span style="color:#a6e22e">elt</span> <span style="color:#e6db74">&#34;1234&#34;</span> <span style="color:#ae81ff">2</span>))                 <span style="color:#75715e">; =&gt; &#34;3&#34;</span>
(<span style="color:#a6e22e">elt</span> [<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span>] <span style="color:#ae81ff">4</span>)                       <span style="color:#75715e">; error--&gt; Args out of range: [1 2 3 4], 4</span>
(<span style="color:#a6e22e">elt</span> [<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span>] <span style="color:#ae81ff">-1</span>)                      <span style="color:#75715e">; error--&gt; Args out of range: [1 2 3 4], -1</span>
</code></pre></div><ul>
<li>(copy-sequence sequence)</li>
</ul>
<p>åˆ›å»ºsequenceçš„ä¸€ä¸ªæ–°çš„å¼•ç”¨.</p>
<p>è¿™é‡Œå¼•ç”¨çš„æ„æ€åœ¨äºæ–°çš„copyä¸åŸsequenceå…±åŒæŒ‡å‘ä¸€ä¸ªç»“æ„,å³:è‹¥å¯¹æ‹·è´æ·»åŠ ä¿¡æ–°çš„å…ƒç´ ,å¹¶ä¸ä¼šå¯¹åŸsequenceè¿›è¡Œä¿®æ”¹,ä½†è‹¥å¯¹åŸelementè¿›è¡Œä¿®æ”¹ä¼šåŒæ—¶å½±å“åŸsequence,åä¹‹ä¾ç„¶.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq y (<span style="color:#a6e22e">copy-sequence</span> x))              <span style="color:#75715e">; =&gt; [foo (1 2)]</span>
(<span style="color:#a6e22e">eq</span> x y)                                <span style="color:#75715e">; =&gt; nil</span>
(<span style="color:#a6e22e">equal</span> x y)                             <span style="color:#75715e">; =&gt; t</span>
(<span style="color:#a6e22e">eq</span> (<span style="color:#a6e22e">elt</span> x <span style="color:#ae81ff">1</span>) (<span style="color:#a6e22e">elt</span> y <span style="color:#ae81ff">1</span>))                <span style="color:#75715e">; =&gt; t</span>

<span style="color:#75715e">;; Replacing an element of one sequence.</span>
(<span style="color:#a6e22e">aset</span> x <span style="color:#ae81ff">0</span> <span style="color:#e6db74">&#39;quux</span>)                        <span style="color:#75715e">; x =&gt; [quux (1 2)] ; y =&gt; [foo (1 2)]</span>

<span style="color:#75715e">;; Modifying the inside of a shared element.</span>
(<span style="color:#a6e22e">setcar</span> (<span style="color:#a6e22e">aref</span> x <span style="color:#ae81ff">1</span>) <span style="color:#ae81ff">69</span>)                  <span style="color:#75715e">; x =&gt; [quux (69 2)] ; y =&gt; [foo (69 2)]</span>

</code></pre></div><p>copy-sequenceä¸èƒ½ç”¨äºç‚¹åˆ—è¡¨å’Œç¯å½¢åˆ—è¡¨,å¯ä»¥ç”¨copy-treeå‡½æ•°æ‹·è´ç‚¹åˆ—è¡¨,ä½†æ— æ³•å¤åˆ¶ç¯å½¢åˆ—è¡¨</p>
<ul>
<li>(append aVector nil)
appendå‡½æ•°æä¾›äº†ä¸€ç§å°†sequenceè½¬æ¢ä¸ºlistçš„æ–¹æ³•
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq avector [<span style="color:#ae81ff">1</span> two (quote (three)) <span style="color:#e6db74">&#34;four&#34;</span> [five]]) <span style="color:#75715e">; =&gt; [1 two (quote (three)) &#34;four&#34; [five]]</span>
(<span style="color:#a6e22e">append</span> avector <span style="color:#66d9ef">nil</span>)                                 <span style="color:#75715e">; =&gt; (1 two (quote (three)) &#34;four&#34; [five])</span>

</code></pre></div></li>
</ul>
<h3 id="arrayç›¸å…³å‡½æ•°">Arrayç›¸å…³å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#arrayç›¸å…³å‡½æ•°">#</a></h3>
<ul>
<li>(arrayp object)</li>
</ul>
<p>åˆ¤æ–­objectæ˜¯å¦ä¸ºarray</p>
<ul>
<li>(aref array index)</li>
</ul>
<p>è·å–arrayä¸­indexæ‰€æŒ‡çš„elementçš„å¼•ç”¨</p>
<ul>
<li>(aset array index object)</li>
</ul>
<p>è®¾ç½®arrayä¸­ç¬¬indexçš„å…ƒç´ ä¸ºobject,è¯¥å‡½æ•°è¿”å›object</p>
<ul>
<li>(fillarray array object)</li>
</ul>
<p>å°†arrayä¸­æ‰€æœ‰å…ƒç´ éƒ½å¡«å……ä¸ºobject</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq a [a b c d e f g])                <span style="color:#75715e">; =&gt; [a b c d e f g]</span>
(<span style="color:#a6e22e">fillarray</span> a <span style="color:#ae81ff">0</span>)                         <span style="color:#75715e">; =&gt; [0 0 0 0 0 0 0]</span>
a                                       <span style="color:#75715e">; =&gt; [0 0 0 0 0 0 0]</span>
(setq s <span style="color:#e6db74">&#34;When in the course&#34;</span>)           <span style="color:#75715e">; =&gt; &#34;When in the course&#34;</span>
(<span style="color:#a6e22e">fillarray</span> s <span style="color:#e6db74">?-</span>)                        <span style="color:#75715e">; =&gt; &#34;------------------&#34;</span>
</code></pre></div><h4 id="vectorç›¸å…³å‡½æ•°">Vectorç›¸å…³å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#vectorç›¸å…³å‡½æ•°">#</a></h4>
<ul>
<li>
<p>(vectorp object)</p>
<p>åˆ¤æ–­objectæ˜¯å¦ä¸ºvector</p>
</li>
<li>
<p>(vector &amp;rest objects)</p>
<p>åˆ›å»ºç”±objectsç»„æˆçš„vector</p>
</li>
<li>
<p>(make-vector N object)</p>
<p>åˆ›å»ºç”±Nä¸ªobjectç»„æˆçš„vector</p>
</li>
<li>
<p>(vconcat &amp;rest sequences)</p>
<p>å°†sequencesä¸­çš„element,è½¬æ¢åˆ°vectorä¸­</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq a (<span style="color:#a6e22e">vconcat</span> <span style="color:#f92672">&#39;</span>(A B C) <span style="color:#f92672">&#39;</span>(D E F)))    <span style="color:#75715e">; =&gt; [A B C D E F]</span>
(<span style="color:#a6e22e">eq</span> a (<span style="color:#a6e22e">vconcat</span> a))                      <span style="color:#75715e">; =&gt; nil</span>
(<span style="color:#a6e22e">vconcat</span>)                               <span style="color:#75715e">; =&gt; []</span>
(<span style="color:#a6e22e">vconcat</span> [A B C] <span style="color:#e6db74">&#34;aa&#34;</span> <span style="color:#f92672">&#39;</span>(foo (<span style="color:#ae81ff">6</span> <span style="color:#ae81ff">7</span>)))     <span style="color:#75715e">; =&gt; [A B C 97 97 foo (6 7)]</span>
</code></pre></div></li>
</ul>
<h4 id="char-tableç›¸å…³å‡½æ•°">Char-Tableç›¸å…³å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#char-tableç›¸å…³å‡½æ•°">#</a></h4>
<ul>
<li>
<p>(char-table-p object)
åˆ¤æ–­objectæ˜¯å¦ä¸ºchar-tableç±»å‹çš„</p>
</li>
<li>
<p>(make-char-table SUBTYPE &amp;optional init)
åˆ›å»ºä¸€ä¸ªæ–°char-tableå¯¹è±¡,è¯¥char-tableçš„subtypeä¸ºå‚æ•°SUBTYPE(å¿…é¡»ä¸ºsymbolç±»å‹). è¯¥char-tableçš„æ‰€æœ‰elementåˆå§‹åŒ–ä¸ºå‚æ•°init(é»˜è®¤ä¸ºnil).</p>
<p>ä¸€æ—¦åˆ›å»ºäº†char-table,å°±ä¸èƒ½å†ä¿®æ”¹å…¶subtypeäº†.</p>
</li>
<li>
<p>(char-table-subtype char-type)
è¿”å›char-tableçš„subtype</p>
</li>
<li>
<p>(char-table-parent char-table)
è·å¾—char-tableçš„çˆ¶çº§char-tableå¯¹è±¡,è‹¥æ²¡æœ‰,åˆ™è¿”å›nil</p>
<p>char-tableä»çˆ¶çº§char-tableä¸­ç»§æ‰¿å€¼</p>
</li>
<li>
<p>(set-char-table-parent char-table new-parent-char-table)
ä¸ºchar-tableè®¾ç½®çˆ¶çº§char-table</p>
</li>
<li>
<p>(char-table-extra-slot char-table n)
è¿”å›char-tableä¸­ç¬¬nä¸ªslotä¸Šçš„å€¼</p>
<p>ä¸€ä¸ªchar-tableæœ‰å¤šå°‘ä¸ªslot,ç”±å®ƒçš„subtypeçš„å±æ€§`char-table-extra-slots`å†³å®š</p>
</li>
<li>
<p>(set-char-table-extra-slot char-table n value)
è®¾ç½®char-tableçš„ç¬¬nä¸ªslotçš„å€¼ä¸ºvalue</p>
</li>
<li>
<p>(char-table-range char-table range)
è¯¥å‡½æ•°è¿”å›char-tableä¸­æŸä¸ªç”±å‚æ•°rangeæŒ‡å®šçš„èŒƒå›´å†…çš„å€¼</p>
<p>rangeå‚æ•°å¯ä»¥æ˜¯:</p>
<ul>
<li>nil</li>
</ul>
<p>è·å–é»˜è®¤å€¼</p>
<ul>
<li>char</li>
</ul>
<p>è·å–charå¯¹åº”çš„å€¼</p>
<ul>
<li>&lsquo;(from . to)</li>
</ul>
<p>è·å–[from,to]è¿™ä¸ªèŒƒå›´å†…charçš„ç›¸åº”å€¼</p>
</li>
<li>
<p>(set-char-table-range char-table range value)
è®¾ç½®char-tableä¸­ç”±rangeæ‰€æŒ‡èŒƒå›´çš„å¯¹åº”å€¼.</p>
<p>è¿™é‡Œçš„å‚æ•°rangeå¯èƒ½æ˜¯:</p>
<ul>
<li>nil</li>
</ul>
<p>è®¾ç½®char-tableçš„é»˜è®¤å€¼ä¸ºvalue</p>
<ul>
<li>t</li>
</ul>
<p>è®¾ç½®æ•´ä¸ªchar-tableçš„å€¼ä¸ºvalue</p>
<ul>
<li>char</li>
</ul>
<p>è®¾ç½®charå¯¹åº”çš„å€¼ä¸ºvalue</p>
<ul>
<li>(from. to)</li>
</ul>
<p>è®¾ç½®èŒƒå›´[from,to]ä¹‹é—´çš„å€¼ä¸ºvalue</p>
</li>
<li>
<p>(map-char-table function char-table)
é’ˆå¯¹char-tableä¸­æ‰€æœ‰å€¼énilçš„é”®å€¼å¯¹éƒ½ä½œä¸ºå‚æ•°è°ƒç”¨functionå‡½æ•°.</p>
<p>è¯¥functionå‡½æ•°å¿…é¡»æ¥æ”¶ä¸¤ä¸ªå‚æ•°(ä¸€ä¸ªkey,ä¸€ä¸ªvalue).
å…¶ä¸­keyçš„ç±»å‹å¯ä»¥æ˜¯æŸä¸ªchar,æˆ–è¿™ç±»ä¼¼&rsquo;(from . to)è¿™æ ·çš„æ ‡ç¤ºèŒƒå›´çš„cons ceil(ä¸æ˜¯å¾ˆæ˜ç™½ä»€ä¹ˆæ—¶å€™ä¼šç”¨åˆ°(from.to)è¿™æ ·ç±»å‹çš„å‚æ•°å‘¢??)
è€Œvalueçš„å€¼ä¸º(char-table-range char-table key)çš„è¿”å›å€¼</p>
<p>map-char-tableçš„è¿”å›å€¼å¿…å®šä¸ºnil,å› æ­¤æˆ‘ä»¬é€šå¸¸åªä½¿ç”¨functionçš„å‰¯ä½œç”¨.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(let (accumulator)
  (<span style="color:#a6e22e">map-char-table</span>
   <span style="color:#a6e22e">#&#39;</span>(lambda (key value)
       (setq accumulator
             (<span style="color:#a6e22e">cons</span> (<span style="color:#a6e22e">list</span>
                    (if (<span style="color:#a6e22e">consp</span> key)
                        (<span style="color:#a6e22e">list</span> (<span style="color:#a6e22e">car</span> key) (<span style="color:#a6e22e">cdr</span> key))
                      key)
                    value)
                   accumulator)))
   (<span style="color:#a6e22e">syntax-table</span>))
  accumulator)
<span style="color:#75715e">;; =&gt;</span>
<span style="color:#75715e">;; (((2597602 4194303) (2)) ((2597523 2597601) (3))</span>
<span style="color:#75715e">;;  ... (65379 (5 . 65378)) (65378 (4 . 65379)) (65377 (1))</span>
<span style="color:#75715e">;;  ... (12 (0)) (11 (3)) (10 (12)) (9 (0)) ((0 8) (3)))</span>


</code></pre></div></li>
</ul>
<h4 id="bool-vectorç›¸å…³å‡½æ•°">Bool-vectorç›¸å…³å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#bool-vectorç›¸å…³å‡½æ•°">#</a></h4>
<ul>
<li>
<p>åˆ›å»ºbool-vector
(make-bool-vector length initial)</p>
<p>åˆ›å»ºé•¿åº¦ä¸ºlengthçš„bool-vector,æ¯ä¸ªå€¼åˆå§‹åŒ–ä¸ºinitial</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq a (<span style="color:#a6e22e">make-bool-vector</span> <span style="color:#ae81ff">10</span> <span style="color:#66d9ef">nil</span>))      <span style="color:#75715e">;=&gt;#&amp;10&#34;  &#34;</span>

</code></pre></div></li>
<li>
<p>ç±»å‹åˆ¤æ–­</p>
<p>(bool-vector-p object)</p>
<p>objectæ˜¯å¦ä¸ºä¸ºbool-vectorç±»å‹</p>
</li>
<li>
<p>é›†åˆè¿ç®—</p>
<p>(bool-vector-exclusive-or a b &amp;optional c)</p>
<p>æ±‚aå’Œbçš„å¼‚æˆ–è®¡ç®—ç»“æœ,è‹¥æœ‰å‚æ•°c,åˆ™å°†ç»“æœå­˜å…¥cä¸­.
æ‰€æœ‰å‚æ•°éƒ½éƒ½å¿…é¡»ä¸ºbool vectorç±»å‹ä¸”å…·æœ‰ç›¸åŒçš„é•¿åº¦</p>
<p>(bool-vector-union a b &amp;optional c)</p>
<p>æ±‚a&amp;bçš„è®¡ç®—ç»“æœ,è‹¥æœ‰å‚æ•°c,åˆ™å°†ç»“æœå­˜å…¥cä¸­.
æ‰€æœ‰å‚æ•°éƒ½éƒ½å¿…é¡»ä¸ºbool vectorç±»å‹ä¸”å…·æœ‰ç›¸åŒçš„é•¿åº¦</p>
<p>(bool-vector-intersection a b &amp;optional c)</p>
<p>æ±‚a|bçš„è¿ç®—ç»“æœ,è‹¥æœ‰å‚æ•°c,åˆ™å°†ç»“æœå­˜å…¥cä¸­.
æ‰€æœ‰å‚æ•°éƒ½éƒ½å¿…é¡»ä¸ºbool vectorç±»å‹ä¸”å…·æœ‰ç›¸åŒçš„é•¿åº¦</p>
<p>(bool-vector-set-difference a b &amp;optional c)</p>
<p>æ±‚a-bçš„è¿ç®—ç»“æœ,è‹¥æœ‰å‚æ•°c,åˆ™å°†ç»“æœå­˜å…¥cä¸­.
æ‰€æœ‰å‚æ•°éƒ½éƒ½å¿…é¡»ä¸ºbool vectorç±»å‹ä¸”å…·æœ‰ç›¸åŒçš„é•¿åº¦</p>
<p>(bool-vector-not a &amp;optional b)</p>
<p>æ±‚!açš„è¿ç®—ç»“æœ,è‹¥æœ‰å‚æ•°b,åˆ™å°†ç»“æœå­˜å…¥bä¸­.
æ‰€æœ‰å‚æ•°éƒ½éƒ½å¿…é¡»ä¸ºbool vectorç±»å‹ä¸”å…·æœ‰ç›¸åŒçš„é•¿åº¦</p>
<p>(bool-vector-subsetp a b)</p>
<p>åˆ¤æ–­aæ˜¯å¦ä¸ºbçš„å­é›†, æ‰€è°“aæ˜¯bçš„å­é›†æŒ‡çš„æ˜¯æ‰€æœ‰aä¸­å€¼ä¸ºtçš„ä½ç½®,åœ¨bä¸­ä¹Ÿä¸ºt.
æ‰€æœ‰å‚æ•°éƒ½éƒ½å¿…é¡»ä¸ºbool vectorç±»å‹ä¸”å…·æœ‰ç›¸åŒçš„é•¿åº¦</p>
<p>(bool-vector-count-consecutive bool-vector a index)</p>
<p>ç»Ÿè®¡bool-vectorä¸­ä»indexå¼€å§‹,è¿ç»­å€¼ç­‰äºaçš„ä¸ªæ•°</p>
<p>(bool-vector-count-population bool-vector)</p>
<p>ç»Ÿè®¡bool-vectorä¸­å€¼ä¸ºtçš„ä¸ªæ•°</p>
<p>(aref bool-vector index)</p>
<p>è¦ä¿®æ”¹/è·å–bool-vectorçš„å€¼,éœ€è¦ä½¿ç”¨arrayçš„ç›¸å…³å‡½æ•°æ¥è¿›è¡Œ:</p>
<p>è·å–bool-vectorä¸­indexçš„å€¼</p>
<p>(aset bool-vecotr index value)</p>
<p>è®¾ç½®bool-vectoråœ¨indexä½ç½®çš„value</p>
<p>ä¸‹é¢æ˜¯ä¸€äº›ä¾‹å­</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq bv (<span style="color:#a6e22e">make-bool-vector</span> <span style="color:#ae81ff">5</span> <span style="color:#66d9ef">t</span>))        <span style="color:#75715e">; =&gt; #&amp;5&#34;^_&#34;</span>
(<span style="color:#a6e22e">aref</span> bv <span style="color:#ae81ff">1</span>)                             <span style="color:#75715e">; =&gt; t</span>
(<span style="color:#a6e22e">aset</span> bv <span style="color:#ae81ff">3</span> <span style="color:#66d9ef">nil</span>)                         <span style="color:#75715e">; =&gt; nil</span>
bv                                      <span style="color:#75715e">; =&gt; #&amp;5&#34;^W&#34;</span>
</code></pre></div></li>
</ul>
<h2 id="hashtableç›¸å…³å‡½æ•°">HashTableç›¸å…³å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#hashtableç›¸å…³å‡½æ•°">#</a></h2>
<h3 id="åˆ¤æ–­å‡½æ•°">åˆ¤æ–­å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#åˆ¤æ–­å‡½æ•°">#</a></h3>
<ul>
<li>(hash-table-p table)</li>
</ul>
<p>åˆ¤æ–­tableæ˜¯å¦ä¸ºhash-table</p>
<h3 id="åˆ›å»ºhash-table">åˆ›å»ºhash-table<a hidden class="anchor" aria-hidden="true" href="#åˆ›å»ºhash-table">#</a></h3>
<p>(make-hash-table &amp;rest keyword-args)</p>
<p>å¸¸ç”¨çš„keyword-argsæœ‰:</p>
<ul>
<li>
<p>:test TEST</p>
<p>æŒ‡å®šäº†ç”¨äºæµ‹è¯•ç›¸ç­‰çš„å‡½æ•°. é»˜è®¤ä½¿ç”¨eq</p>
</li>
<li>
<p>:weakness WEAK</p>
<p>æŒ‡å®šäº†hash-tableä»€ä¹ˆæ—¶å€™è¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶. WEAKçš„å¯é€‰å‚æ•°ä¸º:</p>
<ul>
<li>nil(é»˜è®¤å€¼)</li>
</ul>
<p>è¡¨ç¤ºkeyå’Œvalueéƒ½ä¸æ˜¯å¼±å¼•ç”¨,hash-tableä¼šä¿è¯keyå’Œvalueä¸ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶</p>
<ul>
<li>key</li>
</ul>
<p>è¡¨ç¤ºkeyä¸ºå¼±å¼•ç”¨,å³è‹¥é™¤äº†hash-tableå…¶ä»–åœ°æ–¹æ²¡æœ‰å¼•ç”¨keyçš„å˜é‡,åˆ™keyå˜é‡æ‰€æŒ‡çš„å†…å­˜å—è¢«å›æ”¶. è¯¥key-valueé”®å€¼å¯¹ä»hash-tableä¸­è¢«åˆ é™¤</p>
<ul>
<li>value</li>
</ul>
<p>è¡¨ç¤ºvalueä¸ºå¼±å¼•ç”¨,å³è‹¥é™¤äº†hash-tableå…¶ä»–åœ°æ–¹æ²¡æœ‰å¼•ç”¨valueçš„å˜é‡,åˆ™valueå˜é‡æ‰€æŒ‡çš„å†…å­˜å—è¢«å›æ”¶. è¯¥key-valueé”®å€¼å¯¹ä»hash-tableä¸­è¢«åˆ é™¤</p>
<ul>
<li>key-or-value</li>
</ul>
<p>è¡¨ç¤ºè‹¥é™¤äº†hash-tableå…¶ä»–åœ°æ–¹ <strong>åŒæ—¶</strong> æ²¡æœ‰å¼•ç”¨keyæˆ–valueçš„å˜é‡,åˆ™keyå’Œvalueå˜é‡æ‰€æŒ‡çš„å†…å­˜å—è¢«å›æ”¶. è¯¥key-valueé”®å€¼å¯¹ä»hash-tableä¸­è¢«åˆ é™¤</p>
<ul>
<li>key-and-value / t</li>
</ul>
<p>è¡¨ç¤ºkeyå’Œvalueéƒ½ä¸ºå¼±å¼•ç”¨,å³è‹¥é™¤äº†hash-tableå…¶ä»–åœ°æ–¹æ²¡æœ‰å¼•ç”¨keyæˆ–valueçš„å˜é‡,åˆ™keyæˆ–valueå˜é‡æ‰€æŒ‡çš„å†…å­˜å—è¢«å›æ”¶. è¯¥key-valueé”®å€¼å¯¹ä»hash-tableä¸­è¢«åˆ é™¤</p>
</li>
<li>
<p>:size SIZE
æŒ‡ç¤ºå¤§è‡´ä¸Šä¼šæœ‰SIZEä¸ªæ•°æ®å­˜å…¥hash-table,ç”¨äºä¼˜åŒ–åˆå§‹å®¹é‡,é»˜è®¤ä¸º65</p>
</li>
<li>
<p>:rehash-size REHASH-SIZE
æŒ‡ç¤ºå½“hash-tableå®¹é‡çˆ†æ»¡å,æ€ä¹ˆè¿›è¡Œæ‰©å®¹.</p>
<p>è‹¥REHASH-SIZEä¸ºæ­£æ•´æ•°,åˆ™æ¯æ¬¡æ‰©å®¹éƒ½å¢åŠ REHASH-SIZEä¸ªå®¹é‡</p>
<p>è‹¥REHASH-SIZEä¸ºæ­£æµ®ç‚¹æ•°,åˆ™æ¯æ¬¡æ‰©å®¹éƒ½æŒ‰ç…§REHASH-SIZEçš„å€æ•°æ¥è°ƒæ•´å®¹é‡(å› æ­¤REHASH-SIZEéœ€è¦&gt;1)</p>
<p>REHASH-SIZEé»˜è®¤ä¸º1.5</p>
</li>
<li>
<p>:rehash-threshold THRESHOLD
è¯¥å‚æ•°æŒ‡æ˜äº†ä»€ä¹ˆæ—¶å€™hash-tableè¿›è¡Œæ‰©å®¹. é»˜è®¤ä¸º0.8</p>
<p>THRESHOLDæ˜¯ä¸€ä¸ªä¸å¤§äº1çš„æµ®ç‚¹æ•°, å½“hash-tableä¸­çš„å…ƒç´ ä¸ªæ•°&gt;THRESHOLDä¹˜ä¸hash-tableå®¹é‡æ—¶,è¿›è¡Œæ‰©å®¹</p>
<p>(copy-hash-table table)</p>
<p>åˆ›å»ºtableçš„å‰¯æœ¬,ä½† <strong>å®ƒçš„keyå’Œvalueä¸åŸtableå…±äº«</strong></p>
</li>
</ul>
<h3 id="æ·»åŠ item-ä¿®æ”¹itemçš„å€¼">æ·»åŠ item / ä¿®æ”¹itemçš„å€¼<a hidden class="anchor" aria-hidden="true" href="#æ·»åŠ item-ä¿®æ”¹itemçš„å€¼">#</a></h3>
<p>(puthash myKey myVal myHash)</p>
<h3 id="åˆ é™¤item">åˆ é™¤item<a hidden class="anchor" aria-hidden="true" href="#åˆ é™¤item">#</a></h3>
<p>(remhash myKey myHash)</p>
<p>åˆ é™¤myHashä¸­ç´¢å¼•ä¸ºmyKeyçš„é”®å€¼å¯¹. è¯¥å‡½æ•°æ€»æ˜¯è¿”å›nil</p>
<p>(clrhash myHash)</p>
<p>æ¸…ç©ºmyHashä¸­çš„æ‰€æœ‰å†…å®¹,è¯¥å‡½æ•°æ€»æ˜¯è¿”å›nil</p>
<h3 id="è·å–æŸitemçš„å€¼">è·å–æŸitemçš„å€¼<a hidden class="anchor" aria-hidden="true" href="#è·å–æŸitemçš„å€¼">#</a></h3>
<p>(gethash myKey myHash &amp;optional default)</p>
<p>è‹¥æ²¡keyä¸ºmyKeyçš„item,åˆ™è¿”å›default,é»˜è®¤ä¸ºnil</p>
<h3 id="è·å–hashä¸­çš„å±æ€§">è·å–hashä¸­çš„å±æ€§<a hidden class="anchor" aria-hidden="true" href="#è·å–hashä¸­çš„å±æ€§">#</a></h3>
<ul>
<li>
<p>è·å–hashä¸­çš„key-valueé”®å€¼å¯¹ä¸ªæ•°
(hash-table-count myHash)</p>
</li>
<li>
<p>è·å–hashä¸­çš„æŸ¥è¯¢æœºåˆ¶(å³:testå±æ€§çš„å€¼)
(hash-table-test myHashTable)</p>
</li>
<li>
<p>è·å–hash-tableä¸­:weakå±æ€§çš„å€¼</p>
</li>
</ul>
<p>(hash-table-weakness myHash)</p>
<ul>
<li>è·å–hash-tableä¸­:rehash-sizeå‚æ•°çš„å€¼</li>
</ul>
<p>(hash-table-rehash-size table)</p>
<ul>
<li>è·å–hash-tableä¸­:rehash-thresholdå‚æ•°çš„å€¼</li>
</ul>
<p>(hash-table-rehash-threshold table)</p>
<ul>
<li>è·å–hash-tableä¸­çš„:sizeå‚æ•°çš„å€¼</li>
</ul>
<p>(hash-table-size table)</p>
<h3 id="ä¸ºhash-mapä¸­çš„æ‰€æœ‰é”®å€¼å¯¹è°ƒç”¨å‡½æ•°å¤„ç†">ä¸ºhash-mapä¸­çš„æ‰€æœ‰é”®å€¼å¯¹è°ƒç”¨å‡½æ•°å¤„ç†<a hidden class="anchor" aria-hidden="true" href="#ä¸ºhash-mapä¸­çš„æ‰€æœ‰é”®å€¼å¯¹è°ƒç”¨å‡½æ•°å¤„ç†">#</a></h3>
<p>(maphash myFunc myHash)</p>
<p>myFuncæ¥æ”¶ä¸¤ä¸ªå‚æ•°,ä¸€ä¸ªkey,ä¸€ä¸ªvalue.è¯¥å‡½æ•°æ€»æ˜¯è¿”å›nil</p>
<h3 id="è·å–hash-mapä¸­çš„æ‰€æœ‰keyå€¼-valueå€¼">è·å–hash-mapä¸­çš„æ‰€æœ‰keyå€¼ / valueå€¼<a hidden class="anchor" aria-hidden="true" href="#è·å–hash-mapä¸­çš„æ‰€æœ‰keyå€¼-valueå€¼">#</a></h3>
<ul>
<li>åœ¨emacs24.4ä¹‹å,å¯ä»¥ä½¿ç”¨</li>
</ul>
<!--listend-->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp"><span style="color:#75715e">;; get all keys</span>
(require <span style="color:#e6db74">&#39;subr-x</span>)
(hash-table-keys myHash) <span style="color:#75715e">;</span>
(hash-table-values myHash) <span style="color:#75715e">;</span>
</code></pre></div><ul>
<li>åœ¨emacs24.3å¯ä»¥è‡ªå®šä¹‰å‡½æ•°</li>
</ul>
<!--listend-->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">(defun get-hash-keys (hashtable)
<span style="color:#e6db74">&#34;Return all keys in hashtable.&#34;</span>
(let (allkeys)
  (<span style="color:#a6e22e">maphash</span> (lambda (kk vv) (setq allkeys (<span style="color:#a6e22e">cons</span> kk allkeys))) hashtable)
  allkeys
)
)

(defun get-hash-values (hashtable)
<span style="color:#e6db74">&#34;Return all values in HASHTABLE.&#34;</span>
(let (allvals)
  (<span style="color:#a6e22e">maphash</span> (lambda (kk vv) (setq allvals (<span style="color:#a6e22e">cons</span> vv allvals))) hashtable)
  allvals
)
)
</code></pre></div><h3 id="ä¿®æ”¹hash-tableçš„æ¯”è¾ƒæ–¹æ³•">ä¿®æ”¹Hash-tableçš„æ¯”è¾ƒæ–¹æ³•<a hidden class="anchor" aria-hidden="true" href="#ä¿®æ”¹hash-tableçš„æ¯”è¾ƒæ–¹æ³•">#</a></h3>
<p>è¦ä¿®æ”¹Hash-tableä¸­çš„æŸ¥è¯¢æœºåˆ¶,éœ€è¦åŒæ—¶ä¿®æ”¹è®¡ç®—Hash Codeçš„æ–¹æ³•å’Œæ¯”è¾ƒkeyå€¼çš„æ–¹æ³•.</p>
<ul>
<li>(define-hash-table-test name test-fn hash-fn)</li>
</ul>
<p>å®šä¹‰ä¸€ä¸ªåä¸ºnameçš„hash-tableæŸ¥è¯¢æœºåˆ¶.</p>
<p>å½“å®šä¹‰äº†æŸ¥è¯¢æœºåˆ¶å,è¯¥æŸ¥è¯¢æœºåˆ¶å°±å¯ä»¥ä¼ ç»™make-hash-tableä¸­çš„:testå‚æ•°ç”¨äºæ–°ç”Ÿæˆçš„hash-tableäº†.</p>
<p>test-fnéœ€è¦æ¥æ”¶ä¸¤ä¸ªkeyä½œä¸ºå‚æ•°,å¹¶åœ¨è®¤ä¸ºä¸¤ä¸ªkeyç›¸ç­‰æ—¶è¿”å›énil</p>
<p>hash-fnåˆ™éœ€è¦æ¥æ”¶ä¸€ä¸ªkeyä½œä¸ºå‚æ•°,å¹¶è¿”å›ä¸€ä¸ªæ•´æ•°(å¯ä»¥ä¸ºè´Ÿæ•°)ä½œä¸ºå®ƒçš„hashå€¼.</p>
<p>elispæä¾›äº†ä¸€ä¸ªå‡½æ•°ç”¨äºæ ¹æ®objectçš„å†…å®¹æ¥ç”Ÿæˆhashå€¼:sxhash</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defun case-fold-string= (a b)
  (<span style="color:#a6e22e">eq</span> <span style="color:#66d9ef">t</span> (<span style="color:#a6e22e">compare-strings</span> a <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">nil</span> b <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)))
(defun case-fold-string-hash (a)
  (<span style="color:#a6e22e">sxhash</span> (<span style="color:#a6e22e">upcase</span> a)))

(<span style="color:#a6e22e">define-hash-table-test</span> <span style="color:#e6db74">&#39;case-fold</span>
  <span style="color:#e6db74">&#39;case-fold-string=</span> <span style="color:#e6db74">&#39;case-fold-string-hash</span>)

(<span style="color:#a6e22e">make-hash-table</span> :test <span style="color:#e6db74">&#39;case-fold</span>)
</code></pre></div><ul>
<li>(sxhash obj)</li>
</ul>
<p>æ ¹æ®objçš„å†…å®¹ç”Ÿæˆhash code,è‹¥ä¸¤ä¸ªobjæ˜¯equalçš„,åˆ™è¯¥å‡½æ•°è¿”å›ç›¸ç­‰çš„hashcode</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">define-hash-table-test</span> <span style="color:#e6db74">&#39;contents-hash</span> <span style="color:#e6db74">&#39;equal</span> <span style="color:#e6db74">&#39;sxhash</span>)

(<span style="color:#a6e22e">make-hash-table</span> :test <span style="color:#e6db74">&#39;contents-hash</span>)

</code></pre></div><h2 id="symbolç›¸å…³å‡½æ•°">Symbolç›¸å…³å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#symbolç›¸å…³å‡½æ•°">#</a></h2>
<h3 id="symbolç»„æˆéƒ¨åˆ†">symbolç»„æˆéƒ¨åˆ†<a hidden class="anchor" aria-hidden="true" href="#symbolç»„æˆéƒ¨åˆ†">#</a></h3>
<ul>
<li>(symbol-name symbol)</li>
</ul>
<p>è·å–symbolçš„åç§°</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">symbol-name</span> <span style="color:#e6db74">&#39;foo</span>)
</code></pre></div><ul>
<li>(symbol-function symbol)</li>
</ul>
<p>è·å–symbolçš„å‡½æ•°cell</p>
<ul>
<li>(indirect-function symbol-or-function &amp;optional noerror)</li>
</ul>
<p>ç±»ä¼¼symbol-function,ä½†è‹¥symbolçš„function cellä¸ºå¦ä¸€ä¸ªsymbol,åˆ™å®ƒä¼šè¿”å›(indirect-function å¦ä¸€ä¸ªsymbol)çš„å€¼</p>
<p>å‚æ•°symbol-or-functionè¡¨ç¤ºå®ƒä¹Ÿå¯ä»¥æ˜¯functionç±»å‹çš„,è‹¥ç±»å‹ä¸ºfunction,åˆ™ç›´æ¥è¿”å›è¯¥functionå‚æ•°</p>
<ul>
<li></li>
</ul>
<ul>
<li>(fset symbol definition)</li>
</ul>
<p>è®¾ç½®symbolçš„å‡½æ•°cellä¸ºdefinition</p>
<h3 id="è·å–symbol">è·å–symbol<a hidden class="anchor" aria-hidden="true" href="#è·å–symbol">#</a></h3>
<ul>
<li>(make-symbol name)</li>
</ul>
<p>åˆ›å»ºuninterned symbol</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq sym (<span style="color:#a6e22e">make-symbol</span> <span style="color:#e6db74">&#34;foo&#34;</span>))          <span style="color:#75715e">; =&gt; foo</span>
(<span style="color:#a6e22e">eq</span> sym <span style="color:#e6db74">&#39;foo</span>)                           <span style="color:#75715e">; =&gt; nil ,uninterned symbolå’Œinterned symbolæ˜¯ä¸ä¸€æ ·çš„</span>
</code></pre></div><ul>
<li>(intern name &amp;optoinal obarray)</li>
</ul>
<p>è¿”å›obarrayä¸­åä¸ºnameçš„symbol,è‹¥obarrayä¸­ä¸å­˜åœ¨åä¸ºnameçš„symbol,åˆ™æ–°å»ºä¸€ä¸ªsymbol.</p>
<p>obarrayé»˜è®¤ä¸ºå…¨å±€å˜é‡`obarray`</p>
<p>å‚æ•°nameå¿…é¡»æ˜¯å­—ç¬¦ä¸²ç±»å‹</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq sym (<span style="color:#a6e22e">intern</span> <span style="color:#e6db74">&#34;foo&#34;</span>))               <span style="color:#75715e">; =&gt; foo</span>
(<span style="color:#a6e22e">eq</span> sym <span style="color:#e6db74">&#39;foo</span>)                           <span style="color:#75715e">; =&gt; t</span>
(setq sym1 (<span style="color:#a6e22e">intern</span> <span style="color:#e6db74">&#34;foo&#34;</span> other-obarray)) <span style="color:#75715e">; =&gt; foo</span>
(<span style="color:#a6e22e">eq</span> sym1 <span style="color:#e6db74">&#39;foo</span>)                           <span style="color:#75715e">; =&gt; nil</span>
</code></pre></div><ul>
<li>(intern-soft name &amp;optional obarray)</li>
</ul>
<p>ç±»ä¼¼intern,ä½†è‹¥obarrayä¸­ä¸å­˜åœ¨åä¸ºnameçš„symbol,åˆ™è¿”å›nil</p>
<p>ä¸”å‚æ•°nameå¯ä»¥ä¸ºsymbolç±»å‹å’Œå­—ç¬¦ä¸²ç±»å‹</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">intern-soft</span> <span style="color:#e6db74">&#34;frazzle&#34;</span>)                 <span style="color:#75715e">; No such symbol exists. =&gt; nil</span>
(<span style="color:#a6e22e">make-symbol</span> <span style="color:#e6db74">&#34;frazzle&#34;</span>)                 <span style="color:#75715e">; Create an uninterned one. =&gt; frazzle</span>
(<span style="color:#a6e22e">intern-soft</span> <span style="color:#e6db74">&#34;frazzle&#34;</span>)                 <span style="color:#75715e">; That one cannot be found. =&gt; nil</span>
(setq sym (<span style="color:#a6e22e">intern</span> <span style="color:#e6db74">&#34;frazzle&#34;</span>))           <span style="color:#75715e">; Create an interned one. =&gt; frazzle</span>
(<span style="color:#a6e22e">intern-soft</span> <span style="color:#e6db74">&#34;frazzle&#34;</span>)                 <span style="color:#75715e">; That one can be found! =&gt; frazzle</span>
(<span style="color:#a6e22e">eq</span> sym <span style="color:#e6db74">&#39;frazzle</span>)                       <span style="color:#75715e">; And it is the same one. =&gt; t</span>
</code></pre></div><h3 id="å…¶ä»–å‡½æ•°">å…¶ä»–å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#å…¶ä»–å‡½æ•°">#</a></h3>
<ul>
<li>(mapatoms func &amp;optional obarray)</li>
</ul>
<p>å¯¹obarrayä¸­åŒ…å«çš„æ¯ä¸ªsymbol,éƒ½è°ƒç”¨funcæ¥å¤„ç†,ç„¶åè¿”å›nil.</p>
<p>obarrayé»˜è®¤ä¸ºå…¨å±€çš„obrrayå˜é‡</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq count <span style="color:#ae81ff">0</span>)

(defun count-syms (s)
  (setq count (<span style="color:#a6e22e">1+</span> count)))

(<span style="color:#a6e22e">mapatoms</span> <span style="color:#e6db74">&#39;count-syms</span>)                  <span style="color:#75715e">; =&gt; nil</span>
count                                   <span style="color:#75715e">; =&gt; 54972</span>
</code></pre></div><ul>
<li>(unintern symbol-or-string obarray)</li>
</ul>
<p>ä»obarrayä¸­åˆ é™¤æŒ‡å®šçš„symbol</p>
<p>åˆ é™¤æˆåŠŸè¿”å›t,å¦åˆ™è¿”å›nil</p>
<h3 id="symbolä¸­çš„property">symbolä¸­çš„property<a hidden class="anchor" aria-hidden="true" href="#symbolä¸­çš„property">#</a></h3>
<ul>
<li>è·å–symbolçš„property</li>
</ul>
<p>(get symbol property)</p>
<p>ä»symbolçš„property listä¸­å‡ºå»å‡ºä¸å‚æ•°property eqçš„å€¼,è‹¥æ²¡æœ‰æ‰¾åˆ°,åˆ™è¿”å›nil</p>
<p>(symbol-plist symbol)</p>
<p>è¿”å›symbolç›¸åº”çš„property list</p>
<p>(function-get symbol property)
è¯¥å‡½æ•°ä¸getç±»ä¼¼,ä½†è‹¥å‚æ•°symbolä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„åˆ«åæ—¶,è¯¥å‡½æ•°è¿”å›å®é™…å‡½æ•°çš„propertyçš„å€¼,è€Œä¸æ˜¯åˆ«åçš„propertyçš„å€¼</p>
<ul>
<li>è®¾ç½®symbolçš„property</li>
</ul>
<p>(put symbol property value)</p>
<p>è®¾ç½®symbolä¸­property listçš„ç›¸åº”propertyçš„å€¼.</p>
<p>è‹¥åŸpropertyä¸å­˜åœ¨åˆ™æ·»åŠ æ–°propertyå’Œvalue,å¦åˆ™æ›´æ–°å…¶value</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">put</span> <span style="color:#e6db74">&#39;fly</span> <span style="color:#e6db74">&#39;verb</span> <span style="color:#e6db74">&#39;transitive</span>)            <span style="color:#75715e">; =&gt;&#39;transitive</span>
(<span style="color:#a6e22e">put</span> <span style="color:#e6db74">&#39;fly</span> <span style="color:#e6db74">&#39;noun</span> <span style="color:#f92672">&#39;</span>(a buzzing little bug)) <span style="color:#75715e">; =&gt; (a buzzing little bug)</span>
(<span style="color:#a6e22e">get</span> <span style="color:#e6db74">&#39;fly</span> <span style="color:#e6db74">&#39;verb</span>)                         <span style="color:#75715e">; =&gt; transitive</span>
(<span style="color:#a6e22e">symbol-plist</span> <span style="color:#e6db74">&#39;fly</span>)                      <span style="color:#75715e">; =&gt; (verb transitive noun (a buzzing little bug))</span>
</code></pre></div><p>(setplist symbol plist)</p>
<p>è¦†ç›–symbolçš„åŸproperty listä¸ºå‚æ•°plist</p>
<p>è¯¥å‡½æ•°çš„è¿”å›å€¼ä¸ºå‚æ•°plist</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">setplist</span> <span style="color:#e6db74">&#39;foo</span> <span style="color:#f92672">&#39;</span>(a <span style="color:#ae81ff">1</span> b (<span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span>) c <span style="color:#66d9ef">nil</span>))    <span style="color:#75715e">; =&gt; (a 1 b (2 3) c nil)</span>
(<span style="color:#a6e22e">symbol-plist</span> <span style="color:#e6db74">&#39;foo</span>)                     <span style="color:#75715e">; =&gt; (a 1 b (2 3) c nil)</span>
</code></pre></div><h3 id="æ ‡å‡†symbol-propertyè¯´æ˜">æ ‡å‡†symbol propertyè¯´æ˜<a hidden class="anchor" aria-hidden="true" href="#æ ‡å‡†symbol-propertyè¯´æ˜">#</a></h3>
<ul>
<li>:advertised-binding</li>
</ul>
<p>symbolæ‰€è¡¨ç¤ºçš„å‡½æ•°çš„å»ºè®®ç»‘å®šé”®</p>
<ul>
<li>char-table-extra-slots</li>
</ul>
<p>è‹¥symbolæ‰€è¡¨ç¤ºçš„å€¼ä¸ºchar-tableç±»å‹,åˆ™è¯¥å€¼æŒ‡æ˜äº†èƒ½æœ‰å¤šå°‘ä¸ªé¢å¤–slot</p>
<ul>
<li>customized-face,face-defface-spc,saved-face,theme-face</li>
</ul>
<p>å®šä¹‰äº†faceçš„æ–¹æ–¹é¢é¢çš„æ€§è´¨,ä¸è¦å»ç›´æ¥ä¿®æ”¹è¿™äº›å±æ€§,è€Œåº”è¯¥ä½¿ç”¨deffacåŠç›¸å…³å‡½æ•°</p>
<ul>
<li>customized-value,save-vlaue,standard-value,theme-value</li>
</ul>
<p>è¿™äº›å±æ€§ç”¨æ¥è®°å½•customizable variableçš„æ–¹æ–¹é¢é¢çš„å±æ€§,ä¸è¦å»ç›´æ¥ä¿®æ”¹è¿™äº›å±æ€§,è€Œåº”è¯¥ä½¿ç”¨defcustomåŠç›¸å…³å‡½æ•°</p>
<ul>
<li>disabled</li>
</ul>
<p>è‹¥ä¸ºénil,åˆ™è¡¨ç¤ºè¯¥å‡½æ•°ä¸ä¸ºcommand</p>
<ul>
<li>face-documentation</li>
</ul>
<p>æŒ‡å®šfaceçš„è¯´æ˜,è¯¥å±æ€§ç”±deffaceè‡ªåŠ¨è®¾ç½®</p>
<ul>
<li>history-length</li>
</ul>
<p>æŒ‡æ˜äº†minibufferä¸­,å¯¹æŒ‡å®šçš„history list variableçš„æœ€å¤§å†å²å­˜å‚¨æ•°é‡</p>
<ul>
<li>interactive-form</li>
</ul>
<p>symbolè¡¨ç¤ºå‡½æ•°çš„interactive form. ä¸è¦ç›´æ¥ä¿®æ”¹è¯¥å±æ€§,ä½¿ç”¨å®šä¹‰å‡½æ•°æ—¶çš„interactiveç‰¹æ®Šform</p>
<ul>
<li>menu-enable</li>
</ul>
<p>è¯¥å±æ€§æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼,æ ¹æ®è¯¥è¡¨è¾¾å¼çš„å€¼æ¥å†³å®šæ˜¯å¦åœ¨menuä¸­æ˜¾ç¤ºè¯¥èœå•é¡¹</p>
<ul>
<li>mode-class</li>
</ul>
<p>è‹¥è¯¥å±æ€§ä¸º`special`,åˆ™æŒ‡å®šçš„major modeæ˜¯`special`çš„</p>
<ul>
<li>permanent-local</li>
</ul>
<p>è‹¥è¯¥å±æ€§å€¼ä¸ºénil,åˆ™è¡¨ç¤ºsymbolè¡¨ç¤ºçš„å˜é‡æ˜¯buffer-localçš„å˜é‡, å½“æ›´æ¢major modeæ—¶,è¿™ç§å˜é‡çš„å€¼ä¸ä¼šè¢«é‡ç½®</p>
<ul>
<li>permanent-local-hook</li>
</ul>
<p>è‹¥è¯¥å±æ€§å€¼ä¸ºénil,åˆ™è¡¨ç¤ºå½“é¥è¯¥major modeæ—¶,è¯¥symbolè¡¨ç¤ºçš„hookå˜é‡ä¸è¢«é‡ç½®</p>
<ul>
<li>pure</li>
</ul>
<p>è¯¥å±æ€§å€¼ä¸ºénilå‘Šè¯‰ç¼–è¯‘å™¨,è¯¥symbolæ‰€è¡¨ç¤ºçš„æ–¹æ³•ä¸ºçº¯å‡½æ•°æ–¹æ³•(å³æ²¡æœ‰å‰¯ä½œç”¨). å› æ­¤åœ¨ä½¿ç”¨constå‚æ•°æ¥è°ƒç”¨è¯¥æ–¹æ³•æ—¶,åœ¨ç¼–è¯‘æœŸå°±èƒ½æ‰§è¡Œè¯¥æ–¹æ³•. è¿™ä¼šè®©ä¸€äº›æœ¬è¯¥åœ¨è¿è¡ŒæœŸæŠ¥çš„é”™è¯¯,åœ¨ç¼–è¯‘å™¨å°±è¢«æ£€æŸ¥å‡ºæ¥.</p>
<ul>
<li>risky-local-variable</li>
</ul>
<p>è‹¥è¯¥å±æ€§å€¼ä¸ºénil,è¡¨ç¤ºè¯¥symbolè¡¨ç¤ºçš„å˜é‡,ä¸å»ºè®®è®¾ç½®ä¸ºfile-local variable</p>
<ul>
<li>safe-function</li>
</ul>
<p>æ ‡ç¤ºè¯¥symbolæ ‡ç¤ºçš„å‡½æ•°,æ˜¯å¦å¯ä»¥å®‰å…¨çš„æ‰§è¡Œ</p>
<ul>
<li>safe-local-eval-function</li>
</ul>
<p>æ ‡ç¤ºè¯¥symbolæ ‡ç¤ºçš„å‡½æ•°,æ˜¯å¦å¯ä»¥å®‰å…¨çš„åœ¨file-local evaluation formä¸­æ‰§è¡Œ</p>
<ul>
<li>safe-local-variable</li>
</ul>
<p>è¯¥å±æ€§å€¼åº”è¯¥æ˜¯ä¸€ä¸ªå‡½æ•°,è¯¥å‡½æ•°ç”¨æ¥å†³å®šè¯¥symbolè¡¨ç¤ºçš„å˜é‡æ˜¯å¦ä¸ºsafe file-localçš„</p>
<ul>
<li>side-effect-free</li>
</ul>
<p>énilè¡¨ç¤ºsymbolè¡¨ç¤ºçš„å‡½æ•°æ— å‰¯ä½œç”¨,è¯¥å±æ€§ç”¨æ¥å†³å®šå‡½æ•°çš„å®‰å…¨æ€§å’Œå­—èŠ‚ç¼–è¯‘ä¼˜åŒ–, <strong>ä¸è¦å°è¯•æ‰‹å·¥ä¿®æ”¹å®ƒ</strong></p>
<ul>
<li>variable-documentation</li>
</ul>
<p>è¯¥å±æ€§ä¸ºæŒ‡å®šå˜é‡çš„è¯´æ˜</p>
<h2 id="region-markç›¸å…³å‡½æ•°">Region/Markç›¸å…³å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#region-markç›¸å…³å‡½æ•°">#</a></h2>
<ul>
<li>è®¾ç½®mark</li>
</ul>
<p>(set-mark-command)</p>
<ul>
<li>åˆ é™¤region</li>
</ul>
<p>(kill-region)</p>
<ul>
<li>æ³¨é‡Šregion</li>
</ul>
<p>(comment-region)</p>
<ul>
<li>é‡æ–°æ ¼å¼åŒ–region</li>
</ul>
<p>(fill-region)</p>
<ul>
<li>ç¼©è¿›region</li>
</ul>
<p>(indent-region)</p>
<ul>
<li>åˆ¤æ–­Regionæ˜¯å¦æ˜¯activeçš„</li>
</ul>
<p>(region-active-p) è¯¥å‡½æ•°è¿˜è¦æ±‚Transient-mark-mode</p>
<h2 id="evaluation">Evaluation<a hidden class="anchor" aria-hidden="true" href="#evaluation">#</a></h2>
<h3 id="åå¼•å·">`(åå¼•å·)<a hidden class="anchor" aria-hidden="true" href="#åå¼•å·">#</a></h3>
<p>`ç±»ä¼¼&rsquo;, ä½†å½“objectå‰å¸¦äº†`,&lsquo;æ—¶åˆ™ä¼šå¯¹è¯¥objectè¿›è¡Œæ±‚å€¼, å½“objectå‰å¸¦äº†`,@`,åˆ™ä¼šå°†objectçš„æ±‚å€¼ç»“æœä¸­çš„å„ä¸ªå…ƒç´ æ‰“æ•£æ’å…¥.</p>
<p>å¯¹äº,@çš„ä½¿ç”¨ï¼Œè¿˜å¦æœ‰é™åˆ¶:</p>
<ol>
<li>
<p>ä¸ºäº†ç¡®ä¿å…¶å‚æ•°å¯ä»¥è¢«æ‹¼æ¥ï¼Œ,@å¿…é¡»å‡ºç°åœ¨åºåˆ—(sequence)Æ®ä¸­ã€‚å½¢å¦‚`,@bçš„è¯´æ³•æ˜¯é”™è¯¯çš„,å› ä¸ºæ— å¤„å¯ä¾›bçš„å€¼è¿›è¡Œæ‹¼æ¥ã€‚</p>
</li>
<li>
<p>è¦è¿›è¡Œæ‹¼æ¥çš„å¯¹è±¡å¿…é¡»æ˜¯ä¸ªåˆ—è¡¨ï¼Œé™¤éå®ƒå‡ºç°åœ¨åˆ—è¡¨æœ€åã€‚</p>
<p>è¡¨è¾¾å¼ <code>`(a ,@1)</code> å°†è¢«æ±‚å€¼æˆ <code>(a . 1)</code>.</p>
<p>ä½†å¦‚æœå°è¯•å°†åŸå­æ‹¼æ¥åˆ°åˆ—è¡¨çš„ä¸­é—´ä½ç½®,ä¾‹å¦‚ <code>`(a ,@1 b)</code>,å°†å¯¼è‡´ä¸€ä¸ªé”™è¯¯.</p>
</li>
<li>
<p>åå¼•ç”¨å¹¶ä¸æ˜¯åªèƒ½ä½¿ç”¨åœ¨.ä½ å¯ä»¥åœ¨ä»»ä½•éœ€è¦æ„é€ åºåˆ—çš„åœºåˆä½¿ç”¨åå¼•ç”¨.</p>
</li>
</ol>
<h3 id="å‡½æ•°">å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#å‡½æ•°">#</a></h3>
<ul>
<li>(eval form &amp;optional lexical)</li>
</ul>
<p>åœ¨å½“å‰ç¯å¢ƒä¸‹æ‰§è¡Œform</p>
<p>å‚æ•°lexicalå†³å®šäº†formä¸­çš„æœ¬åœ°å˜é‡é‡‡ç”¨çš„æ˜¯é™æ€ä½œç”¨åŸŸè¿˜æ˜¯åŠ¨æ€ä½œç”¨åŸŸ.</p>
<ul>
<li>
<p>nil è¡¨ç¤ºä½¿ç”¨åŠ¨æ€ä½œç”¨åŸŸ</p>
</li>
<li>
<p>t è¡¨ç¤ºä½¿ç”¨é™æ€ä½œç”¨åŸŸ</p>
</li>
<li>
<p>æŸä¸ªéç©ºçš„alist è¡¨ç¤ºalistä¸­æ‰€æŒ‡å®šå˜é‡é‡‡ç”¨é™æ€ä½œç”¨åŸŸ,å…¶ä»–å˜é‡ä¸ºåŠ¨æ€ä½œç”¨åŸŸ</p>
</li>
<li>
<p>(eval-region start end &amp;optional stream read-function)</p>
</li>
</ul>
<p>è¿è¡Œç”±startå’Œendæ‰€æ ‡è¯†çš„region</p>
<p>é»˜è®¤æƒ…å†µä¸‹,eval-regionå¹¶ä¸äº§ç”Ÿä»»ä½•è¾“å‡º,ä½†é€šè¿‡ä¼ é€’ä¸€ä¸ªénilçš„streamå‚æ•°,å¯ä»¥å°†æœŸé—´äº§ç”Ÿçš„è¾“å‡ºè¾“å‡ºåˆ°streamä¸­</p>
<p>è‹¥read-functionä¸ºénil,åˆ™ä½¿ç”¨æŒ‡å®šçš„read-functionæ¥å–ä»£readå‡½æ•°è¯»å–è¡¨è¾¾å¼. è¯¥å‡½æ•°éœ€è¦æ¥æ”¶ä¸€ä¸ªå‚æ•°:è¯»å–è¾“å…¥çš„stream</p>
<ul>
<li>(eval-buffer &amp;optioanl buffer-or-name stream filename unibyte print)</li>
</ul>
<p>è¿è¡ŒæŒ‡å®šbufferçš„å¯è§éƒ¨åˆ†æ‰€ç»„æˆçš„region.</p>
<p>buffer-or-nameå¯ä»¥ä¸ºbufferæˆ–string,ä¹Ÿå¯ä»¥ä¸ºnilè¡¨ç¤ºå½“å‰buffer</p>
<p>streamçš„ä½œç”¨è·Ÿeval-regionä¸­çš„streamç±»ä¼¼,ä½†è‹¥streamä¸ºnilè€Œprintä¸ºénil,åˆ™æ‰§è¡Œçš„ç»“æœä¾ç„¶ä¼šè¢«ä¸¢å¼ƒ,ä½†æ‰§è¡Œçš„è¿‡ç¨‹ä¸­æ‰€äº§ç”Ÿçš„å“ªäº›è¾“å‡ºä¼šè¢«è¾“å‡ºåˆ°echo areaä¸­.</p>
<p>filenameæ˜¯çµ¦load-historyä½¿ç”¨çš„æ–‡ä»¶åç§°.</p>
<p>è‹¥inibyteä¸ºénil,åˆ™elisp readerå°½å¯èƒ½çš„å°†stringè½¬æ¢ä¸ºunibyteæ ¼å¼.</p>
<h3 id="é€‰é¡¹">é€‰é¡¹<a hidden class="anchor" aria-hidden="true" href="#é€‰é¡¹">#</a></h3>
<ul>
<li>
<p>max-lisp-eval-depth</p>
</li>
<li>
<p>max-specpdl-size</p>
</li>
<li>
<p>values</p>
</li>
</ul>
<p>è¯¥å˜é‡çš„å€¼ä¸ºä¸€ä¸ªlist,æ¯ä¸ªlistå…ƒç´ éƒ½æ˜¯æ‰§è¡Œformçš„ç»“æœ,æœ€è¿‘çš„ç»“æœæ”¾åˆ°ç¬¬ä¸€ä½.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq x <span style="color:#ae81ff">1</span>)                              <span style="color:#75715e">; =&gt; 1</span>
(<span style="color:#a6e22e">list</span> <span style="color:#e6db74">&#39;A</span> (<span style="color:#a6e22e">1+</span> <span style="color:#ae81ff">2</span>) auto-save-default)      <span style="color:#75715e">; =&gt; (A 3 t)</span>
values                                  <span style="color:#75715e">; =&gt; ((A 3 t) 1 ...)</span>
</code></pre></div><h2 id="ç¼“å†²åŒº">ç¼“å†²åŒº<a hidden class="anchor" aria-hidden="true" href="#ç¼“å†²åŒº">#</a></h2>
<h3 id="è·å–bufferå¯¹è±¡">è·å–bufferå¯¹è±¡<a hidden class="anchor" aria-hidden="true" href="#è·å–bufferå¯¹è±¡">#</a></h3>
<ul>
<li>
<p>å¾—åˆ°å½“å‰bufferå¯¹è±¡</p>
<p>current-buffer(<strong>å½“å‰bufferä¸ä¸€å®šæ˜¯åœ¨å±å¹•ä¸Šæ˜¾ç¤ºçš„å“ªä¸ªç¼“å†²åŒº,å¦å¤–,å½“å‘½ä»¤æ‰§è¡Œå®Œæˆå,å…‰æ ‡æ‰€åœ¨çš„bufferè‡ªåŠ¨æˆä¸ºå½“å‰buffer</strong> )</p>
</li>
<li>
<p>è‹¥ç¼“å†²åŒºå­˜åœ¨åˆ™è¿”å›è¯¥ç¼“å†²åŒºå¯¹è±¡,å¦åˆ™æ–°å»ºç¼“å†²æ± å¯¹è±¡è¿”å›</p>
<p>get-buffer-create</p>
</li>
<li>
<p>è‹¥æœ‰åŒåç¼“å†²åŒºå­˜åœ¨,åˆ™æ–°å»ºçš„ç¼“å†²åŒºåä¼šåŠ ä¸Šåç¼€</p>
<p>generate-new-buffer</p>
</li>
<li>
<p>è·å¾—æ‰€æœ‰bufferçš„åˆ—è¡¨</p>
<p>buffer-list</p>
</li>
<li>
<p>è·å¾—çª—å£å¯¹åº”çš„buffer</p>
<p>window-buffer</p>
</li>
</ul>
<h3 id="bufferæ“ä½œ">bufferæ“ä½œ<a hidden class="anchor" aria-hidden="true" href="#bufferæ“ä½œ">#</a></h3>
<ul>
<li>
<p>è¿”å›å½“å‰bufferçš„æ–‡ä»¶å…¨è·¯å¾„</p>
<p>buffer-file-name</p>
</li>
<li>
<p>è·å¾—æŒ‡å®š/å½“å‰bufferçš„åå­—</p>
<p>buffer-name</p>
</li>
</ul>
<!--listend-->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">(<span style="color:#a6e22e">buffer-name</span> [bufferå¯¹è±¡])
</code></pre></div><ul>
<li>
<p>é‡å‘½åç¼“å†²åŒº</p>
<p>rename-buffer</p>
</li>
<li>
<p>äº§ç”Ÿä¸€ä¸ªå”¯ä¸€çš„ç¼“å†²åŒºå
generate-new-buffer-name</p>
</li>
<li>
<p>è®¾ç½®æŒ‡å®šbufferä¸ºå½“å‰buffer</p>
<p>(set-buffer myBuffer)</p>
</li>
<li>
<p>ä¿å­˜å½“å‰bufferåˆ°æ–‡ä»¶</p>
<p>save-buffer</p>
</li>
<li>
<p>åœ¨ä¸æ”¹å˜å½“å‰çŠ¶æ€ä¸‹,ä¸´æ—¶ç”¨å¦ä¸€bufferçš„å˜é‡ä»£æ›¿ç°æœ‰å˜é‡æ‰§è¡Œè¯­å¥</p>
<p>with-current-buffer</p>
</li>
</ul>
<!--listend-->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">(with-current-buffer bufferå¯¹è±¡æˆ–bufferåç§°
  è¡¨è¾¾å¼)
</code></pre></div><ul>
<li>
<p>å…³é—­ç¼“å†²åŒº</p>
<p>(kill-buffer myBuffer) ;å¦‚æœè¦ç”¨æˆ·ç¡®è®¤æ˜¯å¦è¦å…³é—­ç¼“å†²åŒºï¼Œå¯ä»¥åŠ åˆ°kill-buffer-query-functionsé‡Œã€‚å¦‚æœè¦ä½œå–„åå¤„ç†ï¼Œå¯ä»¥ç”¨kill-buffer-hook</p>
</li>
<li>
<p>å…³é—­å½“å‰buffer</p>
<p>(kill-this-buffer)</p>
</li>
<li>
<p>ç¡®è®¤ç¼“å†²åŒºæ˜¯å¦å­˜åœ¨</p>
<p>buffer-live-p</p>
</li>
<li>
<p>ä½¿ç”¨ä¸´æ—¶bufferæ‰§è¡Œç›¸åº”ä»£ç </p>
<p>with-temp-buffer</p>
</li>
</ul>
<!--listend-->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp"><span style="color:#75715e">;; use a temp buffer to manipulate string</span>
(with-temp-buffer
  (<span style="color:#a6e22e">insert</span> myStr)
  <span style="color:#75715e">;; manipulate the string here</span>
  (<span style="color:#a6e22e">buffer-string</span>) <span style="color:#75715e">; get result</span>
)
</code></pre></div><ul>
<li>
<p>åˆ›å»ºæ–°çš„ç©ºæ ‡è®°</p>
<p>make-marker</p>
</li>
</ul>
<!--listend-->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">(<span style="color:#a6e22e">make-marker</span>)
</code></pre></div><ul>
<li>
<p>è®¾ç½®æ ‡è®°çš„ä½ç½®å’Œç¼“å†²åŒº</p>
<p>set-marker</p>
</li>
</ul>
<!--listend-->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">(<span style="color:#a6e22e">set-marker</span> foo (<span style="color:#a6e22e">point</span>))
</code></pre></div><ul>
<li>
<p>å¾—åˆ°pointå¤„çš„æ ‡è®°</p>
<p>point-marker</p>
</li>
</ul>
<!--listend-->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">(<span style="color:#a6e22e">point-marker</span>)
</code></pre></div><ul>
<li>
<p>å¤åˆ¶æ ‡è®°æˆ–ç›´æ¥ç”¨ä½ç½®ç”Ÿæˆä¸€ä¸ªæ ‡è®°</p>
<p>copy-marker</p>
</li>
</ul>
<!--listend-->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">(<span style="color:#a6e22e">copy-marker</span> ä½ç½®/markerå¯¹è±¡)
</code></pre></div><ul>
<li>
<p>å¾—åˆ°ä¸€ä¸ªmarkerçš„å†…å®¹</p>
<p>maker-position / marker-buffer</p>
</li>
</ul>
<!--listend-->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">(maker-position markerå¯¹è±¡)
(<span style="color:#a6e22e">marker-buffer</span> markerå¯¹è±¡)
</code></pre></div><ul>
<li>
<p>bufferå¤§å°</p>
<p>buffer-size</p>
</li>
<li>
<p>mark-marker</p>
<p>point /point-max /point-min</p>
</li>
</ul>
<p>è¿”å›å½“å‰ç¼“å†²åŒºçš„mark(<strong>æ³¨æ„markä¸markerçš„åŒºåˆ«,markæ˜¯ç”¨æ¥ä¸pointä¸€èµ·å®šä¹‰ä¸€ä¸ªregionçš„,è€Œmarkeræ˜¯ä¸€ä¸ªæ ‡è®°ä½ç½®</strong>)</p>
<ul>
<li>
<p>è®¾ç½®markçš„å€¼,å¹¶æ¿€æ´»mark</p>
<p>set-mark</p>
</li>
<li>
<p>åŠ å…¥/åˆ é™¤mark-ringçš„å…ƒç´ </p>
<p>push-mark / pop-mark</p>
</li>
<li>
<p>å–å¾—regionçš„èµ·ç‚¹å’Œç»ˆç‚¹</p>
<p>region-beginning / region-end</p>
</li>
<li>
<p>è®©æŸä¸ªç¼“å†²åŒºå¯è§</p>
<p>display-buffer</p>
</li>
<li>
<p>åˆ¤æ–­bufferæ˜¯å¦è¢«ä¿®æ”¹</p>
</li>
</ul>
<p>(buffer-modified-p)</p>
<ul>
<li>é€‰ä¸­çš„windowåˆ‡æ¢åˆ°ä¸Šä¸€ä¸ª/ä¸‹ä¸€ä¸ªbuffer</li>
</ul>
<p>(previous-buffer)</p>
<p>(next-buffer)</p>
<ul>
<li></li>
</ul>
<h3 id="è·å–ç¼“å†²åŒºå†…å®¹">è·å–ç¼“å†²åŒºå†…å®¹<a hidden class="anchor" aria-hidden="true" href="#è·å–ç¼“å†²åŒºå†…å®¹">#</a></h3>
<ul>
<li>
<p>å¾—åˆ°æ•´ä¸ªç¼“å†²åŒºçš„æ–‡æœ¬</p>
<p>buffer-string</p>
</li>
<li>
<p>å¾—åˆ°bufferæŸä¸ªåŒºé—´çš„æ–‡æœ¬</p>
<p>buffer-substring</p>
</li>
<li>
<p>å¾—åˆ°pointé™„ä»¶çš„å­—ç¬¦</p>
<p>char-after / char-before</p>
</li>
<li>
<p>pointå¤„çš„è¯</p>
<p>current-word</p>
</li>
<li>
<p>å¾—åˆ°pointå¤„çš„å…¶ä»–ç±»å‹çš„æ–‡æœ¬</p>
<p>thing-at-point</p>
</li>
</ul>
<h3 id="bufferå†…å®¹å¤„ç†ç›¸å…³å‡½æ•°">bufferå†…å®¹å¤„ç†ç›¸å…³å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#bufferå†…å®¹å¤„ç†ç›¸å…³å‡½æ•°">#</a></h3>
<h4 id="åˆ é™¤æ“ä½œ">åˆ é™¤æ“ä½œ<a hidden class="anchor" aria-hidden="true" href="#åˆ é™¤æ“ä½œ">#</a></h4>
<ul>
<li>åˆ é™¤ä»å½“å‰å…‰æ ‡å¼€å§‹çš„Nä¸ªå­—ç¬¦</li>
</ul>
<p>(delete-char N)</p>
<ul>
<li>
<p>åˆ é™¤å…‰æ ‡å‰çš„Nä¸ªå­—ç¬¦</p>
<p>(delete-backward-char N)</p>
<ul>
<li>åˆ é™¤region</li>
</ul>
<p>(delete-region sartPos endPos)</p>
<ul>
<li>æ¸…ç©ºæ•´ä¸ªbuffer</li>
</ul>
<p>(erase-buffer)</p>
</li>
</ul>
<h4 id="æ’å…¥æ“ä½œ">æ’å…¥æ“ä½œ<a hidden class="anchor" aria-hidden="true" href="#æ’å…¥æ“ä½œ">#</a></h4>
<ul>
<li>åœ¨å…‰æ ‡å¤„æ’å…¥æ–‡å­—</li>
</ul>
<p>(insert str)</p>
<ul>
<li>åœ¨å…‰æ ‡å¤„æ’å…¥æŸbufferçš„ä¸€éƒ¨åˆ†æ–‡æœ¬</li>
</ul>
<p>(insert-buffer-substring-no-properties myBuffer myStartPos myEndPos)</p>
<ul>
<li>
<p>æ’å…¥æ–‡ä»¶ä¸­æŸéƒ¨åˆ†åˆ°å½“å‰ç¼“å†²åŒºä¸­</p>
<p>(insert-file-contents myPath)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">(<span style="color:#a6e22e">insert-file-contents</span> filename <span style="color:#66d9ef">&amp;optional</span> visit beg end replace)
</code></pre></div><p>å¦‚æœæŒ‡å®švisitåˆ™ä¼šæ ‡è®°ç¼“å†²åŒºçš„ä¿®æ”¹çŠ¶æ€å¹¶å…³è”ç¼“å†²åŒºåˆ°æ–‡ä»¶ï¼Œä¸€èˆ¬æ˜¯ä¸ç”¨çš„ã€‚
replaceæ˜¯æŒ‡æ˜¯å¦è¦åˆ é™¤ç¼“å†²åŒºé‡Œå…¶å®ƒå†…å®¹ï¼Œè¿™æ¯”å…ˆåˆ é™¤ç¼“å†²åŒºå…¶å®ƒå†…å®¹åæ’å…¥æ–‡ä»¶å†…å®¹è¦å¿«ä¸€äº›ï¼Œä½†æ˜¯ä¸€èˆ¬ä¹Ÿç”¨ä¸ä¸Šã€‚
insert-file-contentsä¼šå¤„ç†æ–‡ä»¶çš„ç¼–ç ï¼Œå¦‚æœä¸éœ€è¦è§£ç æ–‡ä»¶çš„è¯ï¼Œå¯ä»¥ç”¨insert-file-contents-literallyã€‚</p>
</li>
</ul>
<h4 id="æŸ¥æ‰¾-æ›¿æ¢æ“ä½œ">æŸ¥æ‰¾/æ›¿æ¢æ“ä½œ<a hidden class="anchor" aria-hidden="true" href="#æŸ¥æ‰¾-æ›¿æ¢æ“ä½œ">#</a></h4>
<ul>
<li>æ”¹å˜å¤§å°å†™</li>
</ul>
<p>(capitalize-region startPos endPos)</p>
<ul>
<li>æ›¿æ¢æ“ä½œ</li>
</ul>
<p>å˜é‡`case-fold-search`å†³å®šæ˜¯å¦å¤§å°å†™æ•æ„Ÿ</p>
<p>replace-match,éœ€è¦ä¸å…¶ä»–çš„searchç±»å‡½æ•°é…åˆ,å®ƒæ›¿ä»£ä¸Šæ¬¡searchåŒ¹é…çš„æ–‡æœ¬</p>
<p>(replace-match å­—ç¬¦ä¸²) è¡¨ç¤ºç”¨å­—ç¬¦ä¸²æ›¿ä»£ä¸Šæ¬¡searchåŒ¹é…çš„æ–‡æœ¬å‘¢</p>
<ul>
<li>
<p>è·å–ä¸Šæ¬¡æ­£åˆ™æŸ¥è¯¢çš„åˆ†ç»„å†…å®¹</p>
<p>(match-string N) è¿”å›ä¸Šæ¬¡æ­£åˆ™æŸ¥è¯¢çš„ç¬¬Nä¸ªåˆ†ç»„çš„å†…å®¹</p>
</li>
<li>
<p>è·å–ä¸Šæ¬¡æ­£åˆ™æŸ¥è¯¢åˆ†ç»„çš„èµ·å§‹/ç»“æŸç”µ</p>
<p>(match-beginning N)</p>
<p>(match-end N)</p>
</li>
<li></li>
</ul>
<h3 id="ä¿å­˜ç°åœº">ä¿å­˜ç°åœº<a hidden class="anchor" aria-hidden="true" href="#ä¿å­˜ç°åœº">#</a></h3>
<ul>
<li>
<p>ä¿å­˜å½“å‰buffer,æ‰§è¡Œå…¶ä¸­çš„è¡¨è¾¾å¼,ç„¶åå›å¤ä¸ºåŸæ¥çš„buffer</p>
<p>save-current-buffer</p>
</li>
</ul>
<!--listend-->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">(save-current-buffer
  è¡¨è¾¾å¼)
</code></pre></div><ul>
<li>ä¿å­˜narrow-to-region</li>
</ul>
<p>(save-restriction
(narrow-to-region pos1 pos2)
lispä»£ç )</p>
<ul>
<li>ä¿å­˜bufferçŠ¶æ€</li>
</ul>
<p>(save-excursion
reset body
)</p>
<h2 id="window">Window<a hidden class="anchor" aria-hidden="true" href="#window">#</a></h2>
<h3 id="åŸºæœ¬æ¦‚å¿µ">åŸºæœ¬æ¦‚å¿µ<a hidden class="anchor" aria-hidden="true" href="#åŸºæœ¬æ¦‚å¿µ">#</a></h3>
<h4 id="live-window">live window<a hidden class="anchor" aria-hidden="true" href="#live-window">#</a></h4>
<p>æœ‰bufferæ˜¾ç¤ºçš„windowè¢«ç§°ä¸ºlive window, å¯ä»¥é€šè¿‡ <code>(window-livep object)</code> æ¥åˆ¤æ–­</p>
<h4 id="valid-window">valid window<a hidden class="anchor" aria-hidden="true" href="#valid-window">#</a></h4>
<p>valid windowå¯èƒ½æ˜¯live windowæˆ–internal window. è¦æ³¨æ„å®ƒä¸live windowçš„åŒºåˆ«.
ä¸€ä¸ªvalid windowå¯èƒ½è¢«åˆ é™¤,åˆ™å˜æˆinvalid window,ä½†å®ƒä»å¯èƒ½è¢«å…¶ä»–lispå¯¹è±¡æ‰€å¼•ç”¨.
å¹¶ä¸”ä¸€ä¸ªè¢«åˆ é™¤çš„windowå¯èƒ½é€šè¿‡æ¢å¤ä¹‹å‰æŠ¥é”™çš„window configurationå˜å›valid window</p>
<p>ä½¿ç”¨ <code>(window-valid-p object)</code> æ¥åˆ¤æ–­æ˜¯å¦ä¸ºvalid window</p>
<h4 id="selected-window">selected-window<a hidden class="anchor" aria-hidden="true" href="#selected-window">#</a></h4>
<p>ä»»ä½•æ—¶å€™,ä¸ç®¡æœ‰å¤šå°‘ä¸ªframe,åªæœ‰å”¯ä¸€ä¸€ä¸ªselected window</p>
<p>ä¸€èˆ¬æ¥è¯´,selected windowçš„bufferå°±æ˜¯&quot;current buffer&rdquo;,ä½†æœ‰ä¸€ç§æƒ…å†µä¾‹å¤–,å°±æ˜¯ä½¿ç”¨ <code>set-buffer</code> ä¹‹å.</p>
<h3 id="windowä¸frameçš„å…³ç³»">windowä¸frameçš„å…³ç³»<a hidden class="anchor" aria-hidden="true" href="#windowä¸frameçš„å…³ç³»">#</a></h3>
<p>ä¸€ä¸ªwindowåªå¯èƒ½å±äºä¸€ä¸ªframe.</p>
<ul>
<li>
<p>(window-frame &amp;optional window)</p>
<p>è¯¥å‡½æ•°è·å–æŒ‡å®šwindowæ‰€å±çš„frame</p>
</li>
<li>
<p>(window-list &amp;optional frame minibuffer window)</p>
<p>è¯¥å‡½æ•°è·å–æŒ‡å®šframeçš„æ‰€æœ‰ <strong>live window</strong> åˆ—è¡¨.</p>
<p>MINIBUFFERå‚æ•°æŒ‡å®šäº†è¿”å›çš„live windowåˆ—è¡¨æ˜¯å¦åŒ…å«minibuffer window.</p>
<ul>
<li>
<p><strong>t:</strong> åŒ…å«minbuffer window</p>
</li>
<li>
<p><strong>nil:</strong> å½“minibufferè¢«æ¿€æ´»æ—¶æ‰åŒ…å«</p>
</li>
<li>
<p><strong>å…¶ä»–:</strong> ä¸åŒ…å«</p>
</li>
</ul>
<p>WINDOWå‚æ•°æŒ‡å®šäº†live windowåˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªwindow,å®ƒåº”è¯¥æ˜¯æŒ‡å®šframeä¸­çš„ä¸€ä¸ªlive window.</p>
<p>è‹¥æœªæŒ‡å®šWINDOWå‚æ•°,åˆ™selected windowä½œä¸ºåˆ—è¡¨çš„ç¬¬ä¸€ä¸ªwindow</p>
</li>
</ul>
<p>windowåœ¨æ¯ä¸ªframeä¸­éƒ½æ˜¯ä»¥window treeçš„å½¢å¼è¢«ç»„ç»‡èµ·æ¥çš„.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">______________________________________
| ______ ____________________________ |
||      || __________________________ ||
||      |||                          |||
||      |||                          |||
||      |||                          |||
||      |||____________W4____________|||
||      || __________________________ ||
||      |||                          |||
||      |||                          |||
||      |||____________W5____________|||
||__W2__||_____________W3_____________ |
|__________________W1__________________|
</code></pre></div><p>æ¯ä¸ªwindow treeçš„å¶èŠ‚ç‚¹éƒ½æ˜¯live windowç»„æˆçš„.
window treeçš„ä¸­é—´èŠ‚ç‚¹åˆ™æ˜¯ç”±internal windowç»„æˆ,å³å“ªäº›ä¸æ˜¾ç¤ºbufferçš„window
internal windowå­˜åœ¨çš„ç›®çš„æ˜¯ä¸ºäº†ç»„ç»‡live windowä¹‹é—´çš„å…³ç³».
window treeçš„rootèŠ‚ç‚¹è¢«ç§°ä¸ºroot window. å®ƒå¯ä»¥æ˜¯live windowä¹Ÿå¯ä»¥æ˜¯internal window</p>
<p><strong>ä¸€èˆ¬æ¥è¯´,window treeå¹¶ä¸åŒ…å«minibuffer window,é™¤éæ•´ä¸ªframeåªæœ‰è¿™ä¸ªminibuffer window</strong></p>
<p>å½“åˆ†å‰²ä¸€ä¸ªwindowå,åˆ†å‰²å‡ºæ¥çš„ä¸¤ä¸ªlive windowä¸­æœ‰ä¸€ä¸ª <strong>å°±æ˜¯ä¹‹å‰è¢«åˆ†å‰²çš„é‚£ä¸ªwindowå¯¹è±¡</strong>.
emacsä¼šæ–°å»ºä¸¤ä¸ªwindowå¯¹è±¡:ä¸€ä¸ªæ˜¯åˆ†å‰²å‡ºæ¥çš„å¦ä¸€ä¸ªlive window,è¿˜æœ‰ä¸€ä¸ªæ˜¯internel windowä½œä¸ºåˆ†å‰²å‡ºä¸¤ä¸ªlive windowçš„çˆ¶window</p>
<p>æ¯ä¸ªinternal windowæœ€å°‘å…·æœ‰ä¸¤ä¸ªå­çª—å£,è‹¥æŸinternal windowçš„å­çª—å£æ•°é™ä¸º1,åˆ™Emacsè‡ªåŠ¨åˆ é™¤è¯¥internal window.</p>
<h3 id="è·å¾—çª—å£å¯¹è±¡">è·å¾—çª—å£å¯¹è±¡<a hidden class="anchor" aria-hidden="true" href="#è·å¾—çª—å£å¯¹è±¡">#</a></h3>
<ul>
<li>
<p>(frame-root-window &amp;optional frame-or-window)</p>
<p>è¯¥å‡½æ•°è¿”å›FRAME-OR-WINDOWçš„root window</p>
<p>å‚æ•°FRAME-OR-WINDOWè‹¥ä¸ºnilåˆ™è¡¨ç¤ºè¿”å›å½“å‰é€‰ä¸­frameçš„root window</p>
</li>
<li>
<p>(window-parent &amp;optional window)</p>
<p>WINDOWçš„çˆ¶window, é»˜è®¤ä¸ºé€‰ä¸­çª—å£çš„çˆ¶window</p>
</li>
<li>
<p>(window-top-child &amp;optional window)</p>
<p>è¿”å›æŒ‡å®šWINDOWçš„æœ€ä¸Šæ–¹çš„å­window</p>
<p>å½“ç„¶WINDOWå¿…é¡»æ˜¯æ˜¯internal windowä¸”å…¶å­çª—å£åº”æ˜¯å‚ç›´ç»„åˆçš„,å¦åˆ™è¯¥å‡½æ•°è¿”å›nil</p>
</li>
<li>
<p>(window-left-child *optional window)</p>
<p>è¿”å›æŒ‡å®šWINDOWçš„æœ€å·¦æ–¹çš„å­window</p>
<p>å½“ç„¶WINDOWå¿…é¡»æ˜¯æ˜¯internal windowä¸”å…¶å­çª—å£åº”æ˜¯æ°´å¹³ç»„åˆçš„,å¦åˆ™è¯¥å‡½æ•°è¿”å›nil</p>
</li>
<li>
<p>(window-child window)</p>
<p>è¯¥å‡½æ•°è¿”å›æŒ‡å®šWINDOWçš„ç¬¬ä¸€ä¸ªå­window.</p>
<p>è¯¥å‡½æ•°è‡ªåŠ¨åˆ¤æ–­WINDOWä¸­å­windowçš„æ’åˆ—æ–¹å¼,å¹¶è¿”å›æœ€ä¸Šæ–¹ä¼šæœ€å·¦æ–¹çš„å­window</p>
<p>WINDOWå¿…é¡»æ˜¯internal window,å¦åˆ™è¿”å›nil</p>
</li>
<li>
<p>(window-combined-p &amp;optional window horizontal)</p>
<p>åˆ¤æ–­WINDOWæ˜¯å¦ä¸å…¶ä»–WINDOWå‚ç›´/æ°´å¹³æ’åˆ—.</p>
<p>å‚æ•°HORIZONTALä¸ºnilè¡¨ç¤ºåˆ¤æ–­æ˜¯å¦å‚ç›´æ’åˆ—,å¦åˆ™åˆ¤æ–­æ˜¯å¦æ°´å¹³æ’åˆ—</p>
</li>
<li>
<p>(window-next-sibling &amp;optional window)</p>
<p>è¿”å›WINDOWçš„ä¸‹ä¸€ä¸ªå…„å¼Ÿwindow</p>
</li>
<li>
<p>(window-prev-sibling &amp;optional window)</p>
<p>è¿”å›WINDOWçš„ä¸Šä¸€ä¸ªå…„å¼Ÿwindow</p>
</li>
<li>
<p>(frame-first-window &amp;optional frame-or-window)</p>
<p>è¿”å›æŒ‡å®šFRAMEä¸­çš„æœ€æœ€ä¸Šæ–¹çš„live window</p>
</li>
<li>
<p>(window-in-direction direction &amp;optional window ignore sign wrap mini)</p>
<p>è¿”å›ä¸WINDOWåœ¨DIRECATIONæ–¹å‘ä¸Šç›¸é‚»çš„live window</p>
<p>å‚æ•°DIRECTIONå¯èƒ½æ˜¯above,below,left,right</p>
<p>å‚æ•°WINDOWå¿…é¡»æ˜¯live window,ä¸”é»˜è®¤ä¸ºé€‰ä¸­çš„window</p>
<p>ä¸€èˆ¬æƒ…å†µä¸‹, <strong>è¯¥å‡½æ•°ä¼šè·³è¿‡é‚£äº›å‚æ•°`no-other-window&rsquo;ä¸ºénilçš„window</strong>,ä½†è‹¥å‚æ•°IGNOREä¸ºénil,åˆ™è¯¥å‡½æ•°ä¸è·³è¿‡</p>
<p>If the optional argument sign is a negative number, it means to use the right or bottom edge ofwindowas reference position instead ofwindow-point. If sign is a positive number, it means to use the left or top edge ofwindowas reference position.</p>
<p>å‚æ•°WRAPè‹¥ä¸ºénil,åˆ™è¡¨ç¤ºå…è®¸è¶Šè¿‡frameè¾¹ç•Œ,ä¾‹å¦‚æœ€å³è¾¹çš„å³è¾¹è°ƒåˆ°äº†æœ€å·¦è¾¹.</p>
<p>å‚æ•°miniæŒ‡å®šäº†ä»€ä¹ˆæƒ…å†µä¸‹è¿”å›minibuffer window,ä¸”è‹¥WRAPä¸ºénil,åˆ™è¯¥å‡½æ•°åªæœ‰åœ¨minibufferè¢«æ¿€æ´»çŠ¶æ€æ‰è¿”å›minibuffer window</p>
</li>
<li>
<p>(window-tree &amp;optional frame)</p>
<p>è¿”å›æŒ‡å®šframeçš„window-tree</p>
</li>
<li>
<p>å¾—åˆ°å½“å‰å…‰æ ‡æ‰€åœ¨çš„çª—å£å¯¹è±¡</p>
<p>selected-window</p>
</li>
<li>
<p>å¾—åˆ°å½“å‰frameé‡Œçš„æ‰€æœ‰çª—å£</p>
<p>window-list</p>
</li>
<li>
<p>window-listsé‡Œæ’åœ¨æŸä¸ªwindowä¹‹å/ä¹‹å‰çš„çª—å£å¯¹è±¡</p>
<p>next-window / previous-window</p>
</li>
<li>
<p>æŸ¥æ‰¾ç¬¦åˆæŸä¸ªæ¡ä»¶çš„çª—å£</p>
<p>get-window-with-predicate</p>
</li>
<li>
<p>æ ¹æ®bufferè·å¾—window(å¦‚æœæœ‰å¤šä¸ªçª—å£æ˜¾ç¤ºåŒä¸€ä¸ªç¼“å†²åŒº,é‚£ä¹ˆå‡½æ•°ç”±window-listå†³å®šè¿”å›å“ªä¸ª).</p>
<p>get-buffer-window</p>
</li>
<li>
<p>æ ¹æ®bufferè·å¾—å…¨éƒ¨çš„ç›¸åº”window</p>
<p>get-buffer-window-list</p>
</li>
<li>
<p>æ ¹æ®ç»™å®šçš„æ–‡ä»¶å,è¿”å›ç¼“å†²åŒº</p>
<p>find-buffer-visiting</p>
</li>
</ul>
<h3 id="çª—å£æ“ä½œ">çª—å£æ“ä½œ<a hidden class="anchor" aria-hidden="true" href="#çª—å£æ“ä½œ">#</a></h3>
<ul>
<li>
<p>åˆ†å‰²window</p>
<p>split-window</p>
</li>
<li>
<p>åˆ é™¤å½“å‰é€‰ä¸­çš„çª—å£</p>
<p>delete-window</p>
</li>
<li>
<p>åˆ é™¤å…¶ä»–çª—å£</p>
<p>delete-other-windows</p>
</li>
<li>
<p>å¾—åˆ°å½“å‰çª—å£é…ç½®ä¿¡æ¯,å¯ä»¥ç”¨setqä¿å­˜èµ·æ¥</p>
<p>current-window-configuration</p>
</li>
<li>
<p>è®¾ç½®å½“å‰çª—å£é…ç½®ä¿¡æ¯</p>
<p>set-window-configuration</p>
</li>
<li>
<p>ä½¿æŸä¸ªçª—å£å¯¹è±¡å˜æˆé€‰ä¸­çš„çª—å£</p>
<p>select-window</p>
</li>
<li>
<p>æ‰§è¡Œçš„è¯­å¥ç»“æŸå,é€‰æ‹©çš„çª—å£ä»ç•™åœ¨æ‰§è¡Œè¯­å¥ä¹‹å‰çš„çª—å£</p>
<p>save-selected-window / with-selected-window</p>
</li>
<li>
<p>éå†çª—å£æ“ä½œ</p>
<p>walk-windows</p>
</li>
<li>
<p>è®©æŸä¸ªçª—å£æ˜¾ç¤ºæŸä¸ªç¼“å†²åŒº</p>
<p>set-window-buffer</p>
</li>
<li>
<p>è®©é€‰ä¸­çš„çª—å£æ˜¾ç¤ºæŸä¸ªç¼“å†²åŒº</p>
<p>switch-to-buffer</p>
</li>
</ul>
<h3 id="çª—å£ä¿¡æ¯">çª—å£ä¿¡æ¯<a hidden class="anchor" aria-hidden="true" href="#çª—å£ä¿¡æ¯">#</a></h3>
<ul>
<li>
<p>å¾—åˆ°å½“å‰çª—å£çš„ç»“æ„</p>
<p>window-tree</p>
</li>
<li>
<p>åˆ¤æ–­çª—å£å¯¹è±¡æ˜¯å¦å­˜åœ¨</p>
<p>window-live-p</p>
</li>
<li>
<p>è·å¾—çª—å£çš„é«˜åº¦(åŒ…æ‹¬äº†mode lineå’Œ header line)</p>
<p>window-height</p>
</li>
<li>
<p>è·å¾—çª—å£çš„é«˜åº¦(æ’é™¤äº†mode lineå’Œ header line)</p>
<p>window-body-height</p>
</li>
<li>
<p>çª—å£çš„å®½åº¦,ä¸åŒ…æ‹¬æ»šåŠ¨æ¡å’Œè¾¹ç¼˜</p>
<p>window-width</p>
</li>
<li>
<p>è¿”å›å„é¡¶ç‚¹çš„åæ ‡ä¿¡æ¯(åŒ…æ‹¬æ»šåŠ¨æ¡,è¾¹ç¼˜,mode line ,header line)</p>
<p>window-edges</p>
</li>
<li>
<p>è¿”å›çª—å£çš„æ–‡æœ¬åŒºåŸŸçš„åæ ‡ä¿¡æ¯</p>
<p>window-inside-edges</p>
</li>
<li>
<p>ç”¨åƒç´ è¡¨ç¤ºçš„windowä½ç½®</p>
<p>window-pixel-edges / window-inside-pixel-edges</p>
</li>
</ul>
<h2 id="æ–‡ä»¶">æ–‡ä»¶<a hidden class="anchor" aria-hidden="true" href="#æ–‡ä»¶">#</a></h2>
<h3 id="æ–‡ä»¶è¯»å†™">æ–‡ä»¶è¯»å†™<a hidden class="anchor" aria-hidden="true" href="#æ–‡ä»¶è¯»å†™">#</a></h3>
<ul>
<li>
<p>æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶</p>
<p>(find-file myPath)</p>
</li>
<li>
<p>æ”¹å˜ç¼“å†²åŒºå…³è”çš„æ–‡ä»¶</p>
<p>set-visited-file-name</p>
</li>
<li>
<p>ä¿å­˜å½“å‰æ–‡ä»¶</p>
<p>(save-buffer)</p>
</li>
<li>
<p>å¦å­˜ä¸ºæ–‡ä»¶</p>
<p>(write-file myPath)</p>
</li>
<li>
<p>æŠŠæ–‡æœ¬å—è¿½åŠ åˆ°æ–‡ä»¶å</p>
</li>
</ul>
<p>(append-to-file startPos endPos filePath)</p>
<ul>
<li>
<p>æŠŠç¼“å†²åŒºå½“ä¸­çš„ä¸€éƒ¨åˆ†å†™å…¥åˆ°æŒ‡å®šæ–‡ä»¶ä¸­</p>
<p>wirte-region</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">(<span style="color:#a6e22e">write-region</span> start end filename <span style="color:#66d9ef">&amp;optional</span> <span style="color:#a6e22e">append</span> visit lockname mustbenew)
</code></pre></div><p>å¦‚æœæŒ‡å®šappendåˆ™æ˜¯æ·»åŠ åˆ°æ–‡ä»¶æœ«å°¾ã€‚
visitå‚æ•°ä¹Ÿä¼šæŠŠç¼“å†²åŒºå’Œæ–‡ä»¶å…³è”ï¼Œ
lockname åˆ™æ˜¯æ–‡ä»¶é”å®šçš„åå­—
mustbenew(ä¿æ–‡ä»¶å­˜åœ¨æ—¶ä¼šè¦æ±‚ç”¨æˆ·ç¡®è®¤æ“ä½œã€‚</p>
</li>
</ul>
<h3 id="æ–‡ä»¶ä¿¡æ¯">æ–‡ä»¶ä¿¡æ¯<a hidden class="anchor" aria-hidden="true" href="#æ–‡ä»¶ä¿¡æ¯">#</a></h3>
<ul>
<li>
<p>åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨,å¯¹äºç›®å½•å’Œä¸€èˆ¬æ–‡ä»¶éƒ½èƒ½ç”¨è¿™ä¸ªå‡½æ•°è¿›è¡Œåˆ¤æ–­,ä½†æ˜¯ç¬¦å·é“¾æ¥åªæœ‰å½“ç›®æ ‡æ–‡ä»¶å­˜åœ¨æ—¶æ‰è¿”å›t</p>
<p>file-exists-p</p>
</li>
<li>
<p>æ–‡ä»¶å±æ€§åˆ¤æ–­</p>
<p>file-readable-p / file-writable-p / file-executable-p / file-modes</p>
</li>
<li>
<p>åˆ¤æ–­æ–‡ä»¶ç±»å‹æ˜¯æ™®é€šæ–‡ä»¶/ç›®å½•/ç¬¦å·é“¾æ¥,å…¶ä¸­file-symlink-pè¿”å›ç›®æ ‡æ–‡ä»¶å</p>
<p>file-regular-p / file-directory-p / file-symlink-p</p>
</li>
<li>
<p>æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯</p>
<p>file-attributes</p>
</li>
<li>
<p>è®¾ç½®æ–‡ä»¶ä¿®æ”¹æ—¶é—´</p>
<p>set-file-times</p>
</li>
<li>
<p>è®¾ç½®æ–‡ä»¶ä½æ¨¡å¼</p>
<p>set-file-modes</p>
</li>
<li>
<p>é™¤å»é“¾æ¥åçš„çœŸå®æ–‡ä»¶å</p>
<p>file-truename</p>
</li>
</ul>
<h3 id="æ–‡ä»¶åç›¸å…³å‡½æ•°">æ–‡ä»¶åç›¸å…³å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#æ–‡ä»¶åç›¸å…³å‡½æ•°">#</a></h3>
<ul>
<li>
<p>åˆ†è§£æ–‡ä»¶è·¯å¾„å„éƒ¨åˆ†</p>
<p>file-name-directory / file-name-nodirectory / file-name-sans-extension / file-name-extension / file-name-sans-versions</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">(<span style="color:#a6e22e">file-name-directory</span> <span style="color:#e6db74">&#34;~/temp/test.txt&#34;</span>) <span style="color:#75715e">; =&gt; &#34;~/temp/&#34;</span>
(<span style="color:#a6e22e">file-name-nondirectory</span> <span style="color:#e6db74">&#34;~/temp/test.txt&#34;</span>) <span style="color:#75715e">; =&gt; &#34;test.txt&#34;</span>
(file-name-sans-extension <span style="color:#e6db74">&#34;~/temp/test.txt&#34;</span>) <span style="color:#75715e">; =&gt; &#34;~/temp/test&#34;</span>
(file-name-extension <span style="color:#e6db74">&#34;~/temp/test.txt&#34;</span>) <span style="color:#75715e">; =&gt; &#34;txt&#34;</span>
(file-name-sans-versions <span style="color:#e6db74">&#34;~/temp/test.txt~&#34;</span>) <span style="color:#75715e">; =&gt; &#34;~/temp/test.txt&#34;</span>
(file-name-sans-versions <span style="color:#e6db74">&#34;~/temp/test.txt.~1~&#34;</span>) <span style="color:#75715e">; =&gt; &#34;~/temp/test.txt&#34;</span>
</code></pre></div></li>
<li>
<p>æµ‹è¯•ä¸€ä¸ªè·¯å¾„æ˜¯å¦æ˜¯ç»å¯¹è·¯å¾„</p>
<p>file-name-absolute-p</p>
</li>
<li>
<p>å¾—åˆ°ç»å¯¹è·¯å¾„</p>
<p>(expand-file-name myFilePath)</p>
</li>
<li>
<p>æŠŠç»å¯¹è·¯å¾„è½¬æ¢æˆç›¸å¯¹è·¯å¾„</p>
<p>(file-relative-name myFilePath dirPath)</p>
</li>
<li>
<p>æŠŠè·¯å¾„è½¬æ¢ä¸ºç›®å½•å½¢å¼,ä¹Ÿå°±æ˜¯ç¡®ä¿å®ƒæ˜¯ä»¥è·¯å¾„åˆ†éš”ç¬¦ç»“æŸçš„</p>
<p>file-name-as-directory</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">(<span style="color:#a6e22e">file-name-as-directory</span> <span style="color:#e6db74">&#34;~rms/lewis&#34;</span>) <span style="color:#75715e">; =&gt; &#34;~rms/lewis/&#34;</span>
</code></pre></div></li>
<li>
<p>è·å¾—ç›®å½•å</p>
<p>directory-file-name</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">(<span style="color:#a6e22e">directory-file-name</span> <span style="color:#e6db74">&#34;~lewis/&#34;</span>) <span style="color:#75715e">; =&gt; &#34;~lewis&#34;</span>
</code></pre></div></li>
<li>
<p>å¾—åˆ°æ‰€åœ¨ç³»ç»Ÿä½¿ç”¨çš„æ–‡ä»¶å</p>
<p>convert-standard-filename</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">(convert-standard-filename <span style="color:#e6db74">&#34;c:/windows&#34;</span>) <span style="color:#75715e">;=&gt; &#34;c:\\windows&#34;</span>
</code></pre></div></li>
<li>
<p>å¾—åˆ°æŸä¸ªç›®å½•çš„å…¨éƒ¨æˆ–è€…ç¬¦åˆæŸä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„æ–‡ä»¶å,directory-files-attributesè¿”å›çš„åˆ—è¡¨åŒ…å«äº†file-attributeså¾—åˆ°çš„ä¿¡æ¯</p>
<p>directory-files / directory-files-and-attributes</p>
</li>
<li>
<p>å¾—åˆ°æŸä¸ªæ–‡ä»¶åœ¨ç›®å½•ä¸­çš„æ‰€æœ‰ç‰ˆæœ¬</p>
<p>file-name-all-versions</p>
</li>
<li>
<p>å¾—åˆ°é€šé…ç¬¦æ‰©å±•åšçš„æ–‡ä»¶åˆ—è¡¨</p>
<p>file-expand-wildcards</p>
</li>
</ul>
<h3 id="æ–‡ä»¶æ“ä½œ">æ–‡ä»¶æ“ä½œ<a hidden class="anchor" aria-hidden="true" href="#æ–‡ä»¶æ“ä½œ">#</a></h3>
<ul>
<li>
<p>é‡å‘½å æ‹·è´ åˆ é™¤æ–‡ä»¶</p>
<p>(rename-file fileName newName)</p>
<p>(copy-file sourcName desName)</p>
<p>(delete-file fileName)</p>
</li>
</ul>
<p>(copy-directory dirPath newDirPath)</p>
<ul>
<li>
<p>åˆ é™¤ç›®å½•</p>
<p>(delete-directory dirPath æ˜¯å¦å¾ªç¯åˆ é™¤å­ç›®å½•çš„æ ‡è®° æ˜¯å¦æ”¾å…¥Trashçš„æ ‡è®°)</p>
</li>
<li>
<p>è®¾ç½®æ–‡ä»¶MODE</p>
</li>
</ul>
<p>(set-file-mode FILE MODE)</p>
<ul>
<li>è·å–ç›®å½•ä¸­çš„æ–‡ä»¶åˆ—è¡¨</li>
</ul>
<p>(directory-files DIR &amp;optional FULL MATCH NOSORT)</p>
<ul>
<li>åˆ›å»ºç›®å½•</li>
</ul>
<p>(make-dirctory DIR &amp;optional PARENTS)</p>
<ul>
<li></li>
</ul>
<h3 id="ä¸´æ—¶æ–‡ä»¶">ä¸´æ—¶æ–‡ä»¶<a hidden class="anchor" aria-hidden="true" href="#ä¸´æ—¶æ–‡ä»¶">#</a></h3>
<ul>
<li>
<p>è¿™ä¸ªå‡½æ•°æŒ‰ç»™å®šå‰ç¼€äº§ç”Ÿä¸€ä¸ªä¸å’Œç°æœ‰æ–‡ä»¶å†²çªçš„æ–‡ä»¶ï¼Œå¹¶è¿”å›å®ƒçš„æ–‡ä»¶åã€‚å¦‚æœç»™å®šçš„åå­—æ˜¯ä¸€ä¸ªç›¸å¯¹æ–‡ä»¶åï¼Œåˆ™äº§ç”Ÿçš„æ–‡ä»¶åä¼šç”¨temporary-file-directory è¿›è¡Œæ‰©å±•ã€‚ä¹Ÿå¯ä»¥ç”¨è¿™ä¸ªå‡½æ•°äº§ç”Ÿä¸€ä¸ªä¸´æ—¶æ–‡ä»¶å¤¹ã€‚</p>
<p>make-temp-file</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">(make-temp-file <span style="color:#e6db74">&#34;foo&#34;</span>) <span style="color:#75715e">; =&gt; &#34;/tmp/foo5611dxf&#34;</span>
</code></pre></div></li>
<li>
<p>äº§ç”Ÿä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶å</p>
<p>make-temp-name</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">(<span style="color:#a6e22e">make-temp-name</span> <span style="color:#e6db74">&#34;foo&#34;</span>) <span style="color:#75715e">; =&gt; &#34;foo5611q7l&#34;</span>
</code></pre></div></li>
</ul>
<h3 id="ç¥å¥‡çš„handler">ç¥å¥‡çš„handler<a hidden class="anchor" aria-hidden="true" href="#ç¥å¥‡çš„handler">#</a></h3>
<ul>
<li>åœ¨Emacsé‡Œï¼Œåº•å±‚çš„æ–‡ä»¶æ“ä½œå‡½æ•°éƒ½å¯ä»¥æ‰˜ç®¡ç»™elispä¸­çš„å‡½æ•°ï¼Œè¿™æ ·åªè¦ç”¨elispå®ç°äº†æŸç§ç±»å‹æ–‡ä»¶çš„åŸºæœ¬æ“ä½œï¼Œå°±èƒ½åƒç¼–è¾‘æœ¬åœ°æ–‡ä»¶ä¸€æ ·ç¼–è¾‘å…¶å®ƒç±»å‹æ–‡ä»¶äº†</li>
</ul>
<h2 id="processes">Processes<a hidden class="anchor" aria-hidden="true" href="#processes">#</a></h2>
<p>Emacså¯ä»¥åŒæ­¥æˆ–å¼‚æ­¥çš„æ–¹å¼åˆ›å»ºå­è¿›ç¨‹,å¹¶ä»¥processå¯¹è±¡çš„å½¢å¼è¡¨ç°å‡ºæ¥.</p>
<p>é™¤äº†ç®¡ç†Emacsçš„å­è¿›ç¨‹ä¹‹å¤–,Emacsè¿˜å¯ä»¥ç®¡ç†æ“ä½œç³»ç»Ÿä¸­çš„å…¶ä»–éEmacså­è¿›ç¨‹.</p>
<ul>
<li>(processp object)</li>
</ul>
<p>åˆ¤æ–­objectæ˜¯å¦ä¸ºEmacsçš„å­è¿›ç¨‹</p>
<h3 id="åˆ›å»ºå­è¿›ç¨‹">åˆ›å»ºå­è¿›ç¨‹<a hidden class="anchor" aria-hidden="true" href="#åˆ›å»ºå­è¿›ç¨‹">#</a></h3>
<p>å¯ä»¥ä½¿ç”¨`start-process&rsquo;åˆ›å»ºå¼‚æ­¥è¿›ç¨‹,å¹¶è·å¾—process object. ä¹Ÿå¯ä»¥ä½¿ç”¨`call-process&rsquo;å’Œ`call-process-region&rsquo;åˆ›å»ºåŒæ­¥è¿›ç¨‹.</p>
<p>Emacsåˆ›å»ºçš„å­è¿›ç¨‹ç»§æ‰¿äº†Emacsçš„è¿è¡Œç¯å¢ƒ,ä½†å¯ä»¥ä½¿ç”¨`process-environment&rsquo;è¦†ç›–é»˜è®¤çš„è¿è¡Œç¯å¢ƒ.</p>
<p>å‚æ•°programè¡¨ç¤ºè¦æ‰§è¡Œçš„ç¨‹åºåç§°. éœ€è¦æ³¨æ„: <strong>programåº”è¯¥åªåŒ…å«è¦æ‰§è¡Œçš„ç¨‹åºåç§°,è€Œä¸èƒ½åŒ…æ‹¬å‚æ•°</strong></p>
<p>å‚æ•°buffer-or-nameæŒ‡å®šäº†ç¨‹åºçš„è¾“å‡ºæ˜¾ç¤ºåœ¨å“ªä¸ªbufferä¸­,nilè¡¨ç¤ºä¸¢å¼ƒè¾“å‡º. unless a custom filter function handles it. å¯¹äºåŒæ­¥è¿›ç¨‹,å¯ä»¥æŒ‡å®šè¾“å‡ºåˆ°æ–‡ä»¶ä¸­è€Œä¸æ˜¯buffer</p>
<p>å‚æ•°argsè¡¨ç¤ºä¼ é€’åˆ°ç¨‹åºçš„å‚æ•°,æ‰€æœ‰çš„argséƒ½æ˜¯stringç±»å‹çš„. åœ¨è¿™äº›stringä¸­, <strong>æ‰©å±•å­—ç¬¦å’Œå…¶ä»–shellç‰¹æ®Šå­—ç¬¦å¹¶ä¸ä¼šç»è¿‡shellå±•å¼€</strong>,å› ä¸ºå‚æ•°æ˜¯ç›´æ¥ä¼ é€’ç»™æŒ‡å®šç¨‹åºçš„.</p>
<ul>
<li>é…ç½®é¡¹exec-suffixes</li>
</ul>
<p>ä¸€ä¸ªåŒ…å«åç¼€å­—ç¬¦ä¸²çš„list. å½“æœç´¢å¯æ‰§è¡Œç¨‹åºæ—¶,ä¼šæ·»åŠ è¯¥åˆ—è¡¨ä¸­çš„åç¼€åˆ°æ‰§è¡Œç¨‹åºåç§°çš„åé¢.</p>
<ul>
<li>exec-directory</li>
</ul>
<p>è¯¥å˜é‡æ˜¯ä¸€ä¸ªè¡¨ç¤ºç›®å½•çš„å­—ç¬¦ä¸²,è¯¥ç›®å½•å­˜æ”¾çš„æ˜¯Emacsè‡ªå¸¦çš„ä¸€äº›ç¨‹åº</p>
<ul>
<li>é…ç½®é¡¹exec-path</li>
</ul>
<p>å½“Emacsåˆ›å»ºå­è¿›ç¨‹æ—¶,è‹¥å‚æ•°programä¸ºç›¸å¯¹è·¯å¾„,ä¼šä»è¯¥listä¸­æŒ‡å®šçš„ç›®å½•ä¸­æœç´¢è¦æ‰§è¡Œçš„ç¨‹åº.</p>
<p>è¯¥listä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªè¡¨ç¤ºç›®å½•çš„å­—ç¬¦ä¸²,è‹¥ä¸ºnilåˆ™è¡¨ç¤ºdefault directory(å˜é‡`default-directory&rsquo;çš„å€¼)</p>
<ul>
<li>(shell-quote-argument argument)</li>
</ul>
<p>è½¬ä¹‰argument,ä½¿å¾—è¿”å›çš„å­—ç¬¦ä¸²ä»¥shellè¯­æ³•æ¥çœ‹,å…¶çœŸå®çš„å†…å®¹å°±æ˜¯argument</p>
<p>è¯¥å‡½æ•°å¸¸ç”¨äºå°†ç‰¹æ®Šå‚æ•°æŒ‰å­—é¢ä¸Šçš„æ„ä¹‰è½¬é€’çµ¦shellå»æ‰§è¡Œ</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="color:#75715e">;; This example shows the behavior on GNU and Unix systems.</span>
(shell-quote-argument <span style="color:#e6db74">&#34;foo &gt; bar&#34;</span>)      <span style="color:#75715e">; =&gt; &#34;foo\\ \\&gt;\\ bar&#34;</span>

<span style="color:#75715e">;; This example shows the behavior on MS-DOS and MS-Windows.</span>
(shell-quote-argument <span style="color:#e6db74">&#34;foo &gt; bar&#34;</span>)      <span style="color:#75715e">; =&gt; &#34;\&#34;foo &gt; bar\&#34;&#34;</span>
</code></pre></div><ul>
<li>
<p>(split-string-and-unquote string &amp;optional separators)</p>
<p>è¯¥å‡½æ•°å¸¸ç”¨äºå°†ä¸€ä¸ªå­—ç¬¦ä¸²åˆ†æ‹†æˆç”±ç‹¬ç«‹çš„command-line argumentç»„æˆçš„list,å¯ä»¥ç›´æ¥ä½œä¸ºåˆ›å»ºå­è¿›ç¨‹æ—¶çš„argå‚æ•°æ¥ä½¿ç”¨</p>
<p>è¯¥å‡½æ•°æ ¹æ®æ­£åˆ™separatorsçš„è¦æ±‚å°†stringè¿›è¡Œåˆ†æ‹†, å¹¶å¯¹substringè¿›è¡Œåå¼•ç”¨</p>
</li>
<li>
<p>(combine-and-quote-string list-of-strings &amp;optional seprator)</p>
<p>è¯¥å‡½æ•°å¯ä»¥è®¤ä¸ºæ˜¯`split-string-and-unquote&rsquo;çš„åä½œç”¨.</p>
<p>è¯¥å‡½æ•°å°†list-of-stringåˆå¹¶æˆä¸€ä¸ªå•ç‹¬çš„string, è‹¥æœ‰å¿…è¦çš„è¯,è¿˜ä¼šå¯¹listä¸­çš„æ¯ä¸ªstringå…ˆåšä¸€æ¬¡å¼•ç”¨è½¬æ¢.</p>
</li>
<li>
<p>(call-process program &amp;optional infile destination display &amp;rest args)</p>
<p>åŒæ­¥è°ƒç”¨program,è¿™æ—¶Emacsä¼šæš‚åœä¸€ç›´ç­‰åˆ°å­è¿›ç¨‹ç»“æŸ,å¹¶è¿”å›ç»“æŸç </p>
<p>è‹¥å‚æ•°infileä¸ä¸ºnil,è¡¨ç¤ºprogramä»å“ªä¸ªæ–‡ä»¶è¯»å–è¾“å…¥. nilè¡¨ç¤ºä»null deviceè¯»å–è¾“å…¥</p>
<p>è‹¥å‚æ•°displayä¸ºénil,åˆ™`call-process&rsquo;ä¼šåœ¨æœ‰å†…å®¹è¾“å‡ºæ—¶,åˆ·æ–°bufferçš„æ˜¾ç¤º.</p>
<p>å‚æ•°argsè¡¨ç¤ºä¼ é€’çµ¦programçš„å‚æ•°</p>
<p>å‚æ•°destinationè¡¨ç¤ºprogramçš„outputè¾“å‡ºåˆ°å“ª:</p>
<ul>
<li>buffer-or-string</li>
</ul>
<p>æ’å…¥åˆ°bufferä¸­</p>
<ul>
<li>t</li>
</ul>
<p>æ’å…¥åˆ°å½“å‰buffer</p>
<ul>
<li>nil</li>
</ul>
<p>ä¸¢å¼ƒè¾“å‡º</p>
<ul>
<li>0</li>
</ul>
<p>ä¸¢å¼ƒè¾“å‡º,å¹¶ä¸”ä¸ç­‰å¾…å­è¿›ç¨‹ç»“æŸå°±ç›´æ¥è¿”å›nil.</p>
<ul>
<li>(:file FILE-NAME)</li>
</ul>
<p>è¦†ç›–FILE-NAMEæŒ‡ä»£çš„æ–‡ä»¶å†…å®¹</p>
<ul>
<li>(REAL-DESTINATION ERROR-DESTINATION)</li>
</ul>
<p>åŒºåˆ†è¾“å‡ºstdoutå’Œstderr.</p>
<p>è‹¥error-destinationä¸ºnilè¡¨ç¤ºä¸¢å¼ƒstderr,è‹¥ä¸ºtè¡¨ç¤ºä¸stdoutè¾“å‡ºåˆ°ä¸€ä¸ªåœ°æ–¹,è‹¥ä¸ºå­—ç¬¦ä¸²è¡¨ç¤ºè¾“å‡ºstderråˆ°æ–‡ä»¶ä¸­.</p>
<p>æ³¨æ„: <strong>ä½ æ— æ³•å°†error-destincationè®¾ç½®ä¸ºæŸä¸ªbuffer</strong>,å› ä¸ºå®ç°èµ·æ¥å¤ªéš¾äº†.</p>
</li>
<li>
<p>(process-file program &amp;optional infile buffer display &amp;rest args)</p>
<p>ç±»ä¼¼`call-process&rsquo;,ä½†æ ¹æ®å˜é‡`default-directory&rsquo;çš„å€¼ä¸åŒ,å¯èƒ½ä¼šinvoke a file handler</p>
<p>å‚æ•°çš„æ„æ€è·Ÿ`call-process&rsquo;æå…¶ç›¸ä¼¼,å…¶åŒºåˆ«åœ¨äº:</p>
<ul>
<li>
<p>Some file handlers may not support all combinations and forms of the arguments INFILE, BUFFER, and DISPLAY.</p>
</li>
<li>
<p>å½“file handlerè¢«è°ƒç”¨æ—¶,è¯¥file handleræ ¹æ®å‚æ•°programæ¥å†³å®šåº”è¯¥è¿è¡Œå“ªä¸ªç¨‹åº.</p>
</li>
</ul>
<p>ä¾‹å¦‚,suppose that a handler for remote files is invoked.  Then the path that is used for searching for the program might be different from `exec-path&rsquo;</p>
<ul>
<li>
<p>å‚æ•°infileä¹Ÿå¯èƒ½è°ƒç”¨file handler. è¯¥file handlerå¯èƒ½ä¸`process-file&rsquo;è‡ªå·±é€‰æ‹©çš„file-handlerä¸ä¸€æ ·</p>
</li>
<li>
<p>è‹¥å‚æ•°bufferä½¿ç”¨&rsquo;(REAL-DESTINATION ERROR-DESTINATION)è¿™æ ·çš„æ ¼å¼,å¹¶ä¸”ERROR-DESTINATIONä¸ºè¡¨ç¤ºæ–‡ä»¶çš„å­—ç¬¦ä¸²,åˆ™è·Ÿinfileä¸€æ ·,å¯èƒ½è°ƒç”¨èµ·å…¶ä»–çš„file-handler</p>
</li>
</ul>
</li>
<li>
<p>process-file-side-effect</p>
<p>è¯¥å˜é‡æŒ‡å®šäº†å½“è°ƒç”¨`process-file&rsquo;æ—¶,æ˜¯å¦å¯ä»¥ä¿®æ”¹è¿œç¨‹æ–‡ä»¶.</p>
<p>é»˜è®¤ä¸ºt,è¡¨ç¤ºå¯ä»¥ä¿®æ”¹.</p>
<p><strong>è¯¥å‚æ•°åªèƒ½ç”¨åœ¨let-bindingä¸­,ä¸è¦ç”¨åœ¨setqä¸­</strong></p>
</li>
<li>
<p>(call-process-region start end program &amp;optional delete destination display &amp;rest args)</p>
<p>ç±»ä¼¼`call-process&rsquo;,è¯¥å‡½æ•°åŒæ­¥è°ƒç”¨å­è¿›ç¨‹,å¹¶å°†ä»startåˆ°endå¤„çš„æ–‡æœ¬ä½œä¸ºè¿›ç¨‹çš„stdin.</p>
<p>è‹¥å‚æ•°deleteä¸ºénil,åˆ™ä¼šåˆ æ‰ä»startåˆ°endå¤„çš„æ–‡æœ¬å†…å®¹,è¿™åœ¨å‚æ•°destinationä¸ºtæ—¶,å¯ä»¥å®ç°æ›¿ä»£çš„åŠŸèƒ½.</p>
</li>
<li>
<p>(call-process-shell-command command &amp;optional infile destination display &amp;rest args)</p>
<p>è¯¥å‡½æ•°åŒæ­¥æ‰§è¡Œshellå‘½ä»¤command</p>
<p>å…¶å‚æ•°è¯´æ˜ä¸`call-process&rsquo;ç±»ä¼¼</p>
</li>
<li>
<p>(process-file-shell-command command &amp;optional infile destination display &amp;rest args)</p>
<p>ç±»ä¼¼`call-process-shell-command&rsquo;,ä½†æ˜¯å†…éƒ¨ä½¿ç”¨`process-file&rsquo;ä»£æ›¿`call-process&rsquo;</p>
</li>
<li>
<p>(shell-command-to-string command)</p>
<p>è¯¥å‡½æ•°å°†commandä½œä¸ºshell commandæ¥æ‰§è¡Œ,å¹¶å°†æ‰§è¡Œç»“æœä½œä¸ºstringè¿”å›</p>
</li>
<li>
<p>(process-lines program &amp;rest args)</p>
<p>è¯¥å‡½æ•°è¿è¡Œprogram,ç­‰å¾…å®ƒæ‰§è¡Œå®Œæˆ,ç„¶åä»¥å­—ç¬¦ä¸²listçš„å½¢å¼è¿”å›è¾“å‡º.</p>
<p>è‹¥å‚æ•°programé€€å‡ºæ—¶è¿”å›é0çš„é€€å‡ºç ,è¯¥å‡½æ•°ä¼šæŠ›å‡ºerror</p>
</li>
<li>
<p>(start-process name buffer-or-name program &amp;rest args)</p>
<p>è¯¥å‡½æ•°å¼‚æ­¥åˆ›å»ºPROGRAMå­è¿›ç¨‹,å¹¶è¿”å›ä¸€ä¸ªprocess object.</p>
<p>å‚æ•°NAMEæŒ‡å®šäº†è¿”å›process objectçš„åç§°. è‹¥æ”¹åç§°çš„processå·²ç»å­˜åœ¨,åˆ™NAMEä¼šè¢«ä¿®æ”¹(é€šè¿‡åœ¨åé¢æ·»åŠ &lt;1&gt;,&lt;2&gt;&hellip;)æˆå”¯ä¸€çš„åç§°.</p>
<p>å‚æ•°BUFFER-OR-NAMEæ˜¯ä¸processç›¸å…³è”çš„buffer</p>
<p>è‹¥PROGRAMä¸ºnil,åˆ™Emacsåˆ›å»ºä¸€ä¸ªæ–°çš„ä¼ªç»ˆç«¯(pty)å¹¶ä¸”å°†å®ƒçš„inputå’Œoutputä¸BUFFER-OR-NAMEæŒ‡å®šçš„bufferç›¸å…³è”,ä½†æ˜¯ä¸ä¼šå»åˆ›å»ºå­è¿›ç¨‹,è€Œä¸”å‚æ•°ARGSè¢«å¿½ç•¥</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">start-process</span> <span style="color:#e6db74">&#34;my-process&#34;</span> <span style="color:#e6db74">&#34;foo&#34;</span> <span style="color:#e6db74">&#34;sleep&#34;</span> <span style="color:#e6db74">&#34;100&#34;</span>)
<span style="color:#75715e">;;=&gt; #&lt;process my-process&gt;</span>

(<span style="color:#a6e22e">start-process</span> <span style="color:#e6db74">&#34;my-process&#34;</span> <span style="color:#e6db74">&#34;foo&#34;</span> <span style="color:#e6db74">&#34;ls&#34;</span> <span style="color:#e6db74">&#34;-l&#34;</span> <span style="color:#e6db74">&#34;/bin&#34;</span>)
<span style="color:#75715e">;;=&gt; #&lt;process my-process&lt;1&gt;&gt;</span>
</code></pre></div></li>
<li>
<p>(start-file-process name buffer-or-name program &amp;rest args)</p>
<p>ç±»ä¼¼`start-process&rsquo;,ä½†æ˜¯æ ¹æ®`default-directory&rsquo;çš„å€¼ä¸åŒ,å¯èƒ½ä¼šè°ƒç”¨file handler</p>
<p>This function does not try to invoke file name handlers for PROGRAM or for the PROGRAM-ARGS.</p>
<p>æœ‰äº›file handlerä¸èƒ½æ”¯æŒ`start-file-process&rsquo;(ä¾‹å¦‚å‡½æ•°`ange-ftp-hook-function&rsquo;). è¿™ç§æƒ…å†µä¸‹,è¯¥å‡½æ•°ä»€ä¹ˆä¹Ÿä¸åšå¹¶è¿”å›nil</p>
</li>
<li>
<p>(start-process-shell-command name buffer-or-name command)</p>
<p>ç±»ä¼¼`start-process&rsquo;,åªæ˜¯å®ƒä½¿ç”¨shellæ¥æ‰§è¡ŒCOMMAND. ä½¿ç”¨å“ªç§shellç”±å˜é‡`shell-file-name&rsquo;å†³å®š</p>
<p>ä¸ç›´æ¥ç”¨`start-process&rsquo;æ¥æ‰§è¡ŒCOMMANDç›¸æ¯”,ä½¿ç”¨shellæ¥æ‰§è¡ŒCOMMANDçš„å¥½å¤„åœ¨äºå¯ä»¥ä½¿ç”¨shellç‰¹æ€§æ¥å¤„ç†å‚æ•°åŠ›çš„é€šé…ç¬¦.
ä¹Ÿæ­£å› ä¸ºè¿™æ ·,å½“åœ¨å‘½ä»¤ä¸­åŒ…å«ä»»ä½•ç‰¹æ®Šå­—ç¬¦æ—¶,éƒ½éœ€è¦ä½¿ç”¨`shell-quote-argument&rsquo;æ¥è½¬ä¹‰.
åŒæ ·çš„,æ‰§è¡Œçš„å‘½ä»¤æ¥è‡ªäºç”¨æˆ·çš„è¾“å…¥,åˆ™ä¸ºäº†å®‰å…¨è€ƒè™‘,ä¹Ÿéœ€è¦åšä¸€ä¸‹è½¬ä¹‰</p>
</li>
<li>
<p>(start-file-process-shell-command name buffer-or-name command)</p>
<p>ç±»ä¼¼`start-process-shell-command',ä½†æ˜¯åœ¨å†…éƒ¨ä½¿ç”¨`start-file-process&rsquo;ä»£æ›¿`start-process'</p>
</li>
<li>
<p>process-connection-type</p>
<p>Emacsé€šè¿‡&quot;pty&quot;æˆ–&quot;pipe&quot;æ¥æ§åˆ¶å¼‚æ­¥è¿›ç¨‹. å…·ä½“ä½¿ç”¨å“ªç§æ–¹å¼ç”±è¯¥å˜é‡çš„å€¼å†³å®š.</p>
<p>non-nilè¡¨ç¤ºä½¿ç”¨pty,nilè¡¨ç¤ºä½¿ç”¨pipe</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(let ((process-connection-type <span style="color:#66d9ef">nil</span>))  <span style="color:#75715e">; use a pipe</span>
  (<span style="color:#a6e22e">start-process</span> <span style="color:#f92672">...</span>))
</code></pre></div><p>å¯¹äºé‚£äº›ç”¨æˆ·å¯è§çš„è¿›ç¨‹,ä½¿ç”¨&quot;pty&quot;æ›´å¥½ç‚¹,å› ä¸ºå®ƒå…è®¸ç”¨æˆ·åœ¨è¿›ç¨‹ä¸å®ƒçš„å­è¿›ç¨‹ä¹‹é—´è¿›è¡Œjob control(`C-c',`C-z&rsquo;ç­‰æ“ä½œ)</p>
<p>è€Œå¯¹äºç¨‹åºå†…éƒ¨ä½¿ç”¨çš„è¿›ç¨‹æ¥è¯´,åå‘ä½¿ç”¨&quot;pipe&quot;,å› ä¸ºå®ƒæ›´æœ‰æ•ˆç‡,and because they are immune to stray character injections that ptys introduce for large (around 500 byte) messages. è€Œä¸”ptyçš„æ€»æ•°æ˜¯æœ‰é™åˆ¶çš„,æœ€å¥½ä¸è¦æµªè´¹</p>
</li>
</ul>
<h3 id="deleting-processes">Deleting Processes<a hidden class="anchor" aria-hidden="true" href="#deleting-processes">#</a></h3>
<p>delete processä¼šç«‹å³æ–­å¼€Emacsä¸processçš„è¿æ¥,å¹¶ä¸”Emacsä¼šå‘é€ä¿¡å·å»ç»ˆæ­¢processçš„æ‰§è¡Œ,å¹¶è°ƒç”¨process sentinel</p>
<p>è¦æ³¨æ„: <strong>processè¢«åˆ é™¤æ‰,ä¸ä»£è¡¨process objectä¼šè¢«ç«‹åˆ»å›æ”¶</strong> æœ‰äº›å‡½æ•°å¯ä»¥æ¥æ”¶è¡¨ç¤ºè¢«åˆ é™¤processçš„process object,ä½†æ˜¯å°è¯•å¯¹å®ƒä½œIOæ“ä½œ,å‘å‘é€ä¿¡å·çµ¦å®ƒæ—¶,ä¼šçˆ†å‡ºé”™è¯¯.</p>
<ul>
<li>é…ç½®é¡¹delete-exited-processes</li>
</ul>
<p>è¯¥å˜é‡å†³å®šäº†å½“ä¸€ä¸ªprocessç»ˆæ­¢è¿è¡Œäº†,æ˜¯å¦è‡ªåŠ¨åˆ é™¤å®ƒ.</p>
<p>è‹¥ä¸ºnilåˆ™ä¸è‡ªåŠ¨åˆ é™¤,ç›´åˆ°è¿è¡Œ`list-processes&rsquo;å‘½ä»¤æ‰ä½œåˆ é™¤</p>
<p>énilè¡¨ç¤ºprocessé€€å‡ºæ—¶,è‡ªåŠ¨åˆ é™¤å®ƒ</p>
<ul>
<li>(delete-process process)</li>
</ul>
<p>è¯¥å‡½æ•°ä¸»åŠ¨åˆ é™¤process,ä¼šå‘é€`SIGKILL&rsquo;ä¿¡å·æ¥å…³é—­è¿›ç¨‹.</p>
<p>å‚æ•°processå¯ä»¥æ˜¯ä¸€ä¸ªprocess,processçš„åç§°,processå…³è”çš„buffer,processå…³è”çš„bufferåç§°.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">delete-process</span> <span style="color:#e6db74">&#34;*shell*&#34;</span>)              <span style="color:#75715e">; =&gt; nil</span>
</code></pre></div><h3 id="processçš„å±æ€§">processçš„å±æ€§<a hidden class="anchor" aria-hidden="true" href="#processçš„å±æ€§">#</a></h3>
<ul>
<li>å‘½ä»¤(list-processes &amp;optional query-only buffer)</li>
</ul>
<p>è¯¥å‘½ä»¤æ˜¾ç¤ºæ‰€æœ‰living process,å¹¶ä¸”ä¼šåˆ é™¤é‚£äº›çŠ¶æ€ä¸º`Exited&rsquo;æˆ–`Signaled&rsquo;çš„process. è¯¥å‡½æ•°è¿”å›nil</p>
<p>å‚æ•°bufferæŒ‡å®šäº†ç»“æœæ˜¾ç¤ºåˆ°å“ªä¸ªbufferä¸­,é»˜è®¤ä¸º`*Process List*',å®ƒçš„major modeéœ€è¦æ˜¯Process Menu mode</p>
<p>è‹¥å‚æ•°query-onlyä¸ºénil,åˆ™åªåˆ—å‡ºé‚£äº›query flagä¸ºénilçš„process</p>
<ul>
<li>(process-list)</li>
</ul>
<p>åˆ—å‡ºæœªåˆ é™¤æ‰çš„processçš„åˆ—è¡¨</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">process-list</span>)
=&gt; (<span style="color:#960050;background-color:#1e0010">#</span>&lt;process display-time&gt; <span style="color:#960050;background-color:#1e0010">#</span>&lt;process shell&gt;)
</code></pre></div><ul>
<li>(get-process name)</li>
</ul>
<p>è·å–åç§°ä¸ºnameçš„process object,è‹¥æ²¡æœ‰,åˆ™è¿”å›nil</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">get-process</span> <span style="color:#e6db74">&#34;shell&#34;</span>)
=&gt; <span style="color:#960050;background-color:#1e0010">#</span>&lt;process shell&gt;
</code></pre></div><ul>
<li>(process-command process)</li>
</ul>
<p>è¯¥å‡½æ•°è¿”å›PROCESSçš„æ‰§è¡Œå‘½ä»¤. è¯¥ç»“æœä¸ºstringçš„åˆ—è¡¨,ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºæ‰§è¡Œçš„program,å‰©ä¸‹çš„å…ƒç´ ä¸ºargs</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">process-command</span> (<span style="color:#a6e22e">get-process</span> <span style="color:#e6db74">&#34;shell&#34;</span>))
          =&gt; (<span style="color:#e6db74">&#34;bash&#34;</span> <span style="color:#e6db74">&#34;-i&#34;</span>)
</code></pre></div><ul>
<li>(process-contact process &amp;optional key)</li>
</ul>
<p>è¯¥å‡½æ•°è¿”å›serial process/networkçš„set upçš„ç›¸å…³ä¿¡æ¯</p>
<p>å‚æ•°processå¯èƒ½ä¸ºä¸€ä¸ªprocess,ä¹Ÿå¯èƒ½ä¸€ä¸ªconnection</p>
<p>è‹¥å‚æ•°KEYä¸ºnil,åˆ™è¿”å›serial processçš„'(PORT SPEED)ä¿¡æ¯,æˆ–è¿”å›network processçš„'(HOSTNAME SERVICE)ä¿¡æ¯</p>
<p>è‹¥å‚æ•°KEYä¸ºt,åˆ™è¿”å›çš„å€¼åŒ…å«äº†connection,serveræˆ–serial portçš„å®Œæ•´ä¿¡æ¯(å³ä½¿ç”¨`make-network-process&rsquo;æˆ–`make-serial-process&rsquo;åˆ›å»ºprocessæ—¶æŒ‡å®šçš„æ‰€æœ‰keywordçš„å€¼)</p>
<p>è‹¥å‚æ•°KEYä¸ºæŸä¸ªç‰¹å®šçš„keyword,åˆ™åªè¿”å›å¯¹åº”çš„value</p>
<p>è‹¥processä¸ºæ™®é€šçš„child processåˆ™è¯¥å‡½æ•°æ€»æ˜¯è¿”å›t</p>
<ul>
<li>(process-id process)</li>
</ul>
<p>è·å–PROCESSçš„pid</p>
<ul>
<li>(process-name process)</li>
</ul>
<p>ä»¥stringçš„å½¢å¼è¿”å›PROCESSçš„åå­—</p>
<ul>
<li>(process-status process-or-name-or-buffer)</li>
</ul>
<p>ä»¥symbolç±»å‹è¿”å›processçš„çŠ¶æ€</p>
<p>å‚æ•°process-or-name-or-bufferå¿…é¡»æ˜¯process,bufferæˆ–process-nameä¸­çš„ä¸€ä¸ª.</p>
<p>è¿”å›å€¼è¯´æ˜å¦‚ä¸‹:</p>
<ul>
<li>
<p>&lsquo;run</p>
<p>è¿›ç¨‹æ­£åœ¨è¿è¡Œ</p>
</li>
<li>
<p>&lsquo;stop</p>
<p>è¿›ç¨‹è¢«æš‚åœæ‰§è¡Œ,ä½†ç­‰åˆ°æ—¶é—´ç‰‡åä¼šç»§ç»­æ‰§è¡Œ</p>
</li>
<li>
<p>&lsquo;exit</p>
<p>è¿›ç¨‹å·²ç»é€€å‡º</p>
</li>
<li>
<p>&lsquo;signal</p>
<p>è¿›ç¨‹å·²ç»æ”¶åˆ°è‡´å‘½signal</p>
</li>
<li>
<p>&lsquo;open</p>
<p>processä¸ºnetwork connection,è¯¥è¿æ¥æ˜¯opençš„</p>
</li>
<li>
<p>&lsquo;closed</p>
<p>processä¸ºnetwork connection,è¯¥è¿æ¥å·²å…³é—­</p>
</li>
<li>
<p>&lsquo;connect</p>
<p>processä¸ºnon-blocking connection,ç­‰å¾…è¿æ¥å®Œæˆ</p>
</li>
<li>
<p>&lsquo;failed</p>
<p>processä¸ºnon-blocking connection,è¿æ¥å¤±è´¥</p>
</li>
<li>
<p>&lsquo;listen</p>
<p>processä¸ºnetwork server,æ­£åœ¨ç›‘å¬</p>
</li>
<li>
<p>nil</p>
<p>processä¸å­˜åœ¨</p>
</li>
<li>
<p>(process-live-p process)</p>
</li>
</ul>
<p>processæ˜¯å¦alive.</p>
<p>æ‰€è°“aliveæŒ‡çš„å®ƒçš„statusä¸º&rsquo;run,&lsquo;open,&lsquo;listen,&lsquo;connectæˆ–stop</p>
<ul>
<li>(process-type process)</li>
</ul>
<p>è¿”å›processçš„ç±»å‹.</p>
<p>&lsquo;networkè¡¨ç¤ºprocessä¸ºnetwork connectionæˆ–server</p>
<p>&lsquo;serialè¡¨ç¤ºprocessä¸ºserial port connection</p>
<p>&lsquo;realè¡¨ç¤ºprocessä¸ºreal subprocess</p>
<ul>
<li>(process-exit-status process)</li>
</ul>
<p>è¿”å›PROCESSçš„exit statusæˆ–è¢«killæ—¶çš„signal number. è‹¥PROCESSæ²¡æœ‰ç»ˆæ­¢è¿è¡Œ,åˆ™è¿”å›0</p>
<ul>
<li>(process-tty-name process)</li>
</ul>
<p>è¯¥å‡½æ•°è¿”å›PROCESSç”¨æ¥ä¸Emacsäº¤æµæ—¶ä½¿ç”¨çš„terminal name</p>
<p>è‹¥processä½¿ç”¨pipe,åˆ™è¿”å›nil</p>
<p>è‹¥processè¡¨ç¤ºä¸€ä¸ªåœ¨remote hostä¸Šè¿è¡Œçš„ç¨‹åº,åˆ™terminal nameä¸ºprocessçš„peroperty `remote-tty&rsquo;</p>
<ul>
<li>(process-coding-system process)</li>
</ul>
<p>ä»¥&rsquo;(DECODE . ENCODE)çš„æ ¼å¼æè¿°decode processçš„è¾“å‡ºæ—¶ä½¿ç”¨åˆ°ç¼–ç ,å’Œencode processçš„è¾“å…¥æ—¶ä½¿ç”¨çš„ç¼–ç </p>
<ul>
<li>(set-process-coding-system process &amp;optional decoding-system encoding-sytem)</li>
</ul>
<p>è®¾ç½®ENCODE/DECODE PROCESSçš„è¾“å…¥/è¾“å‡ºæ—¶ä½¿ç”¨çš„ç¼–ç è§„åˆ™</p>
<ul>
<li>(process-buffer process)</li>
</ul>
<p>è¯¥å‡½æ•°è¿”å›PROCESSçš„å…³è”buffer</p>
<p>processçš„å…³è”bufferæœ‰ä¸¤ä¸ªç”¨å¤„:å­˜å‚¨processçš„è¾“å‡ºå†…å®¹å’Œå†³å®šä½•æ—¶killæ‰è¯¥process.</p>
<p>å…³é—­ä¸processç›¸å…³è”çš„buffer,ä¹Ÿä¼šå…³é—­å¯¹åº”çš„process.</p>
<ul>
<li>(process-mark process)</li>
</ul>
<p>è¿”å›PROCESSçš„process-mark,</p>
<p>é»˜è®¤çš„filterå‡½æ•°ä¼šå°†processçš„è¾“å‡ºæ’å…¥åˆ°å…³è”çš„buffer. æ’å…¥çš„ä½ç½®ç”±å‡½æ•°`process-mark&rsquo;çš„è¿”å›å€¼å†³å®š,é€šå¸¸æƒ…å†µä¸‹,ä¸ºbufferçš„å°¾ç«¯</p>
<ul>
<li>(set-process-buffer process buffer)</li>
</ul>
<p>è¯¥å‡½æ•°è®¾ç½®PROCESSçš„å…³è”buffer,è‹¥å‚æ•°BUFFERä¸ºnil,åˆ™PROCESSæ— å…³è”buffer</p>
<ul>
<li>(get-buffer-process buffer-or-name)</li>
</ul>
<p>è¿”å›å…³è”åˆ°è¯¥bufferçš„æœªåˆ é™¤process</p>
<p>è‹¥æœ‰å¤šä¸ªprocesså…³è”åˆ°è¯¥buffer,åˆ™åªä¼šè¿”å›å…¶ä¸­ä¹‹ä¸€çš„process</p>
<ul>
<li>(process-filter process)</li>
</ul>
<p>è¿”å›PROCESSçš„filter function</p>
<p>subprocessçš„stdoutä¼šä¼ é€’çµ¦&quot;filter function&quot;æ¥å¤„ç†.</p>
<ul>
<li>(set-process-filter process filter)</li>
</ul>
<p>è®¾ç½®PROCESSçš„filter function,è‹¥FILTERä¸ºnilè¡¨ç¤ºä½¿ç”¨é»˜è®¤çš„filter function</p>
<p>filter functionéœ€è¦æ¥æ”¶2ä¸ªå‚æ•°:å…³è”çš„processå’Œè¾“å‡ºçš„å­—ç¬¦ä¸².</p>
<p>ä¸€èˆ¬æƒ…å†µä¸‹,ä¼šåœ¨filter functionä¸­å±è”½è°ƒquitting. å¦åˆ™æŒ‰ä¸‹C-gå¯èƒ½ä¼šå‘ç”Ÿæ— æ³•é¢„æ–™çš„ç»“æœ.</p>
<p>åœ¨æ‰§è¡Œfilter functionæ—¶æŠ›å‡ºçš„erroré»˜è®¤æƒ…å†µä¸‹ä¼šè‡ªåŠ¨è¢«æ•è·,è¿™æ ·å°±ä¸ä¼šå½±å“æ­£åœ¨æ‰§è¡Œçš„program. ç„¶è€Œè‹¥`debug-on-error&rsquo;ä¸ºnon-nil,åˆ™errorä¸ä¼šè¢«è‡ªåŠ¨æ•è·,è¿™ä½¿å¾—ä½¿ç”¨Lisp debuggerè°ƒè¯•filter functionç§°ä¸ºiå¯èƒ½.</p>
<p>ä¸€ä¸ªæ™®é€šçš„filter functionæ¨¡æ¿å¤§æ¦‚å¦‚ä¸‹:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defun ordinary-insertion-filter (proc <span style="color:#a6e22e">string</span>)
  (when (<span style="color:#a6e22e">buffer-live-p</span> (<span style="color:#a6e22e">process-buffer</span> proc))
    (with-current-buffer (<span style="color:#a6e22e">process-buffer</span> proc)
      (let ((moving (<span style="color:#a6e22e">=</span> (<span style="color:#a6e22e">point</span>) (<span style="color:#a6e22e">process-mark</span> proc))))
        (save-excursion
          <span style="color:#75715e">;; Insert the text, advancing the process marker.</span>
          (<span style="color:#a6e22e">goto-char</span> (<span style="color:#a6e22e">process-mark</span> proc))
          (<span style="color:#a6e22e">insert</span> <span style="color:#a6e22e">string</span>)
          (<span style="color:#a6e22e">set-marker</span> (<span style="color:#a6e22e">process-mark</span> proc) (<span style="color:#a6e22e">point</span>)))
        (if moving (<span style="color:#a6e22e">goto-char</span> (<span style="color:#a6e22e">process-mark</span> proc)))))))
</code></pre></div><p>Note that Emacs automatically saves and restores the match data while executing filter functions.</p>
<p>å¦å¤–,éœ€è¦æ³¨æ„: <strong>ä¼ é€’çµ¦filter functionçš„è¾“å‡ºå†…å®¹,å¯èƒ½æ˜¯ä»»æ„å¤§å°çš„ä¸€å—è¾“å‡º,å¾ˆå¯èƒ½ä¸€æ•´ä¸ªå¥å­ä¼šè¢«æ‹†åˆ†æˆå¾ˆå¤šå—ä¼ é€’è¿‡æ¥.</strong></p>
<ul>
<li>(process-sentinel process)</li>
</ul>
<p>è¿”å›processçš„sentinel</p>
<ul>
<li>(set-process-sentinel process sentinel)</li>
</ul>
<p>è®¾ç½®processçš„sentinel. è‹¥å‚æ•°sentinelä¸ºnil,åˆ™ä½¿ç”¨é»˜è®¤çš„sentinel(å®ƒä»…ä»…å°†messageæ’å…¥process bufferä¸­)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defun msg-me (process event)
    (<span style="color:#a6e22e">princ</span>
    (<span style="color:#a6e22e">format</span> <span style="color:#e6db74">&#34;Process: %s had the event </span><span style="color:#e6db74">`%s&#39;</span><span style="color:#e6db74">&#34;</span> process event)))
   (<span style="color:#a6e22e">set-process-sentinel</span> (<span style="color:#a6e22e">get-process</span> <span style="color:#e6db74">&#34;shell&#34;</span>) <span style="color:#e6db74">&#39;msg-me</span>)
    =&gt; msg-me
   (<span style="color:#a6e22e">kill-process</span> (<span style="color:#a6e22e">get-process</span> <span style="color:#e6db74">&#34;shell&#34;</span>))
    -| Process: <span style="color:#960050;background-color:#1e0010">#</span>&lt;process shell&gt; had the event <span style="color:#f92672">`</span>killed<span style="color:#f92672">&#39;</span>
    =&gt; <span style="color:#960050;background-color:#1e0010">#</span>&lt;process shell&gt;
</code></pre></div><p>&ldquo;process sentinel&quot;æ˜¯ä¸€ç§å‡½æ•°,è¯¥å‡½æ•°åœ¨æ¯æ¬¡æ‰€å…³è”çš„processçš„statuså‘ç”Ÿæ”¹å˜æ—¶,éƒ½ä¼šè¢«è°ƒç”¨ä¸€æ¬¡(åŒ…æ‹¬ç¨‹åºé€€å‡ºæ—¶)</p>
<p>sentinel functionæ¥æ”¶ä¸¤ä¸ªå‚æ•°:processå’Œæè¿°äº‹ä»¶ç±»å‹çš„å­—ç¬¦ä¸²</p>
<p>å…¶ä¸­å­—ç¬¦ä¸²æ ¼å¼æœ‰ä¸‹é¢å‡ ç§:</p>
<ul>
<li>
<p>&ldquo;finished\n&rdquo;</p>
</li>
<li>
<p>&ldquo;exited abnormally with code EXITCODE\n&rdquo;</p>
</li>
<li>
<p>&ldquo;NAME-OF-SIGNAL\n&rdquo;</p>
</li>
<li>
<p>&ldquo;NAME-OF-SIGNAL (core dumped)\n&rdquo;</p>
<p>ç±»ä¼¼fileter function, åªæœ‰åœ¨Emacså¤„äºwaitingçŠ¶æ€æ—¶,æ‰ä¼šè°ƒç”¨sentinel function.</p>
<p>Emacsä¸ä¼šä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—æ¥ä¿æŒè°ƒç”¨sentinelçš„åŸå› ,å®ƒåªè®°å½•å½“å‰çŠ¶æ€å’Œå‘ç”Ÿæ”¹å˜çš„åŸå› . å› æ­¤è‹¥çŠ¶æ€åœ¨å¾ˆçŸ­æ—¶é—´å†…å‘ç”Ÿè¿ç»­å˜åŒ–,åªèƒ½è§¦å‘ä¸€æ¬¡sentinelçš„è°ƒç”¨. ä¸è¿‡ç”±äºprocessç»ˆæ­¢è¿è¡Œåå°±ä¸ä¼šå†å‘ç”ŸçŠ¶æ€å˜æ›´äº†,æ‰€ä»¥processç»ˆæ­¢æ“ä½œæ€»ä¼šè§¦å‘ä¸€æ¬¡sentinel</p>
<p><strong>æ¯æ¬¡è¿è¡Œprocess sentinelå‰,Emacséƒ½ä¼šæ˜ç¡®åœ°æ£€æŸ¥ä¸€æ¬¡processæ˜¯å¦æœ‰è¾“å‡º</strong></p>
<p><strong>è‹¥sentinelè¦å°†è¾“å‡ºå†™åˆ°process bufferä¸­æ—¶,ä¸€å®šè¦è®°å¾—æ£€æŸ¥bufferæ˜¯å¦è¿˜åœ¨,å¾€è¢«killæ‰çš„bufferä¸­å†™å…¥ä¼šå¼•å‘é”™è¯¯.</strong> å¯ä»¥ç”¨`(buffer-name (process-buffer PROCESS))&lsquo;æ˜¯å¦ä¸ºnilæ¥æ£€æŸ¥bufferæ˜¯å¦å­˜åœ¨</p>
<p>sentinelåœ¨å¤„ç†quitingå’Œerroræ—¶,è·Ÿfilter functionä¸€æ ·. é»˜è®¤æƒ…å†µä¸‹éƒ½ä¼šå±è”½quittingå’Œè‡ªåŠ¨æ•è·error</p>
<p>åœ¨sentinelçš„æ‰§è¡ŒæœŸé—´,processçš„sentinelä¼šä¸´æ—¶è®¾ç½®ä¸ºnil,ä»¥é˜²æ­¢sentinelçš„é‡å¤è°ƒç”¨</p>
<p>Note that Emacs automatically saves and restores the match data while executing sentinels.</p>
</li>
<li>
<p>(waiting-for-user-input-p)</p>
</li>
</ul>
<p>å½“sentinelæˆ–fileter functionæ­£åœ¨è¿è¡Œæ—¶,è¯¥å‡½æ•°è¿”å›nil.</p>
<ul>
<li>(process-query-on-exit-flag process)</li>
</ul>
<p>è¿”å›PROCESSçš„query flag</p>
<p>æ¯ä¸ªç¨‹åºéƒ½ç”±ä¸ªquery flag,è‹¥å‚æ•°ä¸ºt,åˆ™è¡¨ç¤ºkillè¯¥processä¹‹å‰è¯¢é—®ç”¨æˆ·æ˜¯å¦ç¡®å®šè¦ä½œè¿™é¡¹æ“ä½œ,é»˜è®¤ä¸ºt</p>
<ul>
<li>(set-process-query-on-exit-flag process flag)</li>
</ul>
<p>è®¾ç½®processçš„query flag</p>
<p>æ¯ä¸ªprocessè·Ÿsymbolç±»å‹,ä¹Ÿå¸¦æœ‰è‡ªå·±çš„property list.</p>
<ul>
<li>(process-get process property)</li>
</ul>
<p>è·å–processçš„propertyçš„value</p>
<ul>
<li>(process-put process property value)</li>
</ul>
<p>è®¾ç½®processçš„propertyçš„å€¼ä¸ºvalue</p>
<ul>
<li>(process-plist process)</li>
</ul>
<p>è·å–processçš„plist</p>
<ul>
<li>(set-process-plist process plist)</li>
</ul>
<p>è®¾ç½®processçš„plist</p>
<h3 id="ä¸processçš„äº¤äº’">ä¸Processçš„äº¤äº’<a hidden class="anchor" aria-hidden="true" href="#ä¸processçš„äº¤äº’">#</a></h3>
<h4 id="sending-input-to-processes">Sending Input to Processes<a hidden class="anchor" aria-hidden="true" href="#sending-input-to-processes">#</a></h4>
<p>å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ä¸ºå¼‚æ­¥processçš„stdioæµå‘é€æ•°æ®,åœ¨è¿™äº›å‡½æ•°ä¸­,å‚æ•° <strong>PROCESSå¯ä»¥ä¸ºprocess objectæˆ–processçš„åç§°,æˆ–bufferæˆ–bufferçš„åç§°,æˆ–nilè¡¨ç¤ºå½“å‰bufferçš„process</strong></p>
<ul>
<li>
<p>(process-send-string process string)</p>
<p>çµ¦processçš„stdioå‘é€string,è¯¥å‡½æ•°è¿”å›nil</p>
</li>
<li>
<p>(process-send-region process start end)</p>
<p>å°†regionçš„å†…å®¹ä½œä¸ºprocessçš„stdio</p>
<p>å‚æ•°START,ENDå¿…é¡»æ˜¯integeræˆ–marker,å¦åˆ™ä¼šæŠ¥é”™</p>
</li>
<li>
<p>(process-send-eof &amp;optional process)</p>
<p>ä¼ é€’eofåˆ°processçš„stdio</p>
<p>processè‹¥ä¸ºnil,åˆ™è¡¨ç¤ºå±äºå½“å‰bufferçš„process</p>
<p>è¯¥å‡½æ•°è¿”å›process</p>
</li>
<li>
<p>(process-running-child-p &amp;optional process)</p>
<p>è¯¥å‡½æ•°å‘Šè¯‰ä½ ,processæ˜¯å¦å°†å¯¹terminalçš„æ§åˆ¶æƒäº¤ç»™äº†å®ƒçš„child process.</p>
<p>æ³¨æ„: <strong>å½“Emacsæ— æ³•åˆ†è¾¨æ—¶,ä¹Ÿè¿”å›t</strong></p>
</li>
</ul>
<h4 id="sending-signals-to-processes">Sending Signals to Processes<a hidden class="anchor" aria-hidden="true" href="#sending-signals-to-processes">#</a></h4>
<p>æ¯ä¸ªå‘é€signalçµ¦processçš„å‡½æ•°éƒ½æ¥æ”¶ä¸¤ä¸ªå¯é€‰å‚æ•°:PROCESSå’ŒCURRENT-GROUP</p>
<p>å‚æ•°PROCESSå¿…é¡»ä¸ºprocess objectæˆ–processçš„åç§°æˆ–bufferæˆ–buffer nameæˆ–nil(è¡¨ç¤ºå½“å‰bufferçš„process).</p>
<p>å‚æ•°CURRENT-GROUPæ˜¯ä¸€ä¸ªæ ‡å¿—,å½“è¿è¡Œä¸€ä¸ªjob-control shellä½œä¸ºEmacsçš„subprocessæ—¶,è¯¥æ ‡å¿—çš„ä¸åŒå€¼æ‰æœ‰ä¸åŒçš„æ„æ€.</p>
<p>å½“å‚æ•°CURRENT-GROUPçš„å€¼ä¸ºénil,åˆ™ä¿¡å·æ˜¯å‘é€åˆ°Emacsä¸subprocessäº¤äº’æ‰€ä½¿ç”¨çš„é‚£ä¸ªTerminalçš„process-group,è€Œä¸æ˜¯processçš„process group.  <strong>è‹¥processæœ¬èº«å°±æ˜¯ä¸ªjob-control shell,è¡¨ç¤ºä¸­æ–­çš„æ˜¯shellçš„current subjobè€Œä¸æ˜¯shellæœ¬èº«(æ³¨æ„,è¿™æ—¶Emacsæ˜¯åœ¨ä¸shellçš„å½“å‰jobäº¤äº’è€Œä¸æ˜¯shelläº¤äº’)</strong></p>
<p>è‹¥å‚æ•°CURRENT-GROUOPçš„å€¼ä¸ºnil,åˆ™ä¿¡å·å‘é€åˆ°Emacsçš„ç›´æ¥å­è¿›ç¨‹çš„process group.  <strong>è‹¥subprocesä¸ºjob-control shell,è¿™å°±æ˜¯shellæœ¬èº«</strong></p>
<p>å½“Emacsä½¿ç”¨pipeä¸subprocessäº¤äº’æ—¶,å‚æ•°CURENT-GROUPæ˜¯æ— æ•ˆçš„.</p>
<ul>
<li>
<p>(interrupt-process &amp;optioal process current-group)</p>
<p>å‘é€SIGINTçµ¦process</p>
</li>
<li>
<p>(kill-process &amp;optioal process current-group)</p>
<p>å‘é€SIGKILL</p>
</li>
<li>
<p>(quit-process &amp;optioal process current-group)</p>
<p>å‘é€SIGQUIT</p>
</li>
<li>
<p>(stop-process &amp;optioal process current-group)</p>
<p>å‘é€SIGSTP. è¿›ç¨‹æš‚åœå,å¯ä»¥ä½¿ç”¨`continue-process&rsquo;å†æ¬¡è®©å®ƒè¿è¡Œèµ·æ¥</p>
</li>
<li>
<p>(continue-process &amp;optioal process current-group)</p>
<p>å‘é€SIGCONT</p>
</li>
<li>
<p>å‘½ä»¤(signal-process process signal)</p>
<p>å‘processå‘ä¿¡å·</p>
<p>å‚æ•°signalå¿…é¡»ä¸ºä¸€ä¸ªæ•´æ•°,æˆ–ä»¥signalä¸ºåç§°çš„symbol</p>
<p>å‚æ•°processé™¤äº†å¯ä»¥ä½¿process object,processçš„åç§°,buffer,å’Œbufferçš„åç§°å¤–,å¯ä»¥ä¸º <strong>processçš„pid</strong>,è¿™å…è®¸ä½ å‘é€ä¿¡å·çµ¦éEmacsçš„å­è¿›ç¨‹</p>
</li>
</ul>
<h4 id="receiving-output-from-process">Receiving Output from Process<a hidden class="anchor" aria-hidden="true" href="#receiving-output-from-process">#</a></h4>
<p>subprocessçš„stdoutä¼šä¼ é€’çµ¦&quot;filter function&quot;æ¥å¤„ç†.</p>
<p>é»˜è®¤çš„filter functionåªæ˜¯ç®€å•çš„å°†å†…å®¹æ’å…¥åˆ°processç›¸å…³è”çš„bufferä¸­å», è‹¥processæ²¡æœ‰ç›¸å…³è”çš„buffer,åˆ™ä¸¢å¼ƒè¯¥è¾“å‡º</p>
<p>å½“subprocessç»“æŸè¿è¡Œå,Emacs reads any pending output, ç„¶åå°±ä¸å†ä»subprocessä¸­è¯»å–ä»»ä½•è¾“å‡ºäº†,å³ä½¿è¿™æ—¶å€™subprocessçš„child processè¿˜æœ‰è¾“å‡ºä¹Ÿä¸ç®¡.</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯:subprocessçš„è¾“å‡ºåªæœ‰å½“Emacså¤„äºwaitingæ—¶æ‰å›è¢«è¯»å–,å³Emacsè¯»å–terminal inputæˆ–è°ƒç”¨`accept-process-output&rsquo;æ—¶æ‰ä¼šè¢«è¯»å–.</p>
<p>åœ¨æŸäº›æ“ä½œç³»ç»Ÿä¸­,å½“Emacsè¯»å–subprocessçš„è¾“å‡ºæ—¶,è¾“å‡ºçš„å†…å®¹æ˜¯ä»¥ä¸€å°å—ä¸€å°å—çš„æ–¹å¼è¢«è¯»å–çš„,è¿™å°±ç…§æˆäº†è¯»å–çš„æ•ˆç‡ä½ä¸‹. é€šè¿‡è®¾ç½®`process-adaptive-read-buffering&rsquo;å¯ä»¥é€‚å½“æé«˜ä¸€äº›æ•ˆç‡,å› ä¸ºå®ƒå¯¹è¿™äº›è¿›ç¨‹è¿›è¡Œå»¶è¿Ÿè¯»å–,ç­‰ä»–ä»¬äº§ç”Ÿæ›´å¤šçš„è¾“å‡ºæ—¶å†è¯»å–å‡ºæ¥.</p>
<p><strong>è¦åŒºåˆ†subprocessä¸­çš„stdoutå’Œstderræ˜¯ä¸å¯èƒ½çš„,å› ä¸ºEmacsé€šå¸¸åœ¨ptyä¸­è°ƒç”¨å­è¿›ç¨‹,è€Œptyåªæœ‰ä¸€ä¸ªstdout,è‹¥æƒ³åŒºåˆ†ä»–ä»¬,åªèƒ½å°†å…¶ä¸­ä¸€ä¸ªé‡å®šå‘åˆ°æ–‡ä»¶ä¸­</strong></p>
<ul>
<li>
<p>(accept-process-output &amp;optional process seconds millisec just-this-one)</p>
<p>è¯¥å‡½æ•°å…è®¸Emacsè¯»å–PROCESSçš„è¾“å‡º.</p>
<p>è‹¥å‚æ•°PROCESSä¸ºénil,åˆ™è¯¥å‡½æ•°ä¼šä¸€ç›´ç­‰å¾…,ç›´åˆ°ä»PROCESSè¯»å–åˆ°è¾“å‡ºä¸ºæ­¢.</p>
<p>å‚æ•°SECONDSå’ŒMILLISECä¸ºè¶…æ—¶æ—¶é—´. ç”±äºå‚æ•°SECONDSå¯ä»¥æ˜¯æµ®ç‚¹å‹,å› æ­¤å‚æ•°MILLISECä¸æ¨èä½¿ç”¨.</p>
<p>è‹¥å‚æ•°PROCESSä¸ºénil,è€Œå‚æ•°JUST-THIS-ONEä¸ºénil,åˆ™åªæœ‰è¯¥processçš„è¾“å‡ºè¢«å¤„ç†.
è‹¥JUST-THIS-ONEä¸ºä¸€ä¸ªæ•´æ•°,åˆ™è¿˜ä¼šæš‚åœå®šæ—¶å™¨çš„æ‰§è¡Œ</p>
<p>è‹¥`accept-process-output&rsquo;ç­‰å¾…è¶…æ—¶è€Œæ²¡æœ‰è¯»åˆ°ä»»ä½•ä¸œè¥¿,åˆ™è¿”å›nil</p>
</li>
</ul>
<h3 id="accessing-other-processes">Accessing Other Processes<a hidden class="anchor" aria-hidden="true" href="#accessing-other-processes">#</a></h3>
<p>Emacsé™¤äº†å¯ä»¥ä¸è‡ªå·±åˆ›å»ºçš„subprocessäº¤äº’å¤–,ä¹Ÿèƒ½ä¸åŒæœºå™¨ä¸Šçš„å…¶ä»–è¿›ç¨‹äº¤äº’,è¿™äº›è¿›ç¨‹ç§°ä¸º&quot;System process&rdquo;</p>
<ul>
<li>(list-system-processes)</li>
</ul>
<p>åˆ—å‡ºæ‰€æœ‰æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹pidçš„list</p>
<ul>
<li>(process-attributes pid)</li>
</ul>
<p>è¿”å›æŒ‡å®šsystem processçš„å±æ€§ç»„æˆçš„alist</p>
<p>è¿™äº›å±æ€§æœ‰:</p>
<ul>
<li>
<p>euid</p>
<p>effective user id</p>
</li>
<li>
<p>user</p>
</li>
<li>
<p>egid</p>
<p>The group id of the effective user id</p>
</li>
<li>
<p>group</p>
</li>
<li>
<p>comm</p>
<p>è¿è¡Œè¯¥processçš„command</p>
</li>
<li>
<p>state</p>
<p>è¯¥processçš„çŠ¶æ€ç </p>
<table>
<thead>
<tr>
<th>çŠ¶æ€ç </th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>&ldquo;D&rdquo;</td>
<td>uninterruptible sleep (usually I/O)</td>
</tr>
<tr>
<td>&ldquo;R&rdquo;</td>
<td>running</td>
</tr>
<tr>
<td>&ldquo;S&rdquo;</td>
<td>interruptible sleep (waiting for some event)</td>
</tr>
<tr>
<td>&ldquo;T&rdquo;</td>
<td>stopped, e.g., by a job control signal</td>
</tr>
<tr>
<td>&ldquo;Z&rdquo;</td>
<td>&ldquo;zombie&rdquo;: a process that terminated, but was not reaped by its parent</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>ppid</p>
</li>
<li>
<p>pgrp</p>
</li>
<li>
<p>sess</p>
<p>session ID of the process</p>
</li>
<li>
<p>ttname</p>
<p>processçš„æ§åˆ¶ç»ˆç«¯çš„åç§°</p>
</li>
<li>
<p>tpgid</p>
<p>The numerical process group ID of the foreground process group that uses the process&rsquo;s terminal.</p>
</li>
<li>
<p>minflt</p>
<p>The number of minor page faults caused by the process since its beginning.
(Minor page faults are those that don&rsquo;t involve reading from disk.)</p>
</li>
<li>
<p>majflt</p>
<p>The number of major page faults caused by the process since its beginning.
(Major page faults require a disk to be read, and are thus more expensive than minor page faults.)</p>
</li>
<li>
<p>cminflt / cmajft</p>
<p>Like `minflt&rsquo; and `majflt&rsquo;, but include the number of page faults for all the child processes of the given process.</p>
</li>
<li>
<p>utime</p>
<p>processåœ¨user contextä¸‹çš„è¿è¡Œæ—¶é—´(æ¶ˆè€—CPUæ—¶é—´ç‰‡çš„æ—¶é—´)</p>
</li>
<li>
<p>stime</p>
<p>processåœ¨system contextä¸‹çš„è¿è¡Œæ—¶é—´</p>
</li>
<li>
<p>time</p>
<p>utime+stime</p>
</li>
<li>
<p>cutime / cstime / ctime</p>
<p>ç±»ä¼¼utime,stime,time,ä½†æ˜¯åŒ…æ‹¬æŒ‡å®šprocessä¸‹çš„å­è¿›ç¨‹</p>
</li>
<li>
<p>pri</p>
<p>ä¼˜å…ˆçº§</p>
</li>
<li>
<p>nice</p>
</li>
<li>
<p>thcount</p>
<p>processä¸­çš„è¿›ç¨‹æ•°</p>
</li>
<li>
<p>start</p>
<p>processå¼€å§‹çš„æ—¶é—´</p>
</li>
<li>
<p>etime</p>
<p>processå¼€å§‹å,ç»è¿‡äº†å¤šå°‘æ—¶é—´</p>
</li>
<li>
<p>vsize</p>
<p>processå ç”¨è™šæ‹Ÿå†…å­˜çš„å¤§å°,kbä¸ºå•ä½</p>
</li>
<li>
<p>rss</p>
<p>processå ç”¨ç‰©ç†ç©ºé—´çš„å¤§å°,kbä¸ºå•ä½</p>
</li>
<li>
<p>pcpu</p>
<p>å cpuçš„ç™¾åˆ†æ¯”</p>
</li>
<li>
<p>pmen</p>
<p>å æ€»ç‰©ç†å†…å­˜çš„ç™¾åˆ†æ¯”</p>
</li>
<li>
<p>args</p>
<p>commandçš„å‚æ•°</p>
</li>
</ul>
<h3 id="äº¤æ˜“é˜Ÿåˆ—">äº¤æ˜“é˜Ÿåˆ—<a hidden class="anchor" aria-hidden="true" href="#äº¤æ˜“é˜Ÿåˆ—">#</a></h3>
<p>é€šè¿‡äº¤æ˜“é˜Ÿåˆ—,å¯ä»¥ä½¿ç”¨äº¤æ˜“ä¸processè¿›è¡Œé€šè®¯.</p>
<p>é¦–å…ˆä½¿ç”¨`tq-create&rsquo;åˆ›å»ºäº¤æ˜“é˜Ÿåˆ—,ç„¶åä½¿ç”¨`tq-enqueue&rsquo;å‘é€äº¤æ˜“</p>
<ul>
<li>(tq-create process)</li>
</ul>
<p>åˆ›å»ºä¸PROCESSé€šè®¯çš„äº¤æ˜“é˜Ÿåˆ—</p>
<p>å‚æ•°PROCESSå¿…é¡»å¯è¯»å†™çš„,æ—¢å¯ä»¥æ˜¯å­è¿›ç¨‹, <strong>ä¹Ÿå¯ä»¥æ˜¯ç½‘ç»œè¿æ¥.</strong></p>
<ul>
<li>(tq-equeue queue question regexp closure fn &amp;optional delay-question)</li>
</ul>
<p>å‘é€äº¤æ˜“åˆ°é˜Ÿåˆ—QUEUE</p>
<p>å‚æ•°QUESTIONä¸ºå‘é€çš„æ¶ˆæ¯</p>
<p>å‚æ•°FNä¸ºå½“answerå›æ¥æ—¶çš„å›è°ƒå‡½æ•°. ä»–æ¥æ”¶ä¸¤ä¸ªå‚æ•°:å‚æ•°CLOSUREå’Œæ¥æ”¶åˆ°çš„answer</p>
<p>å‚æ•°REGEXPä¸ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼,è¯¥æ­£åˆ™è¡¨è¾¾å¼åº”è¯¥åŒ¹é…æ•´ä¸ªå®Œæ•´ç­”æ¡ˆç»“æŸæ—¶çš„æ–‡æœ¬. `tq-enqueue&rsquo;ä½¿ç”¨è¯¥æ­£åˆ™æ¥åˆ¤æ–­answeræ˜¯å¦å·²ç»æ¥æ”¶å®Œå…¨</p>
<p>è‹¥å‚æ•°DELAY-QUESTIONä¸ºénil,åˆ™ä¼šæš‚ç¼“questionçš„å‘é€,ç›´åˆ°processå¯¹ä¹‹å‰çš„questionéƒ½å›åº”å®Œåå†å‘é€. å¯¹æŸäº›processæ¥è¯´,è¿™æ ·ä¼šå¾—åˆ°æ¯”è¾ƒé è°±çš„answer</p>
<ul>
<li>(tq-close queue)</li>
</ul>
<p>ç­‰å¾…æ‰€æœ‰çš„äº¤æ˜“å®Œæˆ,ç„¶åå…³é—­é˜Ÿåˆ—</p>
<p>Transaction queuesçš„å®ç°ä¾é filter function</p>
<h3 id="network-process">Network Process<a hidden class="anchor" aria-hidden="true" href="#network-process">#</a></h3>
<p>Emacs Lispç¨‹åºå¯ä»¥åˆ›å»ºTCP/UDPé“¾æ¥(é€šè¿‡å†…å»º/å¤–éƒ¨æ”¯æŒ,ç”šè‡³è¿˜èƒ½åˆ›å»ºåŠ å¯†çš„ç½‘ç»œè¿æ¥)ï¼Œæ—¢èƒ½åˆ›å»ºå®¢æˆ·ç«¯,ä¹Ÿèƒ½åˆ›å»ºæœåŠ¡ç«¯.</p>
<p>ElispæŠŠç½‘ç»œé“¾æ¥çœ‹æˆæ—¶è·Ÿsubprocessç±»ä¼¼çš„ä¸œè¥¿ï¼Œä¹Ÿç”¨process objectæ¥è¡¨ç¤ºã€‚å½“ç„¶è¿™ç§process objectæ²¡æœ‰pidï¼Œä¹Ÿä¸èƒ½å¯¹å®ƒå‘é€ä¿¡å·ä»€ä¹ˆçš„ã€‚</p>
<p>é€šè¿‡è°ƒç”¨`make-network-processâ€˜å¯ä»¥åˆ›å»ºNetwork connectionå’ŒNetwork serverã€‚ è¯¥å‡½æ•°æ¥å—keywordå‚æ•°`:server tâ€™è¡¨ç¤ºåˆ›å»ºNetwork server process. `:type datagram&rsquo;è¡¨ç¤ºåˆ›å»ºUDPé“¾æ¥</p>
<p>å¯ä»¥é€šè¿‡`stop-process&rsquo;å’Œ`continue-process&rsquo;æ¥stop/resume network processçš„æ“ä½œ.
å¯¹äºserver processæ¥è¯´,stopæ„å‘³ç€ä¸å†æ¥æ”¶æ–°è¿æ¥è¯·æ±‚.
å¯¹äºnetwork connectionæ¥è¯´,stopæ„å‘³ç€ä¸å†æ¥æ”¶è¾“å…¥æµ</p>
<p>é€šè¿‡å¸¦å‚æ•°`:server t&rsquo;è°ƒç”¨`make-network-process&rsquo;åˆ›å»ºçš„network server. å®ƒæ¥å—å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚,å¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„process objectè¡¨ç¤ºè¿™ä¸ªæ–°çš„network connection.
è¿™ä¸ªæ–°ç”Ÿæˆçš„è¡¨ç¤ºnetwork connectionçš„process objectæœ‰å¦‚ä¸‹å‡ ä¸ªç‰¹å¾:</p>
<ul>
<li>connection processçš„åç§°ä¸ºserver processçš„åç§°+å®¢æˆ·ç«¯å”¯ä¸€æ ‡è¯†</li>
<li>è‹¥server processæ²¡æœ‰é»˜è®¤çš„filter function,åˆ™connection processæ²¡æœ‰è‡ªå·±ç‹¬ç«‹çš„process buffer. å¦åˆ™Emacsä¸ºprocess bufferåˆ›å»ºè‡ªå·±ç‹¬ç«‹çš„buffer,bufferåç§°ä¸ºserverçš„bufferåç§°æˆ–processåç§°åŠ ä¸Šclientçš„å”¯ä¸€æ ‡è¯†</li>
<li>connection processçš„é“¾æ¥ç±»å‹,filter connectionå’Œsentineléƒ½ç»§æ‰¿è‡³server process</li>
<li>connection processçš„process contactä¿¡æ¯æ ¹æ®clientç«¯çš„åœ°å€ä¿¡æ¯æ¥è®¾ç½®</li>
<li>connection processçš„æœ¬åœ°åœ°å€æ ¹æ®ç”¨äºè¯¥é“¾æ¥çš„ç«¯å£å·å†³å®š</li>
<li>client processçš„pliståˆå§‹åŒ–ä¸ºserver processçš„plistä¸€æ ·</li>
</ul>
<h4 id="åˆ›å»ºè¡¨ç¤ºç½‘ç»œè¿æ¥-ç½‘ç»œæœåŠ¡çš„process-object">åˆ›å»ºè¡¨ç¤ºç½‘ç»œè¿æ¥/ç½‘ç»œæœåŠ¡çš„process object<a hidden class="anchor" aria-hidden="true" href="#åˆ›å»ºè¡¨ç¤ºç½‘ç»œè¿æ¥-ç½‘ç»œæœåŠ¡çš„process-object">#</a></h4>
<ul>
<li>
<p>(make-network-process &amp;rest args)</p>
<p>è¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ªnetwork connectionæˆ–network server,å¹¶è¿”å›ä¸€ä¸ªprocess object.</p>
<p>è¿™é‡Œå‚æ•°argså¯èƒ½æ˜¯ä»¥ä¸‹keyword:</p>
<ul>
<li>:name NAME</li>
</ul>
<p>ä½¿ç”¨NAMEä½œä¸ºprocessçš„åç§°</p>
<ul>
<li>:type TYPE</li>
</ul>
<p>å®šä¹‰é“¾æ¥ç±»å‹. nilè¡¨ç¤ºTCPé“¾æ¥; &lsquo;datagramè¡¨ç¤ºUDPé“¾æ¥;&lsquo;seqpacketè¡¨ç¤º&quot;sequenced packet stream&quot;é“¾æ¥</p>
<ul>
<li>:server SERVER-FLAG</li>
</ul>
<p>è‹¥å‚æ•°ä¸ºénil,è¡¨ç¤ºåˆ›å»ºnetwork server,å¦åˆ™ä¸ºåˆ›å»ºNetwork connection</p>
<p>è‹¥ä¸ºstream type server(TCPç±»å‹çš„server),åˆ™è¯¥å‚æ•°å¿…é¡»ä¸ºä¸€ä¸ªæ•´æ•°,è¡¨ç¤ºæœ€å¤§å¯ä»¥ç­‰å¾…çš„è¿æ¥æ•°</p>
<ul>
<li>:host HOST</li>
</ul>
<p>è¡¨ç¤ºè¦è¿æ¥çš„host. å®ƒå¯ä»¥æ˜¯ä¸€ä¸ªè¡¨ç¤ºInternetåœ°å€çš„å­—ç¬¦ä¸²,æˆ–symbol &lsquo;local.</p>
<p>è‹¥ä¸ºNetwork ServeræŒ‡å®šhost,åˆ™Network Clientå¿…é¡»è¿æ¥åˆ°è¿™ä¸ªHOSTçš„è¯·æ±‚æ‰ä¼šè¢«æ¥å—</p>
<ul>
<li>:service SERVICE</li>
</ul>
<p>SERVICEæŒ‡å®šäº†è¦è¿æ¥çš„ç«¯å£. å®ƒå¯ä»¥æ˜¯è¡¨ç¤ºserviceåç§°çš„å­—ç¬¦ä¸²,æˆ–è€…è¡¨ç¤ºç«¯å£å·çš„æ•´æ•°</p>
<p>å¯¹äºNetwork server.è¯¥å‚æ•°è¿˜å¯ä»¥ä¸ºt,è¡¨ç¤ºè®©ç³»ç»Ÿè‡ªå·±é€‰æ‹©ä¸€ä¸ªæœªç”¨çš„port</p>
<ul>
<li>:family FAMILY</li>
</ul>
<p>FAIMILYæŒ‡å®šäº†é“¾æ¥åè®®çš„ç§ç±».</p>
<p>nilè¡¨ç¤ºç”±ç³»ç»Ÿè‡ªåŠ¨é€‰æ‹©.</p>
<p>&lsquo;localè¡¨ç¤ºä¸ºUnix socket,è¿™ç§æƒ…å†µä¸‹:hostå‚æ•°å¯ä»¥è¢«å¿½ç•¥</p>
<p>&lsquo;ipv4æˆ–&rsquo;ipv6è¡¨ç¤ºä½¿ç”¨IPv4å’ŒIPv6</p>
<ul>
<li>:Local LOCAL-ADDRESS</li>
</ul>
<p>å¯¹äºNetwork Server. LOCAL-ADDRSSä¸ºç›‘å¬çš„åœ°å€.</p>
<p>è¯¥å‚æ•°ä¼šè¦†ç›–FAMILY,HOSTå’ŒSERVICEçš„å€¼</p>
<p>å…¶ä¸­LOCAL-ADDRESSçš„æ ¼å¼æ ¹æ®FAMILYçš„ä¸åŒè€Œä¸åŒ</p>
<ul>
<li>
<p>IPv4çš„åœ°å€ä½¿ç”¨ä¸€ä¸ª5å…ƒç´ çš„vectorè¡¨ç¤º[A B C D Port]</p>
</li>
<li>
<p>IPv6çš„åœ°å€ä½¿ç”¨ä¸€ä¸ª9å…ƒç´ çš„vectorè¡¨ç¤º[A B C D E F G H Port]</p>
</li>
<li>
<p>æœ¬åœ°åœ°å€ä½¿ç”¨å­—ç¬¦ä¸²è¡¨ç¤º</p>
</li>
<li>
<p>:remote REMOTE-ADDRESS</p>
</li>
</ul>
<p>å¯¹äºNetwork connectionæ¥è¯´REMOTE-ADDRESSä¸ºè¦è¿æ¥åˆ°çš„åœ°å€. è¯¥å‚æ•°ä¼šè¦†ç›–FAMILY,HOSTå’ŒSERVICE</p>
<p>å¯¹äºUDP Serveræ¥è¯´,REMOTE-ADDRESSæŒ‡å®šäº†remote datagram addressçš„åˆå§‹è®¾ç½®</p>
<p>REMOTE-ADDRESSçš„æ ¼å¼å‚è§LOCAL-ADDRESSçš„æ ¼å¼</p>
<ul>
<li>:nowait BOOL</li>
</ul>
<p>è‹¥BOOLä¸ºénil,åˆ™å¯¹äºTCP connectionæ¥è¯´,å‡½æ•°ä¸ç­‰å¾…è¿æ¥å®Œæˆå°±è¿”å›.</p>
<p>å½“é“¾æ¥è¿æ¥æˆåŠŸæˆ–å¤±è´¥å,ä¼šè°ƒç”¨processçš„sentinel function</p>
<ul>
<li>:stop STOPPED</li>
</ul>
<p>è‹¥STOPPEDä¸ºénil,åˆ™åˆ›å»ºçš„network connectionæˆ–network serverå¤„äºstoppedçŠ¶æ€</p>
<ul>
<li>:buffer BUFFER</li>
</ul>
<p>ä½¿ç”¨BUFFERä½œä¸ºprocess buffer</p>
<ul>
<li>coding CODING</li>
</ul>
<p>è®¾ç½®processçš„ç¼–ç ,æ ¼å¼ä¸º&rsquo;(DECODING ENCODING)</p>
<ul>
<li>:noquery QUERY-FLAG</li>
</ul>
<p>åˆå§‹åŒ–processçš„query flag,è‹¥ä¸ºénil,åˆ™åœ¨delete è¯¥processæ—¶ä¼šæå‡ç”¨æˆ·ç¡®è®¤</p>
<ul>
<li>:filter FILTER</li>
</ul>
<p>åˆå§‹åŒ–processçš„filter function</p>
<ul>
<li>:filter-multibyte MULTIBYTE</li>
</ul>
<p>è‹¥MULTIBYTEä¸ºénil,åˆ™ä¼ é€’ç»™process filter functionçš„å­—ç¬¦ä¸²ä¸ºmultbyteæ ¼å¼çš„.å¦åˆ™ä¸ºunibyteæ ¼å¼çš„.</p>
<p>é»˜è®¤ä¸ºå‚æ•°`enable-multibyte-characters&rsquo;çš„å€¼</p>
<ul>
<li>:sentinel SENTINEL</li>
</ul>
<p>åˆå§‹åŒ–processçš„sentinel</p>
<ul>
<li>:log LOG</li>
</ul>
<p>åˆå§‹åŒ–Network serverçš„log function.</p>
<p>æ¯æ¬¡serveræ¥å—ä¸€æ¬¡clientå‘èµ·çš„è¿æ¥è¯·æ±‚å°±ä¼šè°ƒç”¨ä¸€æ¬¡log function.</p>
<p>ä¼ é€’ç»™log functionçš„å‚æ•°æœ‰:SERVER,CONNECTIONå’ŒMESSAGE</p>
<ul>
<li>:plist PLIST</li>
</ul>
<p>åˆå§‹åŒ–processçš„plist</p>
<p>ä¸‹é¢çš„å‚æ•°æ˜¯ä¸“ä¸ºnetwork connectionä½¿ç”¨çš„</p>
<ul>
<li>:bindtodevice DEVICE-NAME</li>
</ul>
<p>æŒ‡å®šç»‘å®šåˆ°å“ªå¼ ç½‘å¡,åªæœ‰ä»è¯¥ç½‘å¡æ¥å—åˆ°çš„æŠ¥æ–‡æ‰ä¼šè¢«å¤„ç†,è‹¥DEVICE-NAMEä¸ºnil,è¡¨ç¤ºä»»ä½•ç½‘å¡</p>
<ul>
<li>broadcast BROADCAST-FLAG</li>
</ul>
<p>å¯¹äºdatagram processæ¥è¯´,è‹¥BROADCAST-FLAGä¸ºénil,åˆ™processä¼šæ¥å—å‘é€åˆ°å¹¿æ’­åŸŸçš„UDPæŠ¥æ–‡,ä¹Ÿèƒ½å°†UDPæŠ¥æ–‡å‘é€åˆ°å¹¿æ’­åŸŸ</p>
<p>å¯¹TCP é“¾æ¥æ— æ•ˆ</p>
<ul>
<li>:dontroute DONTROUTE-FLAG</li>
</ul>
<p>è‹¥DONTROUTE-FLAGä¸ºénil,åˆ™è¡¨ç¤ºä¸ç”±è·¯,åŠåªèƒ½å‘é€æŠ¥æ–‡ç»™ç»Ÿä¸€ç½‘æ®µçš„åœ°å€</p>
<ul>
<li>:keepalive KEEPALIVE-FLAG</li>
</ul>
<p>è‹¥ä¸ºTCPé“¾æ¥,ä¸”KEEPALIVE-FLAGä¸ºénil,åˆ™å¼€å¯low-level keep-alive messagesäº¤æ¢åŠŸèƒ½</p>
<ul>
<li>linger LINGER-ARG</li>
</ul>
<p>è‹¥LINGER-ARGä¸ºénil,åˆ™ä¼šåœ¨å…³é—­é“¾æ¥å‰ä¼šç­‰å¾…é“¾è·¯ä¸Šçš„æŠ¥æ–‡éƒ½è½¬å‘æˆåŠŸåæ‰å…³é—­.</p>
<p>è‹¥LINGER-ARGä¸ºæ•´æ•°,å®ƒè¡¨ç¤ºç­‰å¾…æŠ¥æ–‡è½¬å‘çš„æœ€å¤§æ—¶é—´.</p>
<p>é»˜è®¤å‚æ•°nilè¡¨ç¤ºå…³é—­é“¾æ¥æ—¶ç›´æ¥ä¸¢å¼ƒæ‰€æœ‰æœªè½¬å‘çš„æŠ¥æ–‡</p>
<ul>
<li>:oobinline OOBINLINE-FLAG</li>
</ul>
<p>è‹¥ä¸ºTCPé“¾æ¥,ä¸”OOBINLINE-FLAGä¸ºénil,åˆ™æ¥å—out-of-bandæ•°æ®åŒ…</p>
<ul>
<li>:priority PRIORITY</li>
</ul>
<p>è®¾ç½®æ•°æ®åŒ…çš„ä¼˜å…ˆçº§,ä¸ºæ•´æ•°.</p>
<p>è¯¥å‚æ•°ä¸ç³»ç»Ÿ,åè®®éƒ½ç›¸å…³</p>
<ul>
<li>:reuseaddr REUSEADDR-FLAG</li>
</ul>
<p>è¯¥å‚æ•°å¯¹stream server processç”Ÿæ•ˆ.</p>
<p>é»˜è®¤REUSEADDR-FLAGä¸ºénil,è¡¨ç¤ºè¯¥æœåŠ¡å¯ä»¥ç«‹åˆ»é‡ç”¨æŒ‡å®šçš„ç«¯å£.</p>
<p>è‹¥REUSEADDR-FLAGä¸ºnil,è¡¨ç¤ºåœ¨ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨äº†æŒ‡å®šç«¯å£å,ä¸€æ®µæ—¶é—´å†…è¯¥ç«¯å£ä¸èƒ½è¢«å…¶ä»–è¿›ç¨‹æ‰€ä½¿ç”¨.</p>
</li>
<li>
<p>(set-network-process-option process option value &amp;optional no-error)</p>
<p>è®¾ç½®å·²å­˜åœ¨network processçš„ç½‘ç»œå±æ€§,å¯è®¾ç½®çš„å±æ€§å‚è§`make-network-process&rsquo;ä¸­çš„å±æ€§(ä½†ä¸åŒ…æ‹¬reuseaddrå±æ€§)</p>
<p>è‹¥å‚æ•°NO-ERRORä¸ºénil,åˆ™å½“è®¾ç½®çš„å‚æ•°ä¸æ”¯æŒæ—¶ä¸ä¼šæŠ›å‡ºerror,åªè¿”å›nil</p>
<p>è‹¥è®¾ç½®æˆåŠŸ,åˆ™è¿”å›t</p>
</li>
<li>
<p>(open-network-stream name buffer host service &amp;rest parameters)</p>
<p>è¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ªTCPè¿æ¥(å¯é€‰æ‹©åŠ å¯†),å¹¶è¿”å›ä¸€ä¸ªprocess object</p>
<p>å‚æ•°NAMEè¡¨ç¤ºè¯¥process objectçš„åç§°,è‹¥æœ‰é‡å¤åç§°åˆ™ä¼šè‡ªåŠ¨æ·»åŠ ç¼–å·</p>
<p>å‚æ•°BUFFERä¸ºä¸è¯¥connectionç›¸è¿çš„buffer. é»˜è®¤æƒ…å†µä¸‹connectionçš„è¾“å‡ºä¼šæ’å…¥åˆ°è¯¥bufferä¸­. è‹¥BUFFERä¸ºnilè¡¨ç¤ºæ²¡æœ‰è¿æ¥çš„buffer</p>
<p>å‚æ•°HOSTå’ŒSERVICEæŒ‡æ˜äº†è¦è¿æ¥çš„æœåŠ¡ç«¯çš„åœ°å€å’Œç«¯å£. å…¶ä¸­hostä¸ºå­—ç¬¦ä¸²ç±»å‹,SERVICEå¯ä»¥ä¸ºå­—ç¬¦ä¸²ä¹Ÿå¯ä»¥ä¸ºæ•´æ•°</p>
<p>å‰©ä¸‹çš„å‚æ•°PARAMETERS,æ˜¯å„ç§keywordå‚æ•°:</p>
<ul>
<li>
<p>:nowait BOOLEAN</p>
<p>è‹¥ä¸ºé£nil,åˆ™è¡¨ç¤ºåˆ›å»ºå¼‚æ­¥è¿æ¥</p>
</li>
<li>
<p>:type TYPE</p>
<p>è¿æ¥çš„ç±»å‹.</p>
<table>
<thead>
<tr>
<th>TYPE</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>plain</td>
<td>æ™®é€šçš„,æœªåŠ å¯†çš„é“¾æ¥</td>
</tr>
<tr>
<td>tls / ssl</td>
<td>TLSé“¾æ¥</td>
</tr>
<tr>
<td>nil / network</td>
<td>è‡ªåŠ¨å†³å®šç±»å‹. è‹¥ç³»ç»Ÿæ”¯æŒå‚æ•°:successå’Œ:capability-command,åˆ™å…ˆå°è¯•é€šè¿‡STARTTLSå»ºç«‹åŠ å¯†é“¾æ¥,è‹¥å¤±è´¥äº†,ä½¿ç”¨æ™®é€šçš„æœªåŠ å¯†é“¾æ¥</td>
</tr>
<tr>
<td>starttls</td>
<td>ç±»ä¼¼nil,ä½†æ˜¯è‹¥é€šè¿‡STARTTLSåˆ›å»ºé“¾æ¥å¤±è´¥äº†,åˆ™å…³é—­è¯¥é“¾æ¥</td>
</tr>
<tr>
<td>shell</td>
<td>shell connection</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>:always-query-capabilities BOOLEAN</p>
<p>è‹¥ä¸ºénil,åˆ™æ€»æ˜¯è¯¢é—®serverç«¯èƒ½æ”¯æŒçš„ç‰¹æ€§,åŠæ—¶åˆ›å»ºçš„åªæ˜¯æ™®é€šçš„é“¾æ¥</p>
</li>
<li>
<p>:capability-command CAPABILITY-COMMAND</p>
<p>å®šä¹‰æŸ¥è¯¢serverç«¯æ”¯æŒç‰¹æ€§æ—¶çš„å‘½ä»¤ä¸²</p>
</li>
<li>
<p>:end-of-command REGEXP</p>
<p>åŒ¹é…commandç»“æŸçš„æ­£åˆ™è¡¨è¾¾å¼</p>
</li>
<li>
<p>:end-of-capability REGEXP</p>
<p>åŒ¹é…CAPABILITY-COMMANDå‘½ä»¤ä¸²ç»“æŸçš„æ­£åˆ™è¡¨è¾¾å¼,é»˜è®¤ä¸º:end-of-commandçš„å€¼</p>
</li>
<li>
<p>:starttls-function FUNCTION</p>
<p>è¯¥functionåº”è¯¥èƒ½æ¥æ”¶ä¸€ä¸ªå‚æ•°,è¯¥å‚æ•°ä¸ºæœåŠ¡ç«¯å¯¹CAPABILITY-COMMANDçš„å›åº”.</p>
<p>è¯¥functionåº”è¯¥è¿”å›nilæˆ–æ¿€æ´»STARTTLSçš„å‘½ä»¤</p>
</li>
<li>
<p>:success REGEXP</p>
<p>ä½¿ç”¨è¯¥æ­£åˆ™è¡¨è¾¾å¼æ¥åˆ¤æ–­æ˜¯å¦æ­£å¸¸å¼€å¯STARTTLSç‰¹æ€§</p>
</li>
<li>
<p>:use-starttls-if-possible BOOLEAN</p>
<p>è‹¥å€¼ä¸ºénil,è®¡æ—¶Emacsæ²¡æœ‰å†…å»ºTLSæ”¯æŒ,ä¹Ÿå°è¯•å¼€å¯STARTTLSç‰¹æ€§</p>
</li>
<li>
<p>:client-certificate LIST-OR-T</p>
<p>å¯ä»¥ä»¥&rsquo;(KEY-FILE CERT-FILE)çš„æ ¼å¼æ˜ç¡®æŒ‡æ˜äº†certificate key fileå’Œcertificate fileçš„åœ°å€</p>
<p>æˆ–è€…tè¡¨ç¤ºé€šè¿‡æŸ¥è¯¢`auth-source&rsquo;æ¥è·å–ä¿¡æ¯</p>
</li>
<li>
<p>:return-list CONS-OR-NIL</p>
<p>æŒ‡æ˜`make-network-stream&rsquo;çš„è¿”å›å€¼.</p>
<p>è‹¥ä¸ºnilåˆ™è¿”å›process object</p>
<p>å¦åˆ™è¿”å›&rsquo;(PROCESS-OBJECT . PLIST). å…¶ä¸­PLISTåŒ…å«å¦‚ä¸‹keyword:</p>
<ul>
<li>
<p>:greeting STRING-OR-NIL</p>
<p>è¡¨ç¤ºæœåŠ¡ç«¯è¿”å›çš„æ¬¢è¿ä¿¡æ¯</p>
</li>
<li>
<p>:capabilities STRING-OR-NIL</p>
<p>è¡¨ç¤ºæœåŠ¡ç«¯çš„æ”¯æŒçš„ç‰¹æ€§ä¿¡æ¯</p>
</li>
<li>
<p>:type SYMBOL</p>
<p>é“¾æ¥çš„ç±»å‹,å¯èƒ½ä¸º&rsquo;plainæˆ–&rsquo;tls</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>(process-datagram-address process)</p>
<p>è‹¥PROCESSä¸ºUDP connectionæˆ–UDP server. åˆ™è¯¥å‡½æ•°è¿”å›remote peer address</p>
</li>
<li>
<p>(set-process-datagram-address process address)</p>
<p>è‹¥PROCESSä¸ºUDP connectionæˆ–UDP server. åˆ™è¯¥å‡½æ•°è®¾ç½®remote peer addressä¸ºADDRESS</p>
</li>
</ul>
<h4 id="æµ‹è¯•networkç‰¹æ€§">æµ‹è¯•Networkç‰¹æ€§<a hidden class="anchor" aria-hidden="true" href="#æµ‹è¯•networkç‰¹æ€§">#</a></h4>
<p>è¦æµ‹è¯•æœ¬æœºä¸Šçš„make-network-processæ”¯æŒå“ªäº›ç‰¹å†™ç‰¹æ€§,å¯ä»¥ä½¿ç”¨`featurep&rsquo;å‡½æ•°:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(featurep <span style="color:#e6db74">&#39;make-network-process</span> <span style="color:#f92672">&#39;</span>(KEYWORD VALUE))
</code></pre></div><p>å®ƒè¡¨ç¤º`make-network-process&rsquo;æ—¶KEYWORDçš„å€¼æ˜¯å¦ä¸ºVALUE</p>
<p>ä¸‹é¢æ˜¯ä¸€äº›ä¾‹å­</p>
<table>
<thead>
<tr>
<th>KEYWORD VALUE PAIRS</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>(:nowait t)</td>
<td>Non-`nil&rsquo; if non-blocking connect is supported.</td>
</tr>
<tr>
<td>(:type datagram)</td>
<td>Non-`nil&rsquo; if datagrams are supported.</td>
</tr>
<tr>
<td>(:family local)</td>
<td>Non-`nil&rsquo; if local (a.k.a. &ldquo;UNIX domain&rdquo;) sockets are supported.</td>
</tr>
<tr>
<td>(:family ipv6)</td>
<td>Non-`nil&rsquo; if IPv6 is supported.</td>
</tr>
<tr>
<td>(:service t)</td>
<td>Non-`nil&rsquo; if the system can select the port for a server.</td>
</tr>
</tbody>
</table>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ ¼å¼çš„formæ¥æµ‹è¯•æŒ‡å®šçš„networké€‰é¡¹æ˜¯å¦èƒ½è®¾ç½®</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(featurep <span style="color:#e6db74">&#39;make-network-process</span> <span style="color:#e6db74">&#39;KEYWORD</span>)
</code></pre></div><h4 id="å…¶ä»–networkå‡½æ•°">å…¶ä»–Networkå‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#å…¶ä»–networkå‡½æ•°">#</a></h4>
<p>è¿™é‡Œçš„å‡½æ•°,éœ€è¦æ“ä½œç³»ç»Ÿçš„æ”¯æŒ.</p>
<ul>
<li>
<p>(network-interface-list)</p>
<p>è¯¥å‡½æ•°è¿”å›å½“å‰æœºå™¨ä¸­å„ç½‘å¡çš„æè¿°åˆ—è¡¨.</p>
<p>è¯¥åˆ—è¡¨çš„æ ¼å¼ä¸ºä¸€ä¸ªç”±&rsquo;(NAME . ADDRESS)ç»„æˆçš„alist</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">network-interface-list</span>)
<span style="color:#75715e">;; (&#34;wlan3&#34; . [192 168 8 113 0]) (&#34;lo&#34; . [127 0 0 1 0])</span>
</code></pre></div></li>
<li>
<p>(network-interface-info interface-name)</p>
<p>è¯¥å‡½æ•°è¿”å›æŒ‡å®šç½‘å¡çš„ä¿¡æ¯.</p>
<p>è¯¥ä¿¡æ¯æ˜¯ä¸€ä¸ªæ ¼å¼æ ¼å¼ä¸º&rsquo;(ADDR BROADECAST-ADDR NETMASK HARDWARE-ADDR FLAGS)çš„list</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">network-interface-info</span> <span style="color:#e6db74">&#34;wlan3&#34;</span>)
<span style="color:#75715e">;; (</span>
<span style="color:#75715e">;; [192 168 8 113 0]</span>
<span style="color:#75715e">;; [192 168 8 255 0]</span>
<span style="color:#75715e">;; [255 255 255 0 0]</span>
<span style="color:#75715e">;; (1 . [8 16 120 53 33 177])</span>
<span style="color:#75715e">;; (multicast running broadcast up))</span>
</code></pre></div></li>
<li>
<p>(format-network-address address &amp;optional omit-port)</p>
<p>è¯¥å‡½æ•°å°†lispæ ¼å¼çš„ç½‘ç»œåœ°å€è½¬æ¢ä¸ºå­—ç¬¦ä¸²è¡¨ç¤º</p>
<p>å‚æ•°OMIT-PORTè¡¨ç¤ºè½¬æ¢æ—¶æ˜¯å¦ä¸å¸¦ç«¯å£ä¿¡æ¯</p>
</li>
</ul>
<h3 id="serial-port-process">Serial Port Process<a hidden class="anchor" aria-hidden="true" href="#serial-port-process">#</a></h3>
<p>é€šè¿‡`make-serial-process&rsquo;åˆ›å»ºserial port processå¯ä»¥ä¸serial porté€šè®¯</p>
<p>serial port processå¯ä»¥é€šè¿‡`serial-process-configure&rsquo;å®æ—¶çš„ä¿®æ”¹é…ç½®,è€Œä¸ç”¨å…³é—­åé‡æ–°è¿æ¥.</p>
<ul>
<li>(make-serial-process &amp;rest args)</li>
</ul>
<p>è¯¥å‡½æ•°åˆ›å»ºserial port processåŠå…¶ç›¸å…³è¿çš„buffer. åœ¨å†…éƒ¨ä¼šä½¿ç”¨å‡½æ•°`serial-process-configure&rsquo;è¿›è¡ŒçœŸæ­£çš„é…ç½®å·¥ä½œ</p>
<p>argså¯ä»¥æ˜¯å¦‚ä¸‹keywordå‚æ•°:</p>
<ul>
<li>
<p>:port PORT</p>
<p>serial portçš„åç§°(Unixä¸‹ä¸º/dev/ttyS0,Winä¸‹ä¸ºCOM1æˆ–\\.\COM10)</p>
</li>
<li>
<p>:speed SPEED</p>
<p>serial portçš„é€Ÿç‡</p>
</li>
<li>
<p>:name NAME</p>
<p>processçš„åç§°,å¯èƒ½ä¼šæ·»åŠ åç¼€ä»¥ä¿è¯å”¯ä¸€</p>
</li>
<li>
<p>:buffer BUFFER-OR-NAME</p>
<p>ç›¸å…³è¿çš„buffer,è‹¥å¿½ç•¥è¯¥å‚æ•°åˆ™ä¸:nameçš„å‚æ•°å€¼ä¸€æ ·</p>
</li>
<li>
<p>:coding CODING</p>
<p>è¯»å–çš„ç¼–ç æ ¼å¼,å‚æ•°æ ¼å¼ä¸º&rsquo;(DECODING . ENCODING)</p>
</li>
<li>
<p>:noquery QUERY-FLAG</p>
<p>åˆå§‹åŒ–processçš„query flag. å†³å®šè¢«å…³é—­æ—¶æ˜¯å¦æç¤ºç”¨æˆ·ç¡®è®¤</p>
</li>
<li>
<p>:stop BOOL</p>
<p>åˆ›å»ºçš„processæ˜¯å¦ä¸€å¼€å§‹å°±å¤„äºstoppedçŠ¶æ€,è¿™æ˜¯processä¸èƒ½æ¥å—æ•°æ®,ä½†æ˜¯å¯ä»¥å‘é€æ•°æ®</p>
</li>
<li>
<p>:filter FILTER</p>
<p>è®¾ç½®rocess filter function</p>
</li>
<li>
<p>:sentinel SENTINEL</p>
<p>è®¾ç½®processçš„sentinel</p>
</li>
<li>
<p>:plist PLIST</p>
<p>è®¾ç½®processçš„åˆå§‹plist</p>
</li>
<li>
<p>:bytesize BYTESIZE</p>
<p>è®¾ç½®æ¯ä¸ªbyteåŒ…å«å¤šå°‘bit,å¯ä»¥ä¸º7æˆ–8. é»˜è®¤ä¸º8</p>
</li>
<li>
<p>:parity PARITY</p>
<p>å¯ä»¥ä¸ºnil,&lsquo;oddæˆ–&rsquo;even</p>
</li>
<li>
<p>:stopbits STOPBITS</p>
<p>æ¯ä¸ªbyteä¸­ç”¨äºç»ˆæ­¢ä¼ è¾“çš„stopbitçš„ä½æ•°. å¯ä»¥æ˜¯1æˆ–2. é»˜è®¤ä¸º1</p>
</li>
<li>
<p>:flowcontrol FLOWCONTROL</p>
<p>flowçš„ç±»å‹å†³å®šäº†å¦‚ä½•ä½¿ç”¨è¯¥é“¾æ¥. å¯ä»¥æ˜¯nil(ä¸ä½¿ç”¨æµæ§åˆ¶ç‰¹æ€§),&lsquo;hw(ä½¿ç”¨RTS/CTSç¡¬ä»¶æµæ§åˆ¶),&lsquo;sw(ä½¿ç”¨XON/XOFFè½¯ä»¶æµæ§åˆ¶)</p>
</li>
</ul>
<p>å¯ä»¥é€šè¿‡å‡½æ•°`process-conntact&rsquo;æŸ¥çœ‹é‚£äº›å‚æ•°å¯ä»¥è¢«ä¿®æ”¹.</p>
<ul>
<li>(serial-process-configure &amp;rest args)</li>
</ul>
<p>é‡æ–°è®¾ç½®serial port processçš„å±æ€§</p>
<h2 id="æ“ä½œç³»ç»Ÿç›¸å…³">æ“ä½œç³»ç»Ÿç›¸å…³<a hidden class="anchor" aria-hidden="true" href="#æ“ä½œç³»ç»Ÿç›¸å…³">#</a></h2>
<h3 id="emacså¯åŠ¨è¯´æ˜">Emacså¯åŠ¨è¯´æ˜<a hidden class="anchor" aria-hidden="true" href="#emacså¯åŠ¨è¯´æ˜">#</a></h3>
<h4 id="emacså¯åŠ¨æµç¨‹">Emacså¯åŠ¨æµç¨‹<a hidden class="anchor" aria-hidden="true" href="#emacså¯åŠ¨æµç¨‹">#</a></h4>
<ol>
<li>
<p>æœç´¢`load-path&rsquo;ä¸­çš„å„ä¸ªç›®å½•,çœ‹æ˜¯å¦å­˜åœ¨`subdirs.el&rsquo;è¿™ä¸ªæ–‡ä»¶,æœ‰åˆ™æ‰§è¡Œè¯¥æ–‡ä»¶.</p>
<p>`subdirs.el&rsquo;è¿™ä¸ªæ–‡ä»¶æ­£å¸¸æƒ…å†µä¸‹æ˜¯ç”±Emacsåœ¨å®‰è£…æ—¶è‡ªåŠ¨ç”Ÿæˆçš„,å®ƒçš„ä½œç”¨æ˜¯åŠ è½½ç›®å½•ä¸­çš„å„ä¸ªå­ç›®å½•åˆ°`load-path&rsquo;ä¸­,å¹¶ä¸”é€’å½’æ‰§è¡Œå­ç›®å½•ä¸­çš„`subdirs.el&rsquo;æ–‡ä»¶</p>
</li>
<li>
<p>åœ¨`load-path&rsquo;ä¸­çš„å„ç›®å½•ä¸­å¯»æ‰¾`leim-list.el&rsquo;å¹¶åŠ è½½</p>
<p>`leim-list.el&rsquo;è¿™ä¸ªæ–‡ä»¶è¢«ç”¨æ¥æ³¨å†Œè¾“å…¥æ³•. å¹¶ä¸”Emacsåœ¨æœç´¢`leim-list.el&rsquo;æ—¶ä¼šè·³è¿‡é‚£äº›å­˜æ”¾Emacsè‡ªå¸¦åº“çš„ç›®å½•.</p>
</li>
<li>
<p>è®¾ç½®å˜é‡`before-init-time&rsquo;çš„å€¼ä¸ºå½“å‰æ—¶é—´. è®¾ç½®å˜é‡`after-init-time&rsquo;ä¸ºnil,è¡¨ç¤ºEmacsè¿˜æœªåˆå§‹åŒ–å®Œæˆ.</p>
</li>
<li>
<p>æ ¹æ®`LANG&rsquo;ç¯å¢ƒå˜é‡è®¾ç½®language environment å’Œ the terminal coding system</p>
</li>
<li>
<p>å¯¹å‘½ä»¤è¡Œå‚æ•°è¿›è¡ŒåŸºæœ¬çš„å¤„ç†,è¿™ä¸€æ­¥å¤„ç†æ‰çš„æ˜¯emacsæœ¬èº«æ”¯æŒçš„é‚£äº›å‚æ•°.</p>
</li>
<li>
<p>è‹¥ä¸æ˜¯è¿è¡Œåœ¨batchæ¨¡å¼ä¸‹,Emacsæ ¹æ®`initial-window-system&rsquo;çš„å€¼æ¥ä¸ºä¸åŒçš„çª—å£ç³»ç»Ÿè¿›è¡Œä¸åŒçš„åˆå§‹åŒ–.</p>
<p>æŸä¸ªçª—å£ç³»ç»Ÿåˆ†åˆ«åŠ è½½å“ªä¸ªåˆå§‹åŒ–å‡½æ•°,æ˜¯æ ¹æ®å˜é‡`window-system-initialization-alist&rsquo;æ¥å†³å®šçš„.</p>
<p>å­˜æ”¾åˆå§‹åŒ–å‡½æ•°çš„æ–‡ä»¶è·¯å¾„åº”è¯¥ä¸º`term/çª—å£ç³»ç»Ÿç±»å‹-win.el&rsquo;ä¸­</p>
</li>
<li>
<p>è§¦å‘`before-init-hook&rsquo;</p>
</li>
<li>
<p>åœ¨å¯ä»¥çš„æƒ…å†µä¸‹,åˆ›å»ºå›¾å½¢åŒ–çš„frame.</p>
<p>è‹¥è®¾ç½®äº†å‚æ•°`&ndash;batch&rsquo;æˆ–`&ndash;daemon&rsquo;æˆ–`&ndash;script&rsquo;åˆ™ç›´æ¥è·³è¿‡è¿™ä¸€æ­¥</p>
</li>
<li>
<p>åˆå§‹åŒ–æœ€åˆçš„frameçš„æ˜¾ç¤ºç•Œé¢,å¦‚æœéœ€è¦çš„è¯,è¿˜ä¼šè®¾ç½®èœå•æ å’Œå·¥å…·æ .</p>
<p>è‹¥ç³»ç»Ÿæ”¯æŒå›¾å½¢åŒ–çš„frame,åˆ™ä¸ç®¡å½“å‰frameæ˜¯å¦ä¸ºå›¾å½¢åŒ–çš„frame,éƒ½ä¼šå»è®¾ç½®å·¥å…·æ ,å› ä¸ºåœ¨åé¢çš„æ“ä½œä¸­æœ‰å¯èƒ½å†æ¬¡åˆ›å»ºå›¾å½¢åŒ–frame</p>
</li>
<li>
<p>ä½¿ç”¨å‡½æ•°`custom-reevaluate-setting&rsquo;æ¥é‡æ–°åˆå§‹åŒ–å˜é‡`custom-delayed-init-variables&rsquo;ä¸­çš„å„æˆå‘˜çš„å€¼.</p>
</li>
<li>
<p>è‹¥`site-start&rsquo;åº“å­˜åœ¨,åˆ™åŠ è½½ä¹‹.</p>
<p>ä½†è‹¥è®¾ç½®äº†å‚æ•°`-Q&rsquo;æˆ–`&ndash;no-site-file&rsquo;åˆ™è·³è¿‡è¿™ä¸€æ­¥</p>
</li>
<li>
<p>åŠ è½½ç”¨æˆ·çš„åˆå§‹åŒ–æ–‡ä»¶,ç”¨æˆ·åˆå§‹åŒ–æ–‡ä»¶å¯èƒ½æ˜¯`~/.emacs&rsquo;,`~/.emacs.el&rsquo;,`~/.emacs.d/init.el&rsquo;</p>
<p>ä½†è‹¥è®¾ç½®äº†å‚æ•°`-q&rsquo;,`-Q&rsquo;æˆ–`&ndash;batch&rsquo;åˆ™è·³è¿‡è¿™ä¸€æ­¥</p>
</li>
<li>
<p>è‹¥`default&rsquo;åº“å­˜åœ¨,åˆ™åŠ è½½ä¹‹.</p>
<p>ä½†è‹¥å˜é‡`inhibit-default-init&rsquo;ä¸ºénil,æˆ–è®¾ç½®äº†å‚æ•°`-q&rsquo;,`&ndash;batch&rsquo;åˆ™è·³è¿‡è¿™ä¸€æ­¥</p>
</li>
<li>
<p>å°è¯•ä»å˜é‡`abbrev-file-name&rsquo;å˜é‡æŒ‡å®šçš„æ–‡ä»¶ä¸­åŠ è½½ç¼©å†™é…ç½®ä¿¡æ¯.</p>
<p>è‹¥è®¾ç½®äº†å‚æ•°`&ndash;batch&rsquo;,åˆ™è·³è¿‡è¿™ä¸€æ­¥</p>
</li>
<li>
<p>è‹¥`package-enable-at-startup&rsquo;ä¸ºénil,åˆ™Emacsè°ƒç”¨å‡½æ•°`package-initialize&rsquo;æ¥æ¿€æ´»æ‰€æœ‰çš„å·²å®‰è£…çš„ç¬¬ä¸‰æ–¹Emacs LispåŒ…. å…·ä½“å‚è§<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Packaging_002520Basics.html" title="Emacs Lisp: (info &quot;(elisp) Packaging%20Basics&quot;)">Packaging Basics</a></p>
</li>
<li>
<p>è®¾ç½®å˜é‡`after-init-time&rsquo;çš„æ—¶é—´ä¸ºå½“å‰æ—¶é—´,è¡¨ç¤ºåˆå§‹åŒ–è¿‡ç¨‹å·²ç»å®Œæˆ</p>
</li>
<li>
<p>è§¦å‘`after-init-hook&rsquo;</p>
</li>
<li>
<p>è‹¥`*scratch*&rsquo; bufferå­˜åœ¨,ä¸”å‡ºäºFundamental modeä¸‹,åˆ™æ ¹æ®å˜é‡`initial-major-mode&rsquo;çš„å€¼å´æ¢Major Mode</p>
</li>
<li>
<p>è‹¥åœ¨æ–‡æœ¬ç»ˆç«¯ç¯å¢ƒå¯åŠ¨çš„Emacs,åˆ™è¿˜ä¼šåŠ è½½ä¸ç»ˆç«¯ç›¸å…³çš„lisp library,å¹¶è§¦å‘`tty-setup-hook'</p>
</li>
<li>
<p>è‹¥`inhibit-startup-echo-area-message&rsquo;ä¸ºnil,åˆ™åœ¨echo areaæ˜¾ç¤ºåˆå§‹ä¿¡æ¯</p>
</li>
<li>
<p>å¤„ç†å°šæœªè¢«å¤„ç†çš„å‘½ä»¤è¡Œå‚æ•°,è¿™ä¸€æ­¥å¤„ç†çš„æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„å‚æ•°</p>
</li>
<li>
<p>è‹¥è®¾ç½®äº†å‚æ•°`&ndash;batch&rsquo;åˆ™æ­¤æ—¶é€€å‡º</p>
</li>
<li>
<p>è‹¥`initial-buffer-choice&rsquo;ä¸ºå­—ç¬¦ä¸²,åˆ™è®¿é—®è¯¥å­—ç¬¦ä¸²æ‰€è¡¨ç¤ºçš„æ–‡ä»¶/ç›®å½•</p>
<p>è‹¥ä¸ºå‡½æ•°,åˆ™ä¸å¸¦å‚æ•°è°ƒç”¨è¯¥å‡½æ•°,å¹¶æ ¹æ®è¿”å›ç»“æœé€‰æ‹©æ˜¾ç¤ºå“ªä¸ªbuffer</p>
<p>è‹¥`*scratch*' bufferå­˜åœ¨ä¸”æ— å†…å®¹,åˆ™æ’å…¥`initial-scratch-message&rsquo;å˜é‡å€¼åˆ°bufferä¸­</p>
</li>
<li>
<p>è§¦å‘`emacs-startup-hook'</p>
</li>
<li>
<p>è°ƒç”¨`frame-notice-user-settings',è¯¥å‡½æ•°æ ¹æ®åˆå§‹åŒ–æ–‡ä»¶ä¿®æ”¹é€‰ä¸­çš„frameå‚æ•°</p>
</li>
<li>
<p>è§¦å‘`window-setup-hook'</p>
</li>
<li>
<p>æ˜¾ç¤º`startup screen' buffer</p>
<p>ä½†è‹¥`inhibit-startup-screen&rsquo;æˆ–`inital-buffer-choice&rsquo;ä¸ºénil,æˆ–è®¾ç½®äº†`&ndash;no-splash'/`-Q&rsquo;å‘½ä»¤è¡Œå‚æ•°,åˆ™è·³è¿‡è¿™ä¸€æ­¥</p>
</li>
<li>
<p>è‹¥è®¾ç½®äº†é€‰é¡¹`&ndash;daemon',åˆ™è°ƒç”¨`server-start&rsquo;å‡½æ•°,å¹¶ä»æ§åˆ¶ç»ˆç«¯ç›¸åˆ†ç¦»(å‚è§<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Emacs_002520Server.html" title="Emacs Lisp: (info &quot;(emacs) Emacs%20Server&quot;)">Emacs Server</a>)</p>
</li>
<li>
<p>è‹¥Emacsç”±X Session Managerè°ƒèµ·,åˆ™ä¼šè°ƒç”¨`emacs-session-restore&rsquo;å‡½æ•°,è°ƒç”¨å‚æ•°ä¸ºä¹‹å‰X Sessionçš„ID</p>
</li>
</ol>
<h4 id="emacsç›¸å…³åˆå§‹åŒ–æ–‡ä»¶">Emacsç›¸å…³åˆå§‹åŒ–æ–‡ä»¶<a hidden class="anchor" aria-hidden="true" href="#emacsç›¸å…³åˆå§‹åŒ–æ–‡ä»¶">#</a></h4>
<p>ç”¨æˆ·åˆå§‹åŒ–æ–‡ä»¶å¯èƒ½æ˜¯`~/.emacs',`~/.emacs.el',`~/.emacs.d/init.el'</p>
<p>æœ‰äº›Emacsä¼šæœ‰ä¸€ä¸ªåä¸º`default.el&rsquo;çš„é»˜è®¤åˆå§‹åŒ–æ–‡ä»¶,è‹¥åœ¨`load-path&rsquo;ä¸­èƒ½æ‰¾åˆ°è¯¥æ–‡ä»¶çš„è¯,åˆ™å½“å¯åŠ¨Emacs,ä¼šåŠ è½½è¯¥æ–‡ä»¶.</p>
<p>ä¸ªäººç”¨æˆ·çš„åˆå§‹åŒ–æ–‡ä»¶ä¼˜å…ˆçº§æ¯”`default.el&rsquo;çš„è¦é«˜, <strong>è‹¥åœ¨åŠ è½½ä¸ªäººåˆå§‹åŒ–æ–‡ä»¶æ—¶å°†`inhibit-default-init&rsquo;è®¾ç½®énil,åˆ™ä¸å†åŠ è½½`default.el&rsquo;äº†</strong></p>
<p>å½“ç„¶`-q&rsquo;å’Œ`-Q&rsquo;å‚æ•°,ä½¿å¾—Emacsæ—¢ä¸åŠ è½½ä¸ªäººåˆå§‹åŒ–æ–‡ä»¶,ä¹Ÿä¸åŠ è½½é»˜è®¤åˆå§‹åŒ–æ–‡ä»¶</p>
<p>è¿˜æœ‰ä¸€ä¸ªé…ç½®siteç›¸å…³çš„åˆå§‹åŒ–æ–‡ä»¶å«åš`site-start.el',Emacsåœ¨åŠ è½½ç”¨æˆ·åˆå§‹åŒ–æ–‡ä»¶å‰ä¼šåŠ è½½è¯¥æ–‡ä»¶,ä½†ä½ å¯ä»¥é€šè¿‡å‚æ•°`&ndash;no-site-file&rsquo;æ¥è·³è¿‡åŠ è½½è¯¥æ–‡ä»¶</p>
<ul>
<li>
<p>é…ç½®é¡¹site-run-file</p>
<p>è¯¥å˜é‡æŒ‡å®šäº†ä¸siteç›¸å…³é…ç½®çš„åˆå§‹åŒ–æ–‡ä»¶çš„æ–‡ä»¶å,é»˜è®¤ä¸º`site-start'</p>
<p>The only way you can change it with real effect is to do so before</p>
</li>
<li>
<p>é…ç½®é¡¹`inhibit-default-init'</p>
<p>è¯¥å˜é‡æŒ‡å®šæ˜¯å¦ä¸åŠ è½½é»˜è®¤åˆå§‹åŒ–æ–‡ä»¶`default.el',é»˜è®¤ä¸ºnilè¡¨ç¤ºåŠ è½½</p>
</li>
<li>
<p>before-init-hook</p>
<p>åœ¨åŠ è½½æ‰€æœ‰çš„åˆå§‹åŒ–æ–‡ä»¶(`site-start.el',ä¸ªäººåˆå§‹åŒ–æ–‡ä»¶,`default.el')å‰è§¦å‘</p>
</li>
<li>
<p>after-init-hook</p>
<p>åŠ è½½å®Œæ‰€æœ‰çš„åˆå§‹åŒ–æ–‡ä»¶å,åœ¨åŠ è½½ä¸ç»ˆç«¯ç›¸å…³libraryå‰(è‹¥åœ¨æ–‡æœ¬ç»ˆç«¯ä¸‹å¯åŠ¨çš„Emacs)æˆ–å¤„ç†å‘½ä»¤è¡Œå‚æ•°å‰è§¦å‘</p>
</li>
<li>
<p>emacs-startup-hook</p>
<p>åœ¨å¤„ç†å®Œå‘½ä»¤è¡Œå‚æ•°åè§¦å‘</p>
<p>è‹¥åœ¨batchæ¨¡å¼ä¸‹,Emacsä¸è§¦å‘è¯¥hook</p>
</li>
<li>
<p>window-setup-hook</p>
<p>ç±»ä¼¼`emacs-startup-hook',ä½†æ˜¯å®ƒè§¦å‘çš„æ—¶é—´è¦æ™šä¸€ç‚¹,åœ¨è®¾ç½®å®Œframeå‚æ•°ä¹‹åè§¦å‘</p>
</li>
<li>
<p>user-init-file</p>
<p>è¯¥å‚æ•°çš„å€¼ä¸ºç”¨æˆ·åˆå§‹åŒ–æ–‡ä»¶çš„ç»å¯¹è·¯å¾„å. è‹¥å®é™…åŠ è½½çš„åˆå§‹åŒ–æ–‡ä»¶ä¸º.elcæ–‡ä»¶,åˆ™è¯¥å€¼ä¸ºç›¸åº”çš„æºä»£ç è·¯å¾„</p>
</li>
<li>
<p>user-emacs-directory</p>
<p>è¯¥å‚æ•°çš„å€¼ä¸º`.emacs.d&rsquo;ç›®å½•çš„è·¯å¾„. é™¤äº†MS-DOSå¹³å°,å…¶ä»–å¹³å°ä¸Šè¯¥å€¼éƒ½æ˜¯`~/.emacs.d'</p>
</li>
</ul>
<h4 id="ç»ˆç«¯ç›¸å…³çš„library">ç»ˆç«¯ç›¸å…³çš„library<a hidden class="anchor" aria-hidden="true" href="#ç»ˆç«¯ç›¸å…³çš„library">#</a></h4>
<p>Emacsåœ¨ä¸åŒç±»å‹çš„ç»ˆç«¯ä¸‹å¯åŠ¨æ—¶,éƒ½ä¼šåŠ è½½ä¸åŒçš„ç»ˆç«¯ç›¸å…³çš„library. è¯¥libraryçš„åå­—ç”±`term-file-prefix&rsquo;å˜é‡çš„å€¼(é»˜è®¤ä¸º&quot;term/&quot;)ä¸ç»ˆç«¯ç±»å‹(é€šå¸¸ç”±ç¯å¢ƒå˜é‡`TERM&rsquo;è¡¨ç¤º)ç»„åˆè€Œæˆ.</p>
<p>è¯¥terminal-specific librarçš„ä½œç”¨å¸¸ç”¨æ¥ä½¿å¾—Emacsèƒ½å¤Ÿè¯†åˆ«special keys. è‹¥æ“ä½œç³»ç»Ÿçš„Termcapæˆ–Terminfoé¡¹æ— æ³•å®Œå…¨è¯†åˆ«æ‰€æœ‰çš„ç»ˆç«¯åŠŸèƒ½é”®,åˆ™å¯ä»¥éœ€è¦ä¿®æ”¹å˜é‡`input-decode-map&rsquo;çš„å€¼</p>
<p>è‹¥ç»ˆç«¯ç±»å‹åä¸­åŒ…å«`-&lsquo;æˆ–`<em>',ä¸”ä½¿ç”¨æ”¹åå­—æŸ¥æ‰¾libraryæ—¶æœªæ‰¾åˆ°,åˆ™ä¼šå°è¯•å»é™¤ç»ˆç«¯åä¸­æœ€åé‚£ä¸ª`</em>&lsquo;æˆ–`-&lsquo;éƒ¨åˆ†å,ä½œä¸ºç»ˆç«¯åç§°åœ¨æ­¤æŸ¥è¯¢library.</p>
<p>å¯ä»¥åœ¨åˆå§‹åŒ–æ–‡ä»¶ä¸­é€šè¿‡è®¾ç½®`term-file-prefix&rsquo;ä¸ºnil,ä»¥é˜»æ­¢EmacsåŠ è½½terminal specific library</p>
<p>åœ¨Emacså®Œæˆåˆå§‹åŒ–æ–‡æœ¬ç»ˆç«¯å,ä¼šè§¦å‘`tty-setup-hook&rsquo;,You could use this hook to define initializations for terminals that do not have their own libraries.</p>
<ul>
<li>
<p>term-file-prefix</p>
<p>è‹¥å˜é‡ä¸ºnilè¡¨ç¤ºä¸åŠ è½½ç»ˆç«¯åˆå§‹åŒ–æ–‡ä»¶. å¦åˆ™EmacsåŠ è½½åä¸º <code>(load (concat term-file-prefix (getenv &quot;TERM&quot;))</code> çš„æ–‡ä»¶ä½œä¸ºåˆå§‹åŒ–ç»ˆç«¯çš„è„šæœ¬.</p>
</li>
<li>
<p>tty-setup-hook</p>
<p>è¯¥hookåœ¨Emacsåˆå§‹åŒ–ä¸‡ä¸€ä¸ªæ–°æ–‡æœ¬ç»ˆç«¯åè§¦å‘.(This applies when Emacs starts up in non-windowed mode, and when making a tty â€˜emacsclientâ€™ connection.)</p>
</li>
<li>
<p>(suspend-tty &amp;optional TTY)</p>
<p>å‚æ•°TTYä¸ºEmacsä½¿ç”¨çš„ç»ˆç«¯. è¯¥å‡½æ•°æŒ‚èµ·æŒ‡å®šçš„ç»ˆç«¯,æ­¤æ—¶ä½¿ç”¨è¯¥ç»ˆç«¯çš„Frameä¾ç„¶å­˜åœ¨,ä½†æ˜¯Emacså¹¶ä¸å†ä»è¯¥ç»ˆç«¯è¯»å–ä»»ä½•è¾“å…¥,ä¹Ÿä¸å†æ›´æ–°ä½¿ç”¨è¯¥ç»ˆç«¯çš„frame.</p>
<p>å‚æ•°TTYå¯ä»¥ä½¿ä¸€ä¸ªç»ˆç«¯å¯¹è±¡,ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªframe(è¡¨ç¤ºè¯¥frameæ‰€åœ¨çš„ç»ˆç«¯),æˆ–nil(è¡¨ç¤ºå½“å‰frameæ‰€åœ¨çš„ç»ˆç«¯)</p>
<p>è‹¥TTYå·²ç»å‡ºäºæŒ‚èµ·çŠ¶æ€,è¯¥å‡½æ•°ä¸åšä»»ä½•äº‹æƒ….</p>
<p>è¯¥å‡½æ•°è¿˜ä¼šè§¦å‘`suspend-tty-functions&rsquo;,ä»¥ç»ˆç«¯å¯¹è±¡ä½œä¸ºå‚æ•°æ¥è°ƒç”¨å…¶ä¸­çš„æ¯ä¸ªå‡½æ•°.</p>
</li>
<li>
<p>(resume-tty &amp;optional tty)</p>
<p>å‚æ•°TTYä¸ºä¹‹å‰æŒ‚èµ·çš„ç»ˆç«¯è®¾å¤‡,è¯¥å‡½æ•°æ¢å¤è¯¥ç»ˆç«¯,å¹¶è§¦å‘`resume-tty-functions&rsquo;,åŒæ ·ä»¥ç»ˆç«¯å¯¹è±¡ä½œä¸ºå‚æ•°æ¥è°ƒç”¨å…¶ä¸­çš„æ¯ä¸ªå‡½æ•°.</p>
<p>è‹¥TTYä¸å¤„äºæŒ‚èµ·çŠ¶æ€,åˆ™è¯¥å‡½æ•°ä¸åšä»»ä½•äº‹</p>
<p>If the same device is already used by another Emacs terminal, this function signals an error.</p>
</li>
<li>
<p>(controlling-tty-p &amp;optional tty)</p>
<p>åˆ¤æ–­TTYæ˜¯å¦ä¸ºæ§åˆ¶ç»ˆç«¯.</p>
<p>å‚æ•°TTYå¯èƒ½æ˜¯ç»ˆç«¯å¯¹è±¡,frame(è¡¨ç¤ºè¯¥frameæ‰€åœ¨çš„ç»ˆç«¯),æˆ–nil(è¡¨ç¤ºå½“å‰frameæ‰€åœ¨çš„ç»ˆç«¯)</p>
</li>
</ul>
<h4 id="emacsæ˜¯å¦‚ä½•å¤„ç†å‘½ä»¤è¡Œå‚æ•°çš„">Emacsæ˜¯å¦‚ä½•å¤„ç†å‘½ä»¤è¡Œå‚æ•°çš„<a hidden class="anchor" aria-hidden="true" href="#emacsæ˜¯å¦‚ä½•å¤„ç†å‘½ä»¤è¡Œå‚æ•°çš„">#</a></h4>
<p>å½“ä½¿ç”¨emacs &ndash;script xxx.el argsæ—¶,ä¸ºäº†è·å–command-lineå‚æ•°,å¯ä»¥åœ¨xxx.elä¸­ä½¿ç”¨å˜é‡`argv`è·å–å‚æ•°åˆ—è¡¨</p>
<ul>
<li>
<p>(command-line)</p>
<p>è¯¥å‡½æ•°è§£æè°ƒç”¨Emacsæ—¶çš„command line,å¤„ç†è¯¥command line,åŠ è½½ç”¨æˆ·åˆå§‹åŒ–æ–‡ä»¶,ç„¶åæ˜¾ç¤ºå¯åŠ¨ä¿¡æ¯</p>
</li>
<li>
<p>command-line-processed</p>
<p>è¯¥å˜é‡æ ‡è¯†äº†,comand lineæ˜¯å¦å·²ç»è¢«å¤„ç†è¿‡äº†, è‹¥å¤„ç†è¿‡äº†åˆ™è¯¥å€¼ä¸ºt</p>
<p>å½“é€šè¿‡`dump-emacs&rsquo;å‡½æ•°æ¥redump Emacsæ—¶,å¸¸å¸¸ä¼šå…ˆå°†è¯¥å˜é‡è®¾ä¸ºnil,è¿™æ ·å¯ä»¥è®©æ–°dumped Emacsä¼šå»å†ä¸€æ¬¡å¤„ç†å®ƒçš„command-line arguments</p>
</li>
<li>
<p>command-switch-alist
è¯¥å˜é‡æ˜¯ç´ ä¸º`(option . handler-function)&lsquo;çš„alist. è¿™é‡Œ</p>
<ul>
<li>
<p>optionä¸ºcommand-line argumentä¸­çš„`-option&rsquo;å‚æ•°(<strong>å¸¦-</strong>),ä¸ºå­—ç¬¦ä¸²æ ¼å¼</p>
</li>
<li>
<p>handler-functionä¸ºç›¸åº”çš„å¤„ç†å‡½æ•°å,å®ƒæ¥æ”¶optionä¸ºå‚æ•°</p>
</li>
</ul>
<p>è‹¥command line optionåè¿˜å¸¦äº†å…¶ä»–å‚æ•°,åˆ™åœ¨handler-functionä¸­å¯ä»¥é€šè¿‡å˜é‡`command-line-args-left&rsquo;æ¥è·å–å‰©ä½™çš„å‘½ä»¤è¡Œå‚æ•°</p>
</li>
<li>
<p>command-line-args
ä¼ é€’ç»™Emacsçš„å®Œæ•´command-line argumentåˆ—è¡¨</p>
</li>
<li>
<p>command-line-args-left
å°šæœªå¤„ç†çš„command-line argumentåˆ—è¡¨. <strong>è‡ªå®šä¹‰å‡½æ•°æœ‰æ—¶éœ€è¦ä¿®æ”¹è¯¥å˜é‡</strong></p>
</li>
<li>
<p>command-line-functions
è¯¥å˜é‡æ˜¯ä¸€ç³»åˆ—å‡½æ•°çš„åˆ—è¡¨,è¿™äº›å‡½æ•°ç”¨æ¥å¤„ç†æ— æ³•è¯†åˆ«çš„command-lineå‚æ•°.</p>
<p>æ¯æ¬¡å¤„ç†ä¸€ä¸ªæ²¡æœ‰ç‰¹æ®Šæ„ä¹‰çš„command line argumentæ—¶,è¯¥å˜é‡ä¸­çš„å‡½æ•°éƒ½ä¼šè¢«ä¾æ¬¡è°ƒç”¨, <strong>ç›´åˆ°æœ‰ä¸€ä¸ªå‡½æ•°è¿”å›énilçš„å€¼</strong></p>
<p><strong>è¿™äº›å‡½æ•°è¢«è°ƒç”¨æ—¶å¹¶ä¸ä¼ é€’å‚æ•°,ä½†åœ¨è¿™äº›å‡½æ•°å†…å¯ä»¥é€šè¿‡å˜é‡`argi&rsquo;è·å–å½“å‰å¾…å¤„ç†çš„command-line argument. å¯ä»¥é€šè¿‡å˜é‡`command-line-args-left&rsquo;è·å–å°šæœªè¢«å¤„ç†çš„command line arguments</strong>.</p>
<p><strong>è‹¥æŸå‡½æ•°é™¤äº†å½“å‰å¾…å¤„ç†çš„å‡½æ•°,åŒæ—¶ä¹ŸæŠŠåé¢çš„å‚æ•°çµ¦å¤„ç†è¿‡äº†,åˆ™éœ€è¦æŠŠåé¢é‚£äº›è¢«å¤„ç†è¿‡çš„å‚æ•°ä»`command-line-args-left&rsquo;ä¸­åˆ é™¤</strong></p>
<p><strong>è‹¥æŸå‡½æ•°å·²ç»å¤„ç†äº†å½“å‰ä»£å¤„ç†çš„å‚æ•°,åˆ™ä¸€å®šè®°å¾—è¿”å›énilå€¼</strong>. <strong>è‹¥æ‰€æœ‰çš„å‡½æ•°éƒ½è¿”å›nil,è¯¥å‚æ•°ä¼šè¢«è®¤ä¸ºæ˜¯Emacsè¦æ‰“å¼€çš„æ–‡ä»¶åç§°</strong></p>
</li>
</ul>
<h3 id="é€€å‡ºemacs">é€€å‡ºEmacs<a hidden class="anchor" aria-hidden="true" href="#é€€å‡ºemacs">#</a></h3>
<h4 id="é€€å‡ºemacs">é€€å‡ºEmacs<a hidden class="anchor" aria-hidden="true" href="#é€€å‡ºemacs">#</a></h4>
<ul>
<li>
<p>å‘½ä»¤(kill-emacs &amp;optional exit-data)</p>
<p>è¯¥å‘½ä»¤è§¦å‘`kill-emacs-hook&rsquo;,å¹¶é€€å‡ºEmacsè¿›ç¨‹</p>
<p>å‚æ•°`EXIT-DATA&rsquo;è‹¥ä¸ºæ•´æ•°,åˆ™è¡¨ç¤ºEmacsè¿›ç¨‹çš„é€€å‡ºç </p>
<p>å‚æ•°`EXIT-DATA&rsquo;è‹¥ä¸ºå­—ç¬¦ä¸²,åˆ™è¡¨ç¤ºEmacsé€€å‡ºæ—¶è¾“å‡ºçš„å†…å®¹</p>
</li>
<li>
<p>kill-emacs-hook</p>
<p>è¯¥hookåœ¨`kill-emacs&rsquo;çœŸæ­£é€€å‡ºEmacsè¿›ç¨‹å‰è¢«è§¦å‘</p>
<p><strong>ç”±äº`kill-emacs&rsquo;è¢«è°ƒç”¨çš„æ—¶å€™å¯èƒ½å·²ç»ä¸ç”¨æˆ·å¤±å»äº†äº¤äº’,å› æ­¤è¯¥hookçš„å‚æ•°ä¸èƒ½åŒ…å«ä¸ç”¨æˆ·äº¤äº’çš„è¯­å¥.</strong></p>
<p>è‹¥éœ€è¦åœ¨é€€å‡ºæ—¶ä¸ç”¨æˆ·äº¤äº’,ä½¿ç”¨ä¸‹é¢çš„`kill-emacs-query-functions'</p>
</li>
<li>
<p>kill-emacs-query-functions</p>
<p>å½“`save-buffers-kill-terminal'(C-x C-c)å°è¯•é€€å‡ºEmacsæ—¶,å®ƒä¼šè§¦å‘è¯¥hook.</p>
<p>åœ¨è¯¥hookçš„å‡½æ•°ä¸­å¯ä»¥ç»§ç»­è¯¢é—®ç”¨æˆ·ç¡®è®¤æ˜¯å¦é€€å‡º. è‹¥è¯¥hookä¸­ä»»ä½•ä¸€ä¸ªå‡½æ•°è¿”å›nil,åˆ™`save-buffer-kill-emacs&rsquo;å¹¶ä¸ä¼šçœŸæ­£é€€å‡ºEmacs,å¹¶ä¸”ä¹Ÿä¸æ‰§è¡Œhookä¹‹åçš„å‡½æ•°.</p>
<p><strong>ç›´æ¥è°ƒç”¨`kill-emacs&rsquo;å¹¶ä¸ä¼šè§¦å‘è¯¥hook</strong></p>
</li>
</ul>
<h4 id="æŒ‚èµ·emacs">æŒ‚èµ·Emacs<a hidden class="anchor" aria-hidden="true" href="#æŒ‚èµ·emacs">#</a></h4>
<p>åœ¨ <strong>æ–‡æœ¬ç»ˆç«¯(å›¾å½¢ç»ˆç«¯ä¸‹æ— æ•ˆ)</strong> ä¸­è°ƒç”¨Emacsçš„æƒ…å†µä¸‹,å¯ä»¥å¯¹Emacsæ‰§è¡ŒæŒ‚èµ·æ“ä½œ(å¯¹äºä¸æ”¯æŒæŒ‚èµ·æ“ä½œçš„shellæ¥è¯´,è¯¥åŠŸèƒ½åªæ˜¯ä¸´æ—¶å†å¯åŠ¨ä¸€ä¸ªshellè€Œå·²).</p>
<ul>
<li>
<p>å‘½ä»¤(suspend-emacs &amp;optional string)</p>
<p>è¯¥å‡½æ•°é˜»å¡å¹¶æŒ‚èµ·Emacså¹¶å°†æ§åˆ¶æƒäº¤å›ç»™å®ƒçš„çˆ¶è¿›ç¨‹. å½“é‡æ–°æ¿€æ´»Emacså,è¯¥å‡½æ•°è¿”å›nil</p>
<p>è¯¥å‡½æ•°ä»…å½“Emacsæ˜¯åœ¨æ§åˆ¶ç»ˆç«¯ä¸‹å¯åŠ¨æ—¶æ‰æœ‰ç”¨.to relinquish control of other tty devices, useâ€˜suspend-ttyâ€™</p>
<p>åœ¨æŒ‚èµ·Emacsä¹‹å‰,ä½ å¿…é¡»åˆ é™¤è¯¥Emacsåœ¨å…¶ä»–ç»ˆç«¯ä¸Šçš„frame,å¦åˆ™è¯¥å‡½æ•°ä¼šæŠ›å‡ºå¼‚å¸¸. å‚è§<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Multiple_002520Terminals.html" title="Emacs Lisp: (info &quot;(elisp) Multiple%20Terminals&quot;)">Multiple Terminals</a></p>
<p>è‹¥å‚æ•°stringä¸ºénil,åˆ™å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦éƒ½ä¼šå‘é€åˆ°ä¸Šå±‚shell,ä½œä¸º <strong>ç»ˆç«¯è¾“å…¥(æ³¨æ„:ä¸æ˜¯ä½œä¸ºè¿›ç¨‹è¾“å‡º)  è¯¥è¾“å…¥ä¼šè¢«shellè¯»å–å¹¶æ‰§è¡Œ</strong></p>
<p>åœ¨æŒ‚èµ·Emacså‰,`suspend-emacs&rsquo;ä¼šè§¦å‘`suspend-hook'.åœ¨æ¢å¤Emacså,`suspend-emacs&rsquo;ä¼šè§¦å‘`suspend-resume-hook'</p>
</li>
<li>
<p>suspend-hook</p>
<p>EmacsæŒ‚èµ·å‰è§¦å‘</p>
</li>
<li>
<p>suspend-resume-hook</p>
<p>Emacsæ¢å¤åè§¦å‘</p>
</li>
<li>
<p>å‘½ä»¤(suspend-frame)</p>
<p>æŒ‚èµ·å½“å‰frame.</p>
<p>è‹¥å‡ºäºå›¾å½¢ç•Œé¢ä¸‹,åˆ™å®ƒè°ƒç”¨å‡½æ•°`iconify-frame&rsquo;æœ€å°åŒ–frame.</p>
<p>è‹¥å‡ºäºæ–‡æœ¬ç•Œé¢ä¸‹,åˆ™æ ¹æ®å½“å‰frameæ˜¯å¦å‡ºäºæ§åˆ¶ç»ˆç«¯ä¸‹,è€Œè°ƒç”¨`suspend-emacs&rsquo;æˆ–`suspend-tty'</p>
</li>
</ul>
<h3 id="æ“ä½œç³»ç»Ÿç¯å¢ƒç›¸å…³">æ“ä½œç³»ç»Ÿç¯å¢ƒç›¸å…³<a hidden class="anchor" aria-hidden="true" href="#æ“ä½œç³»ç»Ÿç¯å¢ƒç›¸å…³">#</a></h3>
<ul>
<li>system-configureation</li>
</ul>
<p>the standard GNU configuration name for the hardware/software configuration of your system,å­—ç¬¦ä¸²ç±»å‹</p>
<ul>
<li>system-type</li>
</ul>
<p>è¡¨ç¤ºæ“ä½œç³»ç»Ÿç±»å‹çš„symbol</p>
<ul>
<li>
<p>&lsquo;aix</p>
</li>
<li>
<p>&lsquo;berkeley-unix</p>
</li>
<li>
<p>&lsquo;cygwin</p>
</li>
<li>
<p>&lsquo;darwin</p>
</li>
<li>
<p>&lsquo;gnu</p>
</li>
<li>
<p>&lsquo;gnu/linux</p>
</li>
<li>
<p>&lsquo;gnu/kfreebsd</p>
</li>
<li>
<p>hpux</p>
</li>
<li>
<p>irix</p>
</li>
<li>
<p>ms-dos</p>
</li>
<li>
<p>usg-unix-v</p>
</li>
<li>
<p>windows-nt</p>
</li>
<li>
<p>é…ç½®é¡¹mail-host-address</p>
</li>
</ul>
<p>emailåœ°å€,è‹¥è¯¥å‚æ•°ä¸ºénil,åˆ™ä¼šç”¨æ¥æ›¿ä»£`system-name&rsquo;ä½œä¸ºemailåœ°å€.</p>
<ul>
<li>å‘½ä»¤(getenv var &amp;optional frame)</li>
</ul>
<p>è·å–ç¯å¢ƒå˜é‡VARçš„å€¼.è‹¥æ‰¾ä¸åˆ°å¯¹åº”çš„ç¯å¢ƒå˜é‡,è¿”å›nil</p>
<p>å‚æ•°VARä¸ºå­—ç¬¦ä¸²</p>
<p>åœ¨Emacsä¸­ç¯å¢ƒå˜é‡å­˜æ”¾åœ¨å˜é‡`process-environment&rsquo;ä¸­</p>
<ul>
<li>å‘½ä»¤(setenv variable &amp;optional value substitute)</li>
</ul>
<p>è¯¥å‘½ä»¤è®¾ç½®ç¯å¢ƒå˜é‡VARIABLEçš„å€¼ä¸ºVALUE,è¿”å›VARIABLEçš„æ–°å€¼æˆ–nil(è¡¨ç¤ºä»ç¯å¢ƒä¸­åˆ é™¤è¯¥å˜é‡)</p>
<p>å‚æ•°VARIABLEä¸ºå­—ç¬¦ä¸²ç±»å‹,VALUEå¯ä»¥ä¸ºnilæˆ–å­—ç¬¦ä¸²</p>
<p>è‹¥VALUEä¸ºnilæˆ–å¿½ç•¥(interactively with prefix argument)æ—¶,`setenv&rsquo;ä»ç¯å¢ƒå˜é‡ä¸­åˆ é™¤VARIABLE, <strong>è¿™æ—¶`setenv&rsquo;è¿”å›è¢«åˆ é™¤çš„VARIABLE</strong></p>
<p>è‹¥å‚æ•°SUBSTITUTEä¸ºénil,Emacsè°ƒç”¨å‡½æ•°`substitute-env-vars&rsquo;æ¥æ‰©å±•ç¯å¢ƒå˜é‡çš„å€¼ä¸ºVALUE(ä»€ä¹ˆæ„æ€??)</p>
<ul>
<li>process-environment</li>
</ul>
<p>ä¿æŒäº†ç³»ç»Ÿå˜é‡çš„å€¼,`getenv&rsquo;å’Œ`setenv&rsquo;éƒ½æ˜¯é€šè¿‡è®¾ç½®æ”¹å˜é‡çš„å€¼è¿›è¡Œçš„.</p>
<p>åœ¨å®é™…åº”ç”¨ä¸­,ç»å¸¸ä¼šç”¨let formä¸´æ—¶æ”¹å˜è¯¥å‚æ•°çš„å€¼</p>
<p>è‹¥å‚æ•°ä¸­åŒ…æ‹¬äº†é‡å¤çš„å…ƒç´ ,åˆ™åªæœ‰åœ°ä¸€ä¸ªå…ƒç´ ç”Ÿæ•ˆ</p>
<ul>
<li>initial-environment</li>
</ul>
<p>æ”¹å˜äº†å­˜å‚¨çš„æ˜¯Emacsä»çˆ¶è¿›ç¨‹ä¸­é›†æˆåˆ°çš„ç¯å¢ƒå˜é‡</p>
<ul>
<li>path-separator</li>
</ul>
<p>åœ¨æœç´¢è·¯å¾„å˜é‡(PATH)ä¸­åˆ†éš”å„è·¯å¾„çš„åˆ†éš”ç¬¦. unixç±»æ“ä½œç³»ç»Ÿä¸º&quot;:&quot;,winä¸‹ä¸º&quot;;&quot;</p>
<ul>
<li>(parse-colon-path path)</li>
</ul>
<p>æ¥å—æœç´¢è·¯å¾„çš„å­—ç¬¦ä¸²($PATHçš„å€¼),å¹¶æ ¹æ®path-separatorè¿›è¡Œåˆ†å‰²,è¿”å›å„ä¸ªç›®å½•ç»„æˆçš„list</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(parse-colon-path <span style="color:#e6db74">&#34;:/foo:/bar&#34;</span>)
<span style="color:#75715e">;; =&gt; (nil &#34;/foo/&#34; &#34;/bar/&#34;)</span>
</code></pre></div><ul>
<li>invocation-name</li>
</ul>
<p>è°ƒç”¨çš„Emacså¯æ‰§è¡Œæ–‡ä»¶çš„åç§°,ä¸åŒ…æ‹¬ç›®å½•åç§°</p>
<ul>
<li>invocation-directory</li>
</ul>
<p>è°ƒç”¨çš„Emacs,å¯æ‰§è¡Œæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•,è‹¥æ— æ³•å†³å®š,åˆ™è¿”å›nil</p>
<ul>
<li>installation-directory</li>
</ul>
<p>è‹¥ä¸ºénil,åˆ™æŒ‡å®šäº†å½“Emacsæ— æ³•åœ¨æ ‡å‡†å®‰è£…è·¯å¾„ä¸‹æ‰¾`lib-src&rsquo;å’Œ`etc&rsquo;å­ç›®å½•æ—¶,Emacsåº”è¯¥åˆ°åœ¨å“ªä¸ªç›®å½•ä¸‹æŸ¥æ‰¾`lib-src&rsquo;å’Œ`etc&rsquo;å­ç›®å½•.</p>
<ul>
<li>(load-average &amp;optional use-float)</li>
</ul>
<p>è¿”å›æœ€è¿‘1åˆ†é’Ÿ,5åˆ†é’Ÿå’Œ15åˆ†é’Ÿçš„ç³»ç»Ÿè´Ÿè½½</p>
<p>é»˜è®¤æƒ…å†µä¸‹è¯¥å‡½æ•°è¿”å›çš„å€¼ä¸ºç™¾åˆ†æ¯”,ä½†è‹¥å‚æ•°use-floatä¸ºénil,åˆ™ç›´æ¥ä½¿ç”¨å°æ•°ä»£æ›¿</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">load-average</span>)
<span style="color:#75715e">;; =&gt; (169 48 36)</span>
(<span style="color:#a6e22e">load-average</span> <span style="color:#66d9ef">t</span>)
<span style="color:#75715e">;; =&gt; (1.69 0.48 0.36)</span>
</code></pre></div><ul>
<li>(emacs-pid)</li>
</ul>
<p>emacsçš„pid</p>
<ul>
<li>tty-erase-char</li>
</ul>
<p>è¯¥å˜é‡å­˜å‚¨çš„æ˜¯åœ¨Emacså¯åŠ¨å‰,ç³»ç»Ÿdé¢ç»ˆç«¯é©±åŠ¨æ‰€é€‰æ‹©çš„åˆ é™¤é”®</p>
<h3 id="ç”¨æˆ·ä¿¡æ¯">ç”¨æˆ·ä¿¡æ¯<a hidden class="anchor" aria-hidden="true" href="#ç”¨æˆ·ä¿¡æ¯">#</a></h3>
<ul>
<li>(user-login-name &amp;optional uid) / user-login-name</li>
</ul>
<p>è·å–username</p>
<p>è‹¥ç¯å¢ƒå˜é‡`LOGNAME&rsquo;æˆ–`USER&rsquo;æœ‰å€¼,åˆ™è¿”å›è¯¥å€¼. å¦åˆ™æ ¹æ® <strong>effective UID(è€Œä¸æ˜¯real UID)</strong> è®¡ç®—è¯¥å€¼</p>
<ul>
<li>(user-real-login-name) / user-real-login-name</li>
</ul>
<p>è¯¥å‡½æ•°æ ¹æ®Emacsçš„real UIDè®¡ç®—ç”¨æˆ·å,è€Œä¸ç®¡`LOGNAME&rsquo;,`USER&rsquo;å’Œeffective UID</p>
<ul>
<li>(user-full-name &amp;optional uid) / user-full-name</li>
</ul>
<p>è¯¥å‡½æ•°è·å–ç”¨æˆ·çš„å…¨å</p>
<p>è‹¥ç¯å¢ƒå˜é‡`NAME&rsquo;æœ‰å€¼,åˆ™è¿”å›å®ƒ.</p>
<p>è‹¥Emacsè¿›ç¨‹çš„uidä¸å±äºä»»ä½•å·²çŸ¥ç”¨æˆ·,åˆ™è¿”å›&quot;unkown&quot;</p>
<p>å‚æ•°uidå¯ä»¥ä¸ºnil,æˆ–ä¸€ä¸ªè¡¨ç¤ºuidçš„æ•°å­—æˆ–ä¸€ä¸ªè¡¨ç¤ºç™»å½•åçš„å­—ç¬¦ä¸². è‹¥æ ¹æ®æŒ‡å®šçš„uidæ— æ³•æ‰¾åˆ°åç§°,åˆ™è¿”å›nil</p>
<ul>
<li>(user-real-uid)</li>
</ul>
<p>ç”¨æˆ·çš„real uid,è‹¥uidå¤ªå¤§äº†è¶…è¿‡æ•´æ•°çš„èŒƒå›´,åˆ™å¯èƒ½ä½¿ç”¨æµ®ç‚¹æ•°</p>
<ul>
<li>(user-uid)</li>
</ul>
<p>ç”¨æˆ·çš„effective uid</p>
<ul>
<li>(group-gid)</li>
</ul>
<p>Emacsè¿›ç¨‹çš„effective GID</p>
<ul>
<li>(group-real-gid)</li>
</ul>
<p>Emacsè¿›ç¨‹çš„real GID</p>
<ul>
<li>(system-users)</li>
</ul>
<p>åˆ—å‡ºè¯¥ç³»ç»Ÿæ‰€æœ‰çš„ç”¨æˆ·ååˆ—è¡¨.</p>
<p>è‹¥Emacsä¸èƒ½è·å–åˆ°è¿™äº›ä¿¡æ¯,åˆ™è¿”å›åªåŒ…å«`user-real-login-name&rsquo;çš„åˆ—è¡¨</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">system-users</span>)
<span style="color:#75715e">;;(&#34;cl-builder&#34;</span>
<span style="color:#e6db74">&#34;dictd&#34;</span> <span style="color:#e6db74">&#34;statd&#34;</span> <span style="color:#e6db74">&#34;dnsmasq&#34;</span> <span style="color:#e6db74">&#34;memcache&#34;</span> <span style="color:#e6db74">&#34;sshd&#34;</span> <span style="color:#e6db74">&#34;ftp&#34;</span> <span style="color:#e6db74">&#34;mysql&#34;</span> <span style="color:#e6db74">&#34;Debian-exim&#34;</span> <span style="color:#e6db74">&#34;lujun9972&#34;</span> <span style="color:#e6db74">&#34;saned&#34;</span> <span style="color:#e6db74">&#34;hplip&#34;</span> <span style="color:#e6db74">&#34;speech-dispatcher&#34;</span> <span style="color:#e6db74">&#34;rtkit&#34;</span> <span style="color:#e6db74">&#34;pulse&#34;</span> <span style="color:#e6db74">&#34;kernoops&#34;</span> <span style="color:#e6db74">&#34;usbmux&#34;</span> <span style="color:#e6db74">&#34;avahi&#34;</span> <span style="color:#e6db74">&#34;avahi-autoipd&#34;</span> <span style="color:#e6db74">&#34;whoopsie&#34;</span> <span style="color:#e6db74">&#34;lightdm&#34;</span> <span style="color:#e6db74">&#34;colord&#34;</span> <span style="color:#e6db74">&#34;messagebus&#34;</span> <span style="color:#e6db74">&#34;syslog&#34;</span> <span style="color:#e6db74">&#34;libuuid&#34;</span> <span style="color:#e6db74">&#34;nobody&#34;</span> <span style="color:#e6db74">&#34;gnats&#34;</span> <span style="color:#e6db74">&#34;irc&#34;</span> <span style="color:#e6db74">&#34;list&#34;</span> <span style="color:#e6db74">&#34;backup&#34;</span> <span style="color:#e6db74">&#34;www-data&#34;</span> <span style="color:#e6db74">&#34;proxy&#34;</span> <span style="color:#e6db74">&#34;uucp&#34;</span> <span style="color:#e6db74">&#34;news&#34;</span> <span style="color:#e6db74">&#34;mail&#34;</span> <span style="color:#e6db74">&#34;lp&#34;</span> <span style="color:#e6db74">&#34;man&#34;</span> <span style="color:#e6db74">&#34;games&#34;</span> <span style="color:#e6db74">&#34;sync&#34;</span> <span style="color:#e6db74">&#34;sys&#34;</span> <span style="color:#e6db74">&#34;bin&#34;</span> <span style="color:#e6db74">&#34;daemon&#34;</span> <span style="color:#e6db74">&#34;root&#34;</span>)
</code></pre></div><ul>
<li>(system-groups)</li>
</ul>
<p>ç³»ç»Ÿä¸­æ‰€æœ‰çš„ç”¨æˆ·ç»„åˆ—è¡¨.</p>
<p>è‹¥Emacsä¸èƒ½è·å–åˆ°è¿™äº›ä¿¡æ¯,åˆ™è¿”å›nil</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">system-groups</span>)
<span style="color:#75715e">;;(&#34;cl-builder&#34; &#34;dictd&#34; &#34;memcache&#34; &#34;ftp&#34; &#34;mysql&#34; &#34;winbindd_priv&#34; &#34;Debian-exim&#34; &#34;sambashare&#34; &#34;lujun9972&#34; &#34;saned&#34; &#34;rtkit&#34; &#34;utempter&#34; &#34;pulse-access&#34; &#34;pulse&#34; &#34;avahi&#34; &#34;avahi-autoipd&#34; &#34;ssh&#34; &#34;mlocate&#34; &#34;whoopsie&#34; &#34;netdev&#34; &#34;nopasswdlogin&#34; &#34;lightdm&#34; &#34;ssl-cert&#34; &#34;lpadmin&#34; &#34;colord&#34; &#34;scanner&#34; &#34;bluetooth&#34; &#34;messagebus&#34; &#34;fuse&#34; &#34;syslog&#34; &#34;crontab&#34; &#34;libuuid&#34; &#34;nogroup&#34; &#34;users&#34; &#34;games&#34; &#34;staff&#34; &#34;plugdev&#34; &#34;sasl&#34; &#34;video&#34; &#34;utmp&#34; &#34;shadow&#34; &#34;gnats&#34; &#34;src&#34; &#34;irc&#34; &#34;list&#34; &#34;operator&#34; &#34;backup&#34; &#34;www-data&#34; &#34;dip&#34; &#34;audio&#34; &#34;sudo&#34; &#34;tape&#34; &#34;floppy&#34; &#34;cdrom&#34; &#34;voice&#34; &#34;fax&#34; &#34;dialout&#34; &#34;kmem&#34; &#34;proxy&#34; &#34;man&#34; &#34;uucp&#34; &#34;news&#34; &#34;mail&#34; &#34;lp&#34; &#34;disk&#34; &#34;tty&#34; &#34;adm&#34; &#34;sys&#34; &#34;bin&#34; &#34;daemon&#34; &#34;root&#34;)</span>
</code></pre></div><h3 id="æ’­æ”¾å£°éŸ³">æ’­æ”¾å£°éŸ³<a hidden class="anchor" aria-hidden="true" href="#æ’­æ”¾å£°éŸ³">#</a></h3>
<ul>
<li>(play-sound sound)</li>
</ul>
<p>æ’­æ”¾æŒ‡å®šSOUND.</p>
<p>å‚æ•°SOUNDçš„æ ¼å¼ä¸º&rsquo;(sound PROPERTIES&hellip;),å…¶ä¸­PROPERTIESå¯ä»¥æ˜¯ä»¥ä¸‹keywordå‚æ•°</p>
<ul>
<li>
<p>:file FILE</p>
<p>å£°éŸ³æ–‡ä»¶çš„åœ°å€. sound-fileå¿…é¡»æ˜¯.wavæˆ–.auæ ¼å¼çš„. å¯ä»¥æ˜¯ç»å¯¹è·¯å¾„æˆ–ç›¸å¯¹`data-directory&rsquo;çš„ç›¸å¯¹è·¯å¾„</p>
</li>
<li>
<p>:data DATA</p>
<p>è¡¨ç¤ºä½¿ç”¨DATAä½œä¸ºå£°éŸ³çš„å†…å®¹,è€Œä¸ç”¨ä»:fileä¸­è¯»å–.</p>
<p>å‚æ•°DATAå¿…é¡»æ˜¯åŒ…å«å£°éŸ³æ¯”ç‰¹æµçš„å­—ç¬¦ä¸²</p>
</li>
<li>
<p>:volume VOLUME</p>
<p>æŒ‡å®šäº†éŸ³é‡çš„å¤§å°. å–å€¼èŒƒå›´ä»0åˆ°1</p>
</li>
<li>
<p>:device DEVICE</p>
<p>æŒ‡å®šé€šè¿‡å“ªå°è®¾å¤‡æ’­æ”¾å£°éŸ³. DEVICEä¸ºå­—ç¬¦ä¸²</p>
</li>
<li>
<p>(play-sound-file file &amp;optional volume device)</p>
</li>
</ul>
<p>æ’­æ”¾å£°éŸ³æ–‡ä»¶</p>
<ul>
<li>play-sound-functions</li>
</ul>
<p>åœ¨æ’­æ”¾å£°éŸ³å‰,ä¼šè§¦å‘è¯¥hook. æ¯ä¸ªå‡½æ•°éƒ½æ¥å—ä¸€ä¸ªå‚æ•°:æè¿°soundçš„plist</p>
<ul>
<li>(set-message-beep SOUND)</li>
</ul>
<p>è®¾ç½®beepèœ‚é¸£æ—¶çš„å£°éŸ³.</p>
<p>å‚æ•°SOUNDå¯ä»¥æ˜¯nil,&lsquo;asterisk,&lsquo;exclamation,&lsquo;hand,&lsquo;question,&lsquo;okæˆ–&rsquo;silent</p>
<h3 id="batch-mode">Batch Mode<a hidden class="anchor" aria-hidden="true" href="#batch-mode">#</a></h3>
<p>åœ¨å¯åŠ¨Emacsæ—¶è‹¥å¸¦äº†å‚æ•°`batch&rsquo;ä¼šä½¿å¾—Emacsè¿›å…¥batch mode,è¿™ç§çŠ¶æ€ä¸‹çš„Emacsä¸èƒ½ä¸ç”¨æˆ·äº¤äº’,ä»»ä½•è¾“å‡ºåˆ°echo areaçš„ä¿¡æ¯éƒ½ä¼šè¾“å‡ºåˆ°Emacsçš„stdout, ä»»ä½•ä»minibuferè¯»å–çš„è¾“å…¥éƒ½è¢«é“¾æ¥åˆ°Emacsçš„stdinä¸­.</p>
<p>è¯¥æ¨¡å¼å¸¸ç”¨äºä½¿ç”¨Emacsæ¥è¿è¡ŒæŸä¸ªelispç¨‹åº,ç¨‹åºè¿è¡Œå®Œæˆå,Emacså°±é€€å‡ºäº†.</p>
<ul>
<li>noninteractive</li>
</ul>
<p>è¯¥å‚æ•°æŒ‡æ˜äº†Emacsæ˜¯å¦è¿è¡Œåœ¨Batch Modeä¸‹</p>
<h3 id="sessionç®¡ç†">Sessionç®¡ç†<a hidden class="anchor" aria-hidden="true" href="#sessionç®¡ç†">#</a></h3>
<p>Emacsæ”¯æŒX Session Management Protocol,è¯¥åè®®ç”¨äºsuspend/restartåº”ç”¨ç¨‹åº.
åœ¨X windowç³»ç»Ÿä¸­,ä¸€ä¸ªåä¸º&quot;session manager&quot;çš„ç¨‹åºè´Ÿè´£ä¿æŒæ­£åœ¨è¿è¡Œçš„ç¨‹åºçš„çŠ¶æ€.
å½“X serverå…³é—­æ—¶,session managerä¼šè¦æ±‚åº”ç”¨ç¨‹åºä¿å­˜å®ƒä»¬çš„çŠ¶æ€,å¹¶æ¨è¿ŸX serverå…³é—­ç›´åˆ°æ”¶åˆ°åº”ç”¨ç¨‹åºçš„å›åº”. æ­¤æ—¶åº”ç”¨ç¨‹åºä¹Ÿå¯èƒ½ä¼šå–æ¶ˆè¿™æ¬¡å…³é—­.</p>
<p>å½“session manageré‡å¯æŒ‚èµ·çš„sessionæ—¶,å®ƒä¼šå¼•å¯¼åº”ç”¨ç¨‹åºåˆ†åˆ«åŠ è½½è‡ªå·±ä¿å­˜çš„çŠ¶æ€.
session manageræ˜¯é€šè¿‡ç»™åº”ç”¨ç¨‹åºè°ƒç”¨æ˜¯æ·»åŠ ä¸€ä¸ªç‰¹æ®Šçš„å‚æ•°æ¥å¼•å¯¼åº”ç”¨ç¨‹åºåŠ è½½çŠ¶æ€çš„.
å¯¹äºEmacsæ¥è¯´,è¯¥å‚æ•°ä¸º&quot;&ndash;smid SESSION&quot;</p>
<ul>
<li>emacs-save-session-functions</li>
</ul>
<p>Emacsé€šè¿‡è°ƒç”¨è¯¥hookæ¥æ”¯æŒçŠ¶æ€çš„ä¿å­˜.</p>
<p>å½“session manageré€šçŸ¥Emacsè¯´windowç³»ç»Ÿè¦å…³é—­æ—¶,Emacssä¼šè°ƒç”¨è¯¥hookä¸­çš„å‡½æ•°.
æ¯ä¸ªå‡½æ•°è°ƒç”¨æ˜¯éƒ½ä¸å¸¦å‚æ•°,å¹¶ä¸”ä¼šå°†å½“å‰bufferè®¾ç½®ä¸ºä¸´æ—¶buffer.
æœ€ç»ˆ,Emacsä¿æŒbufferåˆ°æ–‡ä»¶ä¸­,è¯¥æ–‡ä»¶è¢«æˆä¸º&quot;session file&quot;</p>
<p>å½“session manageré‡å¯æŒ‚èµ·çš„Emacsæ—¶,Emacsä¼šè‡ªåŠ¨é€šè¿‡æ‰§è¡Œå‡½æ•°`emacs-session-restore&rsquo;æ¥åŠ è½½session file</p>
<p>è‹¥`emacs-save-session-functions&rsquo;ä¸­æœ‰å‡½æ•°è¿”å›énilçš„å€¼,åˆ™Emacsä¼šé€šçŸ¥Session managerå–æ¶ˆè¿™æ¬¡å…³é—­.</p>
<h3 id="desktop-notificatino">Desktop Notificatino<a hidden class="anchor" aria-hidden="true" href="#desktop-notificatino">#</a></h3>
<p>è‹¥Emacsç¼–è¯‘æ—¶å¼€å¯äº†D-Busæ”¯æŒ,åˆ™é€šè¿‡åŠ è½½`notifications&rsquo;åº“,Emacså¯ä»¥ç»™æŸäº›æ“ä½œç³»ç»Ÿå‘é€&quot;é€šçŸ¥&quot;</p>
<ul>
<li>(notifications-notify &amp;rest params)</li>
</ul>
<p>é€šè¿‡D-Bus,ä½¿ç”¨Freedesktop notification protocolå‘é€é€šçŸ¥,è¯¥å‡½æ•°è¿”å›ä¸€ä¸ªæ•´æ•°ä½œä¸ºé€šçŸ¥çš„id</p>
<p>å‚æ•°paramså¯ä»¥æ˜¯å¦‚ä¸‹keywordå‚æ•°</p>
<ul>
<li>
<p>:bus BUS</p>
<p>D-Bus bus. è¯¥å‚æ•°åªæœ‰åœ¨busä¸æ˜¯`:session&rsquo;æ—¶ä½¿ç”¨</p>
</li>
<li>
<p>:title TITLE</p>
<p>é€šçŸ¥çš„æ ‡é¢˜</p>
</li>
<li>
<p>:body TEXT</p>
<p>é€šçŸ¥çš„å†…å®¹. æŸäº›notification serverç”šè‡³æ”¯æŒHTMLæ ‡ç­¾</p>
</li>
<li>
<p>:app-name NAME</p>
<p>å‘é€é€šçŸ¥çš„åº”ç”¨ç¨‹åºåç§°. é»˜è®¤ä¸º`notifications-application-name&rsquo;</p>
</li>
<li>
<p>:replaces-id ID</p>
<p>è¡¨ç¤ºè¯¥é€šçŸ¥è¦æ›¿ä»£æŒ‡å®šidçš„åŸå…ˆé€šçŸ¥. IDå¿…é¡»æ˜¯ä¹‹å‰`notifications-notify&rsquo;è°ƒç”¨çš„è¿”å›å€¼</p>
</li>
<li>
<p>:app-icon ICON-FILE</p>
<p>é€šçŸ¥çš„å›¾æ ‡æ–‡ä»¶. è‹¥ICON-FILEä¸ºnilåˆ™ä¸æ˜¾ç¤ºå›¾æ ‡. é»˜è®¤ä¸º`notifications-application-icon&rsquo;</p>
</li>
<li>
<p>:actions (KEY TITLE KEY TITLE&hellip;)</p>
<p>ä¸€ç³»åˆ—è¦åº”ç”¨çš„åŠ¨ä½œ. KEYå’ŒTITLEéƒ½æ˜¯å­—ç¬¦ä¸². å…¶ä¸­TITLEä¼šåœ¨é€šçŸ¥ä¸Šä»¥æŒ‰é’®çš„å½¢å¼å±•ç°.</p>
<p>è‹¥è¦è®¾ç½®é»˜è®¤åŠ¨ä½œ(é€šå¸¸è¯¥åŠ¨ä½œåœ¨ç‚¹å‡»notificationæ—¶è§¦å‘)çš„keyä¸º&quot;default&quot;.</p>
</li>
<li>
<p>:timeout TIMEOUT</p>
<p>æ˜¾ç¤ºå¤šå°‘æ¯«ç§’åè‡ªåŠ¨å…³é—­. é»˜è®¤å€¼-1è¡¨ç¤ºè¶…æ—¶æ—¶é—´éµç…§notification serverçš„è®¾ç½®. 0è¡¨ç¤ºæ— é™æ—¶é—´</p>
</li>
<li>
<p>:urgency URGENCY</p>
<p>ç´§æ€¥çš„çº§åˆ«. å¯ä»¥æ˜¯&rsquo;low,&lsquo;normalæˆ–&rsquo;critical</p>
</li>
<li>
<p>:action-items</p>
<p>è‹¥è®¾ç½®äº†è¯¥å…³é”®å­—,åˆ™TITLE string of the actionä¹Ÿè¢«è§£é‡Šä¸ºicon name</p>
</li>
<li>
<p>:category CATEGORY</p>
<p>é€šçŸ¥çš„ç±»å‹,å­—ç¬¦ä¸²æ ¼å¼</p>
</li>
<li>
<p>:desktop-entry FILENAME</p>
<p>This specifies the name of the desktop filename representing the calling program, like `&ldquo;emacs&rdquo;&rsquo;.</p>
</li>
<li>
<p>:image-data (WIDTH HEIGHT ROWSTRIDE HAS-ALPHA BITS CHANNELS DATA)</p>
<p>è¿™æ˜¯ä¸€ä¸ªraw data å›¾åƒæ ¼å¼æè¿°äº†å®½,é«˜,rowstride,æ˜¯å¦æœ‰alphaé€šé“,æ¯ä¸ªsampleçš„æ¯”ç‰¹æ•°,é€šé“å’Œå›¾åƒæ•°æ®</p>
</li>
<li>
<p>:image-path PATH</p>
<p>PATHä¸ºä¸€ä¸ªURI(ç›®å‰åªæ”¯æŒ&quot;file&quot;ç±»å‹)æˆ–&quot;$XDG_DATA_DIRS/icon&quot;ç›®å½•ä¸‹çš„æŸä¸ªicon themeçš„åç§°</p>
</li>
<li>
<p>:sound-file FILENAME</p>
<p>å¼¹å‡ºé€šçŸ¥æ—¶,æ’­æ”¾å£°éŸ³æ–‡ä»¶</p>
</li>
<li>
<p>:sound-name NAME</p>
<p>&ldquo;$XDG_DATA_DIRS/sound&quot;ç›®å½•ä¸‹å®šä¹‰çš„sound theme</p>
</li>
<li>
<p>:suppress-sound</p>
<p>è‹¥è®¾ç½®äº†,åˆ™ä¸æ’­æ”¾ä»»ä½•å£°éŸ³.</p>
</li>
<li>
<p>:resident</p>
<p>è‹¥è®¾ç½®äº†è¯¥å‚æ•°,åˆ™å³ä½¿å¯¹è¯¥é€šçŸ¥åšäº†åŠ¨ä½œ,è¯¥é€šçŸ¥ä¹Ÿä¸ä¼šè‡ªåŠ¨å…³é—­,é™¤éæ˜ç¡®çš„å¯¹è¯¥é€šçŸ¥å‘å‡ºå…³é—­æ“ä½œ</p>
</li>
<li>
<p>:transient</p>
<p>è‹¥è®¾ç½®äº†è¯¥å‚æ•°,åˆ™serverä¼šè®¤ä¸ºè¯¥é€šçŸ¥æ˜¯æš‚æ—¶çš„,è€Œå¿½ç•¥serverçš„æŒä¹…åŒ–èƒ½åŠ›(?When set the server will treat the notification as transient and by-pass the server&rsquo;s persistence capability, if it should exist?)</p>
</li>
<li>
<p>:x POSITION / :y POSITION</p>
<p>å®šä¹‰é€šçŸ¥åœ¨å±å¹•ä¸Šçš„æ˜¾ç¤ºä½ç½®</p>
</li>
<li>
<p>:on-action FUNCTION</p>
<p>å½“æŒ‰ä¸‹äº†è¡¨ç¤ºactionçš„æŒ‰é’®æ—¶,ä¼šè°ƒç”¨è¯¥å‡½æ•°. è¯¥å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°:notification idå’Œaction key</p>
</li>
<li>
<p>:on-close FUNCTION</p>
<p>å½“é€šçŸ¥å› ä¸ºè¶…æ—¶æˆ–äººä¸ºå…³é—­æ—¶è°ƒç”¨è¯¥å‡½æ•°. è¯¥å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°:notification idå’Œå…³é—­çš„REASON.</p>
<p>å‡½æ•°ä¸­çš„REASONå‚æ•°å¯ä»¥æ˜¯:</p>
<ul>
<li>&lsquo;expired</li>
</ul>
<p>ç”±äºè¶…æ—¶è€Œå…³é—­</p>
<ul>
<li>&lsquo;dismissed</li>
</ul>
<p>è¢«äººä¸ºå…³é—­</p>
<ul>
<li>&lsquo;close-notification</li>
</ul>
<p>é€šè¿‡è°ƒç”¨`notifications-close-notification&rsquo;å‡½æ•°æ¥å…³é—­</p>
<ul>
<li>&lsquo;undefined</li>
</ul>
<p>notification serveræœªå‘ŠçŸ¥åŸå› </p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defun my-on-action-function (id key)
(<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;Message %d, key \&#34;%s\&#34; pressed&#34;</span> id key))
<span style="color:#75715e">;; =&gt; my-on-action-function</span>

(defun my-on-close-function (id reason)
(<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;Message %d, closed due to \&#34;%s\&#34;&#34;</span> id reason))
<span style="color:#75715e">;; =&gt; my-on-close-function</span>

(notifications-notify
:title <span style="color:#e6db74">&#34;Title&#34;</span>
:body <span style="color:#e6db74">&#34;This is &lt;b&gt;important&lt;/b&gt;.&#34;</span>
:actions <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;Confirm&#34;</span> <span style="color:#e6db74">&#34;I agree&#34;</span> <span style="color:#e6db74">&#34;Refuse&#34;</span> <span style="color:#e6db74">&#34;I disagree&#34;</span>)
:on-action <span style="color:#e6db74">&#39;my-on-action-function</span>
:on-close <span style="color:#e6db74">&#39;my-on-close-function</span>)
<span style="color:#75715e">;; =&gt; 22</span>

è¿™æ—¶ä¼šå¼¹å‡ºä¸€ä¸ªmessage window. æŒ‰ä¸‹ <span style="color:#e6db74">&#34;I agree&#34;</span>
<span style="color:#75715e">;; =&gt; Message 22, key &#34;Confirm&#34; pressed</span>
<span style="color:#75715e">;;    Message 22, closed due to &#34;dismissed&#34;</span>
</code></pre></div></li>
<li>
<p>(notifications-close-notification notification-id &amp;optional bus)</p>
<p>å…³é—­æŒ‡å®šidçš„é€šçŸ¥. å‚æ•°BUSå¯ä»¥æ˜¯ä¸€ä¸ªè¡¨ç¤ºD-Busè¿æ¥çš„å­—ç¬¦ä¸².é»˜è®¤ä¸º:session</p>
</li>
<li>
<p>(noifications-get-capabilities &amp;optional bus)</p>
<p>è¿”å›notification serveræ”¯æŒçš„ç‰¹æ€§çš„åˆ—è¡¨.</p>
<p>å®ƒçš„è¿”å›å€¼æ˜¯ä¸€ä¸ªç”±sybmolç»„æˆçš„list:</p>
<ul>
<li>:actions</li>
</ul>
<p>The server will provide the specified actions to the user</p>
<ul>
<li>:body</li>
</ul>
<p>æ”¯æŒå®šä¹‰Bodyçš„å†…å®¹</p>
<ul>
<li>:body-hyperlinks</li>
</ul>
<p>bodyä¸­æ”¯æŒè¶…é“¾æ¥</p>
<ul>
<li>:body-images</li>
</ul>
<p>bodyä¸­æ”¯æŒåµŒå…¥å›¾ç‰‡</p>
<ul>
<li>:body-markup</li>
</ul>
<p>æ”¯æŒåœ¨bodyä¸­åµŒå…¥æ ‡è®°</p>
<ul>
<li>:icon-muti</li>
</ul>
<p>serverä¼šæŠŠå›¾ç‰‡æ•°ç»„ä¸­çš„æ¯å¸§æ•´åˆæˆä¸€ä¸ªåŠ¨ç”»</p>
<ul>
<li>:icon-static</li>
</ul>
<p>serveråªæ˜¾ç¤ºå›¾ç‰‡æ•°ç»„ä¸­çš„åœ°ä¸€ä¸ªå¸§å›¾ç‰‡,è¯¥å‚æ•°ä¸:icon-multiäº’æ–¥</p>
<ul>
<li>persistence</li>
</ul>
<p>æ”¯æŒé€šçŸ¥çš„æŒä¹…åŒ–</p>
<ul>
<li>:sound</li>
</ul>
<p>æ”¯æŒæ’­æ”¾å£°éŸ³</p>
</li>
<li>
<p>(notifications-get-server-information)</p>
<p>ä»¥å­—ç¬¦ä¸²åˆ—è¡¨çš„å½¢å¼è¿”å›notification serverçš„ä¿¡æ¯.</p>
<p>è¿”å›å€¼çš„æ ¼å¼ä¸º&rsquo;(NAME VENDOR VERSION SPEC-VERSION). å…¶ä¸­:</p>
<ul>
<li>
<p>NAME ä¸ºserverçš„äº§å“åç§°</p>
</li>
<li>
<p>VENDOR ä¸ºvendoråç§°. å¸¸è§çš„æœ‰&quot;KDE&quot;å’Œ&quot;GNOME&rdquo;</p>
</li>
<li>
<p>VERSION ä¸ºserverçš„ç‰ˆæœ¬å·</p>
</li>
<li>
<p>SPEC-VERSION ä¸ºThe specification version the server is compliant with</p>
</li>
</ul>
</li>
</ul>
<h3 id="file-notification">File Notification<a hidden class="anchor" aria-hidden="true" href="#file-notification">#</a></h3>
<p>è‹¥ç¼–è¯‘Emacsæ—¶é“¾æ¥äº†`gfilenotify&rsquo;,`inotify&rsquo;,`w32notify&rsquo;æˆ–å…¶ä»–å¯¹åº”çš„åº“,é€šè¿‡åŠ è½½`filenotify&rsquo;åº“,Emacså¯ä»¥ç›‘è§†æ–‡ä»¶ç³»ç»Ÿä¸­æ–‡ä»¶çš„æ”¹å˜.</p>
<ul>
<li>(file-notify-add-watch file flag callback)</li>
</ul>
<p>ä¸ºæ–‡ä»¶FILEæ·»åŠ ç›‘è§†å™¨. è¯¥å‡½æ•°è¿”å›æ·»åŠ çš„ç›‘è§†å™¨çš„descriptor.</p>
<p>è‹¥FILEæ— æ³•è¢«ç›‘è§†,åˆ™è¯¥å‡½æ•°æŠ›å‡ºé”™è¯¯`file-notify-error&rsquo;</p>
<p>æ³¨æ„: <strong>æœ‰äº›æ–‡ä»¶ç³»ç»Ÿä¸èƒ½ç›‘è§†æ–‡ä»¶æ˜¯å¦å‘ç”Ÿæ”¹å˜. å› æ­¤è¯¥å‡½æ•°è¿”å›énilçš„å€¼å¹¶ä¸ä¸€å®šè¡¨ç¤ºæ–‡ä»¶çš„æ”¹å˜ä¸€å®šä¼šé€šçŸ¥åˆ°Emacs</strong></p>
<p>å‚æ•°FLAGä¸ºä¸€ä¸ªåˆ—è¡¨,æŒ‡æ˜äº†è¦ç›‘è§†FILEçš„å“ªäº›æ”¹å˜:</p>
<ul>
<li>
<p>&lsquo;change</p>
<p>æ–‡ä»¶å†…å®¹æ”¹å˜</p>
</li>
<li>
<p>&lsquo;attribute-change</p>
<p>æ–‡ä»¶å±æ€§æ”¹å˜</p>
</li>
</ul>
<p>å‚æ•°FILEå¯ä»¥æ˜¯æŸä¸ªæ–‡ä»¶,ä¹Ÿå¯ä»¥æ˜¯ç›®å½•. è‹¥FILEä¸ºç›®å½•,åˆ™ä¼šç›‘è§†è¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶,ä½†ä¸é€’å½’ç›‘è§†å­ç›®å½•.</p>
<p>å½“ç›‘è§†çš„äº‹ä»¶å‘ç”Ÿæ—¶,Emacsä¼šè°ƒç”¨CALLBACKå‡½æ•°,å¹¶ä¼ é€’EVENTä½œä¸ºå‚æ•°. å…¶ä¸­EVENTçš„æ ¼å¼ä¸º:
&lsquo;(DESCRIPTOR ACTION FILE [FILE1])</p>
<p>å…¶ä¸­DESCRIPTORå³ä¸ºç›‘è§†å™¨çš„æè¿°ç¬¦</p>
<p>ACTIONä¸ºäº‹ä»¶æè¿°,å®ƒçš„å¯èƒ½å€¼æœ‰:</p>
<ul>
<li>&lsquo;created</li>
<li>&lsquo;deleted</li>
<li>&lsquo;changed</li>
<li>&lsquo;renamed</li>
<li>&lsquo;attribute-changed</li>
</ul>
<p>FILEå’ŒFILE1ä¸ºäº‹ä»¶å‘ç”Ÿçš„æ–‡ä»¶åç§°.</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(require <span style="color:#e6db74">&#39;filenotify</span>)
<span style="color:#75715e">;; =&gt; filenotify</span>

(defun my-notify-callback (event)
(<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;Event %S&#34;</span> event))
<span style="color:#75715e">;; =&gt; my-notify-callback</span>

(file-notify-add-watch
<span style="color:#e6db74">&#34;/tmp&#34;</span> <span style="color:#f92672">&#39;</span>(change attribute-change) <span style="color:#e6db74">&#39;my-notify-callback</span>)
<span style="color:#75715e">;; =&gt; 35025468</span>

(<span style="color:#a6e22e">write-region</span> <span style="color:#e6db74">&#34;foo&#34;</span> <span style="color:#66d9ef">nil</span> <span style="color:#e6db74">&#34;/tmp/foo&#34;</span>)
<span style="color:#75715e">;; =&gt; Event (35025468 created &#34;/tmp/.#foo&#34;)</span>
<span style="color:#75715e">;;    Event (35025468 created &#34;/tmp/foo&#34;)</span>
<span style="color:#75715e">;;    Event (35025468 changed &#34;/tmp/foo&#34;)</span>
<span style="color:#75715e">;;    Event (35025468 deleted &#34;/tmp/.#foo&#34;)</span>

(<span style="color:#a6e22e">write-region</span> <span style="color:#e6db74">&#34;bla&#34;</span> <span style="color:#66d9ef">nil</span> <span style="color:#e6db74">&#34;/tmp/foo&#34;</span>)
<span style="color:#75715e">;; =&gt; Event (35025468 created &#34;/tmp/.#foo&#34;)</span>
<span style="color:#75715e">;;    Event (35025468 changed &#34;/tmp/foo&#34;) [2 times]</span>
<span style="color:#75715e">;;    Event (35025468 deleted &#34;/tmp/.#foo&#34;)</span>

(<span style="color:#a6e22e">set-file-modes</span> <span style="color:#e6db74">&#34;/tmp/foo&#34;</span> (<span style="color:#a6e22e">default-file-modes</span>))
<span style="color:#75715e">;; =&gt; Event (35025468 attribute-changed &#34;/tmp/foo&#34;)</span>
</code></pre></div><p>æ ¹æ®ä¸åŒçš„åº•å±‚åº“çš„å®ç°ä¸åŒ,renameæ“ä½œå¯èƒ½è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªrenameæ“ä½œæˆ–ä¸€ä¸ªdelete+createæ“ä½œ</p>
<p>It can be expected, when a directory is watched, and both FILE and FILE1 belong to this directory.  Otherwise, the actions `deleted&rsquo; and `created&rsquo; could be returned in a random order.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a6e22e">rename-file</span> <span style="color:#e6db74">&#34;/tmp/foo&#34;</span> <span style="color:#e6db74">&#34;/tmp/bla&#34;</span>)
<span style="color:#75715e">;; =&gt; Event (35025468 renamed &#34;/tmp/foo&#34; &#34;/tmp/bla&#34;)</span>

(file-notify-add-watch
<span style="color:#e6db74">&#34;/var/tmp&#34;</span> <span style="color:#f92672">&#39;</span>(change attribute-change) <span style="color:#e6db74">&#39;my-notify-callback</span>)
<span style="color:#75715e">;; =&gt; 35025504</span>

(<span style="color:#a6e22e">rename-file</span> <span style="color:#e6db74">&#34;/tmp/bla&#34;</span> <span style="color:#e6db74">&#34;/var/tmp/bla&#34;</span>)
<span style="color:#75715e">;; =&gt; ;; gfilenotify</span>
<span style="color:#75715e">;;    Event (35025468 renamed &#34;/tmp/bla&#34; &#34;/var/tmp/bla&#34;)</span>

<span style="color:#75715e">;; =&gt; ;; inotify</span>
<span style="color:#75715e">;;    Event (35025504 created &#34;/var/tmp/bla&#34;)</span>
<span style="color:#75715e">;;    Event (35025468 deleted &#34;/tmp/bla&#34;)</span>
</code></pre></div><ul>
<li>(file-notify-rm-watch descriptor)</li>
</ul>
<p>åˆ é™¤æŒ‡å®šçš„ç›‘è§†å™¨</p>
<h3 id="åŠ¨æ€åŠ è½½">åŠ¨æ€åŠ è½½<a hidden class="anchor" aria-hidden="true" href="#åŠ¨æ€åŠ è½½">#</a></h3>
<p>Emacs supports such on-demand loading of support libraries for <strong>some of its features.</strong></p>
<p>éœ€è¦æ³¨æ„: <strong>ä¸æ˜¯æ‰€æœ‰çš„ç‰¹æ€§éƒ½èƒ½ä½¿ç”¨è¿™ç§æ–¹å¼åŠ¨æ€åŠ è½½</strong></p>
<ul>
<li>dynamic-library-alist</li>
</ul>
<p>è¯¥å‚æ•°æ˜¯ä¸€ä¸ªç”±åŠ¨æ€åº“å’Œå¯¹åº”çš„åŠ¨æ€åº“æ–‡ä»¶ç»„æˆçš„alist.</p>
<p>è¯¥alistä¸­æ¯ä¸ªå…ƒç´ çš„æ ¼å¼ä¸º&rsquo;(LIBRARY FILES&hellip;)</p>
<p>ä¾‹å¦‚:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq dynamic-library-alist
      <span style="color:#f92672">&#39;</span>((xpm <span style="color:#e6db74">&#34;libxpm.dll&#34;</span> <span style="color:#e6db74">&#34;xpm4.dll&#34;</span> <span style="color:#e6db74">&#34;libXpm-nox4.dll&#34;</span>)
        (png <span style="color:#e6db74">&#34;libpng12d.dll&#34;</span> <span style="color:#e6db74">&#34;libpng12.dll&#34;</span> <span style="color:#e6db74">&#34;libpng.dll&#34;</span>
             <span style="color:#e6db74">&#34;libpng13d.dll&#34;</span> <span style="color:#e6db74">&#34;libpng13.dll&#34;</span>)
        (jpeg <span style="color:#e6db74">&#34;jpeg62.dll&#34;</span> <span style="color:#e6db74">&#34;libjpeg.dll&#34;</span> <span style="color:#e6db74">&#34;jpeg-62.dll&#34;</span>
              <span style="color:#e6db74">&#34;jpeg.dll&#34;</span>)
        (tiff <span style="color:#e6db74">&#34;libtiff3.dll&#34;</span> <span style="color:#e6db74">&#34;libtiff.dll&#34;</span>)
        (gif <span style="color:#e6db74">&#34;giflib4.dll&#34;</span> <span style="color:#e6db74">&#34;libungif4.dll&#34;</span> <span style="color:#e6db74">&#34;libungif.dll&#34;</span>)
        (svg <span style="color:#e6db74">&#34;librsvg-2-2.dll&#34;</span>)
        (gdk-pixbuf <span style="color:#e6db74">&#34;libgdk_pixbuf-2.0-0.dll&#34;</span>)
        (glib <span style="color:#e6db74">&#34;libglib-2.0-0.dll&#34;</span>)
        (gobject <span style="color:#e6db74">&#34;libgobject-2.0-0.dll&#34;</span>)))
</code></pre></div><h3 id="å®šæ—¶å™¨">å®šæ—¶å™¨<a hidden class="anchor" aria-hidden="true" href="#å®šæ—¶å™¨">#</a></h3>
<p>Emacsåªæœ‰åœ¨ç©ºé—²æ—¶æ‰ä¼šè°ƒç”¨å®šæ—¶å™¨,å³åœ¨ç­‰å¾…è¾“å…¥,`site-for&rsquo;å‡½æ•°å’Œ`read-event&rsquo;å‡½æ•°æ—¶æ‰ä¼šè§¦å‘å®šæ—¶å™¨.</p>
<p>Emacsä¼šåœ¨è§¦å‘å®šæ—¶å™¨å‰å°†`inhibit-quit&rsquo;è®¾ç½®ä¸ºt,è¿™æ˜¯å› ä¸ºä»å®šæ—¶å™¨å‡½æ•°ä¸­æ¨å‡ºå¾ˆå®¹æ˜“äº§ç”Ÿä¸ä¸€è‡´çŠ¶æ€.</p>
<p>é€šè¿‡å®šæ—¶å™¨å‡½æ•°ä¿®æ”¹bufferä¼šå¯¼è‡´undoå‘½ä»¤åˆ†ä¸æ¸…å“ªäº›æ”¹åŠ¨æ˜¯äººå·¥æ”¹åŠ¨çš„,å“ªäº›æ”¹åŠ¨æ˜¯è§¦å‘å™¨å‡½æ•°ä¿®æ”¹çš„. å› æ­¤ä¸€èˆ¬ä¸å†å®šæ—¶å™¨å‡½æ•°ä¸­ä¿®æ”¹buffer,è‹¥è¦ä¿®æ”¹,æ³¨æ„åœ¨ä¿®æ”¹bufferå‰å’Œä¿®æ”¹bufferåè°ƒç”¨ä¸€æ¬¡`undo-boundary&rsquo;å‡½æ•°</p>
<p>å®šæ—¶å™¨å‡½æ•°ä¹Ÿåº”è¯¥é¿å…è°ƒç”¨ä¼šå¯¼è‡´Emacsç­‰å¾…çš„å‡½æ•°,å› ä¸ºè¿™æ ·çš„è¯åˆä¼šå¯¼è‡´å…¶ä»–å®šæ—¶å™¨å‡½æ•°çš„å¤„ç½š,å¯èƒ½äº§ç”Ÿæ— æ³•é¢„æœŸçš„åæœ. è‹¥çœŸè¦ç­‰å¾…ä¸€æ®µæ—¶é—´åå†æ‰§è¡Œ,è¯·å†åˆ†é…ä¸€ä¸ªæ–°çš„å®šæ—¶å™¨æ¥å¤„ç½š</p>
<p>If a timer function calls functions that can change the match data, it should save and restore the match data</p>
<ul>
<li>å‘½ä»¤(run-at-time time repeat function &amp;rest args)</li>
</ul>
<p>è®¾ç½®ç­‰æ—¶é—´ä¸ºTIMEæ—¶,ç”¨å‚æ•°ARGSè°ƒç”¨FUNCTONå‡½æ•°.</p>
<p>è‹¥å‚æ•°repeatä¸ºæŸä¸ªæ•°å­—,åˆ™ä¼šæ¯éš”repeatç§’åæ‰§è¡Œä¸€æ¬¡. è‹¥repeatä¸ºnilè¡¨ç¤ºåªæ‰§è¡Œä¸€æ¬¡</p>
<p>å‚æ•°TIMEå¯ä»¥æ˜¯ä¸€ä¸ªç›¸å¯¹æ—¶é—´æˆ–ä¸€ä¸ªç»å¯¹æ—¶é—´:</p>
<blockquote>
<p>Absolute times may be specified using a string with a limited
variety of formats, and are taken to be times <span class="underline">today</span>, even if
already in the past.  The recognized forms are `XXXX&rsquo;, `X:XX&rsquo;, or
`XX:XX&rsquo; (military time), and `XXam&rsquo;, `XXAM&rsquo;, `XXpm&rsquo;, `XXPM&rsquo;,
`XX:XXam&rsquo;, `XX:XXAM&rsquo;, `XX:XXpm&rsquo;, or `XX:XXPM&rsquo;.  A period can be
used instead of a colon to separate the hour and minute parts.</p>
<p>To specify a relative time as a string, use numbers followed by
units.  For example:</p>
<p>`1 min&rsquo;
denotes 1 minute from now.</p>
<p>`1 min 5 sec&rsquo;
denotes 65 seconds from now.</p>
<p>`1 min 2 sec 3 hour 4 day 5 week 6 fortnight 7 month 8 year'
denotes exactly 103 months, 123 days, and 10862 seconds from
now.</p>
<p>For relative time values, Emacs considers a month to be exactly
thirty days, and a year to be exactly 365.25 days.</p>
<p>Not all convenient formats are strings.  If TIME is a number
(integer or floating point), that specifies a relative time
measured in seconds.  The result of `encode-time' can also be used
to specify an absolute value for TIME.</p>
<p>In most cases, REPEAT has no effect on when <span class="underline">first</span> call takes
place&ndash;TIME alone specifies that.  There is one exception: if TIME
is `t', then the timer runs whenever the time is a multiple of
REPEAT seconds after the epoch.  This is useful for functions like
`display-time'.</p>
<p>The function `run-at-time' returns a timer value that identifies
the particular scheduled future action.  You can use this value to
call `cancel-timer' (see below).</p>
</blockquote>
<ul>
<li>é…ç½®é¡¹timer-max-repeats</li>
</ul>
<p>ç”±äºEmacsåªæœ‰åœ¨ç©ºé—²æ—¶æ‰ä¼šæ‰§è¡Œå®šæ—¶å™¨,è¿™æ—¶æœ‰å¯èƒ½ä¼šæ¨è¿Ÿå®šæ—¶å™¨çš„æ‰§è¡Œ. ä½†æ¨è¿Ÿå®šæ—¶å™¨æ‰§è¡Œçš„åŠ¨ä½œä¸ä¼šå¯¹ä¸‹ä¸€æ¬¡å®šæ—¶å™¨æ‰§è¡Œçš„æ—¶é—´äº§ç”Ÿå½±å“.
å³ä½¿è¯´,è‹¥ä¸‹ä¸€æ¬¡å®šæ—¶å™¨å‡½æ•°è§¦å‘çš„æ—¶é—´å¹¶ä¸æ˜¯åœ¨ä¸Šä¸€æ¬¡æ‰§è¡Œæ—¶é—´çš„åŸºç¡€ä¸Šç´¯åŠ çš„. å› æ­¤æ¨è¿Ÿçš„æ—¶é—´å¤ªé•¿,å¾ˆå¯èƒ½ä¼šè‡´ä½¿è¿ç»­å‡ æ¬¡æ‰§è¡Œå®šæ—¶å™¨å‡½æ•°.</p>
<p>è¯¥å˜é‡åˆ™é™å®šäº†ä¸€æ¬¡æ€§å®šæ—¶å™¨å‡½æ•°æ‰€èƒ½æ‰§è¡Œçš„æœ€å¤§çš„å¾ªç¯æ¬¡æ•°</p>
<ul>
<li>å‘½ä»¤(run-with-idle-time secs repeat function &amp;rest args)</li>
</ul>
<p>è®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨,è¯¥å®šæ—¶å™¨åœ¨ä¸‹æ¬¡Emacsç©ºé—²äº†SECSç§’åæ‰§è¡Œ</p>
<p>å‚æ•°SECSå¯ä»¥æ˜¯æ•°å­—,ä¹Ÿå¯ä»¥æ˜¯`current-dile-time&rsquo;è¿”å›çš„å¯¹è±¡</p>
<p>è‹¥å‚æ•°REPEATä¸ºnilè¡¨ç¤ºå®šæ—¶å™¨åªè§¦å‘ä¸€æ¬¡. è‹¥ä¸ºénilè¡¨ç¤º <strong>æ¯æ¬¡Emacsç©ºé—²æ—¶é—´è¶…è¿‡SECSç§’åéƒ½è§¦å‘ä¸€æ¬¡</strong></p>
<blockquote>
<p>Do not write an idle timer function containing a loop which does a
certain amount of processing each time around, and exits when
`(input-pending-p)' is non-`nil'.  This approach seems very natural but
has two problems:</p>
<ul>
<li>It blocks out all process output (since Emacs accepts process</li>
</ul>
<p>output only while waiting).</p>
<ul>
<li>It blocks out any idle timers that ought to run during that time.</li>
</ul>
<p>Similarly, do not write an idle timer function that sets up another
idle timer (including the same idle timer) with SECS argument less than
or equal to the current idleness time.  Such a timer will run almost
immediately, and continue running again and again, instead of waiting
for the next time Emacs becomes idle.  The correct approach is to
reschedule with an appropriate increment of the current value of the
idleness time, as described below.</p>
</blockquote>
<ul>
<li>(current-idle-time)</li>
</ul>
<p>è‹¥Emacså¤„äºç©ºé—²çŠ¶æ€,è¯¥å‡½æ•°è¿”å›Emacsç©ºé—²çš„æ—¶é—´. æ ¼å¼ä¸`current0time&rsquo;ä¸€è‡´,ä¸º(SEC-HIGH SEC-LOW MICROSEC PICOSEC</p>
<p>è‹¥Emacsä¸å¤„äºidleçŠ¶æ€,`current-idle-time&rsquo;è¿”å›nil</p>
<ul>
<li>(cancel-timer timer)</li>
</ul>
<p>å–æ¶ˆå®šæ—¶å™¨</p>
<ul>
<li>å®(with-timeout (seconds timeout-forms&hellip;) bodys&hellip;)</li>
</ul>
<p>æ‰§è¡Œbodys,ä½†è®¾ç½®äº†è¶…æ—¶æ—¶é—´ä¸ºSECONDSç§’.</p>
<p>è‹¥BODYåœ¨SECONDSç§’å†…æ‰§è¡Œå®Œæˆ,åˆ™`with-timeout&rsquo;è¿”å›æ­£å¸¸çš„bodysæ‰§è¡Œç»“æœ.</p>
<p>ä½†è‹¥BODYåœ¨æ‰§è¡ŒæœŸé—´è¶…æ—¶äº†,åˆ™ä¼šæ‰§è¡Œtimeout-forms,å¹¶è¿”å›timeout-formsçš„æ‰§è¡Œç»“æœ</p>
<p>è¯¥å®çš„å†…éƒ¨ä½¿ç”¨å®šæ—¶å™¨æ¥å®Œæˆè¶…æ—¶åŠŸèƒ½,å› æ­¤è‹¥Emacsæ‰§è¡Œbodysçš„è¿‡ç¨‹ä¸­,æ²¡æœ‰ç­‰å¾…è¾“å…¥çš„æƒ…å†µ,åˆ™è¶…æ—¶çš„åŠŸèƒ½æ²¡ä»€ä¹ˆä½œç”¨.</p>
<h2 id="dired-modeç›¸å…³å‡½æ•°">Dired-modeç›¸å…³å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#dired-modeç›¸å…³å‡½æ•°">#</a></h2>
<ul>
<li>è·å–diredä¸­marked file</li>
</ul>
<p>ä½¿ç”¨å‡½æ•°`dired-get-marked-files`</p>
<h2 id="æ‰§è¡Œå‘½ä»¤">æ‰§è¡Œå‘½ä»¤<a hidden class="anchor" aria-hidden="true" href="#æ‰§è¡Œå‘½ä»¤">#</a></h2>
<ul>
<li>æ‰§è¡Œshellå‘½ä»¤å¹¶ç­‰å¾…shellå‘½ä»¤ç»“æŸ</li>
</ul>
<p>(shell-command &ldquo;shellå‘½ä»¤&rdquo;)</p>
<ul>
<li>æ‰§è¡Œshellå‘½ä»¤,ç­‰å¾…shellå‘½ä»¤ç»“æŸ,å¹¶è·å¾—å‘½ä»¤çš„è¾“å‡º</li>
</ul>
<p>(shell-command-to-string &ldquo;shellå‘½ä»¤&rdquo;)</p>
<ul>
<li>ä½¿ç”¨å¤–éƒ¨å‘½ä»¤å¯¹æ‰€é€‰æ‹©Regionè¿›è¡Œå¤„ç†</li>
</ul>
<p>shell-command-on-region</p>
<ul>
<li>æ‰§è¡Œshellå‘½ä»¤,ä½†æ˜¯ä¸ç­‰å¾…shellå‘½ä»¤ç»“æŸ</li>
</ul>
<p>start-process</p>
<p>start-process-shell-command</p>
<p>call-process-region</p>
<h2 id="registerå‡½æ•°">Registerå‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#registerå‡½æ•°">#</a></h2>
<ul>
<li>å°†å†…å®¹å¤åˆ¶åˆ°Registerä¸­</li>
</ul>
<p>(copy-to-register ?1 startPos endPos)</p>
<ul>
<li>ä»Registerä¸­å–å‡ºå†…å®¹</li>
</ul>
<p>(insert-register ?1 t)</p>
<h2 id="orgç›¸å…³å‡½æ•°">Orgç›¸å…³å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#orgç›¸å…³å‡½æ•°">#</a></h2>
<dl>
<dt>å–entryå±æ€§</dt>
<dd>(org-entry-get nil &ldquo;å±æ€§å&rdquo; æ˜¯å¦ç»§æ‰¿å±æ€§)</dd>
<dt>å–entryçš„tag list</dt>
<dd>(org-get-tags)</dd>
<dt>å–entryçš„TODO state</dt>
<dd>org-get-tags</dd>
<dt>åˆ¤æ–­å“ªäº›stateæ˜¯å®ŒæˆçŠ¶æ€</dt>
<dd>org-done-keywords</dd>
<dt>è·³è½¬åˆ°headline</dt>
<dd>(org-back-to-heading)</dd>
<dt>åˆ¤æ–­æ˜¯å¦å¤„äºclockinçŠ¶æ€</dt>
<dd>org-clock-clocking-in</dd>
<dt>clock in</dt>
<dd>(org-clock-in)</dd>
<dt>clock out</dt>
<dd>(org-clock-out)</dd>
<dt>å½“å‰clock entryçš„headline</dt>
<dd>org-clock-heading</dd>
<dt>clock outè§¦å‘çš„hook</dt>
<dd>org-clock-out-hook</dd>
<dt>æ›´æ–°mode-lineçš„å†…å®¹</dt>
<dd>(org-clock-update-mode-line)</dd>
</dl>
<h2 id="ç‰ˆæœ¬ä¿¡æ¯">ç‰ˆæœ¬ä¿¡æ¯<a hidden class="anchor" aria-hidden="true" href="#ç‰ˆæœ¬ä¿¡æ¯">#</a></h2>
<ul>
<li>å˜é‡emacs-version</li>
<li>å˜é‡emacs-major-version</li>
<li>å˜é‡emacs-minor-version</li>
</ul>
<h2 id="wait-function">wait function<a hidden class="anchor" aria-hidden="true" href="#wait-function">#</a></h2>
<p>wait functionç”¨äºç­‰å¾…ä¸€æ®µæ—¶é—´æˆ–ç­‰å¾…input.</p>
<ul>
<li>(sit-for seconds &amp;optional nodisp)</li>
</ul>
<p>sit-forç­‰å¾…ä¸€æ®µæ—¶é—´æˆ–ç›´åˆ°æ”¶åˆ°æŸä¸ªinput event. åœ¨è¿™æ®µæ—¶é—´å†…Emacsä¼šå®æ—¶æ›´æ–°å±å¹•æ˜¾ç¤º.</p>
<p>è‹¥ç­‰å¾…ä¸æ˜¯ç”±æ”¶åˆ°inputè€Œä¸­æ–­çš„,åˆ™è¿”å›t,å¦åˆ™è¿”å›nil</p>
<p>å‚æ•°secondså¯ä»¥æ˜¯æµ®ç‚¹æ•°. (sit-for 0)ç­‰ä»·äº(redisplay),å®ƒåªæ˜¯ç«‹å³æ›´æ–°å±å¹•æ˜¾ç¤º.</p>
<p>è‹¥å‚æ•°nodispä¸ºénil,åˆ™sit-foråœ¨ç­‰ä»·æœŸé—´ä¸ä¼šæ›´æ–°å±å¹•æ˜¾ç¤º.</p>
<p>åœ¨Emacså¤„äºbatch modeæ—¶,`sit-for&rsquo;ä¸èƒ½è¢«interrupt eventä¸­æ–­,è¿™æ—¶ç­‰ä»·äº`sleep-for'</p>
<ul>
<li>(sleep-for seconds &amp;optional millisec)</li>
</ul>
<p>è¯¥å‡½æ•°ç­‰ä»·secondsç§’,ç­‰å¾…æœŸé—´ä¸ä¼šè¢«input eventæ‰“æ–­,ä¹Ÿä¸ä¼šæ›´æ–°å±å¹•æ˜¾ç¤º. å®ƒæ€»æ˜¯è¿”å›nil</p>
<p>å‚æ•°secondså¯ä»¥ä¸ºæµ®ç‚¹æ•°.</p>
<p>å‚æ•°millisecè¡¨ç¤ºåœ¨ç­‰å¾…secondsç§’å,å†ç­‰å¾…millisecæ¯«ç§’</p>
<h2 id="packageç›¸å…³è¯´æ˜">Packageç›¸å…³è¯´æ˜<a hidden class="anchor" aria-hidden="true" href="#packageç›¸å…³è¯´æ˜">#</a></h2>
<h3 id="packageçš„åˆ†ç±»">Packageçš„åˆ†ç±»<a hidden class="anchor" aria-hidden="true" href="#packageçš„åˆ†ç±»">#</a></h3>
<p>packageå¯ä»¥åˆ†ä¸ºå•æ–‡ä»¶packageå’Œå¤šæ–‡ä»¶package. å…¶ä¸­å•æ–‡ä»¶packageåœ¨package archiveä¸­ä»¥å•ä¸ªelispæ–‡ä»¶å½¢å¼å­˜åœ¨,è€Œå¤šæ–‡ä»¶packageä»¥taræ–‡ä»¶å½¢å¼å­˜åœ¨.</p>
<h4 id="å•æ–‡ä»¶package">å•æ–‡ä»¶Package<a hidden class="anchor" aria-hidden="true" href="#å•æ–‡ä»¶package">#</a></h4>
<p>å•æ–‡ä»¶packageä¸­elispæ–‡ä»¶å¿…é¡»éµå¾ª<a href="elisp:Library%20Headers.html" title="Emacs Lisp: (info &quot;(elisp:Library%20Headers) Top&quot;)">elisp library header conventions</a>
ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="color:#75715e">;;; superfrobnicator.el --- Frobnicate and bifurcate flanges</span>

<span style="color:#75715e">;; Copyright (C) 2011 Free Software Foundation, Inc.</span>

<span style="color:#75715e">;; Author: J. R. Hacker &lt;jrh@example.com&gt;</span>
<span style="color:#75715e">;; Version: 1.3</span>
<span style="color:#75715e">;; Package-Requires: ((flange &#34;1.0&#34;))</span>
<span style="color:#75715e">;; Keywords: multimedia, frobnicate</span>
<span style="color:#75715e">;; URL: http://example.com/jrhacker/superfrobnicate</span>


<span style="color:#75715e">;;; Commentary:</span>

<span style="color:#75715e">;; This package provides a minor mode to frobnicate and/or</span>
<span style="color:#75715e">;; bifurcate any flanges you desire.  To activate it, just type</span>

</code></pre></div><p>packageçš„åç§°ä¸elispæ–‡ä»¶çš„base nameå¿…é¡»ä¸€è‡´. packageåç§°è¢«å†™åˆ°ç¬¬ä¸€è¡Œ. åœ¨ä¸Šä¾‹ä¸­ä¸º&quot;superfrobnicator&quot;</p>
<p>å•è¡Œæè¿°ä¹Ÿæ”¾åœ¨ç¬¬ä¸€è¡Œ,åœ¨ä¸Šä¾‹ä¸­ä¸º&quot;Frobnicate and bifurcate flange&quot;</p>
<p>packageçš„ç‰ˆæœ¬å·,é€šè¿‡`Package-Version' headerè¡¨ç¤º,è‹¥ä¸å­˜åœ¨`Package-Version' headeråˆ™é€šè¿‡`Version' headeræ ‡è¯†. è¯¥å±æ€§å¿…é¡»å­˜åœ¨. åœ¨ä¸Šä¾‹ä¸­ä¸º1.3</p>
<p>è‹¥æ–‡ä»¶ä¸­æœ‰`;;; Commentary:&lsquo;éƒ¨åˆ†,åˆ™è¯¥éƒ¨åˆ†å†…å®¹ä½œä¸ºpackageçš„è¯¦ç»†æè¿°.</p>
<p>è‹¥æ–‡ä»¶ä¸­æœ‰`Package-Requires&rsquo; header,åˆ™è¯¥éƒ¨åˆ†æ ‡è¯†äº†packageçš„ä¾èµ–åŒ…æœ‰å“ªäº›. è‹¥æ²¡æœ‰è¯¥headerè¡¨ç¤ºpackageä¸ä¾èµ–å…¶ä»–åŒ….</p>
<p>`Keywords&rsquo;ä¸`URL&rsquo;ä¹Ÿæ˜¯å¯é€‰çš„,ä½†ä¸€èˆ¬å»ºè®®æ·»åŠ è¿™ä¸¤ä¸ªheader. `describe-package&rsquo;å‡½æ•°ä¼šå±•ç¤ºè¿™ä¸¤ä¸ªheaderä¸­çš„å€¼.
`Keywords' headeråº”è¯¥è‡³å°‘åŒ…å«ä¸€ä¸ª`finder-known-keywrods&rsquo;ä¸­çš„æ ‡å‡†keyword</p>
<h4 id="å¤šæ–‡ä»¶package">å¤šæ–‡ä»¶Package<a hidden class="anchor" aria-hidden="true" href="#å¤šæ–‡ä»¶package">#</a></h4>
<p>å¤šæ–‡ä»¶packageä¸åƒå•æ–‡ä»¶packageé‚£æ ·æœ‰é‚£ä¹ˆå¤šçš„è§„èŒƒ.</p>
<p>å¤šæ–‡ä»¶packageåœ¨package archiveä¸­ä»¥ä¸€ä¸ªtaræ–‡ä»¶çš„å½¢å¼å­˜åœ¨. è¯¥taræ–‡ä»¶çš„åç§°å¿…é¡»æ˜¯`packageå-packageç‰ˆæœ¬.tar'.</p>
<p>å¤šæ–‡ä»¶packageçš„content directoryä¸­å¿…é¡»æœ‰ä¸€ä¸ªåä¸º`packageå-pkg.el&rsquo;çš„æ–‡ä»¶.
è¯¥æ–‡ä»¶çš„å†…å®¹ä¸ºä¸€ä¸ª`define-package&rsquo;å‡½æ•°çš„è°ƒç”¨form. `define-package&rsquo;å‡½æ•°å®šä¹‰äº†packageçš„ç‰ˆæœ¬,å•è¡Œæè¿°å’Œä¾èµ–åŒ….</p>
<p>è‹¥content directoryä¸­åŒ…å«åä¸º`README&rsquo;çš„æ–‡ä»¶,åˆ™è¯¥æ–‡ä»¶çš„å†…å®¹ä½œä¸ºpackageçš„è¯¦ç»†æè¿°</p>
<p>è‹¥content directoryä¸­åŒ…å«åä¸º`dir&rsquo;çš„æ–‡ä»¶,åˆ™è¯¥æ–‡ä»¶è¢«è®¤ä¸ºæ˜¯é€šè¿‡å‘½ä»¤`install-info&rsquo;ç”Ÿæˆçš„Info directoryæ–‡ä»¶. åŒæ—¶,ç›¸å…³çš„Infoæ–‡ä»¶ä¹Ÿå¿…é¡»åœ¨content directoryä¸­.
è¿™ä¸­æƒ…å†µä¸‹,å½“æ¿€æ´»è¯¥packageå,Emacsä¼šè‡ªåŠ¨å°†content directoryæ·»åŠ åˆ°`Info-directory-list&rsquo;ä¸­.</p>
<p><strong>ä¸è¦åœ¨packageä¸­åŒ…å«ä»»ä½•.elcæ–‡ä»¶,å®ƒä»¬æ˜¯ç”±packageå®‰è£…æ—¶è‡ªåŠ¨ç”Ÿæˆçš„.ä¸”æ— æ³•æ§åˆ¶å„æ–‡ä»¶ç¼–è¯‘çš„é¡ºåº</strong></p>
<p><strong>ä¸è¦åŒ…å«åä¸º`packageå-autoloads.el&rsquo;çš„æ–‡ä»¶,å®ƒä¹Ÿæ˜¯ç”±packageå®‰è£…æ—¶è‡ªåŠ¨ç”Ÿæˆçš„.</strong></p>
<p>è‹¥packageä¸­åŒ…å«å…¶ä»–æ ¼å¼çš„æ–‡ä»¶(ä¾‹å¦‚å›¾ç‰‡ç­‰),åˆ™åœ¨elispæºä»£ç ä¸­,å¯ä»¥ä½¿ç”¨`load-file-name&rsquo;å˜é‡å€¼æ¥å¼•ç”¨å­˜æ”¾è¿™äº›æ–‡ä»¶çš„ç›®å½•. ä¾‹å¦‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defconst superfrobnicator-base (<span style="color:#a6e22e">file-name-directory</span> load-file-name))

(defun superfrobnicator-fetch-image (file)
  (<span style="color:#a6e22e">expand-file-name</span> file superfrobnicator-base))
</code></pre></div><!--list-separator-->
<ul>
<li>
<p>(define-package name version &amp;optional docstring requirements)</p>
<p>è¯¥å‡½æ•°å®šä¹‰äº†ä¸€ä¸ªåä¸º`NAME&rsquo;çš„package.</p>
<p>å‚æ•°`VERSION&rsquo;ä¸ºä¸€ä¸ªè¡¨ç¤ºç‰ˆæœ¬çš„å­—ç¬¦ä¸²,è¯¥å­—ç¬¦ä¸²çš„æ ¼å¼å¿…é¡»è¢«`version-to-list&rsquo;æ‰€è®¤è¯†.</p>
<p>å‚æ•°`DOCSTRING&rsquo;ä¸ºå•è¡Œæè¿°</p>
<p>å‚æ•°`REQUIREMENTS&rsquo;ä¸ºä¸€ä¸ªç”±ä¾èµ–åŒ…å’Œæœ€ä½ç‰ˆæœ¬ç»„æˆçš„list. è¯¥listçš„æ¯ä¸ªå…ƒç´ åº”è¯¥æ˜¯(DEP-NAME-symbol DEP-VERSION-string)</p>
</li>
</ul>
<h3 id="packageçš„å±æ€§">Packageçš„å±æ€§<a hidden class="anchor" aria-hidden="true" href="#packageçš„å±æ€§">#</a></h3>
<p>æ¯ä¸ªpackageéƒ½å…·æœ‰å¦‚ä¸‹ä¸€äº›å±æ€§:</p>
<ul>
<li>
<p>Name</p>
<p>pacakge name,å¸¸åœ¨ç¨‹åºä¸­ä½œä¸ºå˜é‡/å‡½æ•°åçš„å‰ç¼€.</p>
</li>
<li>
<p>Version</p>
<p>ç‰ˆæœ¬å·,å…¶æ ¼å¼å¿…é¡»è¢«å‡½æ•°`version-to-list&rsquo;æ‰€çŸ¥. æ¯æ¬¡release packageéƒ½åº”è¯¥å¢åŠ è¯¥ç‰ˆæœ¬å·å±æ€§</p>
</li>
<li>
<p>å•è¡Œç®€æ´æè¿°</p>
<p>è¯¥æè¿°åº”è¯¥åªå ä¸€è¡Œ,æœ€å¥½ä¸è¶…è¿‡36ä¸ªå­—ç¬¦. è¯¥æè¿°ä¼šåœ¨list packageæ—¶å±•ç¤º</p>
</li>
<li>
<p>è¯¦ç»†æè¿°</p>
<p>å¸¸å¸¸åŒ…å«è¯¥packageçš„ç”¨å¤„,ä»¥åŠä½¿ç”¨æ–¹æ³•. è¯¥æè¿°ä¼šåœ¨`describe-package&rsquo;ä¸­å±•ç¤º</p>
</li>
<li>
<p>Dependencies</p>
<p>ä¾èµ–å…³ç³», è¯¥å±æ€§å€¼ä¸ºå…¶ä»–packageçš„list. è¯¥listä¸­çš„æ¯ä¸ªå…ƒç´ å¯ä»¥æ˜¯ä¸€ä¸ªè¡¨ç¤ºpackageçš„symbolæˆ–ä¸€ä¸ª(package min-version)çš„åˆ—è¡¨.</p>
</li>
</ul>
<h3 id="packageçš„å®‰è£…è¯´æ˜">packageçš„å®‰è£…è¯´æ˜<a hidden class="anchor" aria-hidden="true" href="#packageçš„å®‰è£…è¯´æ˜">#</a></h3>
<p>é€šè¿‡`pacakge-install-file&rsquo;å¯ä»¥å®‰è£…ä¸€ä¸ªpackage. å®‰è£…packageåŒ…å«ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤:</p>
<ol>
<li>
<p>åœ¨`package-user-dir&rsquo;ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º`packageåç§°-packageç‰ˆæœ¬&rsquo;çš„ç›®å½•.</p>
<p>è¯¥ç›®å½•ç”¨äºå­˜æ”¾packageçš„å†…å®¹çš„,å› æ­¤ä¹Ÿè¢«ç§°ä¸º&quot;content direcotry&quot;</p>
</li>
<li>
<p>Emacsæœç´¢content directoryä¸­çš„æ‰€æœ‰elispæ–‡ä»¶,å¹¶æŸ¥æ‰¾é‡Œé¢çš„autoload magic comments</p>
<p>è¿™äº›autoloadå®šä¹‰è¢«ä¿å­˜åœ¨åä¸º`packageåç§°-autoloads.el&rsquo;çš„æ–‡ä»¶ä¸­.</p>
<p>è¿™äº›autoloadå®šä¹‰é€šå¸¸ç”¨æ¥è‡ªåŠ¨åŠ è½½packageä¸­å®šä¹‰çš„ä¾›ç”¨æˆ·ä½¿ç”¨çš„ä¸»è¦command,ä½†ä¹Ÿèƒ½ç”¨æ¥ä½œå…¶ä»–äº‹æƒ…,ä¾‹å¦‚ç‹`auto-mode-alist&rsquo;ä¸­æ·»åŠ å†…å®¹</p>
</li>
<li>
<p>Emacsç¼–è¯‘packageä¸­çš„æ‰€æœ‰elispæ–‡ä»¶</p>
</li>
</ol>
<h3 id="packageçš„åŠ è½½è¿‡ç¨‹">packageçš„åŠ è½½è¿‡ç¨‹<a hidden class="anchor" aria-hidden="true" href="#packageçš„åŠ è½½è¿‡ç¨‹">#</a></h3>
<p>Emacså¯åŠ¨è¿‡ç¨‹ä¸­,å½“EmacsåŠ è½½å®Œåˆå§‹åŒ–å®Œinit fileåŠabbrev fileå,åœ¨è§¦å‘`after-init-hook&rsquo;å‰,Emacsä¼šè‡ªåŠ¨è°ƒç”¨`package-initialize&rsquo;å‡½æ•°æ¥åŠ è½½å®‰è£…çš„package.</p>
<p>ä½†æ˜¯EmacsåŠ è½½packageçš„è¿‡ç¨‹,åœ¨å˜é‡`package-enable-at-startup&rsquo;ä¸ºnilæ—¶ä¼šè¢«ç¦æ­¢.</p>
<p>EmacsåŠ è½½packageçš„è¿‡ç¨‹ç”±ä¸¤ä¸ªæ­¥éª¤ç»„æˆ</p>
<ol>
<li>
<p>æ·»åŠ packageçš„content directoryåˆ°`load-path&rsquo;ä¸­</p>
</li>
<li>
<p>æ‰§è¡Œ`packageå-autoloads.el&rsquo;ä¸­çš„autoloadå®šä¹‰.</p>
</li>
</ol>
<h4 id="package-initialize-and-optional-no-activate">(package-initialize &amp;optional no-activate)<a hidden class="anchor" aria-hidden="true" href="#package-initialize-and-optional-no-activate">#</a></h4>
<p>è¯¥å‡½æ•°åˆå§‹åŒ–Emacsç”¨äºè®°å½•å“ªäº›packageå·²ç»å®‰è£…çš„å†…éƒ¨å˜é‡å¹¶åŠ è½½è¿™äº›package.</p>
<p>ç”¨æˆ·é…ç½®é¡¹`package-load-list&rsquo;æŒ‡æ˜äº†å“ªäº›packageä¼šè¢«åŠ è½½,é»˜è®¤æ˜¯æ‰€æœ‰å·²ç»å®‰è£…çš„package.</p>
<p>å‚æ•°`NO-ACTIVATE&rsquo;è‹¥ä¸ºénil,åˆ™è¡¨ç¤ºåªæ›´æ–°å·²å®‰è£…packageçš„è®°å½•,è€Œä¸åŠ è½½è¿™äº›package</p>
<h3 id="package-archives">Package Archives<a hidden class="anchor" aria-hidden="true" href="#package-archives">#</a></h3>
<ul>
<li>
<p>é…ç½®é¡¹package-archives</p>
<p>è¯¥é…ç½®é¡¹ä¸ºä¸€ä¸ªalist,æŒ‡æ˜äº†EmacsåŒ…ç®¡ç†ç³»ç»Ÿä»å“ªäº›archiveä¸­æœç´¢package</p>
<p>è¯¥alistçš„æ¯ä¸ªå…ƒç´ çš„æ ¼å¼ä¸º(ID . LOCATION),è¿™é‡ŒIDä¸ºè¡¨ç¤ºarchiveåç§°çš„å­—ç¬¦ä¸²,LOCATIONä¸ºè¡¨ç¤ºarchiveåœ°å€çš„å­—ç¬¦ä¸².
ç›®å‰LOCATIONåªèƒ½ä¸ºhttp urlæˆ–ä¸€ä¸ªæœ¬åœ°ç›®å½•çš„è·¯å¾„.</p>
<p>ä¸€ä¸ªpackage archiveåªæ˜¯ä¸€ä¸ªåŒ…å«äº†packageæºä»£ç æ–‡ä»¶åŠå…¶ç›¸å…³æ–‡ä»¶çš„ç›®å½•è€Œå·².
è‹¥å¸Œæœ›å¯ä»¥é€šè¿‡httpè·å–è¯¥archive,åˆ™éœ€è¦æŠŠè¯¥ç›®å½•æ”¾åœ¨web serverä¸Š.</p>
</li>
</ul>
<p>ä¸€ç§è®¾ç½®å’Œæ›´æ–°package archiveçš„æ¯”è¾ƒæ–¹ä¾¿çš„æ–¹å¼æ˜¯ä½¿ç”¨åº“`package-x',è¯¥åº“æ˜¯Emacsè‡ªå¸¦çš„,ä½†æ˜¯é»˜è®¤æƒ…å†µä¸‹å¹¶ä¸åŠ è½½.</p>
<p>`package-x&rsquo;çš„ç›¸å…³å‘½ä»¤ä¸å˜é‡å¦‚ä¸‹:</p>
<ul>
<li>
<p>é…ç½®é¡¹pacakge-archive-upload-base</p>
<p>è¯¥å˜é‡çš„å€¼åº”ä¸ºä¸€ä¸ªç›®å½•çš„åç§°,å®ƒå°†ä½œä¸ºpackage archiveçš„base location.</p>
<p>è¯¥å˜é‡çš„å€¼å¿…é¡»æ˜¯ä¸€ä¸ª <strong>ç»å¯¹è·¯å¾„</strong>.</p>
<p>è‹¥package archiveä¸åœ¨æœ¬åœ°,å¯ä»¥ä½¿ç”¨ç±»ä¼¼`/ssh:foo@example.com:/var/www/packages/' çš„å½¢å¼æ¥è®¾ç½®</p>
</li>
<li>
<p>(package-upload-file filename)</p>
<p>è¯¥å‘½ä»¤ä¸Šä¼ FILENAMEåˆ°`package-archive-upload-base&rsquo;ä¸­.</p>
<p>FILENAMEå¿…é¡»æ˜¯å•æ–‡ä»¶package(elæ–‡ä»¶),å¤šå¤šæ–‡ä»¶package(taræ–‡ä»¶),å¦åˆ™ä¼šæŠ›å‡ºé”™è¯¯.</p>
<p>è‹¥`package-archive-upload-base&rsquo;ä¸­çš„è·¯å¾„éæ³•,åˆ™ä¼šæç¤ºç”¨æˆ·é‡æ–°è¾“å…¥,è‹¥è·¯å¾„ä¸å­˜åœ¨,åˆ™ä¼šè‡ªåŠ¨åˆ›å»ºè¯¥ç›®å½•</p>
</li>
<li>
<p>(package-upload-buffer)</p>
<p>ç±»ä¼¼`package-upload-file',åªä¸è¿‡æ˜¯å°†å½“å‰bufferçš„å†…å®¹ä¸Šä¼ ä¸Šå».</p>
<p>è¯¥bufferå¿…é¡»è®¿é—®ä¸€ä¸ªå•æ–‡ä»¶package(elæ–‡ä»¶)æˆ–å¤šæ–‡ä»¶pacakge(taræ–‡ä»¶),å¦åˆ™ä¼šæŠ›å‡ºé”™è¯¯</p>
</li>
</ul>


  </div>
  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://zakudriver.github.io/tags/emacs/">emacs</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://zakudriver.github.io/posts/typescript%E7%9A%84%E9%87%8D%E8%BD%BDoverload/">
    <span class="title">Â« Prev Page</span>
    <br>
    <span>typescriptçš„é‡è½½(Overload)</span>
  </a>
  <a class="next" href="https://zakudriver.github.io/posts/elisp%E4%B8%AD%E7%9A%84interactive%E5%8F%82%E6%95%B0/">
    <span class="title">Next Page Â»</span>
    <br>
    <span>Elispä¸­çš„interactiveå‚æ•°</span>
  </a>
</nav>

<div class="share-buttons">
    <a target="_blank" rel="noopener noreferrer" aria-label="share elispæ–‡æ¡£ on twitter"
        href="https://twitter.com/intent/tweet/?text=elisp%e6%96%87%e6%a1%a3&amp;url=https%3a%2f%2fzakudriver.github.io%2fposts%2felisp%25E6%2596%2587%25E6%25A1%25A3%2f&amp;hashtags=emacs">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-253.927,424.544c135.939,0 210.268,-112.643 210.268,-210.268c0,-3.218 0,-6.437 -0.153,-9.502c14.406,-10.421 26.973,-23.448 36.935,-38.314c-13.18,5.824 -27.433,9.809 -42.452,11.648c15.326,-9.196 26.973,-23.602 32.49,-40.92c-14.252,8.429 -30.038,14.56 -46.896,17.931c-13.487,-14.406 -32.644,-23.295 -53.946,-23.295c-40.767,0 -73.87,33.104 -73.87,73.87c0,5.824 0.613,11.494 1.992,16.858c-61.456,-3.065 -115.862,-32.49 -152.337,-77.241c-6.284,10.881 -9.962,23.601 -9.962,37.088c0,25.594 13.027,48.276 32.95,61.456c-12.107,-0.307 -23.448,-3.678 -33.41,-9.196l0,0.92c0,35.862 25.441,65.594 59.311,72.49c-6.13,1.686 -12.72,2.606 -19.464,2.606c-4.751,0 -9.348,-0.46 -13.946,-1.38c9.349,29.426 36.628,50.728 68.965,51.341c-25.287,19.771 -57.164,31.571 -91.8,31.571c-5.977,0 -11.801,-0.306 -17.625,-1.073c32.337,21.15 71.264,33.41 112.95,33.41Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share elispæ–‡æ¡£ on linkedin"
        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fzakudriver.github.io%2fposts%2felisp%25E6%2596%2587%25E6%25A1%25A3%2f&amp;title=elisp%e6%96%87%e6%a1%a3&amp;summary=elisp%e6%96%87%e6%a1%a3&amp;source=https%3a%2f%2fzakudriver.github.io%2fposts%2felisp%25E6%2596%2587%25E6%25A1%25A3%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share elispæ–‡æ¡£ on reddit"
        href="https://reddit.com/submit?url=https%3a%2f%2fzakudriver.github.io%2fposts%2felisp%25E6%2596%2587%25E6%25A1%25A3%2f&title=elisp%e6%96%87%e6%a1%a3">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share elispæ–‡æ¡£ on facebook"
        href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fzakudriver.github.io%2fposts%2felisp%25E6%2596%2587%25E6%25A1%25A3%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share elispæ–‡æ¡£ on whatsapp"
        href="https://api.whatsapp.com/send?text=elisp%e6%96%87%e6%a1%a3%20-%20https%3a%2f%2fzakudriver.github.io%2fposts%2felisp%25E6%2596%2587%25E6%25A1%25A3%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share elispæ–‡æ¡£ on telegram"
        href="https://telegram.me/share/url?text=elisp%e6%96%87%e6%a1%a3&amp;url=https%3a%2f%2fzakudriver.github.io%2fposts%2felisp%25E6%2596%2587%25E6%25A1%25A3%2f">
        <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28">
            <path
                d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
        </svg>
    </a>
</div>

  </footer>
</article>
    </main>
    <footer class="footer">
    <span>&copy; 2022 <a href="https://zakudriver.github.io/">è°Ÿæ¶…æ‘©ç»ªæ¶…ğŸ“–</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)">
    <button class="top-link" id="top-link" type="button" accesskey="g">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z" />
        </svg>
    </button>
</a>

<script>
    let menu = document.getElementById('menu')
    menu.scrollLeft = localStorage.getItem("menu-scroll-position");
    menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
